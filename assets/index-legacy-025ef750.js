!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function t(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(c){u=!0,o=c}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}System.register(["./index-legacy-e51846ff.js","./datav-vue3.es-legacy-e2b3d402.js"],(function(e,n){"use strict";var o,a,s,c,d,p,h,f,v,g,y,m,x,b,_,w,S,C,M,T,I,k,A,D,O,P,L,E,N,R,z,B,F,V,j,H,G,W,K,U,Y,X,q,Z,$,J,Q,ee,te,ne,ie,oe,re,ae,le,se,ue=document.createElement("style");return ue.textContent=".title-content[data-v-e74a50f0]{margin-top:10px}.item[data-v-e74a50f0]{background-image:linear-gradient(transparent,#2161a6);display:flex;justify-content:space-between;width:100%;align-items:baseline}.title[data-v-e74a50f0]{color:rgba(255,255,255,.9);font-size:.19rem;padding-left:2px}.menu[data-v-e74a50f0]{color:rgba(255,255,255,.7);font-size:.1rem}.menu span[data-v-e74a50f0]{padding:0 5px;cursor:pointer;transition:all .3s;color:rgba(0,194,255,.6)}.menu span.active[data-v-e74a50f0]{color:#fff}.water-quality[data-v-cfe5e421] .ant-table .row{color:#96abd4;font-size:12px;line-height:2;transition:all .3s}.water-quality[data-v-cfe5e421] .ant-table .row:nth-child(odd){background:rgba(22,71,127,.5)}.water-quality[data-v-cfe5e421] .ant-table .row:hover{background:rgba(22,71,127,.7)}.water-quality[data-v-cfe5e421] .ant-table .waterSourceType{color:#c4e900!important}.water-quality .hex[data-v-cfe5e421]{width:.85rem;height:.85rem;position:absolute;color:#3b7fa9;transform:translateY(25%) rotate(90deg);transition:all .3s;clip-path:polygon(50% 0%,93.30127% 25%,93.30127% 75%,50% 100%,6.69873% 75%,6.69873% 25%)}.water-quality .hex[data-v-cfe5e421]:hover{transform:translateY(25%) rotate(90deg) scale(1.1)}.water-quality .quality-content[data-v-cfe5e421]{height:calc(100% - 30px);display:flex;justify-content:space-between}.water-quality .quality-left[data-v-cfe5e421],.water-quality .quality-right[data-v-cfe5e421]{height:100%;width:49%;position:relative;display:flex;justify-content:center;align-items:center}.water-quality .quality-left .info[data-v-cfe5e421]{position:absolute;left:50%;top:50%;text-align:center;line-height:1.5;font-size:14px;transform:translate(-50%,-50%) rotate(-90deg)}.water-quality .quality-left .info .value[data-v-cfe5e421]{color:#c4e900;font-weight:700}.water-quality .quality-left .center[data-v-cfe5e421]{left:50%;background:radial-gradient(transparent,#186fa2);transform:translate(-50%,-50%) rotate(90deg);top:50%}.water-quality .quality-left .center[data-v-cfe5e421]:hover{transform:translate(-50%,-50%) rotate(90deg) scale(1.1)}.water-quality .quality-left .left-top[data-v-cfe5e421]{left:-1%;background:linear-gradient(-145deg,#186fa2,rgba(27,92,159,.25),transparent);top:-7%}.water-quality .quality-left .right-top[data-v-cfe5e421]{right:-1%;background:linear-gradient(-45deg,#186fa2,rgba(27,92,159,.25),transparent);top:-7%}.water-quality .quality-left .right-bottom[data-v-cfe5e421]{right:0%;background:linear-gradient(25deg,#186fa2,rgba(27,92,159,.25),transparent);top:39%}.water-quality .quality-left .left-bottom[data-v-cfe5e421]{left:0%;background:linear-gradient(160deg,#186fa2,rgba(27,92,159,.25),transparent);top:39%}.dynamic-content[data-v-f6bbe5cb]{display:flex;justify-content:space-between;align-items:center;height:calc(100% - 30px)}.dynamic-content>div[data-v-f6bbe5cb]{width:49%;display:flex;align-items:center;justify-content:center;padding-left:5px}.dynamic-content .left-top[data-v-f6bbe5cb],.dynamic-content .bottom-right[data-v-f6bbe5cb]{color:#f2f1ff;position:absolute;left:50%;transform:translate(-50%) rotate(45deg);white-space:nowrap}.dynamic-content .left-top .value[data-v-f6bbe5cb],.dynamic-content .bottom-right .value[data-v-f6bbe5cb]{color:#00c9f7;font-size:.2rem;font-weight:700}.dynamic-content .left-top[data-v-f6bbe5cb]{top:0}.dynamic-content .bottom-right[data-v-f6bbe5cb]{bottom:0;right:0}.dynamic-content .title[data-v-f6bbe5cb]{color:#4c597d;font-size:.19rem;font-weight:700;writing-mode:vertical-lr;padding-right:12px}.dynamic-content .circle[data-v-f6bbe5cb]{width:1.4rem;height:1.4rem;border:.1rem solid #00c9f7;border-radius:50%;border-top-color:transparent;border-bottom-color:transparent;transform:rotate(-45deg);font-size:.15rem}.left-item[data-v-15261450]{height:25%;margin-top:5px}.water-use[data-v-ea11e513]{color:#eefafc;font-size:.16rem;display:flex;justify-content:space-between;align-items:center}.water-use[data-v-ea11e513] .border-box-content{display:flex;align-items:center;justify-content:space-between}.water-use .iconfont[data-v-ea11e513]{display:flex;align-items:center;justify-content:space-between;font-size:.3rem;padding-right:5px;color:rgba(0,0,0,.4)}.water-use>div[data-v-ea11e513]{width:47%;background:#0b4d80;padding:5px 10px}.water-use .value[data-v-ea11e513]{color:#36c7f8;font-size:.22rem;padding-left:.15rem}.water-use .unit[data-v-ea11e513]{color:#729abc}.water-mgt[data-v-43a5eeb9] .ant-table .row{color:#96abd4;font-size:12px;line-height:2;transition:all .3s}.water-mgt[data-v-43a5eeb9] .ant-table .row:nth-child(odd){background:rgba(22,71,127,.5)}.water-mgt[data-v-43a5eeb9] .ant-table .row:hover{background:rgba(22,71,127,.7)}.water-mgt[data-v-43a5eeb9] .ant-table .waterSourceType{color:#c4e900!important}.absorption-warn[data-v-510f9ca8] .ant-table .row{color:#96abd4;font-size:12px;line-height:2;transition:all .3s}.absorption-warn[data-v-510f9ca8] .ant-table .row:nth-child(odd){background:rgba(22,71,127,.5)}.absorption-warn[data-v-510f9ca8] .ant-table .row:hover{background:rgba(22,71,127,.7)}.absorption-warn[data-v-510f9ca8] .ant-table .waterSourceType{color:#c4e900!important}.warn-plan[data-v-510f9ca8]{display:flex;justify-content:space-between;padding:0 5px}.warn-plan>div[data-v-510f9ca8]{display:flex}.warn-plan>div .value[data-v-510f9ca8]{font-size:38px;font-weight:700;line-height:1;margin-right:5px}.warn-plan>div .title[data-v-510f9ca8]{color:rgba(255,255,255,.8);font-size:.18rem;font-weight:600}.title[data-v-54714bfe]{color:#3ac9fe;font-size:18px;font-weight:700;text-align:center;padding:10px;cursor:pointer;transition:all .3s}.border[data-v-54714bfe] .border-box-content{display:flex;justify-content:center;align-items:center}.border[data-v-54714bfe] .border-box-content:hover .title{transform:scale(1.1)}.right-item[data-v-5a6f7a63]{height:22%;margin-top:5px}.content[data-v-2cbb43fb]{position:absolute;z-index:1;width:calc(100% - .6rem);height:100%;margin:0 .3rem;visibility:hidden;color:#96abd4}.content .banner[data-v-2cbb43fb]{position:absolute;top:80px;left:50%;transform:translate(-50%);visibility:visible;display:flex}.content .banner>div[data-v-2cbb43fb]{display:flex;margin-left:40px;align-items:center}.content .banner>div .title[data-v-2cbb43fb]{font-size:.18rem;color:#fff}.content .banner>div .iconfont[data-v-2cbb43fb]{font-size:35px;width:30px;height:30px;margin-right:15px;display:flex;align-items:center;justify-content:center;color:#ff8907}.content .banner>div:last-child .iconfont[data-v-2cbb43fb]{color:#4bbfff}.content .banner>div .value[data-v-2cbb43fb]{color:#ff8907;font-size:.2rem;padding-right:5px}.content .banner>div:last-child .value[data-v-2cbb43fb]{color:#4bbfff}.commen-frame[data-v-2cbb43fb],.left[data-v-2cbb43fb],.right[data-v-2cbb43fb]{width:4.5rem;height:100%;background-color:rgba(0,0,0,.3);visibility:visible}.left[data-v-2cbb43fb]{float:left}.right[data-v-2cbb43fb]{float:right}\n",document.head.appendChild(ue),{setters:[function(e){o=e.B,a=e.d,s=e.l,c=e.y,d=e.e,p=e.o,h=e.c,f=e.C,v=e.D,g=e.a,y=e.t,m=e.F,x=e.h,b=e.n,_=e.g,w=e.u,S=e.p,C=e.b,M=e.E,T=e.G,I=e.T,k=e.r,A=e.H,D=e.v,O=e.I,P=e.J,L=e.f,E=e.K,N=e.L,R=e.M,z=e.N,B=e.O,F=e.s,V=e.x,j=e.w,H=e.P,G=e.Q,W=e.R,K=e.m,U=e.S,Y=e.U,X=e.V,q=e.W,Z=e.X,$=e.Y,J=e.Z,Q=e._,ee=e.q,te=e.$,ne=e.a0,ie=e.i},function(e){oe=e.A,re=e._,ae=e.a,le=e.p,se=e.m}],execute:function(){var ue=o("app",{state:function(){return{test:1}},actions:{setTest:function(e){this.test=e}},getters:{getTest:function(e){return e.test}}}),ce=function(e,t){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ce(e,t)};
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
/* global Reflect, Promise */function de(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var pe=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},he=new function(){this.browser=new pe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"===("undefined"==typeof wx?"undefined":u(wx))&&"function"==typeof wx.getSystemInfoSync?(he.wxa=!0,he.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?he.worker=!0:"undefined"==typeof navigator?(he.node=!0,he.svgSupported=!0):function(e,t){var n=t.browser,i=e.match(/Firefox\/([\d.]+)/),o=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),r=e.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(e);i&&(n.firefox=!0,n.version=i[1]);o&&(n.ie=!0,n.version=o[1]);r&&(n.edge=!0,n.version=r[1],n.newEdge=+r[1].split(".")[0]>18);a&&(n.weChat=!0);t.svgSupported="undefined"!=typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported="undefined"!=typeof document;var l=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in l||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,he);var fe=he,ve="sans-serif",ge="12px "+ve;var ye,me,xe=function(e){var t={};if("undefined"==typeof JSON)return t;for(var n=0;n<e.length;n++){var i=String.fromCharCode(n+32),o=(e.charCodeAt(n)-20)/100;t[i]=o}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),be={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(e,t){if(!ye){var n=be.createCanvas();ye=n&&n.getContext("2d")}if(ye)return me!==t&&(me=ye.font=t||ge),ye.measureText(e);e=e||"";var i=/(\d+)px/.exec(t=t||ge),o=i&&+i[1]||12,r=0;if(t.indexOf("mono")>=0)r=o*e.length;else for(var a=0;a<e.length;a++){var l=xe[e[a]];r+=null==l?o:l*o}return{width:r}},loadImage:function(e,t,n){var i=new Image;return i.onload=t,i.onerror=n,i.src=e,i}},_e=Ke(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(e,t){return e["[object "+t+"]"]=!0,e}),{}),we=Ke(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(e,t){return e["[object "+t+"Array]"]=!0,e}),{}),Se=Object.prototype.toString,Ce=Array.prototype,Me=Ce.forEach,Te=Ce.filter,Ie=Ce.slice,ke=Ce.map,Ae=function(){}.constructor,De=Ae?Ae.prototype:null,Oe="__proto__",Pe=2311;function Le(){return Pe++}function Ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function Ne(e){if(null==e||"object"!==u(e))return e;var t=e,n=Se.call(e);if("[object Array]"===n){if(!gt(e)){t=[];for(var i=0,o=e.length;i<o;i++)t[i]=Ne(e[i])}}else if(we[n]){if(!gt(e)){var r=e.constructor;if(r.from)t=r.from(e);else{t=new r(e.length);for(i=0,o=e.length;i<o;i++)t[i]=e[i]}}}else if(!_e[n]&&!gt(e)&&!ot(e))for(var a in t={},e)e.hasOwnProperty(a)&&a!==Oe&&(t[a]=Ne(e[a]));return t}function Re(e,t,n){if(!tt(t)||!tt(e))return n?Ne(t):e;for(var i in t)if(t.hasOwnProperty(i)&&i!==Oe){var o=e[i],r=t[i];!tt(r)||!tt(o)||Ze(r)||Ze(o)||ot(r)||ot(o)||nt(r)||nt(o)||gt(r)||gt(o)?!n&&i in e||(e[i]=Ne(t[i])):Re(o,r,n)}return e}function ze(e,t){for(var n=e[0],i=1,o=e.length;i<o;i++)n=Re(n,e[i],t);return n}function Be(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==Oe&&(e[n]=t[n]);return e}function Fe(e,t,n){for(var i=Ye(t),o=0;o<i.length;o++){var r=i[o];(n?null!=t[r]:null==e[r])&&(e[r]=t[r])}return e}function Ve(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function je(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),o=0;o<i.length;o++){var r=i[o];"constructor"!==r&&(n?null!=t[r]:null==e[r])&&(e[r]=t[r])}else Fe(e,t,n)}function He(e){return!!e&&("string"!=typeof e&&"number"==typeof e.length)}function Ge(e,t,n){if(e&&t)if(e.forEach&&e.forEach===Me)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e);else for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function We(e,t,n){if(!e)return[];if(!t)return ct(e);if(e.map&&e.map===ke)return e.map(t,n);for(var i=[],o=0,r=e.length;o<r;o++)i.push(t.call(n,e[o],o,e));return i}function Ke(e,t,n,i){if(e&&t){for(var o=0,r=e.length;o<r;o++)n=t.call(i,n,e[o],o,e);return n}}function Ue(e,t,n){if(!e)return[];if(!t)return ct(e);if(e.filter&&e.filter===Te)return e.filter(t,n);for(var i=[],o=0,r=e.length;o<r;o++)t.call(n,e[o],o,e)&&i.push(e[o]);return i}function Ye(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}be.createCanvas;var Xe=De&&$e(De.bind)?De.call.bind(De.bind):function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return e.apply(t,n.concat(Ie.call(arguments)))}};function qe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(Ie.call(arguments)))}}function Ze(e){return Array.isArray?Array.isArray(e):"[object Array]"===Se.call(e)}function $e(e){return"function"==typeof e}function Je(e){return"string"==typeof e}function Qe(e){return"[object String]"===Se.call(e)}function et(e){return"number"==typeof e}function tt(e){var t=u(e);return"function"===t||!!e&&"object"===t}function nt(e){return!!_e[Se.call(e)]}function it(e){return!!we[Se.call(e)]}function ot(e){return"object"===u(e)&&"number"==typeof e.nodeType&&"object"===u(e.ownerDocument)}function rt(e){return null!=e.colorStops}function at(e){return e!=e}function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e.length;n<i;n++)if(null!=e[n])return e[n]}function st(e,t){return null!=e?e:t}function ut(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Ie.apply(e,t)}function dt(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function pt(e,t){if(!e)throw new Error(t)}function ht(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ft="__ec_primitive__";function vt(e){e[ft]=!0}function gt(e){return e[ft]}var yt=function(){function e(){this.data={}}return e.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},e.prototype.has=function(e){return this.data.hasOwnProperty(e)},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){return this.data[e]=t,this},e.prototype.keys=function(){return Ye(this.data)},e.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},e}(),mt="function"==typeof Map;var xt=function(){function e(t){var n=Ze(t);this.data=mt?new Map:new yt;var i=this;function o(e,t){n?i.set(e,t):i.set(t,e)}t instanceof e?t.each(o):t&&Ge(t,o)}return e.prototype.hasKey=function(e){return this.data.has(e)},e.prototype.get=function(e){return this.data.get(e)},e.prototype.set=function(e,t){return this.data.set(e,t),t},e.prototype.each=function(e,t){this.data.forEach((function(n,i){e.call(t,n,i)}))},e.prototype.keys=function(){var e=this.data.keys();return mt?Array.from(e):e},e.prototype.removeKey=function(e){this.data.delete(e)},e}();function bt(e){return new xt(e)}function _t(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var o=e.length;for(i=0;i<t.length;i++)n[i+o]=t[i];return n}function wt(e,t){var n;if(Object.create)n=Object.create(e);else{var i=function(){};i.prototype=e,n=new i}return t&&Be(n,t),n}function St(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Ct(e,t){return e.hasOwnProperty(t)}function Mt(){}var Tt=180/Math.PI,It=function(e,t){return It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},It(e,t)};
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
/* global Reflect, Promise */function kt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}It(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function At(e,t){return null==e&&(e=0),null==t&&(t=0),[e,t]}function Dt(e,t){return e[0]=t[0],e[1]=t[1],e}function Ot(e){return[e[0],e[1]]}function Pt(e,t,n){return e[0]=t,e[1]=n,e}function Lt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Et(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function Nt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function Rt(e){return Math.sqrt(function(e){return e[0]*e[0]+e[1]*e[1]}(e))}function zt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Bt(e,t){var n=Rt(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function Ft(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Vt=Ft;var jt=function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])};function Ht(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function Gt(e,t,n){var i=t[0],o=t[1];return e[0]=n[0]*i+n[2]*o+n[4],e[1]=n[1]*i+n[3]*o+n[5],e}function Wt(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Kt(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var Ut=function(e,t){this.target=e,this.topTarget=t&&t.topTarget},Yt=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Ut(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,o=n-this._x,r=i-this._y;this._x=n,this._y=i,t.drift(o,r,e),this.handler.dispatchToElement(new Ut(t,e),"drag",e.event);var a=this.handler.findHover(n,i,t).target,l=this._dropTarget;this._dropTarget=a,t!==a&&(l&&a!==l&&this.handler.dispatchToElement(new Ut(l,e),"dragleave",e.event),a&&a!==l&&this.handler.dispatchToElement(new Ut(a,e),"dragenter",e.event))}},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Ut(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Ut(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}(),Xt=Yt,qt=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,n,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof t&&(i=n,n=t,t=null),!n||!e)return this;var r=this._$eventProcessor;null!=t&&r&&r.normalizeQuery&&(t=r.normalizeQuery(t)),o[e]||(o[e]=[]);for(var a=0;a<o[e].length;a++)if(o[e][a].h===n)return this;var l={h:n,query:t,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},s=o[e].length-1,u=o[e][s];return u&&u.callAtLast?o[e].splice(s,0,l):o[e].push(l),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],o=0,r=n[e].length;o<r;o++)n[e][o].h!==t&&i.push(n[e][o]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],o=this._$eventProcessor;if(i)for(var r=t.length,a=i.length,l=0;l<a;l++){var s=i[l];if(!o||!o.filter||null==s.query||o.filter(e,s.query))switch(r){case 0:s.h.call(s.ctx);break;case 1:s.h.call(s.ctx,t[0]);break;case 2:s.h.call(s.ctx,t[0],t[1]);break;default:s.h.apply(s.ctx,t)}}return o&&o.afterTrigger&&o.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],o=this._$eventProcessor;if(i)for(var r=t.length,a=t[r-1],l=i.length,s=0;s<l;s++){var u=i[s];if(!o||!o.filter||null==u.query||o.filter(e,u.query))switch(r){case 0:u.h.call(a);break;case 1:u.h.call(a,t[0]);break;case 2:u.h.call(a,t[0],t[1]);break;default:u.h.apply(a,t.slice(1,r-1))}}return o&&o.afterTrigger&&o.afterTrigger(e),this},e}(),Zt=qt,$t=Math.log(2);function Jt(e,t,n,i,o,r){var a=i+"-"+o,l=e.length;if(r.hasOwnProperty(a))return r[a];if(1===t){var s=Math.round(Math.log((1<<l)-1&~o)/$t);return e[n][s]}for(var u=i|1<<n,c=n+1;i&1<<c;)c++;for(var d=0,p=0,h=0;p<l;p++){var f=1<<p;f&o||(d+=(h%2?-1:1)*e[n][p]*Jt(e,t-1,c,u,o|f,r),h++)}return r[a]=d,d}function Qt(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},o=Jt(n,8,0,0,0,i);if(0!==o){for(var r=[],a=0;a<8;a++)for(var l=0;l<8;l++)null==r[l]&&(r[l]=0),r[l]+=((a+l)%2?-1:1)*Jt(n,7,0===a?1:0,1<<a,1<<l,i)/o*t[a];return function(e,t,n){var i=t*r[6]+n*r[7]+1;e[0]=(t*r[0]+n*r[1]+r[2])/i,e[1]=(t*r[3]+n*r[4]+r[5])/i}}}var en="___zrEVENTSAVED",tn=[];function nn(e,t,n,i,o){if(t.getBoundingClientRect&&fe.domSupported&&!on(t)){var r=t[en]||(t[en]={}),a=function(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var i=["left","right"],o=["top","bottom"],r=0;r<4;r++){var a=document.createElement("div"),l=r%2,s=(r>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",o[s]+":0",i[1-l]+":auto",o[1-s]+":auto",""].join("!important;"),e.appendChild(a),n.push(a)}return n}(t,r),l=function(e,t,n){for(var i=n?"invTrans":"trans",o=t[i],r=t.srcCoords,a=[],l=[],s=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),d=2*u,p=c.left,h=c.top;a.push(p,h),s=s&&r&&p===r[d]&&h===r[d+1],l.push(e[u].offsetLeft,e[u].offsetTop)}return s&&o?o:(t.srcCoords=a,t[i]=n?Qt(l,a):Qt(a,l))}(a,r,o);if(l)return l(e,n,i),!0}return!1}function on(e){return"CANVAS"===e.nodeName.toUpperCase()}var rn=/([&<>"'])/g,an={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ln(e){return null==e?"":(e+"").replace(rn,(function(e,t){return an[t]}))}var sn=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,un=[],cn=fe.browser.firefox&&+fe.browser.version.split(".")[0]<39;function dn(e,t,n,i){return n=n||{},i?pn(e,t,n):cn&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):pn(e,t,n),n}function pn(e,t,n){if(fe.domSupported&&e.getBoundingClientRect){var i=t.clientX,o=t.clientY;if(on(e)){var r=e.getBoundingClientRect();return n.zrX=i-r.left,void(n.zrY=o-r.top)}if(nn(un,e,i,o))return n.zrX=un[0],void(n.zrY=un[1])}n.zrX=n.zrY=0}function hn(e){return e||window.event}function fn(e,t,n){if(null!=(t=hn(t)).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var o="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];o&&dn(e,o,t,n)}else{dn(e,t,t,n);var r=function(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,i=e.deltaY;if(null==n||null==i)return t;return 3*(0!==i?Math.abs(i):Math.abs(n))*(i>0?-1:i<0?1:n>0?-1:1)}(t);t.zrDelta=r?r/120:-(t.detail||0)/3}var a=t.button;return null==t.which&&void 0!==a&&sn.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function vn(e,t,n,i){e.addEventListener(t,n,i)}var gn=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function yn(e){return 2===e.which||3===e.which}var mn=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,n){var i=e.touches;if(i){for(var o={points:[],touches:[],target:t,event:e},r=0,a=i.length;r<a;r++){var l=i[r],s=dn(n,l,{});o.points.push([s.zrX,s.zrY]),o.touches.push(l)}this._track.push(o)}},e.prototype._recognize=function(e){for(var t in bn)if(bn.hasOwnProperty(t)){var n=bn[t](this._track,e);if(n)return n}},e}();function xn(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}var bn={pinch:function(e,t){var n=e.length;if(n){var i,o=(e[n-1]||{}).points,r=(e[n-2]||{}).points||o;if(r&&r.length>1&&o&&o.length>1){var a=xn(o)/xn(r);!isFinite(a)&&(a=1),t.pinchScale=a;var l=[((i=o)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return t.pinchX=l[0],t.pinchY=l[1],{type:"pinch",target:e[0].target,event:t}}}}};function _n(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function wn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Sn(e,t,n){var i=t[0]*n[0]+t[2]*n[1],o=t[1]*n[0]+t[3]*n[1],r=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],s=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=o,e[2]=r,e[3]=a,e[4]=l,e[5]=s,e}function Cn(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Mn(e,t,n){var i=t[0],o=t[2],r=t[4],a=t[1],l=t[3],s=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=i*c+a*u,e[1]=-i*u+a*c,e[2]=o*c+l*u,e[3]=-o*u+c*l,e[4]=c*r+u*s,e[5]=c*s-u*r,e}function Tn(e,t,n){var i=n[0],o=n[1];return e[0]=t[0]*i,e[1]=t[1]*o,e[2]=t[2]*i,e[3]=t[3]*o,e[4]=t[4]*i,e[5]=t[5]*o,e}function In(e,t){var n=t[0],i=t[2],o=t[4],r=t[1],a=t[3],l=t[5],s=n*a-r*i;return s?(s=1/s,e[0]=a*s,e[1]=-r*s,e[2]=-i*s,e[3]=n*s,e[4]=(i*l-a*o)*s,e[5]=(r*o-n*l)*s,e):null}var kn=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,n){e.x=t,e.y=n},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},e.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},e.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},e.scaleAndAdd=function(e,t,n,i){e.x=t.x+n.x*i,e.y=t.y+n.y*i},e.lerp=function(e,t,n,i){var o=1-i;e.x=o*t.x+i*n.x,e.y=o*t.y+i*n.y},e}(),An=kn,Dn=Math.min,On=Math.max,Pn=new An,Ln=new An,En=new An,Nn=new An,Rn=new An,zn=new An,Bn=function(){function e(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}return e.prototype.union=function(e){var t=Dn(e.x,this.x),n=Dn(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=On(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=On(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,i=e.height/t.height,o=[1,0,0,1,0,0];return Cn(o,o,[-t.x,-t.y]),Tn(o,o,[n,i]),Cn(o,o,[e.x,e.y]),o},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var i=this,o=i.x,r=i.x+i.width,a=i.y,l=i.y+i.height,s=t.x,u=t.x+t.width,c=t.y,d=t.y+t.height,p=!(r<s||u<o||l<c||d<a);if(n){var h=1/0,f=0,v=Math.abs(r-s),g=Math.abs(u-o),y=Math.abs(l-c),m=Math.abs(d-a),x=Math.min(v,g),b=Math.min(y,m);r<s||u<o?x>f&&(f=x,v<g?An.set(zn,-v,0):An.set(zn,g,0)):x<h&&(h=x,v<g?An.set(Rn,v,0):An.set(Rn,-g,0)),l<c||d<a?b>f&&(f=b,y<m?An.set(zn,0,-y):An.set(zn,0,m)):x<h&&(h=x,y<m?An.set(Rn,0,y):An.set(Rn,0,-m))}return n&&An.copy(n,p?Rn:zn),p},e.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},e.applyTransform=function(t,n,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var o=i[0],r=i[3],a=i[4],l=i[5];return t.x=n.x*o+a,t.y=n.y*r+l,t.width=n.width*o,t.height=n.height*r,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Pn.x=En.x=n.x,Pn.y=Nn.y=n.y,Ln.x=Nn.x=n.x+n.width,Ln.y=En.y=n.y+n.height,Pn.transform(i),Nn.transform(i),Ln.transform(i),En.transform(i),t.x=Dn(Pn.x,Ln.x,En.x,Nn.x),t.y=Dn(Pn.y,Ln.y,En.y,Nn.y);var s=On(Pn.x,Ln.x,En.x,Nn.x),u=On(Pn.y,Ln.y,En.y,Nn.y);t.width=s-t.x,t.height=u-t.y}else t!==n&&e.copy(t,n)},e}(),Fn=Bn,Vn="silent";function jn(){gn(this.event)}var Hn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return kt(t,e),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Zt),Gn=function(e,t){this.x=e,this.y=t},Wn=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Kn=new Fn(0,0,0,0),Un=function(e){function t(t,n,i,o,r){var a=e.call(this)||this;return a._hovered=new Gn(0,0),a.storage=t,a.painter=n,a.painterRoot=o,a._pointerSize=r,i=i||new Hn,a.proxy=null,a.setHandlerProxy(i),a._draggingMgr=new Xt(a),a}return kt(t,e),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(Ge(Wn,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var t=e.zrX,n=e.zrY,i=qn(this,t,n),o=this._hovered,r=o.target;r&&!r.__zr&&(r=(o=this.findHover(o.x,o.y)).target);var a=this._hovered=i?new Gn(t,n):this.findHover(t,n),l=a.target,s=this.proxy;s.setCursor&&s.setCursor(l?l.cursor:"default"),r&&l!==r&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(a,"mousemove",e),l&&l!==r&&this.dispatchToElement(a,"mouseover",e)},t.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Gn(0,0)},t.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},t.prototype.dispatchToElement=function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var o="on"+t,r=function(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:jn}}(t,e,n);i&&(i[o]&&(r.cancelBubble=!!i[o].call(i,r)),i.trigger(t,r),i=i.__hostTarget?i.__hostTarget:i.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(t,r),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(e){"function"==typeof e[o]&&e[o].call(e,r),e.trigger&&e.trigger(t,r)})))}},t.prototype.findHover=function(e,t,n){var i=this.storage.getDisplayList(),o=new Gn(e,t);if(Xn(i,o,e,t,n),this._pointerSize&&!o.target){for(var r=[],a=this._pointerSize,l=a/2,s=new Fn(e-l,t-l,a,a),u=i.length-1;u>=0;u--){var c=i[u];c===n||c.ignore||c.ignoreCoarsePointer||c.parent&&c.parent.ignoreCoarsePointer||(Kn.copy(c.getBoundingRect()),c.transform&&Kn.applyTransform(c.transform),Kn.intersect(s)&&r.push(c))}if(r.length)for(var d=Math.PI/12,p=2*Math.PI,h=0;h<l;h+=4)for(var f=0;f<p;f+=d){if(Xn(r,o,e+h*Math.cos(f),t+h*Math.sin(f),n),o.target)return o}}return o},t.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new mn);var n=this._gestureMgr;"start"===t&&n.clear();var i=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),i){var o=i.type;e.gestureEvent=o;var r=new Gn;r.target=i.target,this.dispatchToElement(r,o,i.event)}},t}(Zt);function Yn(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i=e,o=void 0,r=!1;i;){if(i.ignoreClip&&(r=!0),!r){var a=i.getClipPath();if(a&&!a.contain(t,n))return!1;i.silent&&(o=!0)}var l=i.__hostTarget;i=l||i.parent}return!o||Vn}return!1}function Xn(e,t,n,i,o){for(var r=e.length-1;r>=0;r--){var a=e[r],l=void 0;if(a!==o&&!a.ignore&&(l=Yn(a,n,i))&&(!t.topTarget&&(t.topTarget=a),l!==Vn)){t.target=a;break}}}function qn(e,t,n){var i=e.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}Ge(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){Un.prototype[e]=function(t){var n,i,o=t.zrX,r=t.zrY,a=qn(this,o,r);if("mouseup"===e&&a||(i=(n=this.findHover(o,r)).target),"mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||Vt(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}}));var Zn=Un;function $n(e,t,n,i){var o=t+1;if(o===n)return 1;if(i(e[o++],e[t])<0){for(;o<n&&i(e[o],e[o-1])<0;)o++;!function(e,t,n){n--;for(;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,o)}else for(;o<n&&i(e[o],e[o-1])>=0;)o++;return o-t}function Jn(e,t,n,i,o){for(i===t&&i++;i<n;i++){for(var r,a=e[i],l=t,s=i;l<s;)o(a,e[r=l+s>>>1])<0?s=r:l=r+1;var u=i-l;switch(u){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;u>0;)e[l+u]=e[l+u-1],u--}e[l]=a}}function Qn(e,t,n,i,o,r){var a=0,l=0,s=1;if(r(e,t[n+o])>0){for(l=i-o;s<l&&r(e,t[n+o+s])>0;)a=s,(s=1+(s<<1))<=0&&(s=l);s>l&&(s=l),a+=o,s+=o}else{for(l=o+1;s<l&&r(e,t[n+o-s])<=0;)a=s,(s=1+(s<<1))<=0&&(s=l);s>l&&(s=l);var u=a;a=o-s,s=o-u}for(a++;a<s;){var c=a+(s-a>>>1);r(e,t[n+c])>0?a=c+1:s=c}return s}function ei(e,t,n,i,o,r){var a=0,l=0,s=1;if(r(e,t[n+o])<0){for(l=o+1;s<l&&r(e,t[n+o-s])<0;)a=s,(s=1+(s<<1))<=0&&(s=l);s>l&&(s=l);var u=a;a=o-s,s=o-u}else{for(l=i-o;s<l&&r(e,t[n+o+s])>=0;)a=s,(s=1+(s<<1))<=0&&(s=l);s>l&&(s=l),a+=o,s+=o}for(a++;a<s;){var c=a+(s-a>>>1);r(e,t[n+c])<0?s=c:a=c+1}return s}function ti(e,t){var n,i,o=7,r=0;e.length;var a=[];function l(l){var s=n[l],u=i[l],c=n[l+1],d=i[l+1];i[l]=u+d,l===r-3&&(n[l+1]=n[l+2],i[l+1]=i[l+2]),r--;var p=ei(e[c],e,s,u,0,t);s+=p,0!==(u-=p)&&0!==(d=Qn(e[s+u-1],e,c,d,d-1,t))&&(u<=d?function(n,i,r,l){var s=0;for(s=0;s<i;s++)a[s]=e[n+s];var u=0,c=r,d=n;if(e[d++]=e[c++],0==--l){for(s=0;s<i;s++)e[d+s]=a[u+s];return}if(1===i){for(s=0;s<l;s++)e[d+s]=e[c+s];return void(e[d+l]=a[u])}var p,h,f,v=o;for(;;){p=0,h=0,f=!1;do{if(t(e[c],a[u])<0){if(e[d++]=e[c++],h++,p=0,0==--l){f=!0;break}}else if(e[d++]=a[u++],p++,h=0,1==--i){f=!0;break}}while((p|h)<v);if(f)break;do{if(0!==(p=ei(e[c],a,u,i,0,t))){for(s=0;s<p;s++)e[d+s]=a[u+s];if(d+=p,u+=p,(i-=p)<=1){f=!0;break}}if(e[d++]=e[c++],0==--l){f=!0;break}if(0!==(h=Qn(a[u],e,c,l,0,t))){for(s=0;s<h;s++)e[d+s]=e[c+s];if(d+=h,c+=h,0===(l-=h)){f=!0;break}}if(e[d++]=a[u++],1==--i){f=!0;break}v--}while(p>=7||h>=7);if(f)break;v<0&&(v=0),v+=2}if((o=v)<1&&(o=1),1===i){for(s=0;s<l;s++)e[d+s]=e[c+s];e[d+l]=a[u]}else{if(0===i)throw new Error;for(s=0;s<i;s++)e[d+s]=a[u+s]}}(s,u,c,d):function(n,i,r,l){var s=0;for(s=0;s<l;s++)a[s]=e[r+s];var u=n+i-1,c=l-1,d=r+l-1,p=0,h=0;if(e[d--]=e[u--],0==--i){for(p=d-(l-1),s=0;s<l;s++)e[p+s]=a[s];return}if(1===l){for(h=(d-=i)+1,p=(u-=i)+1,s=i-1;s>=0;s--)e[h+s]=e[p+s];return void(e[d]=a[c])}var f=o;for(;;){var v=0,g=0,y=!1;do{if(t(a[c],e[u])<0){if(e[d--]=e[u--],v++,g=0,0==--i){y=!0;break}}else if(e[d--]=a[c--],g++,v=0,1==--l){y=!0;break}}while((v|g)<f);if(y)break;do{if(0!==(v=i-ei(a[c],e,n,i,i-1,t))){for(i-=v,h=(d-=v)+1,p=(u-=v)+1,s=v-1;s>=0;s--)e[h+s]=e[p+s];if(0===i){y=!0;break}}if(e[d--]=a[c--],1==--l){y=!0;break}if(0!==(g=l-Qn(e[u],a,0,l,l-1,t))){for(l-=g,h=(d-=g)+1,p=(c-=g)+1,s=0;s<g;s++)e[h+s]=a[p+s];if(l<=1){y=!0;break}}if(e[d--]=e[u--],0==--i){y=!0;break}f--}while(v>=7||g>=7);if(y)break;f<0&&(f=0),f+=2}(o=f)<1&&(o=1);if(1===l){for(h=(d-=i)+1,p=(u-=i)+1,s=i-1;s>=0;s--)e[h+s]=e[p+s];e[d]=a[c]}else{if(0===l)throw new Error;for(p=d-(l-1),s=0;s<l;s++)e[p+s]=a[s]}}(s,u,c,d))}return n=[],i=[],{mergeRuns:function(){for(;r>1;){var e=r-2;if(e>=1&&i[e-1]<=i[e]+i[e+1]||e>=2&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;l(e)}},forceMergeRuns:function(){for(;r>1;){var e=r-2;e>0&&i[e-1]<i[e+1]&&e--,l(e)}},pushRun:function(e,t){n[r]=e,i[r]=t,r+=1}}}function ni(e,t,n,i){n||(n=0),i||(i=e.length);var o=i-n;if(!(o<2)){var r=0;if(o<32)Jn(e,n,i,n+(r=$n(e,n,i,t)),t);else{var a=ti(e,t),l=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(o);do{if((r=$n(e,n,i,t))<l){var s=o;s>l&&(s=l),Jn(e,n,n+s,n+r,t),r=s}a.pushRun(n,r),a.mergeRuns(),o-=r,n+=r}while(0!==o);a.forceMergeRuns()}}}var ii=!1;function oi(){ii||(ii=!0)}function ri(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var ai,li=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=ri}return e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return!e&&n.length||this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,o=t.length;i<o;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,ni(n,ri)},e.prototype._updateAndAddDisplayable=function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t=t?t.slice():[];for(var o=i,r=e;o;)o.parent=r,o.updateTransform(),t.push(o),r=o,o=o.getClipPath()}if(e.childrenRef){for(var a=e.childrenRef(),l=0;l<a.length;l++){var s=a[l];e.__dirty&&(s.__dirty|=1),this._updateAndAddDisplayable(s,t,n)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(oi(),u.z=0),isNaN(u.z2)&&(oi(),u.z2=0),isNaN(u.zlevel)&&(oi(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var c=e.getDecalElement&&e.getDecalElement();c&&this._updateAndAddDisplayable(c,t,n);var d=e.getTextGuideLine();d&&this._updateAndAddDisplayable(d,t,n);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,t,n)}},e.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);else{var i=Ve(this._roots,e);i>=0&&this._roots.splice(i,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),si=li;ai=fe.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var ui=ai,ci={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-ci.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*ci.bounceIn(2*e):.5*ci.bounceOut(2*e-1)+.5}},di=ci,pi=Math.pow,hi=Math.sqrt,fi=1e-8,vi=1e-4,gi=hi(3),yi=1/3,mi=At(),xi=At(),bi=At();function _i(e){return e>-1e-8&&e<fi}function wi(e){return e>fi||e<-1e-8}function Si(e,t,n,i,o){var r=1-o;return r*r*(r*e+3*o*t)+o*o*(o*i+3*r*n)}function Ci(e,t,n,i,o){var r=1-o;return 3*(((t-e)*r+2*(n-t)*o)*r+(i-n)*o*o)}function Mi(e,t,n,i,o,r){var a=i+3*(t-n)-e,l=3*(n-2*t+e),s=3*(t-e),u=e-o,c=l*l-3*a*s,d=l*s-9*a*u,p=s*s-3*l*u,h=0;if(_i(c)&&_i(d)){if(_i(l))r[0]=0;else(C=-s/l)>=0&&C<=1&&(r[h++]=C)}else{var f=d*d-4*c*p;if(_i(f)){var v=d/c,g=-v/2;(C=-l/a+v)>=0&&C<=1&&(r[h++]=C),g>=0&&g<=1&&(r[h++]=g)}else if(f>0){var y=hi(f),m=c*l+1.5*a*(-d+y),x=c*l+1.5*a*(-d-y);(C=(-l-((m=m<0?-pi(-m,yi):pi(m,yi))+(x=x<0?-pi(-x,yi):pi(x,yi))))/(3*a))>=0&&C<=1&&(r[h++]=C)}else{var b=(2*c*l-3*a*d)/(2*hi(c*c*c)),_=Math.acos(b)/3,w=hi(c),S=Math.cos(_),C=(-l-2*w*S)/(3*a),M=(g=(-l+w*(S+gi*Math.sin(_)))/(3*a),(-l+w*(S-gi*Math.sin(_)))/(3*a));C>=0&&C<=1&&(r[h++]=C),g>=0&&g<=1&&(r[h++]=g),M>=0&&M<=1&&(r[h++]=M)}}return h}function Ti(e,t,n,i,o){var r=6*n-12*t+6*e,a=9*t+3*i-3*e-9*n,l=3*t-3*e,s=0;if(_i(a)){if(wi(r))(c=-l/r)>=0&&c<=1&&(o[s++]=c)}else{var u=r*r-4*a*l;if(_i(u))o[0]=-r/(2*a);else if(u>0){var c,d=hi(u),p=(-r-d)/(2*a);(c=(-r+d)/(2*a))>=0&&c<=1&&(o[s++]=c),p>=0&&p<=1&&(o[s++]=p)}}return s}function Ii(e,t,n,i,o,r){var a=(t-e)*o+e,l=(n-t)*o+t,s=(i-n)*o+n,u=(l-a)*o+a,c=(s-l)*o+l,d=(c-u)*o+u;r[0]=e,r[1]=a,r[2]=u,r[3]=d,r[4]=d,r[5]=c,r[6]=s,r[7]=i}function ki(e,t,n,i,o,r,a,l,s,u,c){var d,p,h,f,v,g=.005,y=1/0;mi[0]=s,mi[1]=u;for(var m=0;m<1;m+=.05)xi[0]=Si(e,n,o,a,m),xi[1]=Si(t,i,r,l,m),(f=jt(mi,xi))<y&&(d=m,y=f);y=1/0;for(var x=0;x<32&&!(g<vi);x++)p=d-g,h=d+g,xi[0]=Si(e,n,o,a,p),xi[1]=Si(t,i,r,l,p),f=jt(xi,mi),p>=0&&f<y?(d=p,y=f):(bi[0]=Si(e,n,o,a,h),bi[1]=Si(t,i,r,l,h),v=jt(bi,mi),h<=1&&v<y?(d=h,y=v):g*=.5);return c&&(c[0]=Si(e,n,o,a,d),c[1]=Si(t,i,r,l,d)),hi(y)}function Ai(e,t,n,i,o,r,a,l,s){for(var u=e,c=t,d=0,p=1/s,h=1;h<=s;h++){var f=h*p,v=Si(e,n,o,a,f),g=Si(t,i,r,l,f),y=v-u,m=g-c;d+=Math.sqrt(y*y+m*m),u=v,c=g}return d}function Di(e,t,n,i){var o=1-i;return o*(o*e+2*i*t)+i*i*n}function Oi(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function Pi(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function Li(e,t,n,i,o){var r=(t-e)*i+e,a=(n-t)*i+t,l=(a-r)*i+r;o[0]=e,o[1]=r,o[2]=l,o[3]=l,o[4]=a,o[5]=n}function Ei(e,t,n,i,o,r,a,l,s){var u,c=.005,d=1/0;mi[0]=a,mi[1]=l;for(var p=0;p<1;p+=.05){xi[0]=Di(e,n,o,p),xi[1]=Di(t,i,r,p),(g=jt(mi,xi))<d&&(u=p,d=g)}d=1/0;for(var h=0;h<32&&!(c<vi);h++){var f=u-c,v=u+c;xi[0]=Di(e,n,o,f),xi[1]=Di(t,i,r,f);var g=jt(xi,mi);if(f>=0&&g<d)u=f,d=g;else{bi[0]=Di(e,n,o,v),bi[1]=Di(t,i,r,v);var y=jt(bi,mi);v<=1&&y<d?(u=v,d=y):c*=.5}}return s&&(s[0]=Di(e,n,o,u),s[1]=Di(t,i,r,u)),hi(d)}function Ni(e,t,n,i,o,r,a){for(var l=e,s=t,u=0,c=1/a,d=1;d<=a;d++){var p=d*c,h=Di(e,n,o,p),f=Di(t,i,r,p),v=h-l,g=f-s;u+=Math.sqrt(v*v+g*g),l=h,s=f}return u}var Ri=/cubic-bezier\(([0-9,\.e ]+)\)/;function zi(e){var t=e&&Ri.exec(e);if(t){var n=t[1].split(","),i=+ht(n[0]),o=+ht(n[1]),r=+ht(n[2]),a=+ht(n[3]);if(isNaN(i+o+r+a))return;var l=[];return function(e){return e<=0?0:e>=1?1:Mi(0,i,r,1,e,l)&&Si(0,o,a,1,l[0])}}}var Bi=function(){function e(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Mt,this.ondestroy=e.ondestroy||Mt,this.onrestart=e.onrestart||Mt,e.easing&&this.setEasing(e.easing)}return e.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var n=this._life,i=e-this._startTime-this._pausedTime,o=i/n;o<0&&(o=0),o=Math.min(o,1);var r=this.easingFunc,a=r?r(o):o;if(this.onframe(a),1===o){if(!this.loop)return!0;var l=i%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(e){this.easing=e,this.easingFunc=$e(e)?e:di[e]||zi(e)},e}(),Fi=Bi,Vi=function(e){this.value=e},ji=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new Vi(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),Hi=function(){function e(e){this._list=new ji,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var n=this._list,i=this._map,o=null;if(null==i[e]){var r=n.len(),a=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var l=n.head;n.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}a?a.value=t:a=new Vi(t),a.key=e,n.insertEntry(a),i[e]=a}return o},e.prototype.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),Gi=Hi,Wi={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ki(e){return(e=Math.round(e))<0?0:e>255?255:e}function Ui(e){return e<0?0:e>1?1:e}function Yi(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?Ki(parseFloat(t)/100*255):Ki(parseInt(t,10))}function Xi(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?Ui(parseFloat(t)/100):Ui(parseFloat(t))}function qi(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function Zi(e,t,n){return e+(t-e)*n}function $i(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e}function Ji(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var Qi=new Gi(20),eo=null;function to(e,t){eo&&Ji(eo,t),eo=Qi.put(e,eo||t.slice())}function no(e,t){if(e){t=t||[];var n=Qi.get(e);if(n)return Ji(t,n);var i=(e+="").replace(/ /g,"").toLowerCase();if(i in Wi)return Ji(t,Wi[i]),to(e,t),t;var o,r=i.length;if("#"===i.charAt(0))return 4===r||5===r?(o=parseInt(i.slice(1,4),16))>=0&&o<=4095?($i(t,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===r?parseInt(i.slice(4),16)/15:1),to(e,t),t):void $i(t,0,0,0,1):7===r||9===r?(o=parseInt(i.slice(1,7),16))>=0&&o<=16777215?($i(t,(16711680&o)>>16,(65280&o)>>8,255&o,9===r?parseInt(i.slice(7),16)/255:1),to(e,t),t):void $i(t,0,0,0,1):void 0;var a=i.indexOf("("),l=i.indexOf(")");if(-1!==a&&l+1===r){var s=i.substr(0,a),u=i.substr(a+1,l-(a+1)).split(","),c=1;switch(s){case"rgba":if(4!==u.length)return 3===u.length?$i(t,+u[0],+u[1],+u[2],1):$i(t,0,0,0,1);c=Xi(u.pop());case"rgb":return u.length>=3?($i(t,Yi(u[0]),Yi(u[1]),Yi(u[2]),3===u.length?c:Xi(u[3])),to(e,t),t):void $i(t,0,0,0,1);case"hsla":return 4!==u.length?void $i(t,0,0,0,1):(u[3]=Xi(u[3]),io(u,t),to(e,t),t);case"hsl":return 3!==u.length?void $i(t,0,0,0,1):(io(u,t),to(e,t),t);default:return}}$i(t,0,0,0,1)}}function io(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=Xi(e[1]),o=Xi(e[2]),r=o<=.5?o*(i+1):o+i-o*i,a=2*o-r;return $i(t=t||[],Ki(255*qi(a,r,n+1/3)),Ki(255*qi(a,r,n)),Ki(255*qi(a,r,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function oo(e,t){var n=no(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return so(n,4===n.length?"rgba":"rgb")}}function ro(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),o=Math.floor(i),r=Math.ceil(i),a=t[o],l=t[r],s=i-o;return n[0]=Ki(Zi(a[0],l[0],s)),n[1]=Ki(Zi(a[1],l[1],s)),n[2]=Ki(Zi(a[2],l[2],s)),n[3]=Ui(Zi(a[3],l[3],s)),n}}function ao(e,t,n,i){var o=no(e);if(e)return o=function(e){if(e){var t,n,i=e[0]/255,o=e[1]/255,r=e[2]/255,a=Math.min(i,o,r),l=Math.max(i,o,r),s=l-a,u=(l+a)/2;if(0===s)t=0,n=0;else{n=u<.5?s/(l+a):s/(2-l-a);var c=((l-i)/6+s/2)/s,d=((l-o)/6+s/2)/s,p=((l-r)/6+s/2)/s;i===l?t=p-d:o===l?t=1/3+c-p:r===l&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var h=[360*t,n,u];return null!=e[3]&&h.push(e[3]),h}}(o),null!=t&&(o[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(t)),null!=n&&(o[1]=Xi(n)),null!=i&&(o[2]=Xi(i)),so(io(o),"rgba")}function lo(e,t){var n=no(e);if(n&&null!=t)return n[3]=Ui(t),so(n,"rgba")}function so(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function uo(e,t){var n=no(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var co=Math.round;function po(e){var t;if(e&&"transparent"!==e){if("string"==typeof e&&e.indexOf("rgba")>-1){var n=no(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}}else e="none";return{color:e,opacity:null==t?1:t}}var ho=1e-4;function fo(e){return e<ho&&e>-1e-4}function vo(e){return co(1e3*e)/1e3}function go(e){return co(1e4*e)/1e4}var yo={left:"start",right:"end",center:"middle",middle:"middle"};function mo(e){return e&&!!e.image}function xo(e){return mo(e)||function(e){return e&&!!e.svgElement}(e)}function bo(e){return"linear"===e.type}function _o(e){return"radial"===e.type}function wo(e){return e&&("linear"===e.type||"radial"===e.type)}function So(e){return"url(#"+e+")"}function Co(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function Mo(e){var t=e.x||0,n=e.y||0,i=(e.rotation||0)*Tt,o=st(e.scaleX,1),r=st(e.scaleY,1),a=e.skewX||0,l=e.skewY||0,s=[];return(t||n)&&s.push("translate("+t+"px,"+n+"px)"),i&&s.push("rotate("+i+")"),1===o&&1===r||s.push("scale("+o+","+r+")"),(a||l)&&s.push("skew("+co(a*Tt)+"deg, "+co(l*Tt)+"deg)"),s.join(" ")}var To=fe.hasGlobalWindow&&$e(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:"undefined"!=typeof Buffer?function(e){return Buffer.from(e).toString("base64")}:function(e){return null},Io=Array.prototype.slice;function ko(e,t,n){return(t-e)*n+e}function Ao(e,t,n,i){for(var o=t.length,r=0;r<o;r++)e[r]=ko(t[r],n[r],i);return e}function Do(e,t,n,i){for(var o=t.length,r=0;r<o;r++)e[r]=t[r]+n[r]*i;return e}function Oo(e,t,n,i){for(var o=t.length,r=o&&t[0].length,a=0;a<o;a++){e[a]||(e[a]=[]);for(var l=0;l<r;l++)e[a][l]=t[a][l]+n[a][l]*i}return e}function Po(e,t){for(var n=e.length,i=t.length,o=n>i?t:e,r=Math.min(n,i),a=o[r-1]||{color:[0,0,0,0],offset:0},l=r;l<Math.max(n,i);l++)o.push({offset:a.offset,color:a.color.slice()})}function Lo(e,t,n){var i=e,o=t;if(i.push&&o.push){var r=i.length,a=o.length;if(r!==a)if(r>a)i.length=a;else for(var l=r;l<a;l++)i.push(1===n?o[l]:Io.call(o[l]));var s=i[0]&&i[0].length;for(l=0;l<i.length;l++)if(1===n)isNaN(i[l])&&(i[l]=o[l]);else for(var u=0;u<s;u++)isNaN(i[l][u])&&(i[l][u]=o[l][u])}}function Eo(e){if(He(e)){var t=e.length;if(He(e[0])){for(var n=[],i=0;i<t;i++)n.push(Io.call(e[i]));return n}return Io.call(e)}return e}function No(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}function Ro(e){return 4===e||5===e}function zo(e){return 1===e||2===e}var Bo=[0,0,0,0],Fo=function(){function e(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var i=this.keyframes,o=i.length,r=!1,a=6,l=t;if(He(t)){var s=function(e){return He(e&&e[0])?2:1}(t);a=s,(1===s&&!et(t[0])||2===s&&!et(t[0][0]))&&(r=!0)}else if(et(t)&&!at(t))a=0;else if(Je(t))if(isNaN(+t)){var u=no(t);u&&(l=u,a=3)}else a=0;else if(rt(t)){var c=Be({},l);c.colorStops=We(t.colorStops,(function(e){return{offset:e.offset,color:no(e.color)}})),bo(t)?a=4:_o(t)&&(a=5),l=c}0===o?this.valType=a:a===this.valType&&6!==a||(r=!0),this.discrete=this.discrete||r;var d={time:e,value:l,rawValue:t,percent:0};return n&&(d.easing=n,d.easingFunc=$e(n)?n:di[n]||zi(n)),i.push(d),d},e.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort((function(e,t){return e.time-t.time}));for(var i=this.valType,o=n.length,r=n[o-1],a=this.discrete,l=zo(i),s=Ro(i),u=0;u<o;u++){var c=n[u],d=c.value,p=r.value;c.percent=c.time/e,a||(l&&u!==o-1?Lo(d,p,i):s&&Po(d.colorStops,p.colorStops))}if(!a&&5!==i&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;var h=n[0].value;for(u=0;u<o;u++)0===i?n[u].additiveValue=n[u].value-h:3===i?n[u].additiveValue=Do([],n[u].value,h,-1):zo(i)&&(n[u].additiveValue=1===i?Do([],n[u].value,h,-1):Oo([],n[u].value,h,-1))}},e.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i,o,r=null!=this._additiveTrack,a=r?"additiveValue":"value",l=this.valType,s=this.keyframes,u=s.length,c=this.propName,d=3===l,p=this._lastFr,h=Math.min;if(1===u)i=o=s[0];else{if(t<0)n=0;else if(t<this._lastFrP){for(n=h(p+1,u-1);n>=0&&!(s[n].percent<=t);n--);n=h(n,u-2)}else{for(n=p;n<u&&!(s[n].percent>t);n++);n=h(n-1,u-2)}o=s[n+1],i=s[n]}if(i&&o){this._lastFr=n,this._lastFrP=t;var f=o.percent-i.percent,v=0===f?1:h((t-i.percent)/f,1);o.easingFunc&&(v=o.easingFunc(v));var g=r?this._additiveValue:d?Bo:e[c];if(!zo(l)&&!d||g||(g=this._additiveValue=[]),this.discrete)e[c]=v<1?i.rawValue:o.rawValue;else if(zo(l))1===l?Ao(g,i[a],o[a],v):function(e,t,n,i){for(var o=t.length,r=o&&t[0].length,a=0;a<o;a++){e[a]||(e[a]=[]);for(var l=0;l<r;l++)e[a][l]=ko(t[a][l],n[a][l],i)}}(g,i[a],o[a],v);else if(Ro(l)){var y=i[a],m=o[a],x=4===l;e[c]={type:x?"linear":"radial",x:ko(y.x,m.x,v),y:ko(y.y,m.y,v),colorStops:We(y.colorStops,(function(e,t){var n=m.colorStops[t];return{offset:ko(e.offset,n.offset,v),color:No(Ao([],e.color,n.color,v))}})),global:m.global},x?(e[c].x2=ko(y.x2,m.x2,v),e[c].y2=ko(y.y2,m.y2,v)):e[c].r=ko(y.r,m.r,v)}else if(d)Ao(g,i[a],o[a],v),r||(e[c]=No(g));else{var b=ko(i[a],o[a],v);r?this._additiveValue=b:e[c]=b}r&&this._addToTarget(e)}}},e.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,i=this._additiveValue;0===t?e[n]=e[n]+i:3===t?(no(e[n],Bo),Do(Bo,Bo,i,1),e[n]=No(Bo)):1===t?Do(e[n],e[n],i,1):2===t&&Oo(e[n],e[n],i,1)},e}(),Vo=function(){function e(e,t,n,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i?Ee("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=n)}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,Ye(t),n)},e.prototype.whenWithKeys=function(e,t,n,i){for(var o=this._tracks,r=0;r<n.length;r++){var a=n[r],l=o[a];if(!l){l=o[a]=new Fo(a);var s=void 0,u=this._getAdditiveTrack(a);if(u){var c=u.keyframes,d=c[c.length-1];s=d&&d.value,3===u.valType&&s&&(s=No(s))}else s=this._target[a];if(null==s)continue;e>0&&l.addKeyframe(0,Eo(s),i),this._trackKeys.push(a)}l.addKeyframe(e,Eo(t[a]),i)}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},e.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var o=n[i].getTrack(e);o&&(t=o)}return t},e.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var r=this._trackKeys[o],a=this._tracks[r],l=this._getAdditiveTrack(r),s=a.keyframes,u=s.length;if(a.prepare(i,l),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var c=s[u-1];c&&(t._target[a.propName]=c.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var d=new Fi({life:i,loop:this._loop,delay:this._delay||0,onframe:function(e){t._started=2;var i=t._additiveAnimators;if(i){for(var o=!1,r=0;r<i.length;r++)if(i[r]._clip){o=!0;break}o||(t._additiveAnimators=null)}for(r=0;r<n.length;r++)n[r].step(t._target,e);var a=t._onframeCbs;if(a)for(r=0;r<a.length;r++)a[r](t._target,e)},ondestroy:function(){t._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),e&&d.setEasing(e)}else this._doneCallback();return this}},e.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},e.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.getTracks=function(){var e=this;return We(this._trackKeys,(function(t){return e._tracks[t]}))},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,o=0;o<e.length;o++){var r=n[e[o]];r&&!r.isFinished()&&(t?r.step(this._target,1):1===this._started&&r.step(this._target,0),r.setFinished())}var a=!0;for(o=0;o<i.length;o++)if(!n[i[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},e.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var o=t[i],r=this._tracks[o];if(r&&!r.isFinished()){var a=r.keyframes,l=a[n?0:a.length-1];l&&(e[o]=Eo(l.rawValue))}}}},e.prototype.__changeFinalValue=function(e,t){t=t||Ye(e);for(var n=0;n<t.length;n++){var i=t[n],o=this._tracks[i];if(o){var r=o.keyframes;if(r.length>1){var a=r.pop();o.addKeyframe(a.time,e[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},e}();function jo(){return(new Date).getTime()}var Ho,Go,Wo=function(e){function t(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return kt(t,e),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(e.animation){var t=e.prev,n=e.next;t?t.next=n:this._head=n,n?n.prev=t:this._tail=t,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){for(var t=jo()-this._pausedTime,n=t-this._time,i=this._head;i;){var o=i.next;i.step(t,n)?(i.ondestroy(),this.removeClip(i),i=o):i=o}this._time=t,e||(this.trigger("frame",n),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,ui((function t(){e._running&&(ui(t),!e._paused&&e.update())}))},t.prototype.start=function(){this._running||(this._time=jo(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=jo(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=jo()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,t){t=t||{},this.start();var n=new Vo(e,t.loop);return this.addAnimator(n),n},t}(Zt),Ko=Wo,Uo=fe.domSupported,Yo=(Go={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Ho=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:We(Ho,(function(e){var t=e.replace("mouse","pointer");return Go.hasOwnProperty(t)?t:e}))}),Xo=["mousemove","mouseup"],qo=["pointermove","pointerup"],Zo=!1;function $o(e){var t=e.pointerType;return"pen"===t||"touch"===t}function Jo(e){e&&(e.zrByTouch=!0)}function Qo(e,t){for(var n=t,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return i}var er=function(e,t){this.stopPropagation=Mt,this.stopImmediatePropagation=Mt,this.preventDefault=Mt,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},tr={mousedown:function(e){e=fn(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=fn(this.dom,e);var t=this.__mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=fn(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){Qo(this,(e=fn(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){Zo=!0,e=fn(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){Zo||(e=fn(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){Jo(e=fn(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),tr.mousemove.call(this,e),tr.mousedown.call(this,e)},touchmove:function(e){Jo(e=fn(this.dom,e)),this.handler.processGesture(e,"change"),tr.mousemove.call(this,e)},touchend:function(e){Jo(e=fn(this.dom,e)),this.handler.processGesture(e,"end"),tr.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&tr.click.call(this,e)},pointerdown:function(e){tr.mousedown.call(this,e)},pointermove:function(e){$o(e)||tr.mousemove.call(this,e)},pointerup:function(e){tr.mouseup.call(this,e)},pointerout:function(e){$o(e)||tr.mouseout.call(this,e)}};Ge(["click","dblclick","contextmenu"],(function(e){tr[e]=function(t){t=fn(this.dom,t),this.trigger(e,t)}}));var nr={pointermove:function(e){$o(e)||nr.mousemove.call(this,e)},pointerup:function(e){nr.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function ir(e,t){var n=t.domHandlers;fe.pointerEventsSupported?Ge(Yo.pointer,(function(i){rr(t,i,(function(t){n[i].call(e,t)}))})):(fe.touchEventsSupported&&Ge(Yo.touch,(function(i){rr(t,i,(function(o){n[i].call(e,o),function(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}(t)}))})),Ge(Yo.mouse,(function(i){rr(t,i,(function(o){o=hn(o),t.touching||n[i].call(e,o)}))})))}function or(e,t){function n(n){rr(t,n,(function(i){i=hn(i),Qo(e,i.target)||(i=function(e,t){return fn(e.dom,new er(e,t),!0)}(e,i),t.domHandlers[n].call(e,i))}),{capture:!0})}fe.pointerEventsSupported?Ge(qo,n):fe.touchEventsSupported||Ge(Xo,n)}function rr(e,t,n,i){e.mounted[t]=n,e.listenerOpts[t]=i,vn(e.domTarget,t,n,i)}function ar(e){var t,n,i,o,r=e.mounted;for(var a in r)r.hasOwnProperty(a)&&(t=e.domTarget,n=a,i=r[a],o=e.listenerOpts[a],t.removeEventListener(n,i,o));e.mounted={}}var lr=function(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t},sr=function(e){function t(t,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=n,i._localHandlerScope=new lr(t,tr),Uo&&(i._globalHandlerScope=new lr(document,nr)),ir(i,i._localHandlerScope),i}return kt(t,e),t.prototype.dispose=function(){ar(this._localHandlerScope),Uo&&ar(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,Uo&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?or(this,t):ar(t)}},t}(Zt),ur=1;fe.hasGlobalWindow&&(ur=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var cr=ur,dr="#333",pr="#ccc",hr=_n,fr=5e-5;function vr(e){return e>fr||e<-5e-5}var gr=[],yr=[],mr=[1,0,0,1,0,0],xr=Math.abs,br=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},e.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},e.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},e.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},e.prototype.needLocalTransform=function(){return vr(this.rotation)||vr(this.x)||vr(this.y)||vr(this.scaleX-1)||vr(this.scaleY-1)||vr(this.skewX)||vr(this.skewY)},e.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;t||e?(n=n||[1,0,0,1,0,0],t?this.getLocalTransform(n):hr(n),e&&(t?Sn(n,e,n):wn(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&hr(n)},e.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(gr);var n=gr[0]<0?-1:1,i=gr[1]<0?-1:1,o=((gr[0]-n)*t+n)/gr[0]||0,r=((gr[1]-i)*t+i)/gr[1]||0;e[0]*=o,e[1]*=o,e[2]*=r,e[3]*=r}this.invTransform=this.invTransform||[1,0,0,1,0,0],In(this.invTransform,e)},e.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},e.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),o=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Sn(yr,e.invTransform,t),t=yr);var n=this.originX,i=this.originY;(n||i)&&(mr[4]=n,mr[5]=i,Sn(yr,t,mr),yr[4]-=n,yr[5]-=i,t=yr),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},e.prototype.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Gt(n,n,i),n},e.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Gt(n,n,i),n},e.prototype.getLineScale=function(){var e=this.transform;return e&&xr(e[0]-1)>1e-10&&xr(e[3]-1)>1e-10?Math.sqrt(xr(e[0]*e[3]-e[2]*e[1])):1},e.prototype.copyTransform=function(e){wr(this,e)},e.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,o=e.scaleX,r=e.scaleY,a=e.anchorX,l=e.anchorY,s=e.rotation||0,u=e.x,c=e.y,d=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(n||i||a||l){var h=n+a,f=i+l;t[4]=-h*o-d*f*r,t[5]=-f*r-p*h*o}else t[4]=t[5]=0;return t[0]=o,t[3]=r,t[1]=p*o,t[2]=d*r,s&&Mn(t,t,s),t[4]+=n+u,t[5]+=i+c,t},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),_r=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function wr(e,t){for(var n=0;n<_r.length;n++){var i=_r[n];e[i]=t[i]}}var Sr=br,Cr={};function Mr(e,t){var n=Cr[t=t||ge];n||(n=Cr[t]=new Gi(500));var i=n.get(e);return null==i&&(i=be.measureText(e,t).width,n.put(e,i)),i}function Tr(e,t,n,i){var o=Mr(e,t),r=Dr(t),a=kr(0,o,n),l=Ar(0,r,i);return new Fn(a,l,o,r)}function Ir(e,t,n,i){var o=((e||"")+"").split("\n");if(1===o.length)return Tr(o[0],t,n,i);for(var r=new Fn(0,0,0,0),a=0;a<o.length;a++){var l=Tr(o[a],t,n,i);0===a?r.copy(l):r.union(l)}return r}function kr(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Ar(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function Dr(e){return Mr("国",e)}function Or(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Pr(e,t,n){var i=t.position||"inside",o=null!=t.distance?t.distance:5,r=n.height,a=n.width,l=r/2,s=n.x,u=n.y,c="left",d="top";if(i instanceof Array)s+=Or(i[0],n.width),u+=Or(i[1],n.height),c=null,d=null;else switch(i){case"left":s-=o,u+=l,c="right",d="middle";break;case"right":s+=o+a,u+=l,d="middle";break;case"top":s+=a/2,u-=o,c="center",d="bottom";break;case"bottom":s+=a/2,u+=r+o,c="center";break;case"inside":s+=a/2,u+=l,c="center",d="middle";break;case"insideLeft":s+=o,u+=l,d="middle";break;case"insideRight":s+=a-o,u+=l,c="right",d="middle";break;case"insideTop":s+=a/2,u+=o,c="center";break;case"insideBottom":s+=a/2,u+=r-o,c="center",d="bottom";break;case"insideTopLeft":s+=o,u+=o;break;case"insideTopRight":s+=a-o,u+=o,c="right";break;case"insideBottomLeft":s+=o,u+=r-o,d="bottom";break;case"insideBottomRight":s+=a-o,u+=r-o,c="right",d="bottom"}return(e=e||{}).x=s,e.y=u,e.align=c,e.verticalAlign=d,e}var Lr="__zr_normal__",Er=_r.concat(["ignore"]),Nr=Ke(_r,(function(e,t){return e[t]=!0,e}),{ignore:!1}),Rr={},zr=new Fn(0,0,0,0),Br=function(){function e(e){this.id=Le(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,o=t.innerTransformable,r=void 0,a=void 0,l=!1;o.parent=i?this:null;var s=!1;if(o.copyTransform(t),null!=n.position){var u=zr;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Rr,n,u):Pr(Rr,n,u),o.x=Rr.x,o.y=Rr.y,r=Rr.align,a=Rr.verticalAlign;var c=n.origin;if(c&&null!=n.rotation){var d=void 0,p=void 0;"center"===c?(d=.5*u.width,p=.5*u.height):(d=Or(c[0],u.width),p=Or(c[1],u.height)),s=!0,o.originX=-o.x+d+(i?0:u.x),o.originY=-o.y+p+(i?0:u.y)}}null!=n.rotation&&(o.rotation=n.rotation);var h=n.offset;h&&(o.x+=h[0],o.y+=h[1],s||(o.originX=-h[0],o.originY=-h[1]));var f=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,y=void 0,m=void 0;f&&this.canBeInsideText()?(g=n.insideFill,y=n.insideStroke,null!=g&&"auto"!==g||(g=this.getInsideTextFill()),null!=y&&"auto"!==y||(y=this.getInsideTextStroke(g),m=!0)):(g=n.outsideFill,y=n.outsideStroke,null!=g&&"auto"!==g||(g=this.getOutsideFill()),null!=y&&"auto"!==y||(y=this.getOutsideStroke(g),m=!0)),(g=g||"#000")===v.fill&&y===v.stroke&&m===v.autoStroke&&r===v.align&&a===v.verticalAlign||(l=!0,v.fill=g,v.stroke=y,v.autoStroke=m,v.align=r,v.verticalAlign=a,t.setDefaultTextStyle(v)),t.__dirty|=1,l&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(e){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?pr:dr},e.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof t&&no(t);n||(n=[255,255,255,1]);for(var i=n[3],o=this.__zr.isDarkMode(),r=0;r<3;r++)n[r]=n[r]*i+(o?0:255)*(1-i);return n[3]=1,so(n,"rgba")},e.prototype.traverse=function(e,t){},e.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},Be(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(tt(e))for(var n=Ye(e),i=0;i<n.length;i++){var o=n[i];this.attrKV(o,e[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==Lr)){var r=i.targetName,a=r?t[r]:t;i.saveTo(a)}}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,Er)},e.prototype._savePrimaryToNormal=function(e,t,n){for(var i=0;i<n.length;i++){var o=n[i];null==e[o]||o in t||(t[o]=this[o])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(Lr,!1,e)},e.prototype.useState=function(e,t,n,i){var o=e===Lr;if(this.hasState()||!o){var r=this.currentStates,a=this.stateTransition;if(!(Ve(r,e)>=0)||!t&&1!==r.length){var l;if(this.stateProxy&&!o&&(l=this.stateProxy(e)),l||(l=this.states&&this.states[e]),l||o){o||this.saveCurrentToNormalState(l);var s=!!(l&&l.hoverLayer||i);s&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,l,this._normalState,t,!n&&!this.__inHover&&a&&a.duration>0,a);var u=this._textContent,c=this._textGuide;return u&&u.useState(e,t,n,s),c&&c.useState(e,t,n,s),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!s&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}Ee("State "+e+" not exists.")}}},e.prototype.useStates=function(e,t,n){if(e.length){var i=[],o=this.currentStates,r=e.length,a=r===o.length;if(a)for(var l=0;l<r;l++)if(e[l]!==o[l]){a=!1;break}if(a)return;for(l=0;l<r;l++){var s=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(s,e)),u||(u=this.states[s]),u&&i.push(u)}var c=i[r-1],d=!!(c&&c.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),h=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!t&&!this.__inHover&&h&&h.duration>0,h);var f=this._textContent,v=this._textGuide;f&&f.useStates(e,t,d),v&&v.useStates(e,t,d),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},e.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(e){var t=Ve(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},e.prototype.replaceState=function(e,t,n){var i=this.currentStates.slice(),o=Ve(i,e),r=Ve(i,t)>=0;o>=0?r?i.splice(o,1):i[o]=t:n&&!r&&i.push(t),this.useStates(i)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,n={},i=0;i<e.length;i++){var o=e[i];Be(n,o),o.textConfig&&Be(t=t||{},o.textConfig)}return t&&(n.textConfig=t),n},e.prototype._applyStateObj=function(e,t,n,i,o,r){var a=!(t&&i);t&&t.textConfig?(this.textConfig=Be({},i?this.textConfig:n.textConfig),Be(this.textConfig,t.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},s=!1,u=0;u<Er.length;u++){var c=Er[u],d=o&&Nr[c];t&&null!=t[c]?d?(s=!0,l[c]=t[c]):this[c]=t[c]:a&&null!=n[c]&&(d?(s=!0,l[c]=n[c]):this[c]=n[c])}if(!o)for(u=0;u<this.animators.length;u++){var p=this.animators[u],h=p.targetName;p.getLoop()||p.__changeFinalValue(h?(t||n)[h]:t||n)}s&&this._transitionState(e,l,r)},e.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Sr,this._attachComponent(e),this._textContent=e,this.markRedraw())},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Be(this.textConfig,e),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},e.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},e.prototype.animate=function(e,t,n){var i=e?this[e]:this,o=new Vo(i,t,n);return e&&(o.targetName=e),this.addAnimator(o,e),o},e.prototype.addAnimator=function(e,t){var n=this.__zr,i=this;e.during((function(){i.updateDuringAnimation(t)})).done((function(){var t=i.animators,n=Ve(t,e);n>=0&&t.splice(n,1)})),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(e){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var n=this.animators,i=n.length,o=[],r=0;r<i;r++){var a=n[r];e&&e!==a.scope?o.push(a):a.stop(t)}return this.animators=o,this},e.prototype.animateTo=function(e,t,n){Fr(this,e,t,n)},e.prototype.animateFrom=function(e,t,n){Fr(this,e,t,n,!0)},e.prototype._transitionState=function(e,t,n,i){for(var o=Fr(this,t,n,i),r=0;r<o.length;r++)o[r].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;function n(e,n,i,o){function r(e,t){Object.defineProperty(t,0,{get:function(){return e[i]},set:function(t){e[i]=t}}),Object.defineProperty(t,1,{get:function(){return e[o]},set:function(t){e[o]=t}})}Object.defineProperty(t,e,{get:function(){this[n]||r(this,this[n]=[]);return this[n]},set:function(e){this[i]=e[0],this[o]=e[1],this[n]=e,r(this,e)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1,Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();function Fr(e,t,n,i,o){var r=[];Hr(e,"",e,t,n=n||{},i,r,o);var a=r.length,l=!1,s=n.done,u=n.aborted,c=function(){l=!0,--a<=0&&(l?s&&s():u&&u())},d=function(){--a<=0&&(l?s&&s():u&&u())};a||s&&s(),r.length>0&&n.during&&r[0].during((function(e,t){n.during(t)}));for(var p=0;p<r.length;p++){var h=r[p];c&&h.done(c),d&&h.aborted(d),n.force&&h.duration(n.duration),h.start(n.easing)}return r}function Vr(e,t,n){for(var i=0;i<n;i++)e[i]=t[i]}function jr(e,t,n){if(He(t[n]))if(He(e[n])||(e[n]=[]),it(t[n])){var i=t[n].length;e[n].length!==i&&(e[n]=new t[n].constructor(i),Vr(e[n],t[n],i))}else{var o=t[n],r=e[n],a=o.length;if(He(o[0]))for(var l=o[0].length,s=0;s<a;s++)r[s]?Vr(r[s],o[s],l):r[s]=Array.prototype.slice.call(o[s]);else Vr(r,o,a);r.length=o.length}else e[n]=t[n]}function Hr(e,t,n,i,o,r,a,l){for(var s=Ye(i),u=o.duration,c=o.delay,d=o.additive,p=o.setToFinal,h=!tt(r),f=e.animators,v=[],g=0;g<s.length;g++){var y=s[g],m=i[y];if(null!=m&&null!=n[y]&&(h||r[y]))if(!tt(m)||He(m)||rt(m))v.push(y);else{if(t){l||(n[y]=m,e.updateDuringAnimation(t));continue}Hr(e,y,n[y],m,o,r&&r[y],a,l)}else l||(n[y]=m,e.updateDuringAnimation(t),v.push(y))}var x=v.length;if(!d&&x)for(var b=0;b<f.length;b++){if((w=f[b]).targetName===t)if(w.stopTracks(v)){var _=Ve(f,w);f.splice(_,1)}}if(o.force||(v=Ue(v,(function(e){return t=i[e],o=n[e],!(t===o||He(t)&&He(o)&&function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}(t,o));var t,o})),x=v.length),x>0||o.force&&!a.length){var w,S=void 0,C=void 0,M=void 0;if(l){C={},p&&(S={});for(b=0;b<x;b++){C[y=v[b]]=n[y],p?S[y]=i[y]:n[y]=i[y]}}else if(p){M={};for(b=0;b<x;b++){M[y=v[b]]=Eo(n[y]),jr(n,i,y)}}(w=new Vo(n,!1,!1,d?Ue(f,(function(e){return e.targetName===t})):null)).targetName=t,o.scope&&(w.scope=o.scope),p&&S&&w.whenWithKeys(0,S,v),M&&w.whenWithKeys(0,M,v),w.whenWithKeys(null==u?500:u,l?C:i,v).delay(c||0),e.addAnimator(w,t),a.push(w)}}je(Br,Zt),je(Br,Sr);var Gr=Br,Wr=function(e){function t(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return kt(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,t){var n=Ve(this._children,e);return n>=0&&this.replaceAt(t,n),this},t.prototype.replaceAt=function(e,t){var n=this._children,i=n[t];if(e&&e!==this&&e.parent!==this&&e!==i){n[t]=e,i.parent=null;var o=this.__zr;o&&i.removeSelfFromZr(o),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,n=this._children,i=Ve(n,e);return i<0||(n.splice(i,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,n=0;n<e.length;n++){var i=e[n];t&&i.removeSelfFromZr(t),i.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,t){for(var n=this._children,i=0;i<n.length;i++){var o=n[i];e.call(t,o,i)}return this},t.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n],o=e.call(t,i);i.isGroup&&!o&&i.traverse(e,t)}return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(t)}},t.prototype.getBoundingRect=function(e){for(var t=new Fn(0,0,0,0),n=e||this._children,i=[],o=null,r=0;r<n.length;r++){var a=n[r];if(!a.ignore&&!a.invisible){var l=a.getBoundingRect(),s=a.getLocalTransform(i);s?(Fn.applyTransform(t,l,s),(o=o||t.clone()).union(t)):(o=o||l.clone()).union(l)}}return o||t},t}(Gr);Wr.prototype.type="group";var Kr=Wr,Ur={},Yr={};
/*!
      * ZRender, a high performance 2d drawing library.
      *
      * Copyright (c) 2013, Baidu Inc.
      * All rights reserved.
      *
      * LICENSE
      * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
      */var Xr=function(){function e(e,t,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var o=new si,r=n.renderer||"canvas";Ur[r]||(r=Ye(Ur)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var a=new Ur[r](t,o,n,e),l=n.ssr||a.ssrOnly;this.storage=o,this.painter=a;var s,u=fe.node||fe.worker||l?null:new sr(a.getViewportRoot(),a.root),c=n.useCoarsePointer;(null==c||"auto"===c?fe.touchEventsSupported:!!c)&&(s=st(n.pointerSize,44)),this.handler=new Zn(o,a,u,a.root,s),this.animation=new Ko({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},e.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},e.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return uo(e,1)<.4;if(e.colorStops){for(var t=e.colorStops,n=0,i=t.length,o=0;o<i;o++)n+=uo(t[o].color,1);return(n/=i)<.4}return!1}(e)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(e){var t,n=jo();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=jo();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},e.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},e.prototype.on=function(e,t,n){return this.handler.on(e,t,n),this},e.prototype.off=function(e,t){this.handler.off(e,t)},e.prototype.trigger=function(e,t){this.handler.trigger(e,t)},e.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Kr&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){var e;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,e=this.id,delete Yr[e]},e}();function qr(e,t){var n=new Xr(Le(),e,t);return Yr[n.id]=n,n}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var Zr=1e-4;// Although chrome already enlarge this number to 100 for `toFixed`, but
// we sill follow the spec for compatibility.
/**
       * Linear mapping a value from domain to range
       * @param  val
       * @param  domain Domain extent domain[0] can be bigger than domain[1]
       * @param  range  Range extent range[0] can be bigger than range[1]
       * @param  clamp Default to be false
       */
function $r(e,t,n,i){var o=t[0],r=t[1],a=n[0],l=n[1],s=r-o,u=l-a;if(0===s)return 0===u?a:(a+l)/2;// Avoid accuracy problem in edge, such as
// 146.39 - 62.83 === 83.55999999999999.
// See echarts/test/ut/spec/util/number.js#linearMap#accuracyError
// It is a little verbose for efficiency considering this method
// is a hotspot.
if(i)if(s>0){if(e<=o)return a;if(e>=r)return l}else{if(e>=o)return a;if(e<=r)return l}else{if(e===o)return a;if(e===r)return l}return(e-o)/s*u+a}
/**
       * Convert a percent string to absolute number.
       * Returns NaN if percent is not a valid string or number
       */function Jr(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return Je(e)?(n=e,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e;var n}function Qr(e,t,n){return null==t&&(t=10),// Avoid range error
t=Math.min(Math.max(0,t),20),// PENDING: 1.005.toFixed(2) is '1.00' rather than '1.01'
e=(+e).toFixed(t),n?e:+e}
/**
       * Inplacd asc sort arr.
       * The input arr will be modified.
       */function ea(e){return e.sort((function(e,t){return e-t})),e}
/**
       * Get precision.
       */function ta(e){if(e=+e,isNaN(e))return 0;// It is much faster than methods converting number to string as follows
//      let tmp = val.toString();
//      return tmp.length - 1 - tmp.indexOf('.');
// especially when precision is low
// Notice:
// (1) If the loop count is over about 20, it is slower than `getPrecisionSafe`.
//     (see https://jsbench.me/2vkpcekkvw/1)
// (2) If the val is less than for example 1e-15, the result may be incorrect.
//     (see test/ut/spec/util/number.test.ts `getPrecision_equal_random`)
if(e>1e-14)for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n;
/**
       * Get precision with slow but safe method
       */return function(e){// toLowerCase for: '3.4E-12'
var t=e.toString().toLowerCase(),n=t.indexOf("e"),i=n>0?+t.slice(n+1):0,o=n>0?n:t.length,r=t.indexOf("."),a=r<0?0:o-1-r;// Consider scientific notation: '3.4e-12' '3.4e+12'
return Math.max(0,a-i)}
/**
       * Minimal dicernible data precisioin according to a single pixel.
       */(e)}function na(e,t){var n=Math.log,i=Math.LN10,o=Math.floor(n(e[1]-e[0])/i),r=Math.round(n(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-o+r,0),20);return isFinite(a)?a:20}
/**
       * Get a data of given precision, assuring the sum of percentages
       * in valueList is 1.
       * The largest remainder method is used.
       * https://en.wikipedia.org/wiki/Largest_remainder_method
       *
       * @param valueList a list of all data
       * @param precision integer number showing digits of precision
       * @return {Array<number>}
       */
/**
       * Solve the floating point adding problem like 0.1 + 0.2 === 0.30000000000000004
       * See <http://0.30000000000000004.com/>
       */
function ia(e,t){var n=Math.max(ta(e),ta(t)),i=e+t;// const multiplier = Math.pow(10, maxPrecision);
// return (Math.round(val0 * multiplier) + Math.round(val1 * multiplier)) / multiplier;
// // PENDING: support more?
return n>20?i:Qr(i,n)}// Number.MAX_SAFE_INTEGER, ie do not support.
var oa=9007199254740991;
/**
       * To 0 - 2 * PI, considering negative radian.
       */function ra(e){var t=2*Math.PI;return(e%t+t)%t}
/**
       * @param {type} radian
       * @return {boolean}
       */function aa(e){return e>-1e-4&&e<Zr}// eslint-disable-next-line
var la=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;// jshint ignore:line
/**
       * @param value valid type: number | string | Date, otherwise return `new Date(NaN)`
       *   These values can be accepted:
       *   + An instance of Date, represent a time in its own time zone.
       *   + Or string in a subset of ISO 8601, only including:
       *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',
       *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',
       *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',
       *     all of which will be treated as local time if time zone is not specified
       *     (see <https://momentjs.com/>).
       *   + Or other string format, including (all of which will be treated as local time):
       *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',
       *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'
       *   + a timestamp, which represent a time in UTC.
       * @return date Never be null/undefined. If invalid, return `new Date(NaN)`.
       */function sa(e){if(e instanceof Date)return e;if(Je(e)){// Different browsers parse date in different way, so we parse it manually.
// Some other issues:
// new Date('1970-01-01') is UTC,
// new Date('1970/01/01') and new Date('1970-1-01') is local.
// See issue #3623
var t=la.exec(e);if(!t)// return Invalid Date.
return new Date(NaN);// Use local time when no timezone offset is specified.
if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}// match[n] can only be string or undefined.
// But take care of '12' + 1 => '121'.
return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==e?new Date(NaN):new Date(Math.round(e))}
/**
       * Quantity of a number. e.g. 0.1, 1, 10, 100
       *
       * @param val
       * @return
       */
/**
       * Exponent of the quantity of a number
       * e.g., 1234 equals to 1.234*10^3, so quantityExponent(1234) is 3
       *
       * @param val non-negative value
       * @return
       */
function ua(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);
/**
         * exp is expected to be the rounded-down result of the base-10 log of val.
         * But due to the precision loss with Math.log(val), we need to restore it
         * using 10^exp to make sure we can get val back from exp. #11249
         */return e/Math.pow(10,t)>=10&&t++,t}
/**
       * find a “nice” number approximately equal to x. Round the number if round = true,
       * take ceiling if round = false. The primary observation is that the “nicest”
       * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.
       *
       * See "Nice Numbers for Graph Labels" of Graphic Gems.
       *
       * @param  val Non-negative value.
       * @param  round
       * @return Niced number
       */function ca(e,t){var n=ua(e),i=Math.pow(10,n),o=e/i;// Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).
// 20 is the uppper bound of toFixed.
return e=(t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*i,n>=-20?+e.toFixed(n<0?-n:0):e}
/**
       * This code was copied from "d3.js"
       * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.
       * See the license statement at the head of this file.
       * @param ascArr
       */function da(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),o=+e[i-1],r=n-i;return r?o+r*(e[i]-o):o}
/**
       * Order intervals asc, and split them when overlap.
       * expect(numberUtil.reformIntervals([
       *     {interval: [18, 62], close: [1, 1]},
       *     {interval: [-Infinity, -70], close: [0, 0]},
       *     {interval: [-70, -26], close: [1, 1]},
       *     {interval: [-26, 18], close: [1, 1]},
       *     {interval: [62, 150], close: [1, 1]},
       *     {interval: [106, 150], close: [1, 1]},
       *     {interval: [150, Infinity], close: [0, 0]}
       * ])).toEqual([
       *     {interval: [-Infinity, -70], close: [0, 0]},
       *     {interval: [-70, -26], close: [1, 1]},
       *     {interval: [-26, 18], close: [0, 1]},
       *     {interval: [18, 62], close: [0, 1]},
       *     {interval: [62, 150], close: [0, 1]},
       *     {interval: [150, Infinity], close: [0, 0]}
       * ]);
       * @param list, where `close` mean open or close
       *        of the interval, and Infinity can be used.
       * @return The origin list, which has been reformed.
       */function pa(e){e.sort((function(e,t){return l(e,t,0)?-1:1}));for(var t=-1/0,n=1,i=0;i<e.length;){for(var o=e[i].interval,r=e[i].close,a=0;a<2;a++)o[a]<=t&&(o[a]=t,r[a]=a?1:1-n),t=o[a],n=r[a];o[0]===o[1]&&r[0]*r[1]!=1?e.splice(i,1):i++}return e;function l(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]==(n?-1:1)||!n&&l(e,t,1))}}
/**
       * [Numeric is defined as]:
       *     `parseFloat(val) == val`
       * For example:
       * numeric:
       *     typeof number except NaN, '-123', '123', '2e3', '-2e3', '011', 'Infinity', Infinity,
       *     and they rounded by white-spaces or line-terminal like ' -123 \n ' (see es spec)
       * not-numeric:
       *     null, undefined, [], {}, true, false, 'NaN', NaN, '123ab',
       *     empty string, string with only white-spaces or line-terminal (see es spec),
       *     0x12, '0x12', '-0x12', 012, '012', '-012',
       *     non-string, ...
       *
       * @test See full test cases in `test/ut/spec/util/number.js`.
       * @return Must be a typeof number. If not numeric, return NaN.
       */function ha(e){var t=parseFloat(e);return t==e&&(0!==t||!Je(e)||e.indexOf("x")<=0)?t:NaN}
/**
       * Definition of "numeric": see `numericToNumber`.
       */function fa(e){return!isNaN(ha(e))}
/**
       * Use random base to prevent users hard code depending on
       * this auto generated marker id.
       * @return An positive integer.
       */function va(){return Math.round(9*Math.random())}
/**
       * Get the greatest common divisor.
       *
       * @param {number} a one number
       * @param {number} b the other number
       */function ga(e,t){return 0===t?e:ga(t,e%t)}
/**
       * Get the least common multiple.
       *
       * @param {number} a one number
       * @param {number} b the other number
       */function ya(e,t){return null==e?t:null==t?e:e*t/ga(e,t)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */"undefined"!=typeof console&&console.warn&&console.log;
/**
       * @throws Error
       */
function ma(e){throw new Error(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function xa(e,t,n){return(t-e)*n+e}
/**
       * Make the name displayable. But we should
       * make sure it is not duplicated with user
       * specified name, so use '\0';
       */var ba="series\0",_a="\0_ec_\0";
/**
       * If value is not array, then translate it to array.
       * @param  {*} value
       * @return {Array} [value] or value
       */
function wa(e){return e instanceof Array?e:null==e?[]:[e]}
/**
       * Sync default option between normal and emphasis like `position` and `show`
       * In case some one will write code like
       *     label: {
       *          show: false,
       *          position: 'outside',
       *          fontSize: 18
       *     },
       *     emphasis: {
       *          label: { show: true }
       *     }
       */function Sa(e,t,n){// Caution: performance sensitive.
if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};// Default emphasis option from normal
for(var i=0,o=n.length;i<o;i++){var r=n[i];!e.emphasis[t].hasOwnProperty(r)&&e[t].hasOwnProperty(r)&&(e.emphasis[t][r]=e[t][r])}}}var Ca=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];// modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([
//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',
//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',
//     // FIXME: deprecated, check and remove it.
//     'textStyle'
// ]);
/**
       * The method does not ensure performance.
       * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]
       * This helper method retrieves value from data.
       */function Ma(e){return!tt(e)||Ze(e)||e instanceof Date?e:e.value}
/**
       * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]
       * This helper method determine if dataItem has extra option besides value
       */function Ta(e){return tt(e)&&!(e instanceof Array);// // markLine data can be array
// && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));
}
/**
       * Mapping to existings for merge.
       *
       * Mode "normalMege":
       *     The mapping result (merge result) will keep the order of the existing
       *     component, rather than the order of new option. Because we should ensure
       *     some specified index reference (like xAxisIndex) keep work.
       *     And in most cases, "merge option" is used to update partial option but not
       *     be expected to change the order.
       *
       * Mode "replaceMege":
       *     (1) Only the id mapped components will be merged.
       *     (2) Other existing components (except internal components) will be removed.
       *     (3) Other new options will be used to create new component.
       *     (4) The index of the existing components will not be modified.
       *     That means their might be "hole" after the removal.
       *     The new components are created first at those available index.
       *
       * Mode "replaceAll":
       *     This mode try to support that reproduce an echarts instance from another
       *     echarts instance (via `getOption`) in some simple cases.
       *     In this scenario, the `result` index are exactly the consistent with the `newCmptOptions`,
       *     which ensures the component index referring (like `xAxisIndex: ?`) corrent. That is,
       *     the "hole" in `newCmptOptions` will also be kept.
       *     On the contrary, other modes try best to eliminate holes.
       *     PENDING: This is an experimental mode yet.
       *
       * @return See the comment of <MappingResult>.
       */function Ia(e,t,n){var i="normalMerge"===n,o="replaceMerge"===n,r="replaceAll"===n;e=e||[],t=(t||[]).slice();var a=bt();// Validate id and name on user input option.
Ge(t,(function(e,n){tt(e)||(t[n]=null)}));var l,s,u=function(e,t,n){var i=[];if("replaceAll"===n)return i;// Do not use native `map` to in case that the array `existings`
// contains elided items, which will be omitted.
for(var o=0;o<e.length;o++){var r=e[o];// Because of replaceMerge, `existing` may be null/undefined.
r&&null!=r.id&&t.set(r.id,o),// For non-internal-componnets:
//     Mode "normalMerge": all existings kept.
//     Mode "replaceMerge": all existing removed unless mapped by id.
// For internal-components:
//     go with "replaceMerge" approach in both mode.
i.push({existing:"replaceMerge"===n||Pa(r)?null:r,newOption:null,keyInfo:null,brandNew:null})}return i}(e,a,n);// The array `result` MUST NOT contain elided items, otherwise the
// forEach will omit those items and result in incorrect result.
return(i||o)&&function(e,t,n,i){// Mapping by id if specified.
Ge(i,(function(o,r){if(o&&null!=o.id){var a=Aa(o.id),l=n.get(a);if(null!=l){var s=e[l];pt(!s.newOption,'Duplicated option on id "'+a+'".'),s.newOption=o,// In both mode, if id matched, new option will be merged to
// the existings rather than creating new component model.
s.existing=t[l],i[r]=null}}}))}(u,e,a,t),i&&function(e,t){// Mapping by name if specified.
Ge(t,(function(n,i){if(n&&null!=n.name)for(var o=0;o<e.length;o++){var r=e[o].existing;if(!e[o].newOption&&r&&(null==r.id||null==n.id)&&!Pa(n)&&!Pa(r)&&ka("name",r,n))return e[o].newOption=n,void(t[i]=null)}}))}(u,t),i||o?function(e,t,n){Ge(t,(function(t){if(t){for(// Find the first place that not mapped by id and not internal component (consider the "hole").
var i,o=0;// Be `!resultItem` only when `nextIdx >= result.length`.
(i=e[o])&&(// (1) Existing models that already have id should be able to mapped to. Because
// after mapping performed, model will always be assigned with an id if user not given.
// After that all models have id.
// (2) If new option has id, it can only set to a hole or append to the last. It should
// not be merged to the existings with different id. Because id should not be overwritten.
// (3) Name can be overwritten, because axis use name as 'show label text'.
i.newOption||Pa(i.existing)||// In mode "replaceMerge", here no not-mapped-non-internal-existing.
i.existing&&null!=t.id&&!ka("id",t,i.existing));)o++;i?(i.newOption=t,i.brandNew=n):e.push({newOption:t,brandNew:n,existing:null,keyInfo:null}),o++}}))}(u,t,o):r&&function(e,t){Ge(t,(function(t){// The feature "reproduce" requires "hole" will also reproduced
// in case that component index referring are broken.
e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})}))}
/**
       * Make id and name for mapping result (result of mappingToExists)
       * into `keyInfo` field.
       */(u,t),l=u,s=bt(),Ge(l,(function(e){var t=e.existing;t&&s.set(t.id,e)})),Ge(l,(function(e){var t=e.newOption;// Force ensure id not duplicated.
pt(!t||null==t.id||!s.get(t.id)||s.get(t.id)===e,"id duplicates: "+(t&&t.id)),t&&null!=t.id&&s.set(t.id,e),!e.keyInfo&&(e.keyInfo={})})),// Make name and id.
Ge(l,(function(e,t){var n=e.existing,i=e.newOption,o=e.keyInfo;if(tt(i)){if(// Name can be overwritten. Consider case: axis.name = '20km'.
// But id generated by name will not be changed, which affect
// only in that case: setOption with 'not merge mode' and view
// instance will be recreated, which can be accepted.
o.name=null!=i.name?Aa(i.name):n?n.name:ba+t,n)o.id=Aa(n.id);else if(null!=i.id)o.id=Aa(i.id);else{// Consider this situatoin:
//  optionA: [{name: 'a'}, {name: 'a'}, {..}]
//  optionB [{..}, {name: 'a'}, {name: 'a'}]
// Series with the same name between optionA and optionB
// should be mapped.
var r=0;do{o.id="\0"+o.name+"\0"+r++}while(s.get(o.id))}s.set(o.id,e)}})),u}function ka(e,t,n){var i=Da(t[e],null),o=Da(n[e],null);// See `MappingExistingItem`. `id` and `name` trade string equals to number.
return null!=i&&null!=o&&i===o}
/**
       * @return return null if not exist.
       */function Aa(e){return Da(e,"")}function Da(e,t){return null==e?t:Je(e)?e:et(e)||Qe(e)?e+"":t}function Oa(e){var t=e.name;// Is specified when `indexOf` get -1 or > 0.
return!(!t||!t.indexOf(ba))}
/**
       * @public
       * @param {Object} cmptOption
       * @return {boolean}
       */function Pa(e){return e&&null!=e.id&&0===Aa(e.id).indexOf(_a)}
/**
       * @param payload Contains dataIndex (means rawIndex) / dataIndexInside / name
       *                         each of which can be Array or primary type.
       * @return dataIndex If not found, return undefined/null.
       */
function La(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?Ze(t.dataIndex)?We(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?Ze(t.name)?We(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}
/**
       * Enable property storage to any host object.
       * Notice: Serialization is not supported.
       *
       * For example:
       * let inner = zrUitl.makeInner();
       *
       * function some1(hostObj) {
       *      inner(hostObj).someProperty = 1212;
       *      ...
       * }
       * function some2() {
       *      let fields = inner(this);
       *      fields.someProperty1 = 1212;
       *      fields.someProperty2 = 'xx';
       *      ...
       * }
       *
       * @return {Function}
       */function Ea(){var e="__ec_inner_"+Na++;return function(t){return t[e]||(t[e]={})}}var Na=va();
/**
       * The same behavior as `component.getReferringComponents`.
       */function Ra(e,t,n){var i=za(t,n),o=i.mainTypeSpecified,r=i.queryOptionMap,a=i.others,l=n?n.defaultMainType:null;return!o&&l&&r.set(l,{}),r.each((function(t,i){var o=Va(e,i,t,{useDefault:l===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[i+"Models"]=o.models,a[i+"Model"]=o.models[0]})),a}function za(e,t){var n;if(Je(e)){var i={};i[e+"Index"]=0,n=i}else n=e;var o=bt(),r={},a=!1;return Ge(n,(function(e,n){// Exclude 'dataIndex' and other illgal keys.
if("dataIndex"!==n&&"dataIndexInside"!==n){var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],l=i[1],s=(i[2]||"").toLowerCase();if(l&&s&&!(t&&t.includeMainTypes&&Ve(t.includeMainTypes,l)<0))a=a||!!l,(o.get(l)||o.set(l,{}))[s]=e}else r[n]=e})),{mainTypeSpecified:a,queryOptionMap:o,others:r}}var Ba={useDefault:!0,enableAll:!1,enableNone:!1},Fa={useDefault:!1,enableAll:!0,enableNone:!0};function Va(e,t,n,i){i=i||Ba;var o=n.index,r=n.id,a=n.name,l={models:null,specified:null!=o||null!=r||null!=a};if(!l.specified){// Use the first as default if `useDefault`.
var s=void 0;return l.models=i.useDefault&&(s=e.getComponent(t))?[s]:[],l}return"none"===o||!1===o?(pt(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):(// `queryComponents` will return all components if
// both all of index/id/name are null/undefined.
"all"===o&&(pt(i.enableAll,'`"all"` is not a valid value on index option.'),o=r=a=null),l.models=e.queryComponents({mainType:t,index:o,id:r,name:a}),l)}function ja(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}
/**
       * Group a list by key.
       */
function Ha(e,t){var n=bt(),i=[];return Ge(e,(function(e){var o=t(e);(n.get(o)||(i.push(o),n.set(o,[]))).push(e)})),{keys:i,buckets:n}}
/**
       * Interpolate raw values of a series with percent
       *
       * @param data         data
       * @param labelModel   label model of the text element
       * @param sourceValue  start value. May be null/undefined when init.
       * @param targetValue  end value
       * @param percent      0~1 percentage; 0 uses start value while 1 uses end value
       * @return             interpolated values
       *                     If `sourceValue` and `targetValue` are `number`, return `number`.
       *                     If `sourceValue` and `targetValue` are `string`, return `string`.
       *                     If `sourceValue` and `targetValue` are `(string | number)[]`, return `(string | number)[]`.
       *                     Other cases do not supported.
       */function Ga(e,t,n,i,o){var r=null==t||"auto"===t;if(null==i)return i;if(et(i))return Qr(f=xa(n||0,i,o),r?Math.max(ta(n||0),ta(i)):t);if(Je(i))return o<1?n:i;for(var a=[],l=n,s=i,u=Math.max(l?l.length:0,s.length),c=0;c<u;++c){var d=e.getDimensionInfo(c);// Don't interpolate ordinal dims
if(d&&"ordinal"===d.type)// In init, there is no `sourceValue`, but should better not to get undefined result.
a[c]=(o<1&&l?l:s)[c];else{var p=l&&l[c]?l[c]:0,h=s[c],f=xa(p,h,o);a[c]=Qr(f,r?Math.max(ta(p),ta(h)):t)}}return a}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var Wa="___EC__COMPONENT__CONTAINER___",Ka="___EC__EXTENDED_CLASS___";
/**
       * Notice, parseClassType('') should returns {main: '', sub: ''}
       * @public
       */
function Ua(e){var t={main:"",sub:""};if(e){var n=e.split(".");t.main=n[0]||"",t.sub=n[1]||""}return t}
/**
       * @public
       */
/**
       * Implements `ExtendableConstructor` for `rootClz`.
       *
       * @usage
       * ```ts
       * class Xxx {}
       * type XxxConstructor = typeof Xxx & ExtendableConstructor
       * enableClassExtend(Xxx as XxxConstructor);
       * ```
       */
function Ya(e,t){e.$constructor=e,// FIXME: not necessary?
e.extend=function(e){var t,n,i=this;return $e(n=i)&&/^class\s/.test(Function.prototype.toString.call(n))?t=/** @class */function(e){function t(){return e.apply(this,arguments)||this}return de(t,e),t}(i):(// For backward compat, we both support ts class inheritance and this
// "extend" approach.
// The constructor should keep the same behavior as ts class inheritance:
// If this constructor/$constructor is not declared, auto invoke the super
// constructor.
// If this constructor/$constructor is declared, it is responsible for
// calling the super constructor.
t=function(){(e.$constructor||i).apply(this,arguments)},function(e,t){var n=e.prototype;function i(){}for(var o in i.prototype=t.prototype,e.prototype=new i,n)n.hasOwnProperty(o)&&(e.prototype[o]=n[o]);e.prototype.constructor=e,e.superClass=t}(t,this)),Be(t.prototype,e),t[Ka]=!0,t.extend=this.extend,t.superCall=Za,t.superApply=$a,t.superClass=i,t}}
/**
       * A work around to both support ts extend and this extend mechanism.
       * on sub-class.
       * @usage
       * ```ts
       * class Component { ... }
       * classUtil.enableClassExtend(Component);
       * classUtil.enableClassManagement(Component, {registerWhenExtend: true});
       *
       * class Series extends Component { ... }
       * // Without calling `markExtend`, `registerWhenExtend` will not work.
       * Component.markExtend(Series);
       * ```
       */
function Xa(e,t){e.extend=t.extend}// A random offset.
var qa=Math.round(10*Math.random());
/**
       * Implements `CheckableConstructor` for `target`.
       * Can not use instanceof, consider different scope by
       * cross domain or es module import in ec extensions.
       * Mount a method "isInstance()" to Clz.
       *
       * @usage
       * ```ts
       * class Xxx {}
       * type XxxConstructor = typeof Xxx & CheckableConstructor;
       * enableClassCheck(Xxx as XxxConstructor)
       * ```
       */ // superCall should have class info, which can not be fetched from 'this'.
// Consider this case:
// class A has method f,
// class B inherits class A, overrides method f, f call superApply('f'),
// class C inherits class B, does not override method f,
// then when method of class C is called, dead loop occurred.
function Za(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[t].apply(e,n)}function $a(e,t,n){return this.superClass.prototype[t].apply(e,n)}
/**
       * Implements `ClassManager` for `target`
       *
       * @usage
       * ```ts
       * class Xxx {}
       * type XxxConstructor = typeof Xxx & ClassManager
       * enableClassManagement(Xxx as XxxConstructor);
       * ```
       */function Ja(e){
/**
         * Component model classes
         * key: componentType,
         * value:
         *     componentClass, when componentType is 'a'
         *     or Object.<subKey, componentClass>, when componentType is 'a.b'
         */
var t={};e.registerClass=function(e){// `type` should not be a "instance member".
// If using TS class, should better declared as `static type = 'series.pie'`.
// otherwise users have to mount `type` on prototype manually.
// For backward compat and enable instance visit type via `this.type`,
// we still support fetch `type` from prototype.
var n,i=e.type||e.prototype.type;if(i){pt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n=i),'componentType "'+n+'" illegal'),// If only static type declared, we assign it to prototype mandatorily.
e.prototype.type=i;var o=Ua(i);if(o.sub){if(o.sub!==Wa){var r=function(e){var n=t[e.main];n&&n[Wa]||((n=t[e.main]={})[Wa]=!0);return n}(o);r[o.sub]=e}}else t[o.main]=e}return e},e.getClass=function(e,n,i){var o=t[e];if(o&&o[Wa]&&(o=n?o[n]:null),i&&!o)throw new Error(n?"Component "+e+"."+(n||"")+" is used but not imported.":e+".type should be specified.");return o},e.getClassesByMainType=function(e){var n=Ua(e),i=[],o=t[n.main];return o&&o[Wa]?Ge(o,(function(e,t){t!==Wa&&i.push(e)})):i.push(o),i},e.hasClass=function(e){// Just consider componentType.main.
var n=Ua(e);return!!t[n.main]},
/**
         * @return Like ['aa', 'bb'], but can not be ['aa.xx']
         */
e.getAllClassMainTypes=function(){var e=[];return Ge(t,(function(t,n){e.push(n)})),e},
/**
         * If a main type is container and has sub types
         */
e.hasSubTypes=function(e){var n=Ua(e),i=t[n.main];return i&&i[Wa]}}// /**
//  * @param {string|Array.<string>} properties
//  */
// export function setReadOnly(obj, properties) {
// FIXME It seems broken in IE8 simulation of IE11
// if (!zrUtil.isArray(properties)) {
//     properties = properties != null ? [properties] : [];
// }
// zrUtil.each(properties, function (prop) {
//     let value = obj[prop];
//     Object.defineProperty
//         && Object.defineProperty(obj, prop, {
//             value: value, writable: false
//         });
//     zrUtil.isArray(obj[prop])
//         && Object.freeze
//         && Object.freeze(obj[prop]);
// });
// }
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function Qa(e,t){// Normalize
for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,i,o){for(var r={},a=0;a<e.length;a++){var l=e[a][1];if(!(i&&Ve(i,l)>=0||o&&Ve(o,l)<0)){var s=n.getShallow(l,t);null!=s&&(r[e[a][0]]=s)}}// TODO Text or image?
return r}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var el=Qa([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),tl=/** @class */function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return el(this,e,t)},e}(),nl=new Gi(50);function il(e){if("string"==typeof e){var t=nl.get(e);return t&&t.image}return e}function ol(e,t,n,i,o){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var r=nl.get(e),a={hostEl:n,cb:i,cbPayload:o};return r?!al(t=r.image)&&r.pending.push(a):((t=be.loadImage(e,rl,rl)).__zrImageSrc=e,nl.put(e,t.__cachedImgObj={image:t,pending:[a]})),t}return e}return t}function rl(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function al(e){return e&&e.width&&e.height}var ll=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function sl(e,t,n,i,o){if(!t)return"";var r=(e+"").split("\n");o=ul(t,n,i,o);for(var a=0,l=r.length;a<l;a++)r[a]=cl(r[a],o);return r.join("\n")}function ul(e,t,n,i){var o=Be({},i=i||{});o.font=t,n=st(n,"..."),o.maxIterations=st(i.maxIterations,2);var r=o.minChar=st(i.minChar,0);o.cnCharWidth=Mr("国",t);var a=o.ascCharWidth=Mr("a",t);o.placeholder=st(i.placeholder,"");for(var l=e=Math.max(0,e-1),s=0;s<r&&l>=a;s++)l-=a;var u=Mr(n,t);return u>l&&(n="",u=0),l=e-u,o.ellipsis=n,o.ellipsisWidth=u,o.contentWidth=l,o.containerWidth=e,o}function cl(e,t){var n=t.containerWidth,i=t.font,o=t.contentWidth;if(!n)return"";var r=Mr(e,i);if(r<=n)return e;for(var a=0;;a++){if(r<=o||a>=t.maxIterations){e+=t.ellipsis;break}var l=0===a?dl(e,o,t.ascCharWidth,t.cnCharWidth):r>0?Math.floor(e.length*o/r):0;r=Mr(e=e.substr(0,l),i)}return""===e&&(e=t.placeholder),e}function dl(e,t,n,i){for(var o=0,r=0,a=e.length;r<a&&o<t;r++){var l=e.charCodeAt(r);o+=0<=l&&l<=127?n:i}return r}var pl=function(){},hl=function(e){this.tokens=[],e&&(this.tokens=e)},fl=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function vl(e,t,n,i,o){var r,a,l=""===t,s=o&&n.rich[o]||{},u=e.lines,c=s.font||n.font,d=!1;if(i){var p=s.padding,h=p?p[1]+p[3]:0;if(null!=s.width&&"auto"!==s.width){var f=Or(s.width,i.width)+h;u.length>0&&f+i.accumWidth>i.width&&(r=t.split("\n"),d=!0),i.accumWidth=f}else{var v=ml(t,c,i.width,i.breakAll,i.accumWidth);i.accumWidth=v.accumWidth+h,a=v.linesWidths,r=v.lines}}else r=t.split("\n");for(var g=0;g<r.length;g++){var y=r[g],m=new pl;if(m.styleName=o,m.text=y,m.isLineHolder=!y&&!l,"number"==typeof s.width?m.width=s.width:m.width=a?a[g]:Mr(y,c),g||d)u.push(new hl([m]));else{var x=(u[u.length-1]||(u[0]=new hl)).tokens,b=x.length;1===b&&x[0].isLineHolder?x[0]=m:(y||!b||l)&&x.push(m)}}}var gl=Ke(",&?/;] ".split(""),(function(e,t){return e[t]=!0,e}),{});function yl(e){return!function(e){var t=e.charCodeAt(0);return t>=33&&t<=383}(e)||!!gl[e]}function ml(e,t,n,i,o){for(var r=[],a=[],l="",s="",u=0,c=0,d=0;d<e.length;d++){var p=e.charAt(d);if("\n"!==p){var h=Mr(p,t),f=!i&&!yl(p);(r.length?c+h>n:o+c+h>n)?c?(l||s)&&(f?(l||(l=s,s="",c=u=0),r.push(l),a.push(c-u),s+=p,l="",c=u+=h):(s&&(l+=s,s="",u=0),r.push(l),a.push(c),l=p,c=h)):f?(r.push(s),a.push(u),s=p,u=h):(r.push(p),a.push(h)):(c+=h,f?(s+=p,u+=h):(s&&(l+=s,s="",u=0),l+=p))}else s&&(l+=s,c+=u),r.push(l),a.push(c),l="",s="",u=0,c=0}return r.length||l||(l=e,s="",u=0),s&&(l+=s),l&&(r.push(l),a.push(c)),1===r.length&&(c+=o),{accumWidth:c,lines:r,linesWidths:a}}var xl="__zr_style_"+Math.round(10*Math.random()),bl={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},_l={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};bl[xl]=!0;var wl=["z","z2","invisible"],Sl=["invisible"],Cl=function(e){function t(t){return e.call(this,t)||this}var n;return kt(t,e),t.prototype._init=function(t){for(var n=Ye(t),i=0;i<n.length;i++){var o=n[i];"style"===o?this.useStyle(t[o]):e.prototype.attrKV.call(this,o,t[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,t,n,i){var o=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(e,t,n){Ml.copy(e.getBoundingRect()),e.transform&&Ml.applyTransform(e.transform);return Tl.width=t,Tl.height=n,!Ml.intersect(Tl)}(this,e,t)||o&&!o[0]&&!o[3])return!1;if(n&&this.__clipPaths)for(var r=0;r<this.__clipPaths.length;++r)if(this.__clipPaths[r].isZeroArea())return!1;if(i&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},t.prototype.contain=function(e,t){return this.rectContain(e,t)},t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform,n=this.getBoundingRect(),i=this.style,o=i.shadowBlur||0,r=i.shadowOffsetX||0,a=i.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Fn(0,0,0,0)),t?Fn.applyTransform(e,n,t):e.copy(n),(o||r||a)&&(e.width+=2*o+Math.abs(r),e.height+=2*o+Math.abs(a),e.x=Math.min(e.x,e.x+r-o),e.y=Math.min(e.y,e.y+a-o));var l=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-l),e.y=Math.floor(e.y-l),e.width=Math.ceil(e.width+1+2*l),e.height=Math.ceil(e.height+1+2*l))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Fn(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(t,n){"style"!==t?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,t){return"string"==typeof e?this.style[e]=t:Be(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(e){return wt(bl,e)},t.prototype.useStyle=function(e){e[xl]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[xl]},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,wl)},t.prototype._applyStateObj=function(t,n,i,o,r,a){e.prototype._applyStateObj.call(this,t,n,i,o,r,a);var l,s=!(n&&o);if(n&&n.style?r?o?l=n.style:(l=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(l,n.style)):s&&(l=i.style),l)if(r){var u=this.style;if(this.style=this.createStyle(s?{}:u),s)for(var c=Ye(u),d=0;d<c.length;d++){(h=c[d])in l&&(l[h]=l[h],this.style[h]=u[h])}var p=Ye(l);for(d=0;d<p.length;d++){var h=p[d];this.style[h]=this.style[h]}this._transitionState(t,{style:l},a,this.getAnimationStyleProps())}else this.useStyle(l);var f=this.__inHover?Sl:wl;for(d=0;d<f.length;d++){h=f[d];n&&null!=n[h]?this[h]=n[h]:s&&null!=i[h]&&(this[h]=i[h])}},t.prototype._mergeStates=function(t){for(var n,i=e.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var r=t[o];r.style&&(n=n||{},this._mergeStyle(n,r.style))}return n&&(i.style=n),i},t.prototype._mergeStyle=function(e,t){return Be(e,t),e},t.prototype.getAnimationStyleProps=function(){return _l},t.initDefaultProps=((n=t.prototype).type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,void(n.__dirty=3)),t}(Gr),Ml=new Fn(0,0,0,0),Tl=new Fn(0,0,0,0);var Il=Cl,kl=Math.min,Al=Math.max,Dl=Math.sin,Ol=Math.cos,Pl=2*Math.PI,Ll=At(),El=At(),Nl=At();function Rl(e,t,n){if(0!==e.length){for(var i=e[0],o=i[0],r=i[0],a=i[1],l=i[1],s=1;s<e.length;s++)i=e[s],o=kl(o,i[0]),r=Al(r,i[0]),a=kl(a,i[1]),l=Al(l,i[1]);t[0]=o,t[1]=a,n[0]=r,n[1]=l}}function zl(e,t,n,i,o,r){o[0]=kl(e,n),o[1]=kl(t,i),r[0]=Al(e,n),r[1]=Al(t,i)}var Bl=[],Fl=[];function Vl(e,t,n,i,o,r,a,l,s,u){var c=Ti,d=Si,p=c(e,n,o,a,Bl);s[0]=1/0,s[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<p;h++){var f=d(e,n,o,a,Bl[h]);s[0]=kl(f,s[0]),u[0]=Al(f,u[0])}p=c(t,i,r,l,Fl);for(h=0;h<p;h++){var v=d(t,i,r,l,Fl[h]);s[1]=kl(v,s[1]),u[1]=Al(v,u[1])}s[0]=kl(e,s[0]),u[0]=Al(e,u[0]),s[0]=kl(a,s[0]),u[0]=Al(a,u[0]),s[1]=kl(t,s[1]),u[1]=Al(t,u[1]),s[1]=kl(l,s[1]),u[1]=Al(l,u[1])}function jl(e,t,n,i,o,r,a,l){var s=Pi,u=Di,c=Al(kl(s(e,n,o),1),0),d=Al(kl(s(t,i,r),1),0),p=u(e,n,o,c),h=u(t,i,r,d);a[0]=kl(e,o,p),a[1]=kl(t,r,h),l[0]=Al(e,o,p),l[1]=Al(t,r,h)}function Hl(e,t,n,i,o,r,a,l,s){var u=Wt,c=Kt,d=Math.abs(o-r);if(d%Pl<1e-4&&d>1e-4)return l[0]=e-n,l[1]=t-i,s[0]=e+n,void(s[1]=t+i);if(Ll[0]=Ol(o)*n+e,Ll[1]=Dl(o)*i+t,El[0]=Ol(r)*n+e,El[1]=Dl(r)*i+t,u(l,Ll,El),c(s,Ll,El),(o%=Pl)<0&&(o+=Pl),(r%=Pl)<0&&(r+=Pl),o>r&&!a?r+=Pl:o<r&&a&&(o+=Pl),a){var p=r;r=o,o=p}for(var h=0;h<r;h+=Math.PI/2)h>o&&(Nl[0]=Ol(h)*n+e,Nl[1]=Dl(h)*i+t,u(l,Nl,l),c(s,Nl,s))}var Gl={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Wl=[],Kl=[],Ul=[],Yl=[],Xl=[],ql=[],Zl=Math.min,$l=Math.max,Jl=Math.cos,Ql=Math.sin,es=Math.abs,ts=Math.PI,ns=2*ts,is="undefined"!=typeof Float32Array,os=[];function rs(e){return Math.round(e/ts*1e8)/1e8%2*ts}function as(e,t){var n=rs(e[0]);n<0&&(n+=ns);var i=n-e[0],o=e[1];o+=i,!t&&o-n>=ns?o=n+ns:t&&n-o>=ns?o=n-ns:!t&&n>o?o=n+(ns-rs(n-o)):t&&n<o&&(o=n-(ns-rs(o-n))),e[0]=n,e[1]=o}var ls=function(){function e(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(e,t,n){(n=n||0)>0&&(this._ux=es(n/cr/e)||0,this._uy=es(n/cr/t)||0)},e.prototype.setDPR=function(e){this.dpr=e},e.prototype.setContext=function(e){this._ctx=e},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Gl.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},e.prototype.lineTo=function(e,t){var n=es(e-this._xi),i=es(t-this._yi),o=n>this._ux||i>this._uy;if(this.addData(Gl.L,e,t),this._ctx&&o&&this._ctx.lineTo(e,t),o)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var r=n*n+i*i;r>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=r)}return this},e.prototype.bezierCurveTo=function(e,t,n,i,o,r){return this._drawPendingPt(),this.addData(Gl.C,e,t,n,i,o,r),this._ctx&&this._ctx.bezierCurveTo(e,t,n,i,o,r),this._xi=o,this._yi=r,this},e.prototype.quadraticCurveTo=function(e,t,n,i){return this._drawPendingPt(),this.addData(Gl.Q,e,t,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(e,t,n,i,o,r){this._drawPendingPt(),os[0]=i,os[1]=o,as(os,r),i=os[0];var a=(o=os[1])-i;return this.addData(Gl.A,e,t,n,n,i,a,0,r?0:1),this._ctx&&this._ctx.arc(e,t,n,i,o,r),this._xi=Jl(o)*n+e,this._yi=Ql(o)*n+t,this},e.prototype.arcTo=function(e,t,n,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,i,o),this},e.prototype.rect=function(e,t,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,i),this.addData(Gl.R,e,t,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(Gl.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},e.prototype.fill=function(e){e&&e.fill(),this.toStatic()},e.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(e){var t=e.length;this.data&&this.data.length===t||!is||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},e.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,o=0;o<t;o++)n+=e[o].len();is&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(o=0;o<t;o++)for(var r=e[o].data,a=0;a<r.length;a++)this.data[i++]=r[a];this._len=i},e.prototype.addData=function(e,t,n,i,o,r,a,l,s){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var c=0;c<arguments.length;c++)u[this._len++]=arguments[c]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,is&&this._len>11&&(this.data=new Float32Array(e)))}},e.prototype.getBoundingRect=function(){Ul[0]=Ul[1]=Xl[0]=Xl[1]=Number.MAX_VALUE,Yl[0]=Yl[1]=ql[0]=ql[1]=-Number.MAX_VALUE;var e,t=this.data,n=0,i=0,o=0,r=0;for(e=0;e<this._len;){var a=t[e++],l=1===e;switch(l&&(o=n=t[e],r=i=t[e+1]),a){case Gl.M:n=o=t[e++],i=r=t[e++],Xl[0]=o,Xl[1]=r,ql[0]=o,ql[1]=r;break;case Gl.L:zl(n,i,t[e],t[e+1],Xl,ql),n=t[e++],i=t[e++];break;case Gl.C:Vl(n,i,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],Xl,ql),n=t[e++],i=t[e++];break;case Gl.Q:jl(n,i,t[e++],t[e++],t[e],t[e+1],Xl,ql),n=t[e++],i=t[e++];break;case Gl.A:var s=t[e++],u=t[e++],c=t[e++],d=t[e++],p=t[e++],h=t[e++]+p;e+=1;var f=!t[e++];l&&(o=Jl(p)*c+s,r=Ql(p)*d+u),Hl(s,u,c,d,p,h,f,Xl,ql),n=Jl(h)*c+s,i=Ql(h)*d+u;break;case Gl.R:zl(o=n=t[e++],r=i=t[e++],o+t[e++],r+t[e++],Xl,ql);break;case Gl.Z:n=o,i=r}Wt(Ul,Ul,Xl),Kt(Yl,Yl,ql)}return 0===e&&(Ul[0]=Ul[1]=Yl[0]=Yl[1]=0),new Fn(Ul[0],Ul[1],Yl[0]-Ul[0],Yl[1]-Ul[1])},e.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,i=this._uy,o=0,r=0,a=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var s=this._pathSegLen,u=0,c=0,d=0;d<t;){var p=e[d++],h=1===d;h&&(a=o=e[d],l=r=e[d+1]);var f=-1;switch(p){case Gl.M:o=a=e[d++],r=l=e[d++];break;case Gl.L:var v=e[d++],g=(x=e[d++])-r;(es(A=v-o)>n||es(g)>i||d===t-1)&&(f=Math.sqrt(A*A+g*g),o=v,r=x);break;case Gl.C:var y=e[d++],m=e[d++],x=(v=e[d++],e[d++]),b=e[d++],_=e[d++];f=Ai(o,r,y,m,v,x,b,_,10),o=b,r=_;break;case Gl.Q:f=Ni(o,r,y=e[d++],m=e[d++],v=e[d++],x=e[d++],10),o=v,r=x;break;case Gl.A:var w=e[d++],S=e[d++],C=e[d++],M=e[d++],T=e[d++],I=e[d++],k=I+T;d+=1,e[d++],h&&(a=Jl(T)*C+w,l=Ql(T)*M+S),f=$l(C,M)*Zl(ns,Math.abs(I)),o=Jl(k)*C+w,r=Ql(k)*M+S;break;case Gl.R:a=o=e[d++],l=r=e[d++],f=2*e[d++]+2*e[d++];break;case Gl.Z:var A=a-o;g=l-r;f=Math.sqrt(A*A+g*g),o=a,r=l}f>=0&&(s[c++]=f,u+=f)}return this._pathLen=u,u},e.prototype.rebuildPath=function(e,t){var n,i,o,r,a,l,s,u,c,d,p=this.data,h=this._ux,f=this._uy,v=this._len,g=t<1,y=0,m=0,x=0;if(!g||(this._pathSegLen||this._calculateLength(),s=this._pathSegLen,u=t*this._pathLen))e:for(var b=0;b<v;){var _=p[b++],w=1===b;switch(w&&(n=o=p[b],i=r=p[b+1]),_!==Gl.L&&x>0&&(e.lineTo(c,d),x=0),_){case Gl.M:n=o=p[b++],i=r=p[b++],e.moveTo(o,r);break;case Gl.L:a=p[b++],l=p[b++];var S=es(a-o),C=es(l-r);if(S>h||C>f){if(g){if(y+(X=s[m++])>u){var M=(u-y)/X;e.lineTo(o*(1-M)+a*M,r*(1-M)+l*M);break e}y+=X}e.lineTo(a,l),o=a,r=l,x=0}else{var T=S*S+C*C;T>x&&(c=a,d=l,x=T)}break;case Gl.C:var I=p[b++],k=p[b++],A=p[b++],D=p[b++],O=p[b++],P=p[b++];if(g){if(y+(X=s[m++])>u){Ii(o,I,A,O,M=(u-y)/X,Wl),Ii(r,k,D,P,M,Kl),e.bezierCurveTo(Wl[1],Kl[1],Wl[2],Kl[2],Wl[3],Kl[3]);break e}y+=X}e.bezierCurveTo(I,k,A,D,O,P),o=O,r=P;break;case Gl.Q:I=p[b++],k=p[b++],A=p[b++],D=p[b++];if(g){if(y+(X=s[m++])>u){Li(o,I,A,M=(u-y)/X,Wl),Li(r,k,D,M,Kl),e.quadraticCurveTo(Wl[1],Kl[1],Wl[2],Kl[2]);break e}y+=X}e.quadraticCurveTo(I,k,A,D),o=A,r=D;break;case Gl.A:var L=p[b++],E=p[b++],N=p[b++],R=p[b++],z=p[b++],B=p[b++],F=p[b++],V=!p[b++],j=N>R?N:R,H=es(N-R)>.001,G=z+B,W=!1;if(g)y+(X=s[m++])>u&&(G=z+B*(u-y)/X,W=!0),y+=X;if(H&&e.ellipse?e.ellipse(L,E,N,R,F,z,G,V):e.arc(L,E,j,z,G,V),W)break e;w&&(n=Jl(z)*N+L,i=Ql(z)*R+E),o=Jl(G)*N+L,r=Ql(G)*R+E;break;case Gl.R:n=o=p[b],i=r=p[b+1],a=p[b++],l=p[b++];var K=p[b++],U=p[b++];if(g){if(y+(X=s[m++])>u){var Y=u-y;e.moveTo(a,l),e.lineTo(a+Zl(Y,K),l),(Y-=K)>0&&e.lineTo(a+K,l+Zl(Y,U)),(Y-=U)>0&&e.lineTo(a+$l(K-Y,0),l+U),(Y-=K)>0&&e.lineTo(a,l+$l(U-Y,0));break e}y+=X}e.rect(a,l,K,U);break;case Gl.Z:if(g){var X;if(y+(X=s[m++])>u){M=(u-y)/X;e.lineTo(o*(1-M)+n*M,r*(1-M)+i*M);break e}y+=X}e.closePath(),o=n,r=i}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=Gl,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function ss(e,t,n,i,o,r,a){if(0===o)return!1;var l=o,s=0;if(a>t+l&&a>i+l||a<t-l&&a<i-l||r>e+l&&r>n+l||r<e-l&&r<n-l)return!1;if(e===n)return Math.abs(r-e)<=l/2;var u=(s=(t-i)/(e-n))*r-a+(e*i-n*t)/(e-n);return u*u/(s*s+1)<=l/2*l/2}function us(e,t,n,i,o,r,a,l,s,u,c){if(0===s)return!1;var d=s;return!(c>t+d&&c>i+d&&c>r+d&&c>l+d||c<t-d&&c<i-d&&c<r-d&&c<l-d||u>e+d&&u>n+d&&u>o+d&&u>a+d||u<e-d&&u<n-d&&u<o-d&&u<a-d)&&ki(e,t,n,i,o,r,a,l,u,c,null)<=d/2}function cs(e,t,n,i,o,r,a,l,s){if(0===a)return!1;var u=a;return!(s>t+u&&s>i+u&&s>r+u||s<t-u&&s<i-u&&s<r-u||l>e+u&&l>n+u&&l>o+u||l<e-u&&l<n-u&&l<o-u)&&Ei(e,t,n,i,o,r,l,s,null)<=u/2}var ds=2*Math.PI;function ps(e){return(e%=ds)<0&&(e+=ds),e}var hs=2*Math.PI;function fs(e,t,n,i,o,r,a,l,s){if(0===a)return!1;var u=a;l-=e,s-=t;var c=Math.sqrt(l*l+s*s);if(c-u>n||c+u<n)return!1;if(Math.abs(i-o)%hs<1e-4)return!0;if(r){var d=i;i=ps(o),o=ps(d)}else i=ps(i),o=ps(o);i>o&&(o+=hs);var p=Math.atan2(s,l);return p<0&&(p+=hs),p>=i&&p<=o||p+hs>=i&&p+hs<=o}function vs(e,t,n,i,o,r){if(r>t&&r>i||r<t&&r<i)return 0;if(i===t)return 0;var a=(r-t)/(i-t),l=i<t?1:-1;1!==a&&0!==a||(l=i<t?.5:-.5);var s=a*(n-e)+e;return s===o?1/0:s>o?l:0}var gs=ls.CMD,ys=2*Math.PI;var ms=[-1,-1,-1],xs=[-1,-1];function bs(e,t,n,i,o,r,a,l,s,u){if(u>t&&u>i&&u>r&&u>l||u<t&&u<i&&u<r&&u<l)return 0;var c,d=Mi(t,i,r,l,u,ms);if(0===d)return 0;for(var p=0,h=-1,f=void 0,v=void 0,g=0;g<d;g++){var y=ms[g],m=0===y||1===y?.5:1;Si(e,n,o,a,y)<s||(h<0&&(h=Ti(t,i,r,l,xs),xs[1]<xs[0]&&h>1&&(c=void 0,c=xs[0],xs[0]=xs[1],xs[1]=c),f=Si(t,i,r,l,xs[0]),h>1&&(v=Si(t,i,r,l,xs[1]))),2===h?y<xs[0]?p+=f<t?m:-m:y<xs[1]?p+=v<f?m:-m:p+=l<v?m:-m:y<xs[0]?p+=f<t?m:-m:p+=l<f?m:-m)}return p}function _s(e,t,n,i,o,r,a,l){if(l>t&&l>i&&l>r||l<t&&l<i&&l<r)return 0;var s=function(e,t,n,i,o){var r=e-2*t+n,a=2*(t-e),l=e-i,s=0;if(_i(r))wi(a)&&(c=-l/a)>=0&&c<=1&&(o[s++]=c);else{var u=a*a-4*r*l;if(_i(u))(c=-a/(2*r))>=0&&c<=1&&(o[s++]=c);else if(u>0){var c,d=hi(u),p=(-a-d)/(2*r);(c=(-a+d)/(2*r))>=0&&c<=1&&(o[s++]=c),p>=0&&p<=1&&(o[s++]=p)}}return s}(t,i,r,l,ms);if(0===s)return 0;var u=Pi(t,i,r);if(u>=0&&u<=1){for(var c=0,d=Di(t,i,r,u),p=0;p<s;p++){var h=0===ms[p]||1===ms[p]?.5:1;Di(e,n,o,ms[p])<a||(ms[p]<u?c+=d<t?h:-h:c+=r<d?h:-h)}return c}h=0===ms[0]||1===ms[0]?.5:1;return Di(e,n,o,ms[0])<a?0:r<t?h:-h}function ws(e,t,n,i,o,r,a,l){if((l-=t)>n||l<-n)return 0;var s=Math.sqrt(n*n-l*l);ms[0]=-s,ms[1]=s;var u=Math.abs(i-o);if(u<1e-4)return 0;if(u>=ys-1e-4){i=0,o=ys;var c=r?1:-1;return a>=ms[0]+e&&a<=ms[1]+e?c:0}if(i>o){var d=i;i=o,o=d}i<0&&(i+=ys,o+=ys);for(var p=0,h=0;h<2;h++){var f=ms[h];if(f+e>a){var v=Math.atan2(l,f);c=r?1:-1;v<0&&(v=ys+v),(v>=i&&v<=o||v+ys>=i&&v+ys<=o)&&(v>Math.PI/2&&v<1.5*Math.PI&&(c=-c),p+=c)}}return p}function Ss(e,t,n,i,o){for(var r,a,l=e.data,s=e.len(),u=0,c=0,d=0,p=0,h=0,f=0;f<s;){var v=l[f++],g=1===f;switch(v===gs.M&&f>1&&(n||(u+=vs(c,d,p,h,i,o))),g&&(p=c=l[f],h=d=l[f+1]),v){case gs.M:c=p=l[f++],d=h=l[f++];break;case gs.L:if(n){if(ss(c,d,l[f],l[f+1],t,i,o))return!0}else u+=vs(c,d,l[f],l[f+1],i,o)||0;c=l[f++],d=l[f++];break;case gs.C:if(n){if(us(c,d,l[f++],l[f++],l[f++],l[f++],l[f],l[f+1],t,i,o))return!0}else u+=bs(c,d,l[f++],l[f++],l[f++],l[f++],l[f],l[f+1],i,o)||0;c=l[f++],d=l[f++];break;case gs.Q:if(n){if(cs(c,d,l[f++],l[f++],l[f],l[f+1],t,i,o))return!0}else u+=_s(c,d,l[f++],l[f++],l[f],l[f+1],i,o)||0;c=l[f++],d=l[f++];break;case gs.A:var y=l[f++],m=l[f++],x=l[f++],b=l[f++],_=l[f++],w=l[f++];f+=1;var S=!!(1-l[f++]);r=Math.cos(_)*x+y,a=Math.sin(_)*b+m,g?(p=r,h=a):u+=vs(c,d,r,a,i,o);var C=(i-y)*b/x+y;if(n){if(fs(y,m,b,_,_+w,S,t,C,o))return!0}else u+=ws(y,m,b,_,_+w,S,C,o);c=Math.cos(_+w)*x+y,d=Math.sin(_+w)*b+m;break;case gs.R:if(p=c=l[f++],h=d=l[f++],r=p+l[f++],a=h+l[f++],n){if(ss(p,h,r,h,t,i,o)||ss(r,h,r,a,t,i,o)||ss(r,a,p,a,t,i,o)||ss(p,a,p,h,t,i,o))return!0}else u+=vs(r,h,r,a,i,o),u+=vs(p,a,p,h,i,o);break;case gs.Z:if(n){if(ss(c,d,p,h,t,i,o))return!0}else u+=vs(c,d,p,h,i,o);c=p,d=h}}return n||function(e,t){return Math.abs(e-t)<1e-4}(d,h)||(u+=vs(c,d,p,h,i,o)||0),0!==u}var Cs=Fe({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},bl),Ms={style:Fe({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},_l.style)},Ts=_r.concat(["invisible","culling","z","z2","zlevel","parent"]),Is=function(e){function t(t){return e.call(this,t)||this}var n;return kt(t,e),t.prototype.update=function(){var n=this;e.prototype.update.call(this);var i=this.style;if(i.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(e){n.buildPath(e,n.shape)}),o.silent=!0;var r=o.style;for(var a in i)r[a]!==i[a]&&(r[a]=i[a]);r.fill=i.fill?i.decal:null,r.decal=null,r.shadowColor=null,i.strokeFirst&&(r.stroke=null);for(var l=0;l<Ts.length;++l)o[Ts[l]]=this[Ts[l]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(t){var n=Ye(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<n.length;o++){var r=n[o],a=t[r];"style"===r?this.style?Be(this.style,a):this.useStyle(a):"shape"===r?Be(this.shape,a):e.prototype.attrKV.call(this,r,a)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(Je(e)){var t=uo(e,0);return t>.5?dr:t>.2?"#eee":pr}if(e)return pr}return dr},t.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if(Je(t)){var n=this.__zr;if(!(!n||!n.isDarkMode())===uo(e,0)<.4)return t}},t.prototype.buildPath=function(e,t,n){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new ls(!1)},t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.getBoundingRect=function(){var e=this._rect,t=this.style,n=!e;if(n){var i=!1;this.path||(i=!0,this.createPathProxy());var o=this.path;(i||4&this.__dirty)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),e=o.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var r=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||n){r.copy(e);var a=t.strokeNoScale?this.getLineScale():1,l=t.lineWidth;if(!this.hasFill()){var s=this.strokeContainThreshold;l=Math.max(l,null==s?4:s)}a>1e-10&&(r.width+=l/a,r.height+=l/a,r.x-=l/a/2,r.y-=l/a/2)}return r}return e},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),o=this.style;if(e=n[0],t=n[1],i.contain(e,t)){var r=this.path;if(this.hasStroke()){var a=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(e,t,n,i){return Ss(e,t,!0,n,i)}(r,a/l,e,t)))return!0}if(this.hasFill())return function(e,t,n){return Ss(e,0,!1,t,n)}(r,e,t)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(t,n){"shape"===t?this.setShape(n):e.prototype.attrKV.call(this,t,n)},t.prototype.setShape=function(e,t){var n=this.shape;return n||(n=this.shape={}),"string"==typeof e?n[e]=t:Be(n,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(e){return wt(Cs,e)},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=Be({},this.shape))},t.prototype._applyStateObj=function(t,n,i,o,r,a){e.prototype._applyStateObj.call(this,t,n,i,o,r,a);var l,s=!(n&&o);if(n&&n.shape?r?o?l=n.shape:(l=Be({},i.shape),Be(l,n.shape)):(l=Be({},o?this.shape:i.shape),Be(l,n.shape)):s&&(l=i.shape),l)if(r){this.shape=Be({},this.shape);for(var c={},d=Ye(l),p=0;p<d.length;p++){var h=d[p];"object"===u(l[h])?this.shape[h]=l[h]:c[h]=l[h]}this._transitionState(t,{shape:c},a)}else this.shape=l,this.dirtyShape()},t.prototype._mergeStates=function(t){for(var n,i=e.prototype._mergeStates.call(this,t),o=0;o<t.length;o++){var r=t[o];r.shape&&(n=n||{},this._mergeStyle(n,r.shape))}return n&&(i.shape=n),i},t.prototype.getAnimationStyleProps=function(){return Ms},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(t){function n(n){var i=t.call(this,n)||this;return e.init&&e.init.call(i,n),i}return kt(n,t),n.prototype.getDefaultStyle=function(){return Ne(e.style)},n.prototype.getDefaultShape=function(){return Ne(e.shape)},n}(t);for(var i in e)"function"==typeof e[i]&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=((n=t.prototype).type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,void(n.__dirty=7)),t}(Il),ks=Is,As=Fe({strokeFirst:!0,font:ge,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Cs),Ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kt(t,e),t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return wt(As,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var t=e.text;null!=t?t+="":t="";var n=Ir(t,e.font,e.textAlign,e.textBaseline);if(n.x+=e.x||0,n.y+=e.y||0,this.hasStroke()){var i=e.lineWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(Il);Ds.prototype.type="tspan";var Os=Ds,Ps=Fe({x:0,y:0},bl),Ls={style:Fe({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},_l.style)};var Es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kt(t,e),t.prototype.createStyle=function(e){return wt(Ps,e)},t.prototype._getSize=function(e){var t=this.style,n=t[e];if(null!=n)return n;var i,o=(i=t.image)&&"string"!=typeof i&&i.width&&i.height?t.image:this.__image;if(!o)return 0;var r="width"===e?"height":"width",a=t[r];return null==a?o[e]:o[e]/o[r]*a},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Ls},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Fn(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Il);Es.prototype.type="image";var Ns=Es;var Rs=Math.round;function zs(e,t,n){if(t){var i=t.x1,o=t.x2,r=t.y1,a=t.y2;e.x1=i,e.x2=o,e.y1=r,e.y2=a;var l=n&&n.lineWidth;return l?(Rs(2*i)===Rs(2*o)&&(e.x1=e.x2=Fs(i,l,!0)),Rs(2*r)===Rs(2*a)&&(e.y1=e.y2=Fs(r,l,!0)),e):e}}function Bs(e,t,n){if(t){var i=t.x,o=t.y,r=t.width,a=t.height;e.x=i,e.y=o,e.width=r,e.height=a;var l=n&&n.lineWidth;return l?(e.x=Fs(i,l,!0),e.y=Fs(o,l,!0),e.width=Math.max(Fs(i+r,l,!1)-e.x,0===r?0:1),e.height=Math.max(Fs(o+a,l,!1)-e.y,0===a?0:1),e):e}}function Fs(e,t,n){if(!t)return e;var i=Rs(2*e);return(i+Rs(t))%2==0?i/2:(i+(n?1:-1))/2}var Vs=function(){this.x=0,this.y=0,this.width=0,this.height=0},js={},Hs=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultShape=function(){return new Vs},t.prototype.buildPath=function(e,t){var n,i,o,r;if(this.subPixelOptimize){var a=Bs(js,t,this.style);n=a.x,i=a.y,o=a.width,r=a.height,a.r=t.r,t=a}else n=t.x,i=t.y,o=t.width,r=t.height;t.r?function(e,t){var n,i,o,r,a,l=t.x,s=t.y,u=t.width,c=t.height,d=t.r;u<0&&(l+=u,u=-u),c<0&&(s+=c,c=-c),"number"==typeof d?n=i=o=r=d:d instanceof Array?1===d.length?n=i=o=r=d[0]:2===d.length?(n=o=d[0],i=r=d[1]):3===d.length?(n=d[0],i=r=d[1],o=d[2]):(n=d[0],i=d[1],o=d[2],r=d[3]):n=i=o=r=0,n+i>u&&(n*=u/(a=n+i),i*=u/a),o+r>u&&(o*=u/(a=o+r),r*=u/a),i+o>c&&(i*=c/(a=i+o),o*=c/a),n+r>c&&(n*=c/(a=n+r),r*=c/a),e.moveTo(l+n,s),e.lineTo(l+u-i,s),0!==i&&e.arc(l+u-i,s+i,i,-Math.PI/2,0),e.lineTo(l+u,s+c-o),0!==o&&e.arc(l+u-o,s+c-o,o,0,Math.PI/2),e.lineTo(l+r,s+c),0!==r&&e.arc(l+r,s+c-r,r,Math.PI/2,Math.PI),e.lineTo(l,s+n),0!==n&&e.arc(l+n,s+n,n,Math.PI,1.5*Math.PI)}(e,t):e.rect(n,i,o,r)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(ks);Hs.prototype.type="rect";var Gs=Hs,Ws={fill:"#000"},Ks={style:Fe({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},_l.style)},Us=function(e){function t(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Ws,n.attr(t),n}return kt(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,Qs(e=this.style),Ge(e.rich,Qs),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Fn(0,0,0,0),t=this._children,n=[],i=null,o=0;o<t.length;o++){var r=t[o],a=r.getBoundingRect(),l=r.getLocalTransform(n);l?(e.copy(a),e.applyTransform(l),(i=i||e.clone()).union(e)):(i=i||a.clone()).union(a)}this._rect=i||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Ws},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,t){if(!t)return e;var n=t.rich,i=e.rich||n&&{};return Be(e,t),n&&i?(this._mergeRich(i,n),e.rich=i):i&&(e.rich=i),e},t.prototype._mergeRich=function(e,t){for(var n=Ye(t),i=0;i<n.length;i++){var o=n[i];e[o]=e[o]||{},Be(e[o],t[o])}},t.prototype.getAnimationStyleProps=function(){return Ks},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var e=this.style,t=e.font||ge,n=e.padding,i=function(e,t){null!=e&&(e+="");var n,i=t.overflow,o=t.padding,r=t.font,a="truncate"===i,l=Dr(r),s=st(t.lineHeight,l),u=!!t.backgroundColor,c="truncate"===t.lineOverflow,d=t.width,p=(n=null==d||"break"!==i&&"breakAll"!==i?e?e.split("\n"):[]:e?ml(e,t.font,d,"breakAll"===i,0).lines:[]).length*s,h=st(t.height,p);if(p>h&&c){var f=Math.floor(h/s);n=n.slice(0,f)}if(e&&a&&null!=d)for(var v=ul(d,r,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),g=0;g<n.length;g++)n[g]=cl(n[g],v);var y=h,m=0;for(g=0;g<n.length;g++)m=Math.max(Mr(n[g],r),m);null==d&&(d=m);var x=m;return o&&(y+=o[0]+o[2],x+=o[1]+o[3],d+=o[1]+o[3]),u&&(x=d),{lines:n,height:h,outerWidth:x,outerHeight:y,lineHeight:s,calculatedLineHeight:l,contentWidth:m,contentHeight:p,width:d}}(iu(e),e),o=ou(e),r=!!e.backgroundColor,a=i.outerHeight,l=i.outerWidth,s=i.contentWidth,u=i.lines,c=i.lineHeight,d=this._defaultStyle,p=e.x||0,h=e.y||0,f=e.align||d.align||"left",v=e.verticalAlign||d.verticalAlign||"top",g=p,y=Ar(h,i.contentHeight,v);if(o||n){var m=kr(p,l,f),x=Ar(h,a,v);o&&this._renderBackground(e,e,m,x,l,a)}y+=c/2,n&&(g=nu(p,f,n),"top"===v?y+=n[0]:"bottom"===v&&(y-=n[2]));for(var b=0,_=!1,w=(tu("fill"in e?e.fill:(_=!0,d.fill))),S=(eu("stroke"in e?e.stroke:r||d.autoStroke&&!_?null:(b=2,d.stroke))),C=e.textShadowBlur>0,M=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),T=i.calculatedLineHeight,I=0;I<u.length;I++){var k=this._getOrCreateChild(Os),A=k.createStyle();k.useStyle(A),A.text=u[I],A.x=g,A.y=y,f&&(A.textAlign=f),A.textBaseline="middle",A.opacity=e.opacity,A.strokeFirst=!0,C&&(A.shadowBlur=e.textShadowBlur||0,A.shadowColor=e.textShadowColor||"transparent",A.shadowOffsetX=e.textShadowOffsetX||0,A.shadowOffsetY=e.textShadowOffsetY||0),A.stroke=S,A.fill=w,S&&(A.lineWidth=e.lineWidth||b,A.lineDash=e.lineDash,A.lineDashOffset=e.lineDashOffset||0),A.font=t,$s(A,e),y+=c,M&&k.setBoundingRect(new Fn(kr(A.x,e.width,A.textAlign),Ar(A.y,T,A.textBaseline),s,T))}},t.prototype._updateRichTexts=function(){var e=this.style,t=function(e,t){var n=new fl;if(null!=e&&(e+=""),!e)return n;for(var i,o=t.width,r=t.height,a=t.overflow,l="break"!==a&&"breakAll"!==a||null==o?null:{width:o,accumWidth:0,breakAll:"breakAll"===a},s=ll.lastIndex=0;null!=(i=ll.exec(e));){var u=i.index;u>s&&vl(n,e.substring(s,u),t,l),vl(n,i[2],t,l,i[1]),s=ll.lastIndex}s<e.length&&vl(n,e.substring(s,e.length),t,l);var c=[],d=0,p=0,h=t.padding,f="truncate"===a,v="truncate"===t.lineOverflow;function g(e,t,n){e.width=t,e.lineHeight=n,d+=n,p=Math.max(p,t)}e:for(var y=0;y<n.lines.length;y++){for(var m=n.lines[y],x=0,b=0,_=0;_<m.tokens.length;_++){var w=(P=m.tokens[_]).styleName&&t.rich[P.styleName]||{},S=P.textPadding=w.padding,C=S?S[1]+S[3]:0,M=P.font=w.font||t.font;P.contentHeight=Dr(M);var T=st(w.height,P.contentHeight);if(P.innerHeight=T,S&&(T+=S[0]+S[2]),P.height=T,P.lineHeight=ut(w.lineHeight,t.lineHeight,T),P.align=w&&w.align||t.align,P.verticalAlign=w&&w.verticalAlign||"middle",v&&null!=r&&d+P.lineHeight>r){_>0?(m.tokens=m.tokens.slice(0,_),g(m,b,x),n.lines=n.lines.slice(0,y+1)):n.lines=n.lines.slice(0,y);break e}var I=w.width,k=null==I||"auto"===I;if("string"==typeof I&&"%"===I.charAt(I.length-1))P.percentWidth=I,c.push(P),P.contentWidth=Mr(P.text,M);else{if(k){var A=w.backgroundColor,D=A&&A.image;D&&al(D=il(D))&&(P.width=Math.max(P.width,D.width*T/D.height))}var O=f&&null!=o?o-b:null;null!=O&&O<P.width?!k||O<C?(P.text="",P.width=P.contentWidth=0):(P.text=sl(P.text,O-C,M,t.ellipsis,{minChar:t.truncateMinChar}),P.width=P.contentWidth=Mr(P.text,M)):P.contentWidth=Mr(P.text,M)}P.width+=C,b+=P.width,w&&(x=Math.max(x,P.lineHeight))}g(m,b,x)}for(n.outerWidth=n.width=st(o,p),n.outerHeight=n.height=st(r,d),n.contentHeight=d,n.contentWidth=p,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]),y=0;y<c.length;y++){var P,L=(P=c[y]).percentWidth;P.width=parseInt(L,10)/100*n.width}return n}(iu(e),e),n=t.width,i=t.outerWidth,o=t.outerHeight,r=e.padding,a=e.x||0,l=e.y||0,s=this._defaultStyle,u=e.align||s.align,c=e.verticalAlign||s.verticalAlign,d=kr(a,i,u),p=Ar(l,o,c),h=d,f=p;r&&(h+=r[3],f+=r[0]);var v=h+n;ou(e)&&this._renderBackground(e,e,d,p,i,o);for(var g=!!e.backgroundColor,y=0;y<t.lines.length;y++){for(var m=t.lines[y],x=m.tokens,b=x.length,_=m.lineHeight,w=m.width,S=0,C=h,M=v,T=b-1,I=void 0;S<b&&(!(I=x[S]).align||"left"===I.align);)this._placeToken(I,e,_,f,C,"left",g),w-=I.width,C+=I.width,S++;for(;T>=0&&"right"===(I=x[T]).align;)this._placeToken(I,e,_,f,M,"right",g),w-=I.width,M-=I.width,T--;for(C+=(n-(C-h)-(v-M)-w)/2;S<=T;)I=x[S],this._placeToken(I,e,_,f,C+I.width/2,"center",g),C+=I.width,S++;f+=_}},t.prototype._placeToken=function(e,t,n,i,o,r,a){var l=t.rich[e.styleName]||{};l.text=e.text;var s=e.verticalAlign,u=i+n/2;"top"===s?u=i+e.height/2:"bottom"===s&&(u=i+n-e.height/2),!e.isLineHolder&&ou(l)&&this._renderBackground(l,t,"right"===r?o-e.width:"center"===r?o-e.width/2:o,u-e.height/2,e.width,e.height);var c=!!l.backgroundColor,d=e.textPadding;d&&(o=nu(o,r,d),u-=e.height/2-d[0]-e.innerHeight/2);var p=this._getOrCreateChild(Os),h=p.createStyle();p.useStyle(h);var f=this._defaultStyle,v=!1,g=0,y=tu("fill"in l?l.fill:"fill"in t?t.fill:(v=!0,f.fill)),m=eu("stroke"in l?l.stroke:"stroke"in t?t.stroke:c||a||f.autoStroke&&!v?null:(g=2,f.stroke)),x=l.textShadowBlur>0||t.textShadowBlur>0;h.text=e.text,h.x=o,h.y=u,x&&(h.shadowBlur=l.textShadowBlur||t.textShadowBlur||0,h.shadowColor=l.textShadowColor||t.textShadowColor||"transparent",h.shadowOffsetX=l.textShadowOffsetX||t.textShadowOffsetX||0,h.shadowOffsetY=l.textShadowOffsetY||t.textShadowOffsetY||0),h.textAlign=r,h.textBaseline="middle",h.font=e.font||ge,h.opacity=ut(l.opacity,t.opacity,1),$s(h,l),m&&(h.lineWidth=ut(l.lineWidth,t.lineWidth,g),h.lineDash=st(l.lineDash,t.lineDash),h.lineDashOffset=t.lineDashOffset||0,h.stroke=m),y&&(h.fill=y);var b=e.contentWidth,_=e.contentHeight;p.setBoundingRect(new Fn(kr(h.x,b,h.textAlign),Ar(h.y,_,h.textBaseline),b,_))},t.prototype._renderBackground=function(e,t,n,i,o,r){var a,l,s,u=e.backgroundColor,c=e.borderWidth,d=e.borderColor,p=u&&u.image,h=u&&!p,f=e.borderRadius,v=this;if(h||e.lineHeight||c&&d){(a=this._getOrCreateChild(Gs)).useStyle(a.createStyle()),a.style.fill=null;var g=a.shape;g.x=n,g.y=i,g.width=o,g.height=r,g.r=f,a.dirtyShape()}if(h)(s=a.style).fill=u||null,s.fillOpacity=st(e.fillOpacity,1);else if(p){(l=this._getOrCreateChild(Ns)).onload=function(){v.dirtyStyle()};var y=l.style;y.image=u.image,y.x=n,y.y=i,y.width=o,y.height=r}c&&d&&((s=a.style).lineWidth=c,s.stroke=d,s.strokeOpacity=st(e.strokeOpacity,1),s.lineDash=e.borderDash,s.lineDashOffset=e.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(s.strokeFirst=!0,s.lineWidth*=2));var m=(a||l).style;m.shadowBlur=e.shadowBlur||0,m.shadowColor=e.shadowColor||"transparent",m.shadowOffsetX=e.shadowOffsetX||0,m.shadowOffsetY=e.shadowOffsetY||0,m.opacity=ut(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";return Js(e)&&(t=[e.fontStyle,e.fontWeight,Zs(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),t&&ht(t)||e.textFont||e.font},t}(Il),Ys={left:!0,right:1,center:1},Xs={top:1,bottom:1,middle:1},qs=["fontStyle","fontWeight","fontSize","fontFamily"];function Zs(e){return"string"!=typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?"12px":e+"px":e}function $s(e,t){for(var n=0;n<qs.length;n++){var i=qs[n],o=t[i];null!=o&&(e[i]=o)}}function Js(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}function Qs(e){if(e){e.font=Us.makeFont(e);var t=e.align;"middle"===t&&(t="center"),e.align=null==t||Ys[t]?t:"left";var n=e.verticalAlign;"center"===n&&(n="middle"),e.verticalAlign=null==n||Xs[n]?n:"top",e.padding&&(e.padding=dt(e.padding))}}function eu(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function tu(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function nu(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function iu(e){var t=e.text;return null!=t&&(t+=""),t}function ou(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var ru=Us,au=Ea(),lu=function(e,t,n,i){if(i){var o=au(i);// Add data index and series index for indexing the data by element
// Useful in tooltip
o.dataIndex=n,o.dataType=t,o.seriesIndex=e,// TODO: not store dataIndex on children.
"group"===i.type&&i.traverse((function(i){var o=au(i);o.seriesIndex=e,o.dataIndex=n,o.dataType=t}))}},su=1,uu={},cu=Ea(),du=Ea(),pu=["emphasis","blur","select"],hu=["normal","emphasis","blur","select"],fu=10,vu="highlight",gu="downplay",yu="select",mu="unselect",xu="toggleSelect";
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function bu(e){return null!=e&&"none"!==e}// Most lifted color are duplicated.
var _u=new Gi(100);function wu(e){if(Je(e)){var t=_u.get(e);return t||(t=oo(e,-.1),_u.put(e,t)),t}// Change nothing.
if(rt(e)){var n=Be({},e);return n.colorStops=We(e.colorStops,(function(e){return{offset:e.offset,color:oo(e.color,-.1)}})),n}return e}function Su(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function Cu(e){// Only mark the flag.
// States will be applied in the echarts.ts in next frame.
Su(e,"emphasis",2)}function Mu(e){// Only mark the flag.
// States will be applied in the echarts.ts in next frame.
2===e.hoverState&&Su(e,"normal",0)}function Tu(e){Su(e,"blur",1)}function Iu(e){1===e.hoverState&&Su(e,"normal",0)}function ku(e){e.selected=!0}function Au(e){e.selected=!1}function Du(e,t,n){t(e,n)}function Ou(e,t,n){Du(e,t,n),e.isGroup&&e.traverse((function(e){Du(e,t,n)}))}function Pu(e,t){switch(t){case"emphasis":e.hoverState=2;break;case"normal":e.hoverState=0;break;case"blur":e.hoverState=1;break;case"select":e.selected=!0}}function Lu(e,t){var n=this.states[e];if(this.style){if("emphasis"===e)return function(e,t,n,i){var o=n&&Ve(n,"select")>=0,r=!1;if(e instanceof ks){var a=cu(e),l=o&&a.selectFill||a.normalFill,s=o&&a.selectStroke||a.normalStroke;if(bu(l)||bu(s)){var u=(i=i||{}).style||{};// inherit case
"inherit"===u.fill?(r=!0,i=Be({},i),(u=Be({},u)).fill=l):!bu(u.fill)&&bu(l)?(r=!0,// Not modify the original value.
i=Be({},i),// Already being applied 'emphasis'. DON'T lift color multiple times.
(u=Be({},u)).fill=wu(l)):!bu(u.stroke)&&bu(s)&&(r||(i=Be({},i),u=Be({},u)),u.stroke=wu(s)),i.style=u}}if(i&&null==i.z2){r||(i=Be({},i));var c=e.z2EmphasisLift;i.z2=e.z2+(null!=c?c:fu)}return i}(this,0,t,n);if("blur"===e)return function(e,t,n){var i=Ve(e.currentStates,t)>=0,o=e.style.opacity,r=i?null:function(e,t,n,i){for(var o=e.style,r={},a=0;a<t.length;a++){var l=t[a],s=o[l];r[l]=null==s?i&&i[l]:s}for(a=0;a<e.animators.length;a++){var u=e.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&"style"===u.targetName&&u.saveTo(r,t)}return r}(e,["opacity"],t,{opacity:1}),a=(n=n||{}).style||{};return null==a.opacity&&(// clone state
n=Be({},n),a=Be({// Already being applied 'emphasis'. DON'T mul opacity multiple times.
opacity:i?o:.1*r.opacity},a),n.style=a),n}(this,e,n);if("select"===e)return function(e,t,n){// const hasSelect = indexOf(el.currentStates, stateName) >= 0;
if(n&&null==n.z2){n=Be({},n);var i=e.z2SelectLift;n.z2=e.z2+(null!=i?i:9)}return n}(this,0,n)}return n}
/**
       * Set hover style (namely "emphasis style") of element.
       * @param el Should not be `zrender/graphic/Group`.
       * @param focus 'self' | 'selfInSeries' | 'series'
       */function Eu(e){e.stateProxy=Lu;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=Lu),n&&(n.stateProxy=Lu)}function Nu(e,t){!Gu(e,t)&&!e.__highByOuter&&Ou(e,Cu)}function Ru(e,t){!Gu(e,t)&&!e.__highByOuter&&Ou(e,Mu)}function zu(e,t){e.__highByOuter|=1<<(t||0),Ou(e,Cu)}function Bu(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Ou(e,Mu)}function Fu(e){Ou(e,Tu)}function Vu(e){Ou(e,Iu)}function ju(e){Ou(e,ku)}function Hu(e){Ou(e,Au)}function Gu(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Wu(e){var t=e.getModel(),n=[],i=[];t.eachComponent((function(t,o){var r=du(o),a="series"===t,l=a?e.getViewOfSeriesModel(o):e.getViewOfComponentModel(o);!a&&i.push(l),r.isBlured&&(// Leave blur anyway
l.group.traverse((function(e){Iu(e)})),a&&n.push(o)),r.isBlured=!1})),Ge(i,(function(e){e&&e.toggleBlurSeries&&e.toggleBlurSeries(n,!1,t)}))}function Ku(e,t,n,i){var o=i.getModel();function r(e,t){for(var n=0;n<t.length;n++){var i=e.getItemGraphicEl(t[n]);i&&Vu(i)}}if(n=n||"coordinateSystem",null!=e&&t&&"none"!==t){var a=o.getSeriesByIndex(e),l=a.coordinateSystem;l&&l.master&&(l=l.master);var s=[];o.eachSeries((function(e){var o=a===e,u=e.coordinateSystem;// If there is no coordinate system. use sameSeries instead.
if(u&&u.master&&(u=u.master),!(// Not blur other series if blurScope series
"series"===n&&!o||"coordinateSystem"===n&&!(u&&l?u===l:o)||"series"===t&&o)){if(i.getViewOfSeriesModel(e).group.traverse((function(e){Tu(e)})),He(t))r(e.getData(),t);else if(tt(t))for(var c=Ye(t),d=0;d<c.length;d++)r(e.getData(c[d]),t[c[d]]);s.push(e),du(e).isBlured=!0}})),o.eachComponent((function(e,t){if("series"!==e){var n=i.getViewOfComponentModel(t);n&&n.toggleBlurSeries&&n.toggleBlurSeries(s,!0,o)}}))}}function Uu(e,t,n){if(null!=e&&null!=t){var i=n.getModel().getComponent(e,t);if(i){du(i).isBlured=!0;var o=n.getViewOfComponentModel(i);o&&o.focusBlurEnabled&&o.group.traverse((function(e){Tu(e)}))}}}function Yu(e,t,n,i){var o={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==t||null==n)return o;var r=i.getModel().getComponent(e,t);if(!r)return o;var a=i.getViewOfComponentModel(r);if(!a||!a.findHighDownDispatchers)return o;for(var l,s=a.findHighDownDispatchers(n),u=0// At presnet, the component (like Geo) only blur inside itself.
// So we do not use `blurScope` in component.
;u<s.length;u++)if("self"===au(s[u]).focus){l=!0;break}return{focusSelf:l,dispatchers:s}}function Xu(e){Ge(e.getAllData(),(function(t){var n=t.data,i=t.type;n.eachItemGraphicEl((function(t,n){e.isSelected(n,i)?ju(t):Hu(t)}))}))}function qu(e){var t=[];return e.eachSeries((function(e){Ge(e.getAllData(),(function(n){n.data;var i=n.type,o=e.getSelectedDataIndices();if(o.length>0){var r={dataIndex:o,seriesIndex:e.seriesIndex};null!=i&&(r.dataType=i),t.push(r)}}))})),t}
/**
       * Enable the function that mouseover will trigger the emphasis state.
       *
       * NOTE:
       * This function should be used on the element with dataIndex, seriesIndex.
       *
       */function Zu(e,t,n){nc(e,!0),Ou(e,Eu),Ju(e,t,n)}function $u(e,t,n,i){i?function(e){nc(e,!1)}(e):Zu(e,t,n)}function Ju(e,t,n){var i=au(e);null!=t?(// TODO dataIndex may be set after this function. This check is not useful.
// if (ecData.dataIndex == null) {
//     if (__DEV__) {
//         console.warn('focus can only been set on element with dataIndex');
//     }
// }
// else {
i.focus=t,i.blurScope=n):i.focus&&(i.focus=null)}var Qu=["emphasis","blur","select"],ec={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};
/**
       * Set emphasis/blur/selected states of element.
       */
function tc(e,t,n,// default itemStyle
i){n=n||"itemStyle";for(var o=0;o<Qu.length;o++){var r=Qu[o],a=t.getModel([r,n]);// Let it throw error if getterType is not found.
e.ensureState(r).style=i?i(a):a[ec[n]]()}}
/**
       *
       * Set element as highlight / downplay dispatcher.
       * It will be checked when element received mouseover event or from highlight action.
       * It's in change of all highlight/downplay behavior of it's children.
       *
       * @param el
       * @param el.highDownSilentOnTouch
       *        In touch device, mouseover event will be trigger on touchstart event
       *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can
       *        conveniently use hoverStyle when tap on touch screen without additional
       *        code for compatibility.
       *        But if the chart/component has select feature, which usually also use
       *        hoverStyle, there might be conflict between 'select-highlight' and
       *        'hover-highlight' especially when roam is enabled (see geo for example).
       *        In this case, `highDownSilentOnTouch` should be used to disable
       *        hover-highlight on touch device.
       * @param asDispatcher If `false`, do not set as "highDownDispatcher".
       */function nc(e,t){var n=!1===t,i=e;// Make `highDownSilentOnTouch` and `onStateChange` only work after
// `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.
e.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=e.highDownSilentOnTouch),// Simple optimize, since this method might be
// called for each elements of a group in some cases.
n&&!i.__highDownDispatcher||(// Emphasis, normal can be triggered manually by API or other components like hover link.
// el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent);
// Also keep previous record.
i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function ic(e){return!(!e||!e.__highDownDispatcher)}
/**
       * Enable component highlight/downplay features:
       * + hover link (within the same name)
       * + focus blur in component
       */function oc(e){var t=e.type;return t===yu||t===mu||t===xu}function rc(e){var t=e.type;return t===vu||t===gu}var ac=ls.CMD,lc=[[],[],[]],sc=Math.sqrt,uc=Math.atan2;function cc(e,t){if(t){var n,i,o,r,a,l,s=e.data,u=e.len(),c=ac.M,d=ac.C,p=ac.L,h=ac.R,f=ac.A,v=ac.Q;for(o=0,r=0;o<u;){switch(n=s[o++],r=o,i=0,n){case c:case p:i=1;break;case d:i=3;break;case v:i=2;break;case f:var g=t[4],y=t[5],m=sc(t[0]*t[0]+t[1]*t[1]),x=sc(t[2]*t[2]+t[3]*t[3]),b=uc(-t[1]/x,t[0]/m);s[o]*=m,s[o++]+=g,s[o]*=x,s[o++]+=y,s[o++]*=m,s[o++]*=x,s[o++]+=b,s[o++]+=b,r=o+=2;break;case h:l[0]=s[o++],l[1]=s[o++],Gt(l,l,t),s[r++]=l[0],s[r++]=l[1],l[0]+=s[o++],l[1]+=s[o++],Gt(l,l,t),s[r++]=l[0],s[r++]=l[1]}for(a=0;a<i;a++){var _=lc[a];_[0]=s[o++],_[1]=s[o++],Gt(_,_,t),s[r++]=_[0],s[r++]=_[1]}}e.increaseVersion()}}var dc=Math.sqrt,pc=Math.sin,hc=Math.cos,fc=Math.PI;function vc(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function gc(e,t){return(e[0]*t[0]+e[1]*t[1])/(vc(e)*vc(t))}function yc(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(gc(e,t))}function mc(e,t,n,i,o,r,a,l,s,u,c){var d=s*(fc/180),p=hc(d)*(e-n)/2+pc(d)*(t-i)/2,h=-1*pc(d)*(e-n)/2+hc(d)*(t-i)/2,f=p*p/(a*a)+h*h/(l*l);f>1&&(a*=dc(f),l*=dc(f));var v=(o===r?-1:1)*dc((a*a*(l*l)-a*a*(h*h)-l*l*(p*p))/(a*a*(h*h)+l*l*(p*p)))||0,g=v*a*h/l,y=v*-l*p/a,m=(e+n)/2+hc(d)*g-pc(d)*y,x=(t+i)/2+pc(d)*g+hc(d)*y,b=yc([1,0],[(p-g)/a,(h-y)/l]),_=[(p-g)/a,(h-y)/l],w=[(-1*p-g)/a,(-1*h-y)/l],S=yc(_,w);if(gc(_,w)<=-1&&(S=fc),gc(_,w)>=1&&(S=0),S<0){var C=Math.round(S/fc*1e6)/1e6;S=2*fc+C%2*fc}c.addData(u,m,x,a,l,b,S,d,r)}var xc=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,bc=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var _c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kt(t,e),t.prototype.applyTransform=function(e){},t}(ks);function wc(e){return null!=e.setData}function Sc(e,t){var n=function(e){var t=new ls;if(!e)return t;var n,i=0,o=0,r=i,a=o,l=ls.CMD,s=e.match(xc);if(!s)return t;for(var u=0;u<s.length;u++){for(var c=s[u],d=c.charAt(0),p=void 0,h=c.match(bc)||[],f=h.length,v=0;v<f;v++)h[v]=parseFloat(h[v]);for(var g=0;g<f;){var y=void 0,m=void 0,x=void 0,b=void 0,_=void 0,w=void 0,S=void 0,C=i,M=o,T=void 0,I=void 0;switch(d){case"l":i+=h[g++],o+=h[g++],p=l.L,t.addData(p,i,o);break;case"L":i=h[g++],o=h[g++],p=l.L,t.addData(p,i,o);break;case"m":i+=h[g++],o+=h[g++],p=l.M,t.addData(p,i,o),r=i,a=o,d="l";break;case"M":i=h[g++],o=h[g++],p=l.M,t.addData(p,i,o),r=i,a=o,d="L";break;case"h":i+=h[g++],p=l.L,t.addData(p,i,o);break;case"H":i=h[g++],p=l.L,t.addData(p,i,o);break;case"v":o+=h[g++],p=l.L,t.addData(p,i,o);break;case"V":o=h[g++],p=l.L,t.addData(p,i,o);break;case"C":p=l.C,t.addData(p,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),i=h[g-2],o=h[g-1];break;case"c":p=l.C,t.addData(p,h[g++]+i,h[g++]+o,h[g++]+i,h[g++]+o,h[g++]+i,h[g++]+o),i+=h[g-2],o+=h[g-1];break;case"S":y=i,m=o,T=t.len(),I=t.data,n===l.C&&(y+=i-I[T-4],m+=o-I[T-3]),p=l.C,C=h[g++],M=h[g++],i=h[g++],o=h[g++],t.addData(p,y,m,C,M,i,o);break;case"s":y=i,m=o,T=t.len(),I=t.data,n===l.C&&(y+=i-I[T-4],m+=o-I[T-3]),p=l.C,C=i+h[g++],M=o+h[g++],i+=h[g++],o+=h[g++],t.addData(p,y,m,C,M,i,o);break;case"Q":C=h[g++],M=h[g++],i=h[g++],o=h[g++],p=l.Q,t.addData(p,C,M,i,o);break;case"q":C=h[g++]+i,M=h[g++]+o,i+=h[g++],o+=h[g++],p=l.Q,t.addData(p,C,M,i,o);break;case"T":y=i,m=o,T=t.len(),I=t.data,n===l.Q&&(y+=i-I[T-4],m+=o-I[T-3]),i=h[g++],o=h[g++],p=l.Q,t.addData(p,y,m,i,o);break;case"t":y=i,m=o,T=t.len(),I=t.data,n===l.Q&&(y+=i-I[T-4],m+=o-I[T-3]),i+=h[g++],o+=h[g++],p=l.Q,t.addData(p,y,m,i,o);break;case"A":x=h[g++],b=h[g++],_=h[g++],w=h[g++],S=h[g++],mc(C=i,M=o,i=h[g++],o=h[g++],w,S,x,b,_,p=l.A,t);break;case"a":x=h[g++],b=h[g++],_=h[g++],w=h[g++],S=h[g++],mc(C=i,M=o,i+=h[g++],o+=h[g++],w,S,x,b,_,p=l.A,t)}}"z"!==d&&"Z"!==d||(p=l.Z,t.addData(p),i=r,o=a),n=p}return t.toStatic(),t}(e),i=Be({},t);return i.buildPath=function(e){if(wc(e)){e.setData(n.data),(t=e.getContext())&&e.rebuildPath(t,1)}else{var t=e;n.rebuildPath(t,1)}},i.applyTransform=function(e){cc(n,e),this.dirtyShape()},i}function Cc(e,t){return new _c(Sc(e,t))}function Mc(e,t){t=t||{};var n=new ks;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?cc(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var Tc=function(){this.cx=0,this.cy=0,this.r=0},Ic=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultShape=function(){return new Tc},t.prototype.buildPath=function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t}(ks);Ic.prototype.type="circle";var kc=Ic,Ac=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},Dc=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultShape=function(){return new Ac},t.prototype.buildPath=function(e,t){var n=.5522848,i=t.cx,o=t.cy,r=t.rx,a=t.ry,l=r*n,s=a*n;e.moveTo(i-r,o),e.bezierCurveTo(i-r,o-s,i-l,o-a,i,o-a),e.bezierCurveTo(i+l,o-a,i+r,o-s,i+r,o),e.bezierCurveTo(i+r,o+s,i+l,o+a,i,o+a),e.bezierCurveTo(i-l,o+a,i-r,o+s,i-r,o),e.closePath()},t}(ks);Dc.prototype.type="ellipse";var Oc=Dc,Pc=Math.PI,Lc=2*Pc,Ec=Math.sin,Nc=Math.cos,Rc=Math.acos,zc=Math.atan2,Bc=Math.abs,Fc=Math.sqrt,Vc=Math.max,jc=Math.min,Hc=1e-4;function Gc(e,t,n,i,o,r,a){var l=e-n,s=t-i,u=(a?r:-r)/Fc(l*l+s*s),c=u*s,d=-u*l,p=e+c,h=t+d,f=n+c,v=i+d,g=(p+f)/2,y=(h+v)/2,m=f-p,x=v-h,b=m*m+x*x,_=o-r,w=p*v-f*h,S=(x<0?-1:1)*Fc(Vc(0,_*_*b-w*w)),C=(w*x-m*S)/b,M=(-w*m-x*S)/b,T=(w*x+m*S)/b,I=(-w*m+x*S)/b,k=C-g,A=M-y,D=T-g,O=I-y;return k*k+A*A>D*D+O*O&&(C=T,M=I),{cx:C,cy:M,x0:-c,y0:-d,x1:C*(o/_-1),y1:M*(o/_-1)}}function Wc(e,t){var n,i=Vc(t.r,0),o=Vc(t.r0||0,0),r=i>0;if(r||o>0){if(r||(i=o,o=0),o>i){var a=i;i=o,o=a}var l=t.startAngle,s=t.endAngle;if(!isNaN(l)&&!isNaN(s)){var u=t.cx,c=t.cy,d=!!t.clockwise,p=Bc(s-l),h=p>Lc&&p%Lc;if(h>Hc&&(p=h),i>Hc)if(p>Lc-Hc)e.moveTo(u+i*Nc(l),c+i*Ec(l)),e.arc(u,c,i,l,s,!d),o>Hc&&(e.moveTo(u+o*Nc(s),c+o*Ec(s)),e.arc(u,c,o,s,l,d));else{var f=void 0,v=void 0,g=void 0,y=void 0,m=void 0,x=void 0,b=void 0,_=void 0,w=void 0,S=void 0,C=void 0,M=void 0,T=void 0,I=void 0,k=void 0,A=void 0,D=i*Nc(l),O=i*Ec(l),P=o*Nc(s),L=o*Ec(s),E=p>Hc;if(E){var N=t.cornerRadius;N&&(n=function(e){var t;if(Ze(e)){var n=e.length;if(!n)return e;t=1===n?[e[0],e[0],0,0]:2===n?[e[0],e[0],e[1],e[1]]:3===n?e.concat(e[2]):e}else t=[e,e,e,e];return t}(N),f=n[0],v=n[1],g=n[2],y=n[3]);var R=Bc(i-o)/2;if(m=jc(R,g),x=jc(R,y),b=jc(R,f),_=jc(R,v),C=w=Vc(m,x),M=S=Vc(b,_),(w>Hc||S>Hc)&&(T=i*Nc(s),I=i*Ec(s),k=o*Nc(l),A=o*Ec(l),p<Pc)){var z=function(e,t,n,i,o,r,a,l){var s=n-e,u=i-t,c=a-o,d=l-r,p=d*s-c*u;if(!(p*p<Hc))return[e+(p=(c*(t-r)-d*(e-o))/p)*s,t+p*u]}(D,O,k,A,T,I,P,L);if(z){var B=D-z[0],F=O-z[1],V=T-z[0],j=I-z[1],H=1/Ec(Rc((B*V+F*j)/(Fc(B*B+F*F)*Fc(V*V+j*j)))/2),G=Fc(z[0]*z[0]+z[1]*z[1]);C=jc(w,(i-G)/(H+1)),M=jc(S,(o-G)/(H-1))}}}if(E)if(C>Hc){var W=jc(g,C),K=jc(y,C),U=Gc(k,A,D,O,i,W,d),Y=Gc(T,I,P,L,i,K,d);e.moveTo(u+U.cx+U.x0,c+U.cy+U.y0),C<w&&W===K?e.arc(u+U.cx,c+U.cy,C,zc(U.y0,U.x0),zc(Y.y0,Y.x0),!d):(W>0&&e.arc(u+U.cx,c+U.cy,W,zc(U.y0,U.x0),zc(U.y1,U.x1),!d),e.arc(u,c,i,zc(U.cy+U.y1,U.cx+U.x1),zc(Y.cy+Y.y1,Y.cx+Y.x1),!d),K>0&&e.arc(u+Y.cx,c+Y.cy,K,zc(Y.y1,Y.x1),zc(Y.y0,Y.x0),!d))}else e.moveTo(u+D,c+O),e.arc(u,c,i,l,s,!d);else e.moveTo(u+D,c+O);if(o>Hc&&E)if(M>Hc){W=jc(f,M),U=Gc(P,L,T,I,o,-(K=jc(v,M)),d),Y=Gc(D,O,k,A,o,-W,d);e.lineTo(u+U.cx+U.x0,c+U.cy+U.y0),M<S&&W===K?e.arc(u+U.cx,c+U.cy,M,zc(U.y0,U.x0),zc(Y.y0,Y.x0),!d):(K>0&&e.arc(u+U.cx,c+U.cy,K,zc(U.y0,U.x0),zc(U.y1,U.x1),!d),e.arc(u,c,o,zc(U.cy+U.y1,U.cx+U.x1),zc(Y.cy+Y.y1,Y.cx+Y.x1),d),W>0&&e.arc(u+Y.cx,c+Y.cy,W,zc(Y.y1,Y.x1),zc(Y.y0,Y.x0),!d))}else e.lineTo(u+P,c+L),e.arc(u,c,o,s,l,d);else e.lineTo(u+P,c+L)}else e.moveTo(u,c);e.closePath()}}}var Kc=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},Uc=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultShape=function(){return new Kc},t.prototype.buildPath=function(e,t){Wc(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(ks);Uc.prototype.type="sector";var Yc=Uc,Xc=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},qc=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultShape=function(){return new Xc},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,o=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,o,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,o,!0)},t}(ks);qc.prototype.type="ring";var Zc=qc;function $c(e,t,n){var i=t.smooth,o=t.points;if(o&&o.length>=2){if(i){var r=function(e,t,n,i){var o,r,a,l,s=[],u=[],c=[],d=[];if(i){a=[1/0,1/0],l=[-1/0,-1/0];for(var p=0,h=e.length;p<h;p++)Wt(a,a,e[p]),Kt(l,l,e[p]);Wt(a,a,i[0]),Kt(l,l,i[1])}for(p=0,h=e.length;p<h;p++){var f=e[p];if(n)o=e[p?p-1:h-1],r=e[(p+1)%h];else{if(0===p||p===h-1){s.push(Ot(e[p]));continue}o=e[p-1],r=e[p+1]}Nt(u,r,o),zt(u,u,t);var v=Ft(f,o),g=Ft(f,r),y=v+g;0!==y&&(v/=y,g/=y),zt(c,u,-v),zt(d,u,g);var m=Lt([],f,c),x=Lt([],f,d);i&&(Kt(m,m,a),Wt(m,m,l),Kt(x,x,a),Wt(x,x,l)),s.push(m),s.push(x)}return n&&s.push(s.shift()),s}(o,i,n,t.smoothConstraint);e.moveTo(o[0][0],o[0][1]);for(var a=o.length,l=0;l<(n?a:a-1);l++){var s=r[2*l],u=r[2*l+1],c=o[(l+1)%a];e.bezierCurveTo(s[0],s[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(o[0][0],o[0][1]);l=1;for(var d=o.length;l<d;l++)e.lineTo(o[l][0],o[l][1])}n&&e.closePath()}}var Jc=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},Qc=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultShape=function(){return new Jc},t.prototype.buildPath=function(e,t){$c(e,t,!0)},t}(ks);Qc.prototype.type="polygon";var ed=Qc,td=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},nd=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new td},t.prototype.buildPath=function(e,t){$c(e,t,!1)},t}(ks);nd.prototype.type="polyline";var id=nd,od={},rd=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},ad=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rd},t.prototype.buildPath=function(e,t){var n,i,o,r;if(this.subPixelOptimize){var a=zs(od,t,this.style);n=a.x1,i=a.y1,o=a.x2,r=a.y2}else n=t.x1,i=t.y1,o=t.x2,r=t.y2;var l=t.percent;0!==l&&(e.moveTo(n,i),l<1&&(o=n*(1-l)+o*l,r=i*(1-l)+r*l),e.lineTo(o,r))},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(ks);ad.prototype.type="line";var ld=ad,sd=[],ud=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function cd(e,t,n){var i=e.cpx2,o=e.cpy2;return null!=i||null!=o?[(n?Ci:Si)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?Ci:Si)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?Oi:Di)(e.x1,e.cpx1,e.x2,t),(n?Oi:Di)(e.y1,e.cpy1,e.y2,t)]}var dd=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ud},t.prototype.buildPath=function(e,t){var n=t.x1,i=t.y1,o=t.x2,r=t.y2,a=t.cpx1,l=t.cpy1,s=t.cpx2,u=t.cpy2,c=t.percent;0!==c&&(e.moveTo(n,i),null==s||null==u?(c<1&&(Li(n,a,o,c,sd),a=sd[1],o=sd[2],Li(i,l,r,c,sd),l=sd[1],r=sd[2]),e.quadraticCurveTo(a,l,o,r)):(c<1&&(Ii(n,a,s,o,c,sd),a=sd[1],s=sd[2],o=sd[3],Ii(i,l,u,r,c,sd),l=sd[1],u=sd[2],r=sd[3]),e.bezierCurveTo(a,l,s,u,o,r)))},t.prototype.pointAt=function(e){return cd(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=cd(this.shape,e,!0);return Bt(t,t)},t}(ks);dd.prototype.type="bezier-curve";var pd=dd,hd=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},fd=function(e){function t(t){return e.call(this,t)||this}return kt(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new hd},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r,0),r=t.startAngle,a=t.endAngle,l=t.clockwise,s=Math.cos(r),u=Math.sin(r);e.moveTo(s*o+n,u*o+i),e.arc(n,i,o,r,a,!l)},t}(ks);fd.prototype.type="arc";var vd=fd,gd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return kt(t,e),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),n=0;n<e.length;n++)t=t||e[n].shapeChanged();t&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),ks.prototype.getBoundingRect.call(this)},t}(ks),yd=gd,md=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}(),xd=md,bd=function(e){function t(t,n,i,o,r,a){var l=e.call(this,r)||this;return l.x=null==t?0:t,l.y=null==n?0:n,l.x2=null==i?1:i,l.y2=null==o?0:o,l.type="linear",l.global=a||!1,l}return kt(t,e),t}(xd),_d=bd,wd=function(e){function t(t,n,i,o,r){var a=e.call(this,o)||this;return a.x=null==t?.5:t,a.y=null==n?.5:n,a.r=null==i?.5:i,a.type="radial",a.global=r||!1,a}return kt(t,e),t}(xd),Sd=wd,Cd=[0,0],Md=[0,0],Td=new An,Id=new An,kd=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new An;for(n=0;n<2;n++)this._axes[n]=new An;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,o=e.x,r=e.y,a=o+e.width,l=r+e.height;if(n[0].set(o,r),n[1].set(a,r),n[2].set(a,l),n[3].set(o,l),t)for(var s=0;s<4;s++)n[s].transform(t);An.sub(i[0],n[1],n[0]),An.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(s=0;s<2;s++)this._origin[s]=i[s].dot(n[0])},e.prototype.intersect=function(e,t){var n=!0,i=!t;return Td.set(1/0,1/0),Id.set(0,0),!this._intersectCheckOneSide(this,e,Td,Id,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,Td,Id,i,-1)&&(n=!1,i)||i||An.copy(t,n?Td:Id),n},e.prototype._intersectCheckOneSide=function(e,t,n,i,o,r){for(var a=!0,l=0;l<2;l++){var s=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,Cd),this._getProjMinMaxOnAxis(l,t._corners,Md),Cd[1]<Md[0]||Cd[0]>Md[1]){if(a=!1,o)return a;var u=Math.abs(Md[0]-Cd[1]),c=Math.abs(Cd[0]-Md[1]);Math.min(u,c)>i.len()&&(u<c?An.scale(i,s,-u*r):An.scale(i,s,c*r))}else if(n){u=Math.abs(Md[0]-Cd[1]),c=Math.abs(Cd[0]-Md[1]);Math.min(u,c)<n.len()&&(u<c?An.scale(n,s,u*r):An.scale(n,s,-c*r))}}return a},e.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var i=this._axes[e],o=this._origin,r=t[0].dot(i)+o[e],a=r,l=r,s=1;s<t.length;s++){var u=t[s].dot(i)+o[e];a=Math.min(u,a),l=Math.max(u,l)}n[0]=a,n[1]=l},e}(),Ad=kd,Dd=[],Od=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return kt(t,e),t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){(t=this._displayables[e]).parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Fn(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(Dd)),e.union(i)}this._rect=e}return this._rect},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(e,t))return!0}return!1},t}(Il),Pd=Od,Ld=Ea();
/**
       * Return null if animation is disabled.
       */
function Ed(e,t,n,// Extra opts can override the option in animatable model.
i,// TODO It's only for pictorial bar now.
o){var r;// Check if there is global animation configuration from dataZoom/resize can override the config in option.
// If animation is enabled. Will use this animation config in payload.
// If animation is disabled. Just ignore it.
if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();r=a&&a.animation}var l="update"===e;if(t&&t.isAnimationEnabled()){var s=void 0,u=void 0,c=void 0;return i?(s=st(i.duration,200),u=st(i.easing,"cubicOut"),c=0):(s=t.getShallow(l?"animationDurationUpdate":"animationDuration"),u=t.getShallow(l?"animationEasingUpdate":"animationEasing"),c=t.getShallow(l?"animationDelayUpdate":"animationDelay")),// animation from payload has highest priority.
r&&(null!=r.duration&&(s=r.duration),null!=r.easing&&(u=r.easing),null!=r.delay&&(c=r.delay)),$e(c)&&(c=c(n,o)),$e(s)&&(s=s(n)),{duration:s||0,delay:c,easing:u}}return null}function Nd(e,t,n,i,o,r,a){var l,s=!1;$e(o)?(a=r,r=o,o=null):tt(o)&&(r=o.cb,a=o.during,s=o.isFrom,l=o.removeOpt,o=o.dataIndex);var u="leave"===e;u||// Must stop the remove animation.
t.stopAnimation("leave");var c=Ed(e,i,o,u?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,o):null);if(c&&c.duration>0){var d={duration:c.duration,delay:c.delay||0,easing:c.easing,done:r,force:!!r||!!a,// Set to final state in update/init animation.
// So the post processing based on the path shape can be done correctly.
setToFinal:!u,scope:e,during:a};s?t.animateFrom(n,d):t.animateTo(n,d)}else t.stopAnimation(),// If `isFrom`, the props is the "from" props.
!s&&t.attr(n),// Call during at least once.
a&&a(1),r&&r()}
/**
       * Update graphic element properties with or without animation according to the
       * configuration in series.
       *
       * Caution: this method will stop previous animation.
       * So do not use this method to one element twice before
       * animation starts, unless you know what you are doing.
       * @example
       *     graphic.updateProps(el, {
       *         position: [100, 100]
       *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });
       *     // Or
       *     graphic.updateProps(el, {
       *         position: [100, 100]
       *     }, seriesModel, function () { console.log('Animation done!'); });
       */function Rd(e,t,// TODO: TYPE AnimatableModel
n,i,o,r){Nd("update",e,t,n,i,o,r)}
/**
       * Init graphic element properties with or without animation according to the
       * configuration in series.
       *
       * Caution: this method will stop previous animation.
       * So do not use this method to one element twice before
       * animation starts, unless you know what you are doing.
       */function zd(e,t,n,i,o,r){Nd("enter",e,t,n,i,o,r)}
/**
       * If element is removed.
       * It can determine if element is having remove animation.
       */function Bd(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){if("leave"===e.animators[t].scope)return!0}return!1}
/**
       * Remove graphic element
       */function Fd(e,t,n,i,o,r){// Don't do remove animation twice.
Bd(e)||Nd("leave",e,t,n,i,o,r)}function Vd(e,t,n,i){e.removeTextContent(),e.removeTextGuideLine(),Fd(e,{style:{opacity:0}},t,n,i)}function jd(e,t,n){function i(){e.parent&&e.parent.remove(e)}// Hide label and labelLine first
// TODO Also use fade out animation?
e.isGroup?e.traverse((function(e){e.isGroup||// Can invoke doRemove multiple times.
Vd(e,t,n,i)})):Vd(e,t,n,i)}
/**
       * Save old style for style transition in universalTransition module.
       * It's used when element will be reused in each render.
       * For chart like map, heatmap, which will always create new element.
       * We don't need to save this because universalTransition can get old style from the old element
       */function Hd(e){Ld(e).oldStyle=e.style}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var Gd=Math.max,Wd=Math.min,Kd={};var Ud=function(e,t){var n=Sc(e,t),i=function(e){function t(t){var i=e.call(this,t)||this;return i.applyTransform=n.applyTransform,i.buildPath=n.buildPath,i}return kt(t,e),t}(_c);return i};
/**
       * Extend path
       */
/**
       * Register a user defined shape.
       * The shape class can be fetched by `getShapeClass`
       * This method will overwrite the registered shapes, including
       * the registered built-in shapes, if using the same `name`.
       * The shape can be used in `custom series` and
       * `graphic component` by declaring `{type: name}`.
       *
       * @param name
       * @param ShapeClass Can be generated by `extendShape`.
       */
function Yd(e,t){Kd[e]=t}
/**
       * Find shape class registered by `registerShape`. Usually used in
       * fetching user defined shape.
       *
       * [Caution]:
       * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared
       * to use user registered shapes.
       * Because the built-in shape (see `getBuiltInShape`) will be registered by
       * `registerShape` by default. That enables users to get both built-in
       * shapes as well as the shapes belonging to themsleves. But users can overwrite
       * the built-in shapes by using names like 'circle', 'rect' via calling
       * `registerShape`. So the echarts inner featrues should not fetch shapes from here
       * in case that it is overwritten by users, except that some features, like
       * `custom series`, `graphic component`, do it deliberately.
       *
       * (2) In the features like `custom series`, `graphic component`, the user input
       * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic
       * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names
       * are reserved names, that is, if some user registers a shape named `'image'`,
       * the shape will not be used. If we intending to add some more reserved names
       * in feature, that might bring break changes (disable some existing user shape
       * names). But that case probably rarely happens. So we don't make more mechanism
       * to resolve this issue here.
       *
       * @param name
       * @return The shape class. If not found, return nothing.
       */function Xd(e){if(Kd.hasOwnProperty(e))return Kd[e]}
/**
       * Create a path element from path data string
       * @param pathData
       * @param opts
       * @param rect
       * @param layout 'center' or 'cover' default to be cover
       */function qd(e,t,n,i){var o=Cc(e,t);return n&&("center"===i&&(n=$d(n,o.getBoundingRect())),Qd(o,n)),o}
/**
       * Create a image element from image url
       * @param imageUrl image url
       * @param opts options
       * @param rect constrain rect
       * @param layout 'center' or 'cover'. Default to be 'cover'
       */function Zd(e,t,n){var i=new Ns({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var o={width:e.width,height:e.height};i.setStyle($d(t,o))}}});return i}
/**
       * Get position of centered element in bounding box.
       *
       * @param  rect         element local bounding box
       * @param  boundingRect constraint bounding box
       * @return element position containing x, y, width, and height
       */function $d(e,t){// Set rect to center, keep width / height ratio.
var n,i=t.width/t.height,o=e.height*i;return n=o<=e.width?e.height:(o=e.width)/i,{x:e.x+e.width/2-o/2,y:e.y+e.height/2-n/2,width:o,height:n}}var Jd=function(e,t){for(var n=[],i=e.length,o=0;o<i;o++){var r=e[o];n.push(r.getUpdatedPathProxy(!0))}var a=new ks(t);return a.createPathProxy(),a.buildPath=function(e){if(wc(e)){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t,1)}},a};
/**
       * Resize a path to fit the rect
       * @param path
       * @param rect
       */function Qd(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}
/**
       * Sub pixel optimize line for canvas
       */function ep(e,t){return zs(e,e,{lineWidth:t}),e}
/**
       * Sub pixel optimize rect for canvas
       */
/**
       * Sub pixel optimize for canvas
       *
       * @param position Coordinate, such as x, y
       * @param lineWidth Should be nonnegative integer.
       * @param positiveOrNegative Default false (negative).
       * @return Optimized position.
       */
var tp=Fs;
/**
       * Get transform matrix of target (param target),
       * in coordinate of its ancestor (param ancestor)
       *
       * @param target
       * @param [ancestor]
       */function np(e,t){for(var n=_n([]);e&&e!==t;)Sn(n,e.getLocalTransform(),n),e=e.parent;return n}
/**
       * Apply transform to an vertex.
       * @param target [x, y]
       * @param transform Can be:
       *      + Transform matrix: like [1, 0, 0, 1, 0, 0]
       *      + {position, rotation, scale}, the same as `zrender/Transformable`.
       * @param invert Whether use invert matrix.
       * @return [x, y]
       */function ip(e,t,n){return t&&!He(t)&&(t=Sr.getLocalTransform(t)),n&&(t=In([],t)),Gt([],e,t)}
/**
       * @param direction 'left' 'right' 'top' 'bottom'
       * @param transform Transform matrix: like [1, 0, 0, 1, 0, 0]
       * @param invert Whether use invert matrix.
       * @return Transformed direction. 'left' 'right' 'top' 'bottom'
       */function op(e,t,n){// Pick a base, ensure that transform result will not be (0, 0).
var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),o=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),r=["left"===e?-i:"right"===e?i:0,"top"===e?-o:"bottom"===e?o:0];return r=ip(r,t,n),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function rp(e){return!e.isGroup}
/**
       * Apply group transition animation from g1 to g2.
       * If no animatableModel, no animation.
       */
function ap(e,t,n){if(e&&t){var i=function(e){var t={};return e.traverse((function(e){rp(e)&&e.anid&&(t[e.anid]=e)})),t}(e);t.traverse((function(e){if(rp(e)&&e.anid){var t=i[e.anid];if(t){var r=o(e);e.attr(o(t)),Rd(e,r,n,au(e).dataIndex)}}}))}function o(e){var t={x:e.x,y:e.y,rotation:e.rotation};return function(e){return null!=e.shape}(e)&&(t.shape=Be({},e.shape)),t}}function lp(e,t){// FIXME: This way might be incorrect when graphic clipped by a corner
// and when element has a border.
return We(e,(function(e){var n=e[0];n=Gd(n,t.x),n=Wd(n,t.x+t.width);var i=e[1];return i=Gd(i,t.y),[n,i=Wd(i,t.y+t.height)]}))}
/**
       * Return a new clipped rect. If rect size are negative, return undefined.
       */function sp(e,// Support 'image://' or 'path://' or direct svg path.
t,n){var i=Be({rectHover:!0},t),o=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(o.image=e.slice(8),Fe(o,n),new Ns(i)):qd(e.replace("path://",""),i,n,"center")}
/**
       * Return `true` if the given line (line `a`) and the given polygon
       * are intersect.
       * Note that we do not count colinear as intersect here because no
       * requirement for that. We could do that if required in future.
       */function up(e,t,n,i,o){for(var r=0,a=o[o.length-1];r<o.length;r++){var l=o[r];if(cp(e,t,n,i,l[0],l[1],a[0],a[1]))return!0;a=l}}
/**
       * Return `true` if the given two lines (line `a` and line `b`)
       * are intersect.
       * Note that we do not count colinear as intersect here because no
       * requirement for that. We could do that if required in future.
       */function cp(e,t,n,i,o,r,a,l){// let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.
var s,u=n-e,c=i-t,d=a-o,p=l-r,h=dp(d,p,u,c);if((s=h)<=1e-6&&s>=-1e-6)return!1;// `vec_m` and `vec_n` are intersect iff
//     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,
//     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`
//           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.
var f=e-o,v=t-r,g=dp(f,v,u,c)/h;if(g<0||g>1)return!1;var y=dp(f,v,d,p)/h;return!(y<0||y>1)}
/**
       * Cross product of 2-dimension vector.
       */function dp(e,t,n,i){return e*i-n*t}function pp(e){var t=e.itemTooltipOption,n=e.componentModel,i=e.itemName,o=Je(t)?{formatter:t}:t,r=n.mainType,a=n.componentIndex,l={componentType:r,name:i,$vars:["name"]};l[r+"Index"]=a;var s=e.formatterParamsExtra;s&&Ge(Ye(s),(function(e){Ct(l,e)||(l[e]=s[e],l.$vars.push(e))}));var u=au(e.el);u.componentMainType=r,u.componentIndex=a,u.tooltipConfig={name:i,option:Fe({content:i,formatterParams:l},o)}}function hp(e,t){var n;// TODO
// Polyfill for fixing zrender group traverse don't visit it's root issue.
e.isGroup&&(n=t(e)),n||e.traverse(t)}function fp(e,t){if(e)if(Ze(e))for(var n=0;n<e.length;n++)hp(e[n],t);else hp(e,t)}// Register built-in shapes. These shapes might be overwritten
// by users, although we do not recommend that.
Yd("circle",kc),Yd("ellipse",Oc),Yd("sector",Yc),Yd("ring",Zc),Yd("polygon",ed),Yd("polyline",id),Yd("rect",Gs),Yd("line",ld),Yd("bezierCurve",pd),Yd("arc",vd);var vp=Object.freeze(Object.defineProperty({__proto__:null,updateProps:Rd,initProps:zd,removeElement:Fd,removeElementWithFadeOut:jd,isElementRemoved:Bd,extendShape:
/**
       * Extend shape with parameters
       */
function(e){return ks.extend(e)},extendPath:function(e,t){return Ud(e,t)},registerShape:Yd,getShapeClass:Xd,makePath:qd,makeImage:Zd,mergePath:Jd,resizePath:Qd,subPixelOptimizeLine:ep,subPixelOptimizeRect:function(e){return Bs(e.shape,e.shape,e.style),e},subPixelOptimize:tp,getTransform:np,applyTransform:ip,transformDirection:op,groupTransition:ap,clipPointsByRect:lp,clipRectByRect:function(e,t){var n=Gd(e.x,t.x),i=Wd(e.x+e.width,t.x+t.width),o=Gd(e.y,t.y),r=Wd(e.y+e.height,t.y+t.height);// If the total rect is cliped, nothing, including the border,
// should be painted. So return undefined.
if(i>=n&&r>=o)return{x:n,y:o,width:i-n,height:r-o}},createIcon:sp,linePolygonIntersect:up,lineLineIntersect:cp,setTooltipConfig:pp,traverseElements:fp,Group:Kr,Image:Ns,Text:ru,Circle:kc,Ellipse:Oc,Sector:Yc,Ring:Zc,Polygon:ed,Polyline:id,Rect:Gs,Line:ld,BezierCurve:pd,Arc:vd,IncrementalDisplayable:Pd,CompoundPath:yd,LinearGradient:_d,RadialGradient:Sd,BoundingRect:Fn,OrientedBoundingRect:Ad,Point:An,Path:ks},Symbol.toStringTag,{value:"Module"})),gp={};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function yp(e,t){for(var n=0;n<pu.length;n++){var i=pu[n],o=t[i],r=e.ensureState(i);r.style=r.style||{},r.style.text=o}var a=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(a,!0)}function mp(e,t,n){var i,o=e.labelFetcher,r=e.labelDataIndex,a=e.labelDimIndex,l=t.normal;o&&(i=o.getFormattedLabel(r,"normal",null,a,l&&l.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==i&&(i=$e(e.defaultText)?e.defaultText(r,e,n):e.defaultText);for(var s={normal:i},u=0;u<pu.length;u++){var c=pu[u],d=t[c];s[c]=st(o?o.getFormattedLabel(r,c,null,a,d&&d.get("formatter")):null,i)}return s}function xp(e,t,n,i){n=n||gp;for(var o=e instanceof ru,r=!1,a=0;a<hu.length;a++){if((p=t[hu[a]])&&p.getShallow("show")){r=!0;break}}var l=o?e:e.getTextContent();if(r){o||(// Reuse the previous
l||(l=new ru,e.setTextContent(l)),// Use same state proxy
e.stateProxy&&(l.stateProxy=e.stateProxy));var s=mp(n,t),u=t.normal,c=!!u.getShallow("show"),d=_p(u,i&&i.normal,n,!1,!o);d.text=s.normal,o||// Always create new
e.setTextConfig(wp(u,n,!1));for(a=0;a<pu.length;a++){var p,h=pu[a];if(p=t[h]){var f=l.ensureState(h),v=!!st(p.getShallow("show"),c);if(v!==c&&(f.ignore=!v),f.style=_p(p,i&&i[h],n,!0,!o),f.style.text=s[h],!o)e.ensureState(h).textConfig=wp(p,n,!0)}}// PENDING: if there is many requirements that emphasis position
// need to be different from normal position, we might consider
// auto silent is those cases.
l.silent=!!u.getShallow("silent"),// Keep x and y
null!=l.style.x&&(d.x=l.style.x),null!=l.style.y&&(d.y=l.style.y),l.ignore=!c,// Always create new style.
l.useStyle(d),l.dirty(),n.enableTextSetter&&(kp(l).setLabelText=function(e){var i=mp(n,t,e);yp(l,i)})}else l&&(// Not display rich text.
l.ignore=!0);e.dirty()}function bp(e,t){t=t||"label";for(var n={normal:e.getModel(t)},i=0;i<pu.length;i++){var o=pu[i];n[o]=e.getModel([o,t])}return n}
/**
       * Set basic textStyle properties.
       */function _p(e,t,// Fixed style in the code. Can't be set by model.
n,i,o){var r={};// textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);
/**
       * The uniform entry of set text style, that is, retrieve style definitions
       * from `model` and set to `textStyle` object.
       *
       * Never in merge mode, but in overwrite mode, that is, all of the text style
       * properties will be set. (Consider the states of normal and emphasis and
       * default value can be adopted, merge would make the logic too complicated
       * to manage.)
       */
return function(e,t,n,i,o){// Consider there will be abnormal when merge hover style to normal style if given default value.
n=n||gp;var r,a=t.ecModel,l=a&&a.option.textStyle,s=// Consider case:
// {
//     data: [{
//         value: 12,
//         label: {
//             rich: {
//                 // no 'a' here but using parent 'a'.
//             }
//         }
//     }],
//     rich: {
//         a: { ... }
//     }
// }
// TODO TextStyleModel
function(e){// Use object to remove duplicated names.
var t;for(;e&&e!==e.ecModel;){var n=(e.option||gp).rich;if(n){t=t||{};for(var i=Ye(n),o=0;o<i.length;o++){t[i[o]]=1}}e=e.parentModel}return t}(t);if(s)for(var u in r={},s)if(s.hasOwnProperty(u)){// Cascade is supported in rich.
var c=t.getModel(["rich",u]);// In rich, never `disableBox`.
// FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,
// the default color `'blue'` will not be adopted if no color declared in `rich`.
// That might confuses users. So probably we should put `textStyleModel` as the
// root ancestor of the `richTextStyle`. But that would be a break change.
Tp(r[u]={},c,l,n,i,o,!1,!0)}r&&(e.rich=r);var d=t.get("overflow");d&&(e.overflow=d);var p=t.get("minMargin");null!=p&&(e.margin=p);Tp(e,t,l,n,i,o,!0,!1)}(r,e,n,i,o),t&&Be(r,t),r}function wp(e,t,n){t=t||{};var i,o={},r=e.getShallow("rotate"),a=st(e.getShallow("distance"),n?null:5),l=e.getShallow("offset");// 'outside' is not a valid zr textPostion value, but used
// in bar series, and magric type should be considered.
return"outside"===(i=e.getShallow("position")||(n?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(o.position=i),null!=l&&(o.offset=l),null!=r&&(r*=Math.PI/180,o.rotation=r),null!=a&&(o.distance=a),// fill and auto is determined by the color of path fill if it's not specified by developers.
o.outsideFill="inherit"===e.get("color")?t.inheritColor||null:"auto",o}var Sp=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Cp=["align","lineHeight","width","height","tag","verticalAlign"],Mp=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Tp(e,t,n,i,o,r,a,l){// In merge mode, default value should not be given.
n=!o&&n||gp;var s=i&&i.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),d=st(t.getShallow("opacity"),n.opacity);"inherit"!==u&&"auto"!==u||(u=s||null),"inherit"!==c&&"auto"!==c||(c=s||null),r||(// Only use default global textStyle.color if text is individual.
// Otherwise it will use the strategy of attached text color because text may be on a path.
u=u||n.color,c=c||n.textBorderColor),null!=u&&(e.fill=u),null!=c&&(e.stroke=c);var p=st(t.getShallow("textBorderWidth"),n.textBorderWidth);null!=p&&(e.lineWidth=p);var h=st(t.getShallow("textBorderType"),n.textBorderType);null!=h&&(e.lineDash=h);var f=st(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=f&&(e.lineDashOffset=f),o||null!=d||l||(d=i&&i.defaultOpacity),null!=d&&(e.opacity=d),// TODO
o||r||// Set default finally.
null==e.fill&&i.inheritColor&&(e.fill=i.inheritColor);// Do not use `getFont` here, because merge should be supported, where
// part of these properties may be changed in emphasis style, and the
// others should remain their original value got from normal style.
for(var v=0;v<Sp.length;v++){var g=Sp[v];null!=(m=st(t.getShallow(g),n[g]))&&(e[g]=m)}for(v=0;v<Cp.length;v++){g=Cp[v];null!=(m=t.getShallow(g))&&(e[g]=m)}if(null==e.verticalAlign){var y=t.getShallow("baseline");null!=y&&(e.verticalAlign=y)}if(!a||!i.disableBox){for(v=0;v<Mp.length;v++){var m;g=Mp[v];null!=(m=t.getShallow(g))&&(e[g]=m)}var x=t.getShallow("borderType");null!=x&&(e.borderDash=x),"auto"!==e.backgroundColor&&"inherit"!==e.backgroundColor||!s||(e.backgroundColor=s),"auto"!==e.borderColor&&"inherit"!==e.borderColor||!s||(e.borderColor=s)}}function Ip(e,t){var n=t&&t.getModel("textStyle");return ht([// FIXME in node-canvas fontWeight is before fontStyle
e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var kp=Ea();function Ap(e,t,n,i){if(e){var o=kp(e);o.prevValue=o.value,o.value=n;var r=t.normal;o.valueAnimation=r.get("valueAnimation"),o.valueAnimation&&(o.precision=r.get("precision"),o.defaultInterpolatedText=i,o.statesModels=t)}}function Dp(e,t,n,i,o){var r=kp(e);if(r.valueAnimation&&r.prevValue!==r.value){var a=r.defaultInterpolatedText,l=st(r.interpolatedValue,r.prevValue),s=r.value;// Consider the case that being animating, do not use the `obj.value`,
// Otherwise it will jump to the `obj.value` when this new animation started.
e.percent=0,(null==r.prevValue?zd:Rd)(e,{// percent is used to prevent animation from being aborted #15916
percent:1},i,t,null,(function(i){var u=Ga(n,r.precision,l,s,i);r.interpolatedValue=1===i?null:u;var c=mp({labelDataIndex:t,labelFetcher:o,defaultText:a?a(u):u+""},r.statesModels,u);yp(e,c)}))}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var Op,Pp,Lp=["textStyle","color"],Ep=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Np=new ru,Rp=/** @class */function(){function e(){}
/**
         * Get color property or get color from option.textStyle.color
         */
// TODO Callback
return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Lp):null)},
/**
         * Create font string from fontStyle, fontWeight, fontSize, fontFamily
         * @return {string}
         */
e.prototype.getFont=function(){return Ip({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Ep.length;n++)t[Ep[n]]=this.getShallow(Ep[n]);return Np.useStyle(t),Np.update(),Np.getBoundingRect()},e}(),zp=Rp,Bp=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Fp=Qa(Bp),Vp=/** @class */function(){function e(){}return e.prototype.getLineStyle=function(e){return Fp(this,e)},e}(),jp=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Hp=Qa(jp),Gp=/** @class */function(){function e(){}return e.prototype.getItemStyle=function(e,t){return Hp(this,e,t)},e}(),Wp=/** @class */function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(e,t,n){},
/**
         * Merge the input option to me.
         */
e.prototype.mergeOption=function(e,t){Re(this.option,e,!0)},// `path` can be 'a.b.c', so the return value type have to be `ModelOption`
// TODO: TYPE strict key check?
// get(path: string | string[], ignoreParent?: boolean): ModelOption;
e.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var n=this.option,i=null==n?n:n[e];if(null==i&&!t){var o=this.parentModel;o&&(// FIXME:TS do not know how to make it works
i=o.getShallow(e))}return i},// `path` can be 'a.b.c', so the return value type have to be `Model<ModelOption>`
// getModel(path: string | string[], parentModel?: Model): Model;
// TODO 'a.b.c' is deprecated
e.prototype.getModel=function(t,n){var i=null!=t,o=i?this.parsePath(t):null;return new e(i?this._doGet(o):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),this.ecModel)},
/**
         * If model has option
         */
e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},// Pending
e.prototype.clone=function(){return new(0,this.constructor)(Ne(this.option))},// setReadOnly(properties): void {
// clazzUtil.setReadOnly(this, properties);
// }
// If path is null/undefined, return null/undefined.
e.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},// Resolve path for parent. Perhaps useful when parent use a different property.
// Default to be a identity resolver.
// Can be modified to a different resolver.
e.prototype.resolveParentPath=function(e){return e},// FIXME:TS check whether put this method here
e.prototype.isAnimationEnabled=function(){if(!fe.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&(!e[i]||null!=(// obj could be number/string/... (like 0)
n=n&&"object"===u(n)?n[e[i]]:null));i++);return null==n&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}();Ya(Wp),Op=Wp,Pp=["__\0is_clz",qa++].join("_"),Op.prototype[Pp]=!0,Op.isInstance=function(e){return!(!e||!e[Pp])},je(Wp,Vp),je(Wp,Gp),je(Wp,tl),je(Wp,zp);var Kp=Wp,Up=Math.round(10*Math.random());
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * @public
       * @param {string} type
       * @return {string}
       */
function Yp(e){// Considering the case of crossing js context,
// use Math.random to make id as unique as possible.
return[e||"",Up++].join("_")}
/**
       * Implements `SubTypeDefaulterManager` for `target`.
       */function Xp(e,t){// See also `model/Component.ts#getDefaultOption`
return Re(Re({},e,!0),t,!0)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Language: English.
       */var qp="ZH",Zp="EN",$p=Zp,Jp={},Qp={},eh=fe.domSupported&&/* eslint-disable-next-line */(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(qp)>-1?qp:$p;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
       * Licensed to the Apache Software Foundation (ASF) under one
       * or more contributor license agreements.  See the NOTICE file
       * distributed with this work for additional information
       * regarding copyright ownership.  The ASF licenses this file
       * to you under the Apache License, Version 2.0 (the
       * "License"); you may not use this file except in compliance
       * with the License.  You may obtain a copy of the License at
       *
       *   http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing,
       * software distributed under the License is distributed on an
       * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
       * KIND, either express or implied.  See the License for the
       * specific language governing permissions and limitations
       * under the License.
       */function th(e,t){e=e.toUpperCase(),Qp[e]=new Kp(t),Jp[e]=t}// export function getLocale(locale: string) {
//     return localeStorage[locale];
// }
function nh(e){return Qp[e]}// Default locale
th(Zp,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),th(qp,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}});
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var ih=1e3,oh=6e4,rh=36e5,ah=864e5,lh=31536e6,sh={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},uh="{yyyy}-{MM}-{dd}",ch={year:"{yyyy}",month:"{yyyy}-{MM}",day:uh,hour:uh+" "+sh.hour,minute:uh+" "+sh.minute,second:uh+" "+sh.second,millisecond:sh.none},dh=["year","month","day","hour","minute","second","millisecond"],ph=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function hh(e,t){return"0000".substr(0,t-(e+="").length)+e}function fh(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:// year, minutes, second, milliseconds
return e}}function vh(e){return e===fh(e)}function gh(// Note: The result based on `isUTC` are totally different, which can not be just simply
// substituted by the result without `isUTC`. So we make the param `isUTC` mandatory.
e,t,n,i){var o=sa(e),r=o[xh(n)](),a=o[bh(n)]()+1,l=Math.floor((a-1)/3)+1,s=o[_h(n)](),u=o["get"+(n?"UTC":"")+"Day"](),c=o[wh(n)](),d=(c-1)%12+1,p=o[Sh(n)](),h=o[Ch(n)](),f=o[Mh(n)](),v=(i instanceof Kp?i:nh(i||eh)||Qp[$p]).getModel("time"),g=v.get("month"),y=v.get("monthAbbr"),m=v.get("dayOfWeek"),x=v.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,r+"").replace(/{yy}/g,r%100+"").replace(/{Q}/g,l+"").replace(/{MMMM}/g,g[a-1]).replace(/{MMM}/g,y[a-1]).replace(/{MM}/g,hh(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,hh(s,2)).replace(/{d}/g,s+"").replace(/{eeee}/g,m[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+"").replace(/{HH}/g,hh(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,hh(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,hh(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,hh(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,hh(f,3)).replace(/{S}/g,f+"")}function yh(e,t){var n=sa(e),i=n[bh(t)]()+1,o=n[_h(t)](),r=n[wh(t)](),a=n[Sh(t)](),l=n[Ch(t)](),s=0===n[Mh(t)](),u=s&&0===l,c=u&&0===a,d=c&&0===r,p=d&&1===o;return p&&1===i?"year":p?"month":d?"day":c?"hour":u?"minute":s?"second":"millisecond"}function mh(e,t,n){var i=et(e)?sa(e):e;switch(t=t||yh(e,n)){case"year":return i[xh(n)]();case"half-year":return i[bh(n)]()>=6?1:0;case"quarter":return Math.floor((i[bh(n)]()+1)/4);case"month":return i[bh(n)]();case"day":return i[_h(n)]();case"half-day":return i[wh(n)]()/24;case"hour":return i[wh(n)]();case"minute":return i[Sh(n)]();case"second":return i[Ch(n)]();case"millisecond":return i[Mh(n)]()}}function xh(e){return e?"getUTCFullYear":"getFullYear"}function bh(e){return e?"getUTCMonth":"getMonth"}function _h(e){return e?"getUTCDate":"getDate"}function wh(e){return e?"getUTCHours":"getHours"}function Sh(e){return e?"getUTCMinutes":"getMinutes"}function Ch(e){return e?"getUTCSeconds":"getSeconds"}function Mh(e){return e?"getUTCMilliseconds":"getMilliseconds"}function Th(e){return e?"setUTCFullYear":"setFullYear"}function Ih(e){return e?"setUTCMonth":"setMonth"}function kh(e){return e?"setUTCDate":"setDate"}function Ah(e){return e?"setUTCHours":"setHours"}function Dh(e){return e?"setUTCMinutes":"setMinutes"}function Oh(e){return e?"setUTCSeconds":"setSeconds"}function Ph(e){return e?"setUTCMilliseconds":"setMilliseconds"}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Add a comma each three digit.
       */function Lh(e){if(!fa(e))return Je(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Eh(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Nh=dt;
/**
       * Make value user readable for tooltip and label.
       * "User readable":
       *     Try to not print programmer-specific text like NaN, Infinity, null, undefined.
       *     Avoid to display an empty string, which users can not recognize there is
       *     a value and it might look like a bug.
       */function Rh(e,t,n){function i(e){return e&&ht(e)?e:"-"}function o(e){return!(null==e||isNaN(e)||!isFinite(e))}var r="time"===t,a=e instanceof Date;if(r||a){var l=r?sa(e):e;if(!isNaN(+l))return gh(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);// In other cases, continue to try to display the value in the following code.
if(a)return"-"}if("ordinal"===t)return Qe(e)?i(e):et(e)&&o(e)?e+"":"-";// By default.
var s=ha(e);return o(s)?Lh(s):Qe(e)?i(e):"boolean"==typeof e?e+"":"-"}var zh=["a","b","c","d","e","f","g"],Bh=function(e,t){return"{"+e+(null==t?"":t)+"}"};
/**
       * Template formatter
       * @param {Array.<Object>|Object} paramsList
       */
function Fh(e,t,n){Ze(t)||(t=[t]);var i=t.length;if(!i)return"";for(var o=t[0].$vars||[],r=0;r<o.length;r++){var a=zh[r];e=e.replace(Bh(a),Bh(a,0))}for(var l=0;l<i;l++)for(var s=0;s<o.length;s++){var u=t[l][o[s]];e=e.replace(Bh(zh[s],l),n?ln(u):u)}return e}
/**
       * simple Template formatter
       */
/**
       * @return Never be null/undefined.
       */
function Vh(e,t){return t=t||"transparent",Je(e)?e:tt(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}
/**
       * open new tab
       * @param link url
       * @param target blank or self
       */function jh(e,t){/* global window */if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var Hh=Ge,Gh=["left","right","top","bottom","width","height"],Wh=[["width","left","right"],["height","top","bottom"]];
/**
       * @public
       */function Kh(e,t,n,i,o){var r=0,a=0;null==i&&(i=1/0),null==o&&(o=1/0);var l=0;t.eachChild((function(s,u){var c,d,p=s.getBoundingRect(),h=t.childAt(u+1),f=h&&h.getBoundingRect();if("horizontal"===e){var v=p.width+(f?-f.x+p.x:0);// Wrap when width exceeds maxWidth or meet a `newline` group
// FIXME compare before adding gap?
(c=r+v)>i||s.newline?(r=0,c=v,a+=l+n,l=p.height):// FIXME: consider rect.y is not `0`?
l=Math.max(l,p.height)}else{var g=p.height+(f?-f.y+p.y:0);// Wrap when width exceeds maxHeight or meet a `newline` group
(d=a+g)>o||s.newline?(r+=l+n,a=0,d=g,l=p.width):l=Math.max(l,p.width)}s.newline||(s.x=r,s.y=a,s.markRedraw(),"horizontal"===e?r=c+n:a=d+n)}))}
/**
       * VBox or HBox layouting
       * @param {string} orient
       * @param {module:zrender/graphic/Group} group
       * @param {number} gap
       * @param {number} [width=Infinity]
       * @param {number} [height=Infinity]
       */var Uh=Kh;
/**
       * VBox layouting
       * @param {module:zrender/graphic/Group} group
       * @param {number} gap
       * @param {number} [width=Infinity]
       * @param {number} [height=Infinity]
       */
/**
       * Parse position info.
       */
function Yh(e,t,n){n=Nh(n||0);var i=t.width,o=t.height,r=Jr(e.left,i),a=Jr(e.top,o),l=Jr(e.right,i),s=Jr(e.bottom,o),u=Jr(e.width,i),c=Jr(e.height,o),d=n[2]+n[0],p=n[1]+n[3],h=e.aspect;// Align left and top
switch(// If width is not specified, calculate width from left and right
isNaN(u)&&(u=i-l-p-r),isNaN(c)&&(c=o-s-d-a),null!=h&&(// If width and height are not given
// 1. Graph should not exceeds the container
// 2. Aspect must be keeped
// 3. Graph should take the space as more as possible
// FIXME
// Margin is not considered, because there is no case that both
// using margin and aspect so far.
isNaN(u)&&isNaN(c)&&(h>i/o?u=.8*i:c=.8*o),// Calculate width or height with given aspect
isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),// If left is not specified, calculate left from right and width
isNaN(r)&&(r=i-l-u-p),isNaN(a)&&(a=o-s-c-d),e.left||e.right){case"center":r=i/2-u/2-n[3];break;case"right":r=i-u-p}switch(e.top||e.bottom){case"middle":case"center":a=o/2-c/2-n[0];break;case"bottom":a=o-c-d}// If something is wrong and left, top, width, height are calculated as NaN
r=r||0,a=a||0,isNaN(u)&&(// Width may be NaN if only one value is given except width
u=i-p-r-(l||0)),isNaN(c)&&(// Height may be NaN if only one value is given except height
c=o-d-a-(s||0));var f=new Fn(r+n[3],a+n[0],u,c);return f.margin=n,f}
/**
       * Position a zr element in viewport
       *  Group position is specified by either
       *  {left, top}, {right, bottom}
       *  If all properties exists, right and bottom will be igonred.
       *
       * Logic:
       *     1. Scale (against origin point in parent coord)
       *     2. Rotate (against origin point in parent coord)
       *     3. Translate (with el.position by this method)
       * So this method only fixes the last step 'Translate', which does not affect
       * scaling and rotating.
       *
       * If be called repeatedly with the same input el, the same result will be gotten.
       *
       * Return true if the layout happened.
       *
       * @param el Should have `getBoundingRect` method.
       * @param positionInfo
       * @param positionInfo.left
       * @param positionInfo.top
       * @param positionInfo.right
       * @param positionInfo.bottom
       * @param positionInfo.width Only for opt.boundingModel: 'raw'
       * @param positionInfo.height Only for opt.boundingModel: 'raw'
       * @param containerRect
       * @param margin
       * @param opt
       * @param opt.hv Only horizontal or only vertical. Default to be [1, 1]
       * @param opt.boundingMode
       *        Specify how to calculate boundingRect when locating.
       *        'all': Position the boundingRect that is transformed and uioned
       *               both itself and its descendants.
       *               This mode simplies confine the elements in the bounding
       *               of their container (e.g., using 'right: 0').
       *        'raw': Position the boundingRect that is not transformed and only itself.
       *               This mode is useful when you want a element can overflow its
       *               container. (Consider a rotated circle needs to be located in a corner.)
       *               In this mode positionInfo.width/height can only be number.
       */function Xh(e,t,n,i,o,r){var a,l=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],u=o&&o.boundingMode||"all";if((r=r||e).x=e.x,r.y=e.y,!l&&!s)return!1;if("raw"===u)a="group"===e.type?new Fn(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(a=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();// Notice: raw rect may be inner object of el,
// which should not be modified.
(a=a.clone()).applyTransform(c)}// The real width and height can not be specified but calculated by the given el.
var d=Yh(Fe({width:a.width,height:a.height},t),n,i),p=l?d.x-a.x:0,h=s?d.y-a.y:0;// Because 'tranlate' is the last step in transform
// (see zrender/core/Transformable#getLocalTransform),
// we can just only modify el.position to get final result.
return"raw"===u?(r.x=p,r.y=h):(r.x+=p,r.y+=h),r===e&&e.markRedraw(),!0}
/**
       * @param option Contains some of the properties in HV_NAMES.
       * @param hvIdx 0: horizontal; 1: vertical.
       */function qh(e){var t=e.layoutMode||e.constructor.layoutMode;return tt(t)?t:t?{type:t}:null}
/**
       * Consider Case:
       * When default option has {left: 0, width: 100}, and we set {right: 0}
       * through setOption or media query, using normal zrUtil.merge will cause
       * {right: 0} does not take effect.
       *
       * @example
       * ComponentModel.extend({
       *     init: function () {
       *         ...
       *         let inputPositionParams = layout.getLayoutParams(option);
       *         this.mergeOption(inputPositionParams);
       *     },
       *     mergeOption: function (newOption) {
       *         newOption && zrUtil.merge(thisOption, newOption, true);
       *         layout.mergeLayoutParam(thisOption, newOption);
       *     }
       * });
       *
       * @param targetOption
       * @param newOption
       * @param opt
       */function Zh(e,t,n){var i=n&&n.ignoreSize;!Ze(i)&&(i=[i,i]);var o=a(Wh[0],0),r=a(Wh[1],1);function a(n,o){var r={},a=0,u={},c=0;if(Hh(n,(function(t){u[t]=e[t]})),Hh(n,(function(e){// Consider case: newOption.width is null, which is
// set by user for removing width setting.
l(t,e)&&(r[e]=u[e]=t[e]),s(r,e)&&a++,s(u,e)&&c++})),i[o])// Only one of left/right is premitted to exist.
return s(t,n[1])?u[n[2]]=null:s(t,n[2])&&(u[n[1]]=null),u;// Case: newOption: {width: ..., right: ...},
// or targetOption: {right: ...} and newOption: {width: ...},
// There is no conflict when merged only has params count
// little than enoughParamNumber.
if(2!==c&&a){if(a>=2)return r;// Chose another param from targetOption by priority.
for(var d=0;d<n.length;d++){var p=n[d];if(!l(r,p)&&l(e,p)){r[p]=e[p];break}}return r}return u}function l(e,t){return e.hasOwnProperty(t)}function s(e,t){return null!=e[t]&&"auto"!==e[t]}function u(e,t,n){Hh(e,(function(e){t[e]=n[e]}))}u(Wh[0],e,o),u(Wh[1],e,r)}
/**
       * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.
       */function $h(e){return Jh({},e)}
/**
       * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.
       * @param {Object} source
       * @return {Object} Result contains those props.
       */function Jh(e,t){return t&&e&&Hh(Gh,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */qe(Kh,"vertical"),
/**
       * HBox layouting
       * @param {module:zrender/graphic/Group} group
       * @param {number} gap
       * @param {number} [width=Infinity]
       * @param {number} [height=Infinity]
       */
qe(Kh,"horizontal");var Qh=Ea(),ef=/** @class */function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o.uid=Yp("ec_cpt_model"),o}return de(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=qh(this),i=n?$h(e):{};Re(e,t.getTheme().get(this.mainType)),Re(e,this.getDefaultOption()),n&&Zh(e,i,n)},t.prototype.mergeOption=function(e,t){Re(this.option,e,!0);var n=qh(this);n&&Zh(this.option,e,n)},
/**
         * Called immediately after `init` or `mergeOption` of this instance called.
         */
t.prototype.optionUpdated=function(e,t){},
/**
         * [How to declare defaultOption]:
         *
         * (A) If using class declaration in typescript (since echarts 5):
         * ```ts
         * import {ComponentOption} from '../model/option.js';
         * export interface XxxOption extends ComponentOption {
         *     aaa: number
         * }
         * export class XxxModel extends Component {
         *     static type = 'xxx';
         *     static defaultOption: XxxOption = {
         *         aaa: 123
         *     }
         * }
         * Component.registerClass(XxxModel);
         * ```
         * ```ts
         * import {inheritDefaultOption} from '../util/component.js';
         * import {XxxModel, XxxOption} from './XxxModel.js';
         * export interface XxxSubOption extends XxxOption {
         *     bbb: number
         * }
         * class XxxSubModel extends XxxModel {
         *     static defaultOption: XxxSubOption = inheritDefaultOption(XxxModel.defaultOption, {
         *         bbb: 456
         *     })
         *     fn() {
         *         let opt = this.getDefaultOption();
         *         // opt is {aaa: 123, bbb: 456}
         *     }
         * }
         * ```
         *
         * (B) If using class extend (previous approach in echarts 3 & 4):
         * ```js
         * let XxxComponent = Component.extend({
         *     defaultOption: {
         *         xx: 123
         *     }
         * })
         * ```
         * ```js
         * let XxxSubComponent = XxxComponent.extend({
         *     defaultOption: {
         *         yy: 456
         *     },
         *     fn: function () {
         *         let opt = this.getDefaultOption();
         *         // opt is {xx: 123, yy: 456}
         *     }
         * })
         * ```
         */
t.prototype.getDefaultOption=function(){var e=this.constructor;// If using class declaration, it is different to travel super class
// in legacy env and auto merge defaultOption. So if using class
// declaration, defaultOption should be merged manually.
if(!function(e){return!(!e||!e[Ka])}(e))// When using ts class, defaultOption must be declared as static.
return e.defaultOption;// FIXME: remove this approach?
var t=Qh(this);if(!t.defaultOption){for(var n=[],i=e;i;){var o=i.prototype.defaultOption;o&&n.push(o),i=i.superClass}for(var r={},a=n.length-1;a>=0;a--)r=Re(r,n[a],!0);t.defaultOption=r}return t.defaultOption},
/**
         * Notice: always force to input param `useDefault` in case that forget to consider it.
         * The same behavior as `modelUtil.parseFinder`.
         *
         * @param useDefault In many cases like series refer axis and axis refer grid,
         *        If axis index / axis id not specified, use the first target as default.
         *        In other cases like dataZoom refer axis, if not specified, measn no refer.
         */
t.prototype.getReferringComponents=function(e,t){var n=e+"Index",i=e+"Id";return Va(this.ecModel,e,{index:this.get(n,!0),id:this.get(i,!0)},t)},t.prototype.getBoxLayoutParams=function(){// Consider itself having box layout configs.
var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},
/**
         * Get key for zlevel.
         * If developers don't configure zlevel. We will assign zlevel to series based on the key.
         * For example, lines with trail effect and progressive series will in an individual zlevel.
         */
t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(Kp);Xa(ef,Kp),Ja(ef),function(e){var t={};e.registerSubTypeDefaulter=function(e,n){var i=Ua(e);t[i.main]=n},e.determineSubType=function(n,i){var o=i.type;if(!o){var r=Ua(n).main;e.hasSubTypes(n)&&t[r]&&(o=t[r](i))}return o}}
/**
       * Implements `TopologicalTravelable<any>` for `entity`.
       *
       * Topological travel on Activity Network (Activity On Vertices).
       * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].
       * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.
       * If there is circular dependencey, Error will be thrown.
       */(ef),function(e,t){function n(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}
/**
         * @param targetNameList Target Component type list.
         *                       Can be ['aa', 'bb', 'aa.xx']
         * @param fullNameList By which we can build dependency graph.
         * @param callback Params: componentType, dependencies.
         * @param context Scope of callback.
         */
e.topologicalTravel=function(e,i,o,r){if(e.length){var a=function(e){var i={},o=[];return Ge(e,(function(r){var a=n(i,r),l=function(e,t){var n=[];return Ge(e,(function(e){Ve(t,e)>=0&&n.push(e)})),n}(a.originalDeps=t(r),e);a.entryCount=l.length,0===a.entryCount&&o.push(r),Ge(l,(function(e){Ve(a.predecessor,e)<0&&a.predecessor.push(e);var t=n(i,e);Ve(t.successor,e)<0&&t.successor.push(r)}))})),{graph:i,noEntryList:o}}(i),l=a.graph,s=a.noEntryList,u={};for(Ge(e,(function(e){u[e]=!0}));s.length;){var c=s.pop(),d=l[c],p=!!u[c];p&&(o.call(r,c,d.originalDeps.slice()),delete u[c]),Ge(d.successor,p?f:h)}Ge(u,(function(){throw new Error("")}))}function h(e){l[e].entryCount--,0===l[e].entryCount&&s.push(e)}// Consider this case: legend depends on series, and we call
// chart.setOption({series: [...]}), where only series is in option.
// If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will
// not be called, but only sereis.mergeOption is called. Thus legend
// have no chance to update its local record about series (like which
// name of series is available in legend).
function f(e){u[e]=!0,h(e)}}}(ef,(function(e){var t=[];// Hack dataset for convenience.
Ge(ef.getClassesByMainType(e),(function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])})),// Ensure main type.
t=We(t,(function(e){return Ua(e).main})),"dataset"!==e&&Ve(t,"dataset")<=0&&t.unshift("dataset");return t}));var tf=ef,nf="";
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */ // Navigator not exists in node
"undefined"!=typeof navigator&&(/* global navigator */nf=navigator.platform||"");var of="rgba(0, 0, 0, 0.2)",rf={darkMode:"auto",// backgroundColor: 'rgba(0,0,0,0)',
colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:of,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:of,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:of,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:of,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:of,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:of,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},// If xAxis and yAxis declared, grid is created by default.
// grid: {},
textStyle:{// color: '#000',
// decoration: 'none',
// PENDING
fontFamily:nf.match(/^Win/)?"Microsoft YaHei":"sans-serif",// fontFamily: 'Arial, Verdana, sans-serif',
fontSize:12,fontStyle:"normal",fontWeight:"normal"},// http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/
// https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation
// Default is source-over
blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,// Configuration for progressive/incremental rendering
progressiveThreshold:3e3,progressive:400,// Threshold of if use single hover layer to optimize.
// It is recommended that `hoverLayerThreshold` is equivalent to or less than
// `progressiveThreshold`, otherwise hover will cause restart of progressive,
// which is unexpected.
// see example <echarts/test/heatmap-large.html>.
hoverLayerThreshold:3e3,// See: module:echarts/scale/Time
useUTC:!1},af=bt(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),lf="original",sf="arrayRows",uf="objectRows",cf="keyedColumns",df="typedArray",pf="unknown",hf="column",ff="row",vf=1,gf=2,yf=3,mf=Ea();
/**
       * [The strategy of the arrengment of data dimensions for dataset]:
       * "value way": all axes are non-category axes. So series one by one take
       *     several (the number is coordSysDims.length) dimensions from dataset.
       *     The result of data arrengment of data dimensions like:
       *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |
       * "category way": at least one axis is category axis. So the the first data
       *     dimension is always mapped to the first category axis and shared by
       *     all of the series. The other data dimensions are taken by series like
       *     "value way" does.
       *     The result of data arrengment of data dimensions like:
       *     | ser_shared_x | ser0_y | ser1_y | ser2_y |
       *
       * @return encode Never be `null/undefined`.
       */
function xf(e,t,n){var i={},o=_f(t);// Currently only make default when using dataset, util more reqirements occur.
if(!o||!e)return i;var r,a,l=[],s=[],u=t.ecModel,c=mf(u).datasetMap,d=o.uid+"_"+n.seriesLayoutBy;Ge(e=e.slice(),(function(t,n){var o=tt(t)?t:e[n]={name:t};"ordinal"===o.type&&null==r&&(r=n,a=f(o)),i[o.name]=[]}));var p=c.get(d)||c.set(d,{categoryWayDim:a,valueWayDim:0});// TODO
// Auto detect first time axis and do arrangement.
function h(e,t,n){for(var i=0;i<n;i++)e.push(t+i)}function f(e){var t=e.dimsDef;return t?t.length:1}return Ge(e,(function(e,t){var n=e.name,o=f(e);// In value way.
if(null==r){var a=p.valueWayDim;h(i[n],a,o),h(s,a,o),p.valueWayDim+=o}// In category way, the first category axis.
else if(r===t)h(i[n],0,o),h(l,0,o);else{a=p.categoryWayDim;h(i[n],a,o),h(s,a,o),p.categoryWayDim+=o}})),l.length&&(i.itemName=l),s.length&&(i.seriesName=s),i}
/**
       * Work for data like [{name: ..., value: ...}, ...].
       *
       * @return encode Never be `null/undefined`.
       */function bf(e,t,n){var i={};// Currently only make default when using dataset, util more reqirements occur.
if(!_f(e))return i;var o,r=t.sourceFormat,a=t.dimensionsDefine;r!==uf&&r!==cf||Ge(a,(function(e,t){"name"===(tt(e)?e.name:e)&&(o=t)}));var l=function(){// 5 is an experience value.
for(var e={},i={},l=[],s=0,u=Math.min(5,n);s<u;s++){var c=Sf(t.data,r,t.seriesLayoutBy,a,t.startIndex,s);l.push(c);var d=c===yf;// [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,
// and then find a name dim with the priority:
// "BE_ORDINAL.Might|BE_ORDINAL.Must" > "other dim" > "the value dim itself".
if(d&&null==e.v&&s!==o&&(e.v=s),(null==e.n||e.n===e.v||!d&&l[e.n]===yf)&&(e.n=s),p(e)&&l[e.n]!==yf)return e;// [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),
// find the first BE_ORDINAL.Might as the value dim,
// and then find a name dim with the priority:
// "other dim" > "the value dim itself".
// That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be
// treated as number.
d||(c===gf&&null==i.v&&s!==o&&(i.v=s),null!=i.n&&i.n!==i.v||(i.n=s))}function p(e){return null!=e.v&&null!=e.n}return p(e)?e:p(i)?i:null}();if(l){i.value=[l.v];// `potentialNameDimIndex` has highest priority.
var s=null!=o?o:l.n;// By default, label uses itemName in charts.
// So we don't set encodeLabel here.
i.itemName=[s],i.seriesName=[s]}return i}
/**
       * @return If return null/undefined, indicate that should not use datasetModel.
       */function _f(e){if(!e.get("data",!0))return Va(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Ba).models[0]}
/**
       * @return Always return an array event empty.
       */
/**
       * The rule should not be complex, otherwise user might not
       * be able to known where the data is wrong.
       * The code is ugly, but how to make it neat?
       */
function wf(e,t){return Sf(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}// dimIndex may be overflow source data.
// return {BE_ORDINAL}
function Sf(e,t,n,i,o,r){var a,l,s;// Experience value.
if(it(e))return yf;// When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine
// always exists in source.
if(i){var u=i[r];tt(u)?(l=u.name,s=u.type):Je(u)&&(l=u)}if(null!=s)return"ordinal"===s?vf:yf;if(t===sf){var c=e;if(n===ff){for(var d=c[r],p=0;p<(d||[]).length&&p<5;p++)if(null!=(a=m(d[o+p])))return a}else for(p=0;p<c.length&&p<5;p++){var h=c[o+p];if(h&&null!=(a=m(h[r])))return a}}else if(t===uf){var f=e;if(!l)return yf;for(p=0;p<f.length&&p<5;p++){if((g=f[p])&&null!=(a=m(g[l])))return a}}else if(t===cf){if(!l)return yf;if(!(d=e[l])||it(d))return yf;for(p=0;p<d.length&&p<5;p++)if(null!=(a=m(d[p])))return a}else if(t===lf){var v=e;for(p=0;p<v.length&&p<5;p++){var g,y=Ma(g=v[p]);if(!Ze(y))return yf;if(null!=(a=m(y[r])))return a}}function m(e){var t=Je(e);// Consider usage convenience, '1', '2' will be treated as "number".
// `isFinit('')` get `true`.
return null!=e&&isFinite(e)&&""!==e?t?gf:yf:t&&"-"!==e?vf:void 0}return yf}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var Cf=bt();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var Mf,Tf,If,kf=Ea(),Af=Ea(),Df=/** @class */function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var i=wa(this.get("color",!0)),o=this.get("colorLayer",!0);return Pf(this,kf,i,o,e,t,n)},e.prototype.clearColorPalette=function(){!function(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
// Internal method names:
// -----------------------
(this,kf)},e}();function Of(e,t,n,i){var o=wa(e.get(["aria","decal","decals"]));return Pf(e,Af,o,null,t,n,i)}
/**
       * @param name MUST NOT be null/undefined. Otherwise call this function
       *             twise with the same parameters will get different result.
       * @param scope default this.
       * @return Can be null/undefined
       */
function Pf(e,t,n,i,o,r,a){var l=t(r=r||e),s=l.paletteIdx||0,u=l.paletteNameMap=l.paletteNameMap||{};// Use `hasOwnProperty` to avoid conflict with Object.prototype.
if(u.hasOwnProperty(o))return u[o];var c=null!=a&&i?function(e,t){// TODO palettes must be in order
for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}(i,a):n;// In case can't find in layered color palette.
if((c=c||n)&&c.length){var d=c[s];return o&&(u[o]=d),l.paletteIdx=(s+1)%c.length,d}}var Lf="\0_ec_inner",Ef=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.init=function(e,t,n,i,o,r){i=i||{},this.option=null,// Mark as not initialized.
this._theme=new Kp(i),this._locale=new Kp(o),this._optionManager=r},t.prototype.setOption=function(e,t,n){var i=zf(t);this._optionManager.setOption(e,n,i),this._resetOption(null,i)},
/**
         * @param type null/undefined: reset all.
         *        'recreate': force recreate all.
         *        'timeline': only reset timeline option
         *        'media': only reset media query option
         * @return Whether option changed.
         */
t.prototype.resetOption=function(e,t){return this._resetOption(e,zf(t))},t.prototype._resetOption=function(e,t){var n=!1,i=this._optionManager;if(!e||"recreate"===e){var o=i.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(o,t)):If(this,o),n=!0}// By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,
// it should better not have the same props with `MediaUnit['option']`.
// Because either `option2` or `MediaUnit['option']` will be always merged to "current option"
// rather than original "baseOption". If they both override a prop, the result might be
// unexpected when media state changed after `setOption` called.
// If we really need to modify a props in each `MediaUnit['option']`, use the full version
// (`{baseOption, media}`) in `setOption`.
// For `timeline`, the case is the same.
if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var r=i.getTimelineOption(this);r&&(n=!0,this._mergeOption(r,t))}if(!e||"recreate"===e||"media"===e){var a=i.getMediaOption(this);a.length&&Ge(a,(function(e){n=!0,this._mergeOption(e,t)}),this)}return n},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var n=this.option,i=this._componentsMap,o=this._componentsCount,r=[],a=bt(),l=t&&t.replaceMergeMainTypeMap;// `datasetMap` is used to make default encode.
mf(this).datasetMap=bt(),// If no component class, merge directly.
// For example: color, animaiton options, etc.
Ge(e,(function(e,t){null!=e&&(tf.hasClass(t)?t&&(r.push(t),a.set(t,!0)):// globalSettingTask.dirty();
n[t]=null==n[t]?Ne(e):Re(n[t],e,!0))})),l&&// If there is a mainType `xxx` in `replaceMerge` but not declared in option,
// we trade it as it is declared in option as `{xxx: []}`. Because:
// (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.
// (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.
l.each((function(e,t){tf.hasClass(t)&&!a.get(t)&&(r.push(t),a.set(t,!0))})),tf.topologicalTravel(r,tf.getAllClassMainTypes(),(function(t){var r=function(e,t,n){var i=Cf.get(t);if(!i)return n;var o=i(e);return o?n.concat(o):n}(this,t,wa(e[t])),a=i.get(t),s=// `!oldCmptList` means init. See the comment in `mappingToExists`
a?l&&l.get(t)?"replaceMerge":"normalMerge":"replaceAll",u=Ia(a,r,s);// Set mainType and complete subType.
(function(e,t,n){// Set mainType and complete subType.
Ge(e,(function(e){var i=e.newOption;tt(i)&&(e.keyInfo.mainType=t,e.keyInfo.subType=function(e,t,n,i){// tooltip, markline, markpoint may always has no subType
return t.type?t.type:n?n.subType:i.determineSubType(e,t)}
/**
       * A helper for removing duplicate items between batchA and batchB,
       * and in themselves, and categorize by series.
       *
       * @param batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]
       * @param batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]
       * @return result: [resultBatchA, resultBatchB]
       */(t,i,e.existing,n))}))})(u,t,tf),// Empty it before the travel, in order to prevent `this._componentsMap`
// from being used in the `init`/`mergeOption`/`optionUpdated` of some
// components, which is probably incorrect logic.
n[t]=null,i.set(t,null),o.set(t,0);var c,d=[],p=[],h=0;// Backup series for filtering.
Ge(u,(function(e,n){var i=e.existing,o=e.newOption;if(o){var r="series"===t,a=tf.getClass(t,e.keyInfo.subType,!r);if(!a)return;// TODO Before multiple tooltips get supported, we do this check to avoid unexpected exception.
if("tooltip"===t){if(c)return;c=!0}if(i&&i.constructor===a)i.name=e.keyInfo.name,// componentModel.settingTask && componentModel.settingTask.dirty();
i.mergeOption(o,this),i.optionUpdated(o,!1);else{// PENDING Global as parent ?
var l=Be({componentIndex:n},e.keyInfo);// Assign `keyInfo`
Be(i=new a(o,this,this,l),l),e.brandNew&&(i.__requireNewView=!0),i.init(o,this,this),// Call optionUpdated after init.
// newCmptOption has been used as componentModel.option
// and may be merged with theme and default, so pass null
// to avoid confusion.
i.optionUpdated(null,!0)}}else i&&(// Consider where is no new option and should be merged using {},
// see removeEdgeAndAdd in topologicalTravel and
// ComponentModel.getAllClassMainTypes.
i.mergeOption({},this),i.optionUpdated({},!1));// If no both `resultItem.exist` and `resultItem.option`,
// either it is in `replaceMerge` and not matched by any id,
// or it has been removed in previous `replaceMerge` and left a "hole" in this component index.
i?(d.push(i.option),p.push(i),h++):(// Always do assign to avoid elided item in array.
d.push(void 0),p.push(void 0))}),this),n[t]=d,i.set(t,p),o.set(t,h),"series"===t&&Mf(this)}// If no series declared, ensure `_seriesIndices` initialized.
),this),this._seriesIndices||Mf(this)},
/**
         * Get option for output (cloned option and inner info removed)
         */
t.prototype.getOption=function(){var e=Ne(this.option);return Ge(e,(function(t,n){if(tf.hasClass(n)){for(var i=wa(t),o=i.length,r=!1,a=o-1// Inner cmpts need to be removed.
// Inner cmpts might not be at last since ec5.0, but still
// compatible for users: if inner cmpt at last, splice the returned array.
;a>=0;a--)// Remove options with inner id.
i[a]&&!Pa(i[a])?r=!0:(i[a]=null,!r&&o--);i.length=o,e[n]=i}})),delete e[Lf],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},
/**
         * @param idx If not specified, return the first one.
         */
t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var i=n[t||0];if(i)return i;if(null==t)for(var o=0;o<n.length;o++)if(n[o])return n[o]}},
/**
         * @return Never be null/undefined.
         */
t.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,o=e.id,r=e.name,a=this._componentsMap.get(t);return a&&a.length?(null!=i?(n=[],Ge(wa(i),(function(e){a[e]&&n.push(a[e])}))):n=null!=o?Nf("id",o,a):null!=r?Nf("name",r,a):Ue(a,(function(e){return!!e})),Rf(n,e)):[]},
/**
         * The interface is different from queryComponents,
         * which is convenient for inner usage.
         *
         * @usage
         * let result = findComponents(
         *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}
         * );
         * let result = findComponents(
         *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}
         * );
         * let result = findComponents(
         *     {mainType: 'series',
         *     filter: function (model, index) {...}}
         * );
         * // result like [component0, componnet1, ...]
         */
t.prototype.findComponents=function(e){var t,n=e.query,i=e.mainType,o=function(e){var t=i+"Index",n=i+"Id",o=i+"Name";return!e||null==e[t]&&null==e[n]&&null==e[o]?null:{mainType:i,// subType will be filtered finally.
index:e[t],id:e[n],name:e[o]}}(n),r=o?this.queryComponents(o):Ue(this._componentsMap.get(i),(function(e){return!!e}));return t=Rf(r,e),e.filter?Ue(t,e.filter):t},t.prototype.eachComponent=function(e,t,n){var i=this._componentsMap;if($e(e)){var o=t,r=e;i.each((function(e,t){for(var n=0;e&&n<e.length;n++){var i=e[n];i&&r.call(o,t,i,i.componentIndex)}}))}else for(var a=Je(e)?i.get(e):tt(e)?this.findComponents(e):null,l=0;a&&l<a.length;l++){var s=a[l];s&&t.call(n,s,s.componentIndex)}},
/**
         * Get series list before filtered by name.
         */
t.prototype.getSeriesByName=function(e){var t=Da(e,null);return Ue(this._componentsMap.get("series"),(function(e){return!!e&&null!=t&&e.name===t}))},
/**
         * Get series list before filtered by index.
         */
t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},
/**
         * Get series list before filtered by type.
         * FIXME: rename to getRawSeriesByType?
         */
t.prototype.getSeriesByType=function(e){return Ue(this._componentsMap.get("series"),(function(t){return!!t&&t.subType===e}))},
/**
         * Get all series before filtered.
         */
t.prototype.getSeries=function(){return Ue(this._componentsMap.get("series"),(function(e){return!!e}))},
/**
         * Count series before filtered.
         */
t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},
/**
         * After filtering, series may be different
         * from raw series.
         */
t.prototype.eachSeries=function(e,t){Tf(this),Ge(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)}),this)},
/**
         * Iterate raw series before filtered.
         *
         * @param {Function} cb
         * @param {*} context
         */
t.prototype.eachRawSeries=function(e,t){Ge(this._componentsMap.get("series"),(function(n){n&&e.call(t,n,n.componentIndex)}))},
/**
         * After filtering, series may be different.
         * from raw series.
         */
t.prototype.eachSeriesByType=function(e,t,n){Tf(this),Ge(this._seriesIndices,(function(i){var o=this._componentsMap.get("series")[i];o.subType===e&&t.call(n,o,i)}),this)},
/**
         * Iterate raw series before filtered of given type.
         */
t.prototype.eachRawSeriesByType=function(e,t,n){return Ge(this.getSeriesByType(e),t,n)},t.prototype.isSeriesFiltered=function(e){return Tf(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){Tf(this);var n=[];Ge(this._seriesIndices,(function(i){var o=this._componentsMap.get("series")[i];e.call(t,o,i)&&n.push(i)}),this),this._seriesIndices=n,this._seriesIndicesMap=bt(n)},t.prototype.restoreData=function(e){Mf(this);var t=this._componentsMap,n=[];t.each((function(e,t){tf.hasClass(t)&&n.push(t)})),tf.topologicalTravel(n,tf.getAllClassMainTypes(),(function(n){Ge(t.get(n),(function(t){!t||"series"===n&&function(e,t){if(t){var n=t.seriesIndex,i=t.seriesId,o=t.seriesName;return null!=n&&e.componentIndex!==n||null!=i&&e.id!==i||null!=o&&e.name!==o}}(t,e)||t.restoreData()}))}))},t.internalField=(Mf=function(e){var t=e._seriesIndices=[];Ge(e._componentsMap.get("series"),(function(e){// series may have been removed by `replaceMerge`.
e&&t.push(e.componentIndex)})),e._seriesIndicesMap=bt(t)},Tf=function(e){},void(If=function(e,t){// Using OPTION_INNER_KEY to mark that this option cannot be used outside,
// i.e. `chart.setOption(chart.getModel().option);` is forbidden.
e.option={},e.option[Lf]=1,// Init with series: [], in case of calling findSeries method
// before series initialized.
e._componentsMap=bt({series:[]}),e._componentsCount=bt();// If user spefied `option.aria`, aria will be enable. This detection should be
// performed before theme and globalDefault merge.
var n=t.aria;tt(n)&&null==n.enabled&&(n.enabled=!0),function(e,t){// PENDING
// NOT use `colorLayer` in theme if option has `color`
var n=e.color&&!e.colorLayer;Ge(t,(function(t,i){"colorLayer"===i&&n||tf.hasClass(i)||("object"===u(t)?e[i]=e[i]?Re(e[i],t,!1):Ne(t):null==e[i]&&(e[i]=t));// If it is component model mainType, the model handles that merge later.
// otherwise, merge them here.
}))}(t,e._theme.option),// TODO Needs clone when merging to the unexisted property
Re(t,rf,!1),e._mergeOption(t,null)})),t}(Kp);function Nf(e,t,n){// Here is a break from echarts4: string and number are
// treated as equal.
if(Ze(t)){var i=bt();return Ge(t,(function(e){null!=e&&(null!=Da(e,null)&&i.set(e,!0))})),Ue(n,(function(t){return t&&i.get(t[e])}))}var o=Da(t,null);return Ue(n,(function(t){return t&&null!=o&&t[e]===o}))}function Rf(e,t){// Using hasOwnProperty for restrict. Consider
// subType is undefined in user payload.
return t.hasOwnProperty("subType")?Ue(e,(function(e){return e&&e.subType===t.subType})):e}function zf(e){var t=bt();return e&&Ge(wa(e.replaceMerge),(function(e){t.set(e,!0)})),{replaceMergeMainTypeMap:t}}je(Ef,Df);var Bf=Ef,Ff=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL",// 'getModel',
"getOption",// 'getViewOfComponentModel',
// 'getViewOfSeriesModel',
"getId","updateLabelLayout"],Vf=function(e){Ge(Ff,(function(t){this[t]=Xe(e[t],e)}),this)},jf={},Hf=/** @class */function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(e,t){var n=[];Ge(jf,(function(i,o){var r=i.create(e,t);n=n.concat(r||[])})),this._coordinateSystems=n},e.prototype.update=function(e,t){Ge(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(e,t){jf[e]=t},e.get=function(e){return jf[e]},e}(),Gf=Hf,Wf=/^(min|max)?(.+)$/,Kf=/** @class */function(){// timeline.notMerge is not supported in ec3. Firstly there is rearly
// case that notMerge is needed. Secondly supporting 'notMerge' requires
// rawOption cloned and backuped when timeline changed, which does no
// good to performance. What's more, that both timeline and setOption
// method supply 'notMerge' brings complex and some problems.
// Consider this case:
// (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);
// (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);
function e(e){this._timelineOptions=[],this._mediaList=[],
/**
           * -1, means default.
           * empty means no media.
           */
this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,n){e&&(// That set dat primitive is dangerous if user reuse the data when setOption again.
Ge(wa(e.series),(function(e){e&&e.data&&it(e.data)&&vt(e.data)})),Ge(wa(e.dataset),(function(e){e&&e.source&&it(e.source)&&vt(e.source)}))),// Caution: some series modify option data, if do not clone,
// it should ensure that the repeat modify correctly
// (create a new object when modify itself).
e=Ne(e);// FIXME
// If some property is set in timeline options or media option but
// not set in baseOption, a warning should be given.
var i=this._optionBackup,o=
/**
       * [RAW_OPTION_PATTERNS]
       * (Note: "series: []" represents all other props in `ECUnitOption`)
       *
       * (1) No prop "baseOption" declared:
       * Root option is used as "baseOption" (except prop "options" and "media").
       * ```js
       * option = {
       *     series: [],
       *     timeline: {},
       *     options: [],
       * };
       * option = {
       *     series: [],
       *     media: {},
       * };
       * option = {
       *     series: [],
       *     timeline: {},
       *     options: [],
       *     media: {},
       * }
       * ```
       *
       * (2) Prop "baseOption" declared:
       * If "baseOption" declared, `ECUnitOption` props can only be declared
       * inside "baseOption" except prop "timeline" (compat ec2).
       * ```js
       * option = {
       *     baseOption: {
       *         timeline: {},
       *         series: [],
       *     },
       *     options: []
       * };
       * option = {
       *     baseOption: {
       *         series: [],
       *     },
       *     media: []
       * };
       * option = {
       *     baseOption: {
       *         timeline: {},
       *         series: [],
       *     },
       *     options: []
       *     media: []
       * };
       * option = {
       *     // ec3 compat ec2: allow (only) `timeline` declared
       *     // outside baseOption. Keep this setting for compat.
       *     timeline: {},
       *     baseOption: {
       *         series: [],
       *     },
       *     options: [],
       *     media: []
       * };
       * ```
       */
function(// `rawOption` May be modified
e,t,n){var i,o,r=[],a=e.baseOption,l=e.timeline,s=e.options,u=e.media,c=!!e.media,d=!!(s||l||a&&a.timeline);a?// For merge option.
(o=a).timeline||(o.timeline=l):((d||c)&&(e.options=e.media=null),o=e);c&&Ze(u)&&Ge(u,(function(e){e&&e.option&&(e.query?r.push(e):i||(// Use the first media default.
i=e))}));function p(e){Ge(t,(function(t){t(e,n)}))}return p(o),Ge(s,(function(e){return p(e)})),Ge(r,(function(e){return p(e.option)})),{baseOption:o,timelineOptions:s||[],mediaDefault:i,mediaList:r}}
/**
       * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>
       * Support: width, height, aspectRatio
       * Can use max or min as prefix.
       */(e,t,!i);this._newBaseOption=o.baseOption,// For setOption at second time (using merge mode);
i?(// FIXME
// the restore merge solution is essentially incorrect.
// the mapping can not be 100% consistent with ecModel, which probably brings
// potential bug!
// The first merge is delayed, because in most cases, users do not call `setOption` twice.
// let fakeCmptsMap = this._fakeCmptsMap;
// if (!fakeCmptsMap) {
//     fakeCmptsMap = this._fakeCmptsMap = createHashMap();
//     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);
// }
// mergeToBackupOption(
//     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt
// );
// For simplicity, timeline options and media options do not support merge,
// that is, if you `setOption` twice and both has timeline options, the latter
// timeline options will not be merged to the former, but just substitute them.
o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Ne(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){// getTimelineOption can only be called after ecModel inited,
// so we can get currentIndex from timelineModel.
var i=e.getComponent("timeline");i&&(t=Ne(// FIXME:TS as TimelineModel or quivlant interface
n[i.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t,n,i=this._api.getWidth(),o=this._api.getHeight(),r=this._mediaList,a=this._mediaDefault,l=[],s=[];// No media defined.
if(!r.length&&!a)return s;// Multi media may be applied, the latter defined media has higher priority.
for(var u=0,c=r.length;u<c;u++)Uf(r[u].query,i,o)&&l.push(u);// FIXME
// Whether mediaDefault should force users to provide? Otherwise
// the change by media query can not be recorvered.
return!l.length&&a&&(l=[-1]),l.length&&(t=l,n=this._currentMediaIndices,t.join(",")!==n.join(","))&&(s=We(l,(function(e){return Ne(-1===e?a.option:r[e].option)}))),// Otherwise return nothing.
this._currentMediaIndices=l,s},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function Uf(e,t,n){var i={width:t,height:n,aspectratio:t/n},o=!0;return Ge(e,(function(e,t){var n=t.match(Wf);if(n&&n[1]&&n[2]){var r=n[1],a=n[2].toLowerCase();(function(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t})(i[a],e,r)||(o=!1)}})),o}
/**
       * Consider case:
       * `chart.setOption(opt1);`
       * Then user do some interaction like dataZoom, dataView changing.
       * `chart.setOption(opt2);`
       * Then user press 'reset button' in toolbox.
       *
       * After doing that all of the interaction effects should be reset, the
       * chart should be the same as the result of invoke
       * `chart.setOption(opt1); chart.setOption(opt2);`.
       *
       * Although it is not able ensure that
       * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to
       * `chart.setOption(merge(opt1, opt2));` exactly,
       * this might be the only simple way to implement that feature.
       *
       * MEMO: We've considered some other approaches:
       * 1. Each model handles its self restoration but not uniform treatment.
       *     (Too complex in logic and error-prone)
       * 2. Use a shadow ecModel. (Performance expensive)
       *
       * FIXME: A possible solution:
       * Add a extra level of model for each component model. The inheritance chain would be:
       * ecModel <- componentModel <- componentActionModel <- dataItemModel
       * And all of the actions can only modify the `componentActionModel` rather than
       * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.
       * When "resotre" action triggered, model from `componentActionModel` will be discarded
       * instead of recreating the "ecModel" from the "_optionBackup".
       */
// function mergeToBackupOption(
//     fakeCmptsMap: FakeComponentsMap,
//     // `tarOption` Can be null/undefined, means init
//     tarOption: ECUnitOption,
//     newOption: ECUnitOption,
//     // Can be null/undefined
//     opt: InnerSetOptionOpts
// ): void {
//     newOption = newOption || {} as ECUnitOption;
//     const notInit = !!tarOption;
//     each(newOption, function (newOptsInMainType, mainType) {
//         if (newOptsInMainType == null) {
//             return;
//         }
//         if (!ComponentModel.hasClass(mainType)) {
//             if (tarOption) {
//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);
//             }
//         }
//         else {
//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;
//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];
//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;
//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);
//             const mappingResult = mappingToExists(
//                 oldFakeCmptsInMainType,
//                 normalizeToArray(newOptsInMainType),
//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'
//             );
//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);
//             each(mappingResult, function (resultItem, index) {
//                 // The same logic as `Global.ts#_mergeOption`.
//                 let fakeCmpt = resultItem.existing;
//                 const newOption = resultItem.newOption;
//                 const keyInfo = resultItem.keyInfo;
//                 let fakeCmptOpt;
//                 if (!newOption) {
//                     fakeCmptOpt = oldTarOptsInMainType[index];
//                 }
//                 else {
//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {
//                         fakeCmpt.name = keyInfo.name;
//                         if (notInit) {
//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);
//                         }
//                     }
//                     else {
//                         fakeCmpt = extend({}, keyInfo);
//                         if (notInit) {
//                             fakeCmptOpt = clone(newOption);
//                         }
//                     }
//                 }
//                 if (fakeCmpt) {
//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);
//                     resultFakeCmptsInMainType.push(fakeCmpt);
//                 }
//                 else {
//                     notInit && resultTarOptsInMainType.push(void 0);
//                     resultFakeCmptsInMainType.push(void 0);
//                 }
//             });
//         }
//     });
// }
var Yf=Kf,Xf=Ge,qf=tt,Zf=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function $f(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=Zf.length;n<i;n++){var o=Zf[n],r=t.normal,a=t.emphasis;r&&r[o]&&(e[o]=e[o]||{},e[o].normal?Re(e[o].normal,r[o]):e[o].normal=r[o],r[o]=null),a&&a[o]&&(e[o]=e[o]||{},e[o].emphasis?Re(e[o].emphasis,a[o]):e[o].emphasis=a[o],a[o]=null)}}function Jf(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,o=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,Fe(e[t],i)):e[t]=i),o&&(e.emphasis=e.emphasis||{},e.emphasis[t]=o,// Also compat the case user mix the style and focus together in ec3 style
// for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }
o.focus&&(e.emphasis.focus=o.focus),o.blurScope&&(e.emphasis.blurScope=o.blurScope))}}function Qf(e){Jf(e,"itemStyle"),Jf(e,"lineStyle"),Jf(e,"areaStyle"),Jf(e,"label"),Jf(e,"labelLine"),// treemap
Jf(e,"upperLabel"),// graph
Jf(e,"edgeLabel")}function ev(e,t){// Check whether is not object (string\null\undefined ...)
var n=qf(e)&&e[t],i=qf(n)&&n.textStyle;if(i)for(var o=0,r=Ca.length;o<r;o++){var a=Ca[o];i.hasOwnProperty(a)&&(n[a]=i[a])}}function tv(e){e&&(Qf(e),ev(e,"label"),e.emphasis&&ev(e.emphasis,"label"))}function nv(e){return Ze(e)?e:e?[e]:[]}function iv(e){return(Ze(e)?e[0]:e)||{}}function ov(e,t){Xf(nv(e.series),(function(e){qf(e)&&function(e){if(qf(e)){$f(e),Qf(e),ev(e,"label"),// treemap
ev(e,"upperLabel"),// graph
ev(e,"edgeLabel"),e.emphasis&&(ev(e.emphasis,"label"),// treemap
ev(e.emphasis,"upperLabel"),// graph
ev(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&($f(t),tv(t));var n=e.markLine;n&&($f(n),tv(n));var i=e.markArea;i&&tv(i);var o=e.data;// Break with ec3: if `setOption` again, there may be no `type` in option,
// then the backward compat based on option type will not be performed.
if("graph"===e.type){o=o||e.nodes;var r=e.links||e.edges;if(r&&!it(r))for(var a=0;a<r.length;a++)tv(r[a]);Ge(e.categories,(function(e){Qf(e)}))}if(o&&!it(o))for(a=0;a<o.length;a++)tv(o[a]);// mark point data
if((t=e.markPoint)&&t.data){var l=t.data;for(a=0;a<l.length;a++)tv(l[a])}// mark line data
if((n=e.markLine)&&n.data){var s=n.data;for(a=0;a<s.length;a++)Ze(s[a])?(tv(s[a][0]),tv(s[a][1])):tv(s[a])}// Series
"gauge"===e.type?(ev(e,"axisLabel"),ev(e,"title"),ev(e,"detail")):"treemap"===e.type?(Jf(e.breadcrumb,"itemStyle"),Ge(e.levels,(function(e){Qf(e)}))):"tree"===e.type&&Qf(e.leaves);// sunburst starts from ec4, so it does not need to compat levels.
}}(e)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Xf(n,(function(t){Xf(nv(e[t]),(function(e){e&&(ev(e,"axisLabel"),ev(e.axisPointer,"label"))}))})),Xf(nv(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;ev(t,"axisLabel"),ev(t&&t.axisPointer,"label")})),Xf(nv(e.calendar),(function(e){Jf(e,"itemStyle"),ev(e,"dayLabel"),ev(e,"monthLabel"),ev(e,"yearLabel")})),// radar.name.textStyle
Xf(nv(e.radar),(function(e){ev(e,"name"),// Use axisName instead of name because component has name property
e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)})),Xf(nv(e.geo),(function(e){qf(e)&&(tv(e),Xf(nv(e.regions),(function(e){tv(e)})))})),Xf(nv(e.timeline),(function(e){tv(e),Jf(e,"label"),Jf(e,"itemStyle"),Jf(e,"controlStyle",!0);var t=e.data;Ze(t)&&Ge(t,(function(e){tt(e)&&(Jf(e,"label"),Jf(e,"itemStyle"))}))})),Xf(nv(e.toolbox),(function(e){Jf(e,"iconStyle"),Xf(e.feature,(function(e){Jf(e,"iconStyle")}))})),ev(iv(e.axisPointer),"label"),ev(iv(e.tooltip).axisPointer,"label")}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function rv(e){e&&Ge(av,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var av=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],lv=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],sv=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function uv(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<sv.length;n++){var i=sv[n][1],o=sv[n][0];null!=t[i]&&(t[o]=t[i])}}function cv(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function dv(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function pv(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&pv(e[n].children,t)}function hv(e,t){ov(e,t),// Make sure series array for model initialization.
e.series=wa(e.series),Ge(e.series,(function(e){if(tt(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t){if(null!=e.clockWise&&(e.clockwise=e.clockWise),cv(e.label),(o=e.data)&&!it(o))for(var n=0;n<o.length;n++)cv(o[n]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===t){var i=function(e,t){for(var n=t.split(","),i=e,o=0;o<n.length&&null!=(i=i&&i[n[o]]);o++);return i}(e,"pointer.color");null!=i&&function(e,t,n,i){for(var o,r=t.split(","),a=e,l=0;l<r.length-1;l++)null==a[o=r[l]]&&(a[o]={}),a=a[o];(i||null==a[r[l]])&&(a[r[l]]=n)}(e,"itemStyle.color",i)}else if("bar"===t){var o;if(uv(e),uv(e.backgroundStyle),uv(e.emphasis),(o=e.data)&&!it(o))for(n=0;n<o.length;n++)"object"===u(o[n])&&(uv(o[n]),uv(o[n]&&o[n].emphasis))}else if("sunburst"===t){var r=e.highlightPolicy;r&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=r)),dv(e),pv(e.data,dv)}else"graph"===t||"sankey"===t?function(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}(e):"map"===t&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Fe(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),rv(e)}})),// dataRange has changed to visualMap
e.dataRange&&(e.visualMap=e.dataRange),Ge(lv,(function(t){var n=e[t];n&&(Ze(n)||(n=[n]),Ge(n,(function(e){rv(e)})))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
//     data processing stage is blocked in stream.
//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>
// (2) Only register once when import repeatedly.
//     Should be executed after series is filtered and before stack calculation.
function fv(e){Ge(e,(function(t,n){var i=[],o=[NaN,NaN],r=[t.stackResultDimension,t.stackedOverDimension],a=t.data,l=t.isStackedByIndex,s=t.seriesModel.get("stackStrategy")||"samesign";// Should not write on raw data, because stack series model list changes
// depending on legend selection.
a.modify(r,(function(r,u,c){var d,p,h=a.get(t.stackedDimension,c);// Consider `connectNulls` of line area, if value is NaN, stackedOver
// should also be NaN, to draw a appropriate belt area.
if(isNaN(h))return o;l?p=a.getRawIndex(c):d=a.get(t.stackedByDimension,c);// If stackOver is NaN, chart view will render point on value start.
for(var f=NaN,v=n-1;v>=0;v--){var g=e[v];// Has been optimized by inverted indices on `stackedByDimension`.
if(l||(p=g.data.rawIndexOf(g.stackedByDimension,d)),p>=0){var y=g.data.getByRawIndex(g.stackResultDimension,p);// Considering positive stack, negative stack and empty data
if("all"===s||"positive"===s&&y>0||"negative"===s&&y<0||"samesign"===s&&h>=0&&y>0||"samesign"===s&&h<=0&&y<0){// The sum has to be very small to be affected by the
// floating arithmetic problem. An incorrect result will probably
// cause axis min/max to be filtered incorrectly.
h=ia(h,y),f=y;break}}}return i[0]=h,i[1]=f,i}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var vv,gv,yv,mv,xv,bv=function(e){this.data=e.data||(e.sourceFormat===cf?{}:[]),this.sourceFormat=e.sourceFormat||pf,// Visit config
this.seriesLayoutBy=e.seriesLayoutBy||hf,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var i=t[n];null==i.type&&wf(this,n)===vf&&(i.type="ordinal")}};function _v(e){return e instanceof bv}
/**
       * Create a source from option.
       * NOTE: Created source is immutable. Don't change any properties in it.
       */function wv(e,t,// can be null. If not provided, auto detect it from `sourceData`.
n){n=n||Cv(e);var i=t.seriesLayoutBy,o=
/**
       * Determine the source definitions from data standalone dimensions definitions
       * are not specified.
       */
function(e,t,n,i,// standalone raw dimensions definition, like:
// {
//     dimensions: ['aa', 'bb', { name: 'cc', type: 'time' }]
// }
// in `dataset` or `series`
o){var r,a;// PENDING: Could data be null/undefined here?
// currently, if `dataset.source` not specified, error thrown.
// if `series.data` not specified, nothing rendered without error thrown.
// Should test these cases.
if(!e)return{dimensionsDefine:Mv(o),startIndex:a,dimensionsDetectedCount:r};if(t===sf){var l=e;// Rule: Most of the first line are string: it is header.
// Caution: consider a line with 5 string and 1 number,
// it still can not be sure it is a head, because the
// 5 string may be 5 values of category columns.
"auto"===i||null==i?Tv((function(e){// '-' is regarded as null/undefined.
null!=e&&"-"!==e&&(Je(e)?null==a&&(a=1):a=0);// 10 is an experience number, avoid long loop.
}),n,l,10):a=et(i)?i:i?1:0,o||1!==a||(o=[],Tv((function(e,t){o[t]=null!=e?e+"":""}),n,l,1/0)),r=o?o.length:n===ff?l.length:l[0]?l[0].length:null}else if(t===uf)o||(o=function(e){var t,n=0;for(;n<e.length&&!(t=e[n++]););// jshint ignore: line
if(t){var i=[];return Ge(t,(function(e,t){i.push(t)})),i}}// Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],
// which is reasonable. But dimension name is duplicated.
// Returns undefined or an array contains only object without null/undefined or string.
(e));else if(t===cf)o||(o=[],Ge(e,(function(e,t){o.push(t)})));else if(t===lf){var s=Ma(e[0]);r=Ze(s)&&s.length||1}return{startIndex:a,dimensionsDefine:Mv(o),dimensionsDetectedCount:r}}(e,n,i,t.sourceHeader,t.dimensions);return new bv({data:e,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:Ne(t)})}
/**
       * Wrap original series data for some compatibility cases.
       */function Sv(e){return new bv({data:e,sourceFormat:it(e)?df:lf})}
/**
       * Clone source but excludes source data.
       */
/**
       * Note: An empty array will be detected as `SOURCE_FORMAT_ARRAY_ROWS`.
       */
function Cv(e){var t=pf;if(it(e))t=df;else if(Ze(e)){// FIXME Whether tolerate null in top level array?
0===e.length&&(t=sf);for(var n=0,i=e.length;n<i;n++){var o=e[n];if(null!=o){if(Ze(o)){t=sf;break}if(tt(o)){t=uf;break}}}}else if(tt(e))for(var r in e)if(Ct(e,r)&&He(e[r])){t=cf;break}return t}function Mv(e){if(e){var t=bt();return We(e,(function(e,n){// Other fields will be discarded.
var i={name:(e=tt(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};// User can set null in dimensions.
// We don't auto specify name, otherwise a given name may
// cause it to be referred unexpectedly.
if(null==i.name)return i;// Also consider number form like 2012.
i.name+="",// User may also specify displayName.
// displayName will always exists except user not
// specified or dim name is not specified or detected.
// (A auto generated dim name will not be used as
// displayName).
null==i.displayName&&(i.displayName=i.name);var o=t.get(i.name);return o?i.name+="-"+o.count++:t.set(i.name,{count:1}),i}))}}function Tv(e,t,n,i){if(t===ff)for(var o=0;o<n.length&&o<i;o++)e(n[o]?n[o][0]:null,o);else{var r=n[0]||[];for(o=0;o<r.length&&o<i;o++)e(r[o],o)}}function Iv(e){var t=e.sourceFormat;return t===uf||t===cf}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * If normal array used, mutable chunk size is supported.
       * If typed array used, chunk size must be fixed.
       */
var kv=/** @class */function(){function e(e,t){// let source: Source;
var n=_v(e)?e:Sv(e);// declare source is Source;
this._source=n;var i=this._data=n.data;// Typed array. TODO IE10+?
n.sourceFormat===df&&(this._offset=0,this._dimSize=t,this._data=i),xv(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(e,t){},e.prototype.appendData=function(e){},e.prototype.clean=function(){},e.protoInitialize=function(){// PENDING: To avoid potential incompat (e.g., prototype
// is visited somewhere), still init them on prototype.
var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var e;xv=function(e,o,r){var a=r.sourceFormat,l=r.seriesLayoutBy,s=r.startIndex,u=r.dimensionsDefine;if(Be(e,mv[Bv(a,l)]),a===df)e.getItem=t,e.count=i,e.fillStorage=n;else{var c=Ov(a,l);e.getItem=Xe(c,null,o,s,u);var d=Ev(a,l);e.count=Xe(d,null,o,s,u)}};var t=function(e,t){e-=this._offset,t=t||[];for(var n=this._data,i=this._dimSize,o=i*e,r=0;r<i;r++)t[r]=n[o+r];return t},n=function(e,t,n,i){for(var o=this._data,r=this._dimSize,a=0;a<r;a++){for(var l=i[a],s=null==l[0]?1/0:l[0],u=null==l[1]?-1/0:l[1],c=t-e,d=n[a],p=0;p<c;p++){// appendData with TypedArray will always do replace in provider.
var h=o[p*r+a];d[e+p]=h,h<s&&(s=h),h>u&&(u=h)}l[0]=s,l[1]=u}},i=function(){return this._data?this._data.length/this._dimSize:0};function o(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}(e={})[sf+"_"+hf]={pure:!0,appendData:o},e[sf+"_"+ff]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[uf]={pure:!0,appendData:o},e[cf]={pure:!0,appendData:function(e){var t=this._data;Ge(e,(function(e,n){for(var i=t[n]||(t[n]=[]),o=0;o<(e||[]).length;o++)i.push(e[o])}))}},e[lf]={appendData:o},e[df]={persistent:!1,pure:!0,appendData:function(e){this._data=e},// Clean self if data is already used.
clean:function(){// PENDING
this._offset+=this.count(),this._data=null}},mv=e}(),e}(),Av=function(e,t,n,i){return e[i]},Dv=((vv={})[sf+"_"+hf]=function(e,t,n,i){return e[i+t]},vv[sf+"_"+ff]=function(e,t,n,i,o){i+=t;for(var r=o||[],a=e,l=0;l<a.length;l++){var s=a[l];r[l]=s?s[i]:null}return r},vv[uf]=Av,vv[cf]=function(e,t,n,i,o){for(var r=o||[],a=0;a<n.length;a++){var l=e[n[a].name];r[a]=l?l[i]:null}return r},vv[lf]=Av,vv);function Ov(e,t){return Dv[Bv(e,t)]}var Pv=function(e,t,n){return e.length},Lv=((gv={})[sf+"_"+hf]=function(e,t,n){return Math.max(0,e.length-t)},gv[sf+"_"+ff]=function(e,t,n){var i=e[0];return i?Math.max(0,i.length-t):0},gv[uf]=Pv,gv[cf]=function(e,t,n){var i=e[n[0].name];return i?i.length:0},gv[lf]=Pv,gv);function Ev(e,t){return Lv[Bv(e,t)]}var Nv=function(e,t,n){return e[t]},Rv=((yv={})[sf]=Nv,yv[uf]=function(e,t,n){return e[n]},yv[cf]=Nv,yv[lf]=function(e,t,n){// FIXME: In some case (markpoint in geo (geo-map.html)),
// dataItem is {coord: [...]}
var i=Ma(e);return i instanceof Array?i[t]:i},yv[df]=Nv,yv);function zv(e){return Rv[e]}function Bv(e,t){return e===sf?e+"_"+t:e}// ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,
// Consider persistent.
// Caution: why use raw value to display on label or tooltip?
// A reason is to avoid format. For example time value we do not know
// how to format is expected. More over, if stack is used, calculated
// value may be 0.91000000001, which have brings trouble to display.
// TODO: consider how to treat null/undefined/NaN when display?
function Fv(e,t,// If dimIndex is null/undefined, return OptionDataItem.
// Otherwise, return OptionDataValue.
n){if(e){// Consider data may be not persistent.
var i=e.getRawDataItem(t);if(null!=i){var o=e.getStore(),r=o.getSource().sourceFormat;if(null!=n){var a=e.getDimensionIndex(n),l=o.getDimensionProperty(a);return zv(r)(i,a,l)}var s=i;return r===lf&&(s=Ma(i)),s}}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var Vv=/\{@(.+?)\}/g,jv=/** @class */function(){function e(){}
/**
         * Get params for formatter
         */return e.prototype.getDataParams=function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),o=n.getRawIndex(e),r=n.getName(e),a=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),s=l&&l[n.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,c=this.mainType,d="series"===c,p=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:r,dataIndex:o,data:a,dataType:t,value:i,color:s,borderColor:u,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,// Param name list for mapping `a`, `b`, `c`, `d`, `e`
$vars:["seriesName","name","value"]}},
/**
         * Format label
         * @param dataIndex
         * @param status 'normal' by default
         * @param dataType
         * @param labelDimIndex Only used in some chart that
         *        use formatter in different dimensions, like radar.
         * @param formatter Formatter given outside.
         * @return return null/undefined if no formatter
         */
e.prototype.getFormattedLabel=function(e,t,n,i,o,r){t=t||"normal";var a=this.getData(n),l=this.getDataParams(e,n);(r&&(l.value=r.interpolatedValue),null!=i&&Ze(l.value)&&(l.value=l.value[i]),o)||(// @ts-ignore
o=a.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"]));return $e(o)?(l.status=t,l.dimensionIndex=i,o(l)):Je(o)?Fh(o,l).replace(Vv,(function(t,n){var i=n.length,o=n;"["===o.charAt(0)&&"]"===o.charAt(i-1)&&(o=+o.slice(1,i-1));var l=Fv(a,e,o);if(r&&Ze(r.interpolatedValue)){var s=a.getDimensionIndex(o);s>=0&&(l=r.interpolatedValue[s])}return null!=l?l+"":""})):void 0},
/**
         * Get raw value in option
         */
e.prototype.getRawValue=function(e,t){return Fv(this.getData(t),e)},
/**
         * Should be implemented.
         * @param {number} dataIndex
         * @param {boolean} [multipleSeries=false]
         * @param {string} [dataType]
         */
e.prototype.formatTooltip=function(e,t,n){},e}();// but guess little chance has been used outside. Do we need to backward
// compat it?
// type TooltipFormatResultLegacyObject = {
//     // `html` means the markup language text, either in 'html' or 'richText'.
//     // The name `html` is not appropriate because in 'richText' it is not a HTML
//     // string. But still support it for backward compatibility.
//     html: string;
//     markers: Dictionary<ColorString>;
// };
/**
       * For backward compat, normalize the return from `formatTooltip`.
       */
function Hv(e){var t,n;// let markers: Dictionary<ColorString>;
return tt(e)?e.type&&(n=e):t=e,{text:t,// markers: markers || markersExisting,
frag:n}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * @param {Object} define
       * @return See the return of `createTask`.
       */function Gv(e){return new Wv(e)}var Wv=/** @class */function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}
/**
         * @param step Specified step.
         * @param skip Skip customer perform call.
         * @param modBy Sampling window size.
         * @param modDataCount Sampling count.
         * @return whether unfinished.
         */return e.prototype.perform=function(e){var t,n=this._upstream,i=e&&e.skip;// TODO some refactor.
// Pull data. Must pull data each time, because context.data
// may be updated by Series.setData.
if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context));// Support sharding by mod, which changes the render sequence and makes the rendered graphic
// elements uniformed distributed when progress, especially when moving or zooming.
var r,a=c(this._modBy),l=this._modDataCount||0,s=c(e&&e.modBy),u=e&&e.modDataCount||0;function c(e){// jshint ignore:line
return!(e>=1)&&(e=1),e}a===s&&l===u||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,r=this._doReset(i)),this._modBy=s,this._modDataCount=u;var d=e&&e.step;// Note: Stubs, that its host overall task let it has progress, has progress.
// If no progress, pass index from upstream to downstream each time plan called.
if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,h=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!i&&(r||p<h)){var f=this._progress;if(Ze(f))for(var v=0;v<f.length;v++)this._doProgress(f[v],p,h,s,u);else this._doProgress(f,p,h,s,u)}this._dueIndex=h;// If no `outputDueEnd`, assume that output data and
// input data is the same, so use `dueIndex` as `outputDueEnd`.
var g=null!=this._settedOutputEnd?this._settedOutputEnd:h;this._outputDueEnd=g}else// (1) Some overall task has no progress.
// (2) Stubs, that its host overall task do not let it has progress, has no progress.
// This should always be performed so it can be passed to downstream.
this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,i,o){Kv.reset(t,n,i,o),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:Kv.next},this.context)},e.prototype._doReset=function(e){var t,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(n=t.forceFirstProgress,t=t.progress),// To simplify no progress checking, array must has item.
Ze(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},
/**
         * @param downTask The downstream task.
         * @return The downstream task.
         */
e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){// This only happens in dataTask, dataZoom, map, currently.
// where dataZoom do not set end each time, but only set
// when reset. So we should record the set end, in case
// that the stub of dataZoom perform again and earse the
// set end by upstream.
this._outputDueEnd=this._settedOutputEnd=e},e}(),Kv=function(){var e,t,n,i,o,r={reset:function(s,u,c,d){t=s,e=u,n=c,i=d,o=Math.ceil(i/n),r.next=n>1&&i>0?l:a}};return r;function a(){return t<e?t++:null}function l(){var r=t%o*n+Math.ceil(t/o),a=t>=e?null:r<i?r:t;return t++,a}}();// -----------------------------------------------------------------------------
// For stream debug (Should be commented out after used!)
// @usage: printTask(this, 'begin');
// @usage: printTask(this, null, {someExtraProp});
// @usage: Use `__idxInPipeline` as conditional breakpiont.
// window.printTask = function (task: any, prefix: string, extra: { [key: string]: unknown }): void {
//     window.ecTaskUID == null && (window.ecTaskUID = 0);
//     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);
//     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);
//     let props = [];
//     if (task.__pipeline) {
//         let val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;
//         props.push({text: '__idxInPipeline/total', value: val});
//     } else {
//         let stubCount = 0;
//         task.agentStubMap.each(() => stubCount++);
//         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});
//     }
//     props.push({text: 'uid', value: task.uidDebug});
//     if (task.__pipeline) {
//         props.push({text: 'pipelineId', value: task.__pipeline.id});
//         task.agent && props.push(
//             {text: 'stubFor', value: task.agent.uidDebug}
//         );
//     }
//     props.push(
//         {text: 'dirty', value: task._dirty},
//         {text: 'dueIndex', value: task._dueIndex},
//         {text: 'dueEnd', value: task._dueEnd},
//         {text: 'outputDueEnd', value: task._outputDueEnd}
//     );
//     if (extra) {
//         Object.keys(extra).forEach(key => {
//             props.push({text: key, value: extra[key]});
//         });
//     }
//     let args = ['color: blue'];
//     let msg = `%c[${prefix || 'T'}] %c` + props.map(item => (
//         args.push('color: green', 'color: red'),
//         `${item.text}: %c${item.value}`
//     )).join('%c, ');
//     console.log.apply(console, [msg].concat(args));
//     // console.log(this);
// };
// window.printPipeline = function (task: any, prefix: string) {
//     const pipeline = task.__pipeline;
//     let currTask = pipeline.head;
//     while (currTask) {
//         window.printTask(currTask, prefix);
//         currTask = currTask._downstream;
//     }
// };
// window.showChain = function (chainHeadTask) {
//     var chain = [];
//     var task = chainHeadTask;
//     while (task) {
//         chain.push({
//             task: task,
//             up: task._upstream,
//             down: task._downstream,
//             idxInPipeline: task.__idxInPipeline
//         });
//         task = task._downstream;
//     }
//     return chain;
// };
// window.findTaskInChain = function (task, chainHeadTask) {
//     let chain = window.showChain(chainHeadTask);
//     let result = [];
//     for (let i = 0; i < chain.length; i++) {
//         let chainItem = chain[i];
//         if (chainItem.task === task) {
//             result.push(i);
//         }
//     }
//     return result;
// };
// window.printChainAEachInChainB = function (chainHeadTaskA, chainHeadTaskB) {
//     let chainA = window.showChain(chainHeadTaskA);
//     for (let i = 0; i < chainA.length; i++) {
//         console.log('chainAIdx:', i, 'inChainB:', window.findTaskInChain(chainA[i].task, chainHeadTaskB));
//     }
// };
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Convert raw the value in to inner value in List.
       *
       * [Performance sensitive]
       *
       * [Caution]: this is the key logic of user value parser.
       * For backward compatibility, do not modify it until you have to!
       */
function Uv(e,// For high performance, do not omit the second param.
t){// Performance sensitive.
var n=t&&t.type;return"ordinal"===n?e:("time"!==n||et(e)||null==e||"-"===e||(e=+sa(e)),null==e||""===e?NaN:+e)}var Yv=bt({number:function(e){// Do not use `numericToNumber` here. We have `numericToNumber` by default.
// Here the number parser can have loose rule:
// enable to cut suffix: "120px" => 120, "14%" => 14.
return parseFloat(e)},time:function(e){// return timestamp.
return+sa(e)},trim:function(e){return Je(e)?ht(e):e}});function Xv(e){return Yv.get(e)}var qv={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},Zv=/** @class */function(){function e(e,t){if(!et(t)){ma("")}this._opFn=qv[e],this._rvalFloat=ha(t)}// Performance sensitive.
return e.prototype.evaluate=function(e){// Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.
return et(e)?this._opFn(e,this._rvalFloat):this._opFn(ha(e),this._rvalFloat)},e}(),$v=/** @class */function(){
/**
         * @param order by default: 'asc'
         * @param incomparable by default: Always on the tail.
         *        That is, if 'asc' => 'max', if 'desc' => 'min'
         *        See the definition of "incomparable" in [SORT_COMPARISON_RULE].
         */
function e(e,t){var n="desc"===e;this._resultLT=n?1:-1,null==t&&(t=n?"min":"max"),this._incomparable="min"===t?-1/0:1/0}// See [SORT_COMPARISON_RULE].
// Performance sensitive.
return e.prototype.evaluate=function(e,t){// Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.
var n=et(e)?e:ha(e),i=et(t)?t:ha(t),o=isNaN(n),r=isNaN(i);if(o&&(n=this._incomparable),r&&(i=this._incomparable),o&&r){var a=Je(e),l=Je(t);a&&(n=l?e:0),l&&(i=a?t:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e}(),Jv=/** @class */function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=u(t),this._rvalFloat=ha(t)}// Performance sensitive.
return e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=u(e);n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(t=ha(e)===this._rvalFloat)}return this._isEQ?t:!t},e}();
/**
       * [FILTER_COMPARISON_RULE]
       * `lt`|`lte`|`gt`|`gte`:
       * + rval must be a number. And lval will be converted to number (`numericToNumber`) to compare.
       * `eq`:
       * + If same type, compare with `===`.
       * + If there is one number, convert to number (`numericToNumber`) to compare.
       * + Else return `false`.
       * `ne`:
       * + Not `eq`.
       *
       *
       * [SORT_COMPARISON_RULE]
       * All the values are grouped into three categories:
       * + "numeric" (number and numeric string)
       * + "non-numeric-string" (string that excluding numeric string)
       * + "others"
       * "numeric" vs "numeric": values are ordered by number order.
       * "non-numeric-string" vs "non-numeric-string": values are ordered by ES spec (#sec-abstract-relational-comparison).
       * "others" vs "others": do not change order (always return 0).
       * "numeric" vs "non-numeric-string": "non-numeric-string" is treated as "incomparable".
       * "number" vs "others": "others" is treated as "incomparable".
       * "non-numeric-string" vs "others": "others" is treated as "incomparable".
       * "incomparable" will be seen as -Infinity or Infinity (depends on the settings).
       * MEMO:
       *   Non-numeric string sort makes sense when we need to put the items with the same tag together.
       *   But if we support string sort, we still need to avoid the misleading like `'2' > '12'`,
       *   So we treat "numeric-string" sorted by number order rather than string comparison.
       *
       *
       * [CHECK_LIST_OF_THE_RULE_DESIGN]
       * + Do not support string comparison until required. And also need to
       *   avoid the misleading of "2" > "12".
       * + Should avoid the misleading case:
       *   `" 22 " gte "22"` is `true` but `" 22 " eq "22"` is `false`.
       * + JS bad case should be avoided: null <= 0, [] <= 0, ' ' <= 0, ...
       * + Only "numeric" can be converted to comparable number, otherwise converted to NaN.
       *   See `util/number.ts#numericToNumber`.
       *
       * @return If `op` is not `RelationalOperator`, return null;
       */
function Qv(e,t){return"eq"===e||"ne"===e?new Jv("eq"===e,t):Ct(qv,e)?new Zv(e,t):null}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * TODO: disable writable.
       * This structure will be exposed to users.
       */var eg=/** @class */function(){function e(){}return e.prototype.getRawData=function(){// Only built-in transform available.
throw new Error("not supported")},e.prototype.getRawDataItem=function(e){// Only built-in transform available.
throw new Error("not supported")},e.prototype.cloneRawData=function(){},
/**
         * @return If dimension not found, return null/undefined.
         */
e.prototype.getDimensionInfo=function(e){},
/**
         * dimensions defined if and only if either:
         * (a) dataset.dimensions are declared.
         * (b) dataset data include dimensions definitions in data (detected or via specified `sourceHeader`).
         * If dimensions are defined, `dimensionInfoAll` is corresponding to
         * the defined dimensions.
         * Otherwise, `dimensionInfoAll` is determined by data columns.
         * @return Always return an array (even empty array).
         */
e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},
/**
         * Only support by dimension index.
         * No need to support by dimension name in transform function,
         * because transform function is not case-specific, no need to use name literally.
         */
e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return Uv(e,t)},e}();function tg(e){if(!lg(e.sourceFormat)){ma("")}return e.data}function ng(e){var t=e.sourceFormat,n=e.data;if(!lg(t)){ma("")}if(t===sf){for(var i=[],o=0,r=n.length;o<r;o++)// Not strictly clone for performance
i.push(n[o].slice());return i}if(t===uf){for(i=[],o=0,r=n.length;o<r;o++)// Not strictly clone for performance
i.push(Be({},n[o]));return i}}function ig(e,t,n){if(null!=n)// Keep the same logic as `List::getDimension` did.
return et(n)||!isNaN(n)&&!Ct(t,n)?e[n]:Ct(t,n)?t[n]:void 0}function og(e){return Ne(e)}var rg=bt();function ag(e,t,n,// If `pipeIndex` is null/undefined, no piped transform.
i){t.length||ma(""),tt(e)||ma("");var o=e.type,r=rg.get(o);r||ma("");// Prepare source
var a=We(t,(function(e){return function(e,t){var n=new eg,i=e.data,o=n.sourceFormat=e.sourceFormat,r=e.startIndex;e.seriesLayoutBy!==hf&&ma("");// [MEMO]
// Create a new dimensions structure for exposing.
// Do not expose all dimension info to users directly.
// Because the dimension is probably auto detected from data and not might reliable.
// Should not lead the transformers to think that is reliable and return it.
// See [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.
var a=[],l={},s=e.dimensionsDefine;if(s)Ge(s,(function(e,t){var n=e.name,i={index:t,name:n,displayName:e.displayName};a.push(i),// Users probably do not specify dimension name. For simplicity, data transform
// does not generate dimension name.
null!=n&&(Ct(l,n)&&ma(""),l[n]=i)}));else for(var u=0;u<e.dimensionsDetectedCount;u++)// Do not generete name or anything others. The consequence process in
// `transform` or `series` probably have there own name generation strategry.
a.push({index:u});// Implement public methods:
var c=Ov(o,hf);t.__isBuiltIn&&(n.getRawDataItem=function(e){return c(i,r,a,e)},n.getRawData=Xe(tg,null,e)),n.cloneRawData=Xe(ng,null,e);var d=Ev(o,hf);n.count=Xe(d,null,i,r,a);var p=zv(o);n.retrieveValue=function(e,t){var n=c(i,r,a,e);return h(n,t)};var h=n.retrieveValueFromItem=function(e,t){if(null!=e){var n=a[t];// When `dimIndex` is `null`, `rawValueGetter` return the whole item.
return n?p(e,t,n.name):void 0}};return n.getDimensionInfo=Xe(ig,null,a,l),n.cloneAllDimensionInfo=Xe(og,null,a),n}(e,r)}));return We(wa(r.transform({upstream:a[0],upstreamList:a,config:Ne(e.config)})),(function(e,n){var i;tt(e)||ma(""),e.data||ma(""),lg(Cv(e.data))||ma("");var o=t[0];
/**
           * Intuitively, the end users known the content of the original `dataset.source`,
           * calucating the transform result in mind.
           * Suppose the original `dataset.source` is:
           * ```js
           * [
           *     ['product', '2012', '2013', '2014', '2015'],
           *     ['AAA', 41.1, 30.4, 65.1, 53.3],
           *     ['BBB', 86.5, 92.1, 85.7, 83.1],
           *     ['CCC', 24.1, 67.2, 79.5, 86.4]
           * ]
           * ```
           * The dimension info have to be detected from the source data.
           * Some of the transformers (like filter, sort) will follow the dimension info
           * of upstream, while others use new dimensions (like aggregate).
           * Transformer can output a field `dimensions` to define the its own output dimensions.
           * We also allow transformers to ignore the output `dimensions` field, and
           * inherit the upstream dimensions definition. It can reduce the burden of handling
           * dimensions in transformers.
           *
           * See also [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.
           */if(o&&0===n&&!e.dimensions){var r=o.startIndex;// We copy the header of upstream to the result, because:
// (1) The returned data always does not contain header line and can not be used
// as dimension-detection. In this case we can not use "detected dimensions" of
// upstream directly, because it might be detected based on different `seriesLayoutBy`.
// (2) We should support that the series read the upstream source in `seriesLayoutBy: 'row'`.
// So the original detected header should be add to the result, otherwise they can not be read.
r&&(e.data=o.data.slice(0,r).concat(e.data)),i={seriesLayoutBy:hf,sourceHeader:r,dimensions:o.metaRawOption.dimensions}}else i={seriesLayoutBy:hf,sourceHeader:0,dimensions:e.dimensions};return wv(e.data,i,null)}))}function lg(e){return e===sf||e===uf}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var sg,ug="undefined",cg=("undefined"==typeof Uint32Array?"undefined":u(Uint32Array))===ug?Array:Uint32Array,dg=("undefined"==typeof Uint16Array?"undefined":u(Uint16Array))===ug?Array:Uint16Array,pg=("undefined"==typeof Int32Array?"undefined":u(Int32Array))===ug?Array:Int32Array,hg=("undefined"==typeof Float64Array?"undefined":u(Float64Array))===ug?Array:Float64Array,fg={float:hg,int:pg,// Ordinal data type can be string or int
ordinal:Array,number:Array,time:hg};/* global Float64Array, Int32Array, Uint32Array, Uint16Array */ // Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is
// different from the Ctor of typed array.
function vg(e){// The possible max value in this._indicies is always this._rawCount despite of filtering.
return e>65535?cg:dg}function gg(e,t,n,i,o){var r=fg[n||"float"];if(o){var a=e[t],l=a&&a.length;if(l!==i){// The cost of the copy is probably inconsiderable
// within the initial chunkSize.
for(var s=new r(i),u=0;u<l;u++)s[u]=a[u];e[t]=s}}else e[t]=new r(i)}
/**
       * Basically, DataStore API keep immutable.
       */var yg=/** @class */function(){function e(){this._chunks=[],// It will not be calculated util needed.
this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=bt()}
/**
         * Initialize from data
         */return e.prototype.initData=function(e,t,n){this._provider=e,// Clear
this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),o=this.defaultDimValueGetter=sg[i.sourceFormat];// Default dim value getter
this._dimValueGetter=n||o,// Reset raw extent.
this._rawExtent=[],Iv(i),this._dimensions=We(t,(function(e){return{// Only pick these two props. Not leak other properties like orderMeta.
type:e.type,property:e.property}})),this._initDataFromProvider(0,e.count())},e.prototype.getProvider=function(){return this._provider},
/**
         * Caution: even when a `source` instance owned by a series, the created data store
         * may still be shared by different sereis (the source hash does not use all `source`
         * props, see `sourceManager`). In this case, the `source` props that are not used in
         * hash (like `source.dimensionDefine`) probably only belongs to a certain series and
         * thus should not be fetch here.
         */
e.prototype.getSource=function(){return this._provider.getSource()},
/**
         * @caution Only used in dataStack.
         */
e.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,i=this._dimensions,o=n.get(e);if(null!=o){if(i[o].type===t)return o}else o=i.length;return i[o]={type:t},n.set(e,o),this._chunks[o]=new fg[t||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},e.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],i=this._dimensions[e],o=this._rawExtent,r=i.ordinalOffset||0,a=n.length;0===r&&(// We need to reset the rawExtent if collect is from start.
// Because this dimension may be guessed as number and calcuating a wrong extent.
o[e]=[1/0,-1/0]);// Parse from previous data offset. len may be changed after appendData
for(var l=o[e],s=r;s<a;s++){var u=n[s]=t.parseAndCollect(n[s]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=t,i.ordinalOffset=a,i.type="ordinal"},e.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},
/**
         * Caution: Can be only called on raw data (before `this._indices` created).
         */
e.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,o=i.length,r=this._rawExtent,a=this.count(),l=a+Math.max(e.length,t||0),s=0;s<o;s++){gg(n,s,(h=i[s]).type,l,!0)}for(var u=[],c=a;c<l;c++)// Store the data by dimensions
for(var d=c-a,p=0;p<o;p++){var h=i[p],f=sg.arrayRows.call(this,e[d]||u,h.property,d,p);n[p][c]=f;var v=r[p];f<v[0]&&(v[0]=f),f>v[1]&&(v[1]=f)}return this._rawCount=this._count=l,{start:a,end:l}},e.prototype._initDataFromProvider=function(e,t,n){for(var i=this._provider,o=this._chunks,r=this._dimensions,a=r.length,l=this._rawExtent,s=We(r,(function(e){return e.property})),u=0;u<a;u++){var c=r[u];l[u]||(l[u]=[1/0,-1/0]),gg(o,u,c.type,t,n)}if(i.fillStorage)i.fillStorage(e,t,o,l);else for(var d=[],p=e;p<t;p++){// NOTICE: Try not to write things into dataItem
d=i.getItem(p,d);// Each data item is value
// [1, 2]
// 2
// Bar chart, line chart which uses category axis
// only gives the 'y' value. 'x' value is the indices of category
// Use a tempValue to normalize the value to be a (x, y) value
// Store the data by dimensions
for(var h=0;h<a;h++){var f=o[h],v=this._dimValueGetter(d,s[h],p,h);// PENDING NULL is empty or zero
f[p]=v;var g=l[h];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}}!i.persistent&&i.clean&&// Clean unused data if data source is typed array.
i.clean(),this._rawCount=this._count=t,// Reset data extent
this._extent=[]},e.prototype.count=function(){return this._count},
/**
         * Get value. Return NaN if idx is out of range.
         */
e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(e,t){var n=[],i=[];if(null==t){t=e,// TODO get all from store?
e=[];// All dimensions
for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=e;o=0;for(var r=i.length;o<r;o++)n.push(this.get(i[o],t));return n},
/**
         * @param dim concrete dim
         */
e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},
/**
         * Get sum of data in one dimension
         */
e.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var n=0,i=this.count();n<i;n++){var o=this.get(e,n);isNaN(o)||(t+=o)}return t},
/**
         * Get median of data in one dimension
         */
e.prototype.getMedian=function(e){var t=[];// map all data of one dimension
this.each([e],(function(e){isNaN(e)||t.push(e)}));// TODO
// Use quick select?
var n=t.sort((function(e,t){return e-t})),i=this.count();// calculate median
return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},
/**
         * Retrieve the index with given raw data index.
         */
e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;// Indices are ascending
var t=this._indices,n=t[e];// If rawIndex === dataIndex
if(null!=n&&n<this._count&&n===e)return e;for(var i=0,o=this._count-1;i<=o;){var r=(i+o)/2|0;if(t[r]<e)i=r+1;else{if(!(t[r]>e))return r;o=r-1}}return-1},
/**
         * Retrieve the index of nearest value.
         * @param dim
         * @param value
         * @param [maxDistance=Infinity]
         * @return If and only if multiple indices have
         *         the same value, they are put to the result.
         */
e.prototype.indicesOfNearest=function(e,t,n){var i=this._chunks[e],o=[];if(!i)return o;null==n&&(n=1/0);// Check the test case of `test/ut/spec/data/SeriesData.js`.
for(var r=1/0,a=-1,l=0,s=0,u=this.count();s<u;s++){var c=t-i[this.getRawIndex(s)],d=Math.abs(c);d<=n&&(// When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,
// we'd better not push both of them to `nearestIndices`, otherwise it is easy to
// get more than one item in `nearestIndices` (more specifically, in `tooltip`).
// So we chose the one that `diff >= 0` in this csae.
// But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them
// should be push to `nearestIndices`.
(d<r||d===r&&c>=0&&a<0)&&(r=d,a=c,l=0),c===a&&(o[l++]=s))}return o.length=l,o},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,i=this._count;// `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.
if(n===Array){e=new n(i);for(var o=0;o<i;o++)e[o]=t[o]}else e=new n(t.buffer,0,i)}else{e=new(n=vg(this._rawCount))(this.count());for(o=0;o<e.length;o++)e[o]=o}return e},
/**
         * Data filter.
         */
e.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),i=n.count(),o=new(vg(n._rawCount))(i),r=[],a=e.length,l=0,s=e[0],u=n._chunks,c=0;c<i;c++){var d=void 0,p=n.getRawIndex(c);// Simple optimization
if(0===a)d=t(c);else if(1===a){d=t(u[s][p],c)}else{for(var h=0;h<a;h++)r[h]=u[e[h]][p];r[h]=c,d=t.apply(null,r)}d&&(o[l++]=p)}// Set indices after filtered.
return l<i&&(n._indices=o),n._count=l,// Reset data extent
n._extent=[],n._updateGetRawIdx(),n},
/**
         * Select data in range. (For optimization of filter)
         * (Manually inline code, support 5 million data filtering in data zoom.)
         */
e.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var i=Ye(e),o=i.length;if(!o)return this;var r=t.count(),a=new(vg(t._rawCount))(r),l=0,s=i[0],u=e[s][0],c=e[s][1],d=t._chunks,p=!1;if(!t._indices){// Extreme optimization for common case. About 2x faster in chrome.
var h=0;if(1===o){for(var f=d[i[0]],v=0;v<n;v++){// NaN will not be filtered. Consider the case, in line chart, empty
// value indicates the line should be broken. But for the case like
// scatter plot, a data item with empty value will not be rendered,
// but the axis extent may be effected if some other dim of the data
// item has value. Fortunately it is not a significant negative effect.
((x=f[v])>=u&&x<=c||isNaN(x))&&(a[l++]=h),h++}p=!0}else if(2===o){f=d[i[0]];var g=d[i[1]],y=e[i[1]][0],m=e[i[1]][1];for(v=0;v<n;v++){var x=f[v],b=g[v];// Do not filter NaN, see comment above.
(x>=u&&x<=c||isNaN(x))&&(b>=y&&b<=m||isNaN(b))&&(a[l++]=h),h++}p=!0}}if(!p)if(1===o)for(v=0;v<r;v++){var _=t.getRawIndex(v);// Do not filter NaN, see comment above.
((x=d[i[0]][_])>=u&&x<=c||isNaN(x))&&(a[l++]=_)}else for(v=0;v<r;v++){for(var w=!0,S=(_=t.getRawIndex(v),0);S<o;S++){var C=i[S];// Do not filter NaN, see comment above.
((x=d[C][_])<e[C][0]||x>e[C][1])&&(w=!1)}w&&(a[l++]=t.getRawIndex(v))}// Set indices after filtered.
return l<r&&(t._indices=a),t._count=l,// Reset data extent
t._extent=[],t._updateGetRawIdx(),t},// /**
//  * Data mapping to a plain array
//  */
// mapArray(dims: DimensionIndex[], cb: MapArrayCb): any[] {
//     const result: any[] = [];
//     this.each(dims, function () {
//         result.push(cb && (cb as MapArrayCb).apply(null, arguments));
//     });
//     return result;
// }
/**
         * Data mapping to a new List with given dimensions
         */
e.prototype.map=function(e,t){// TODO only clone picked chunks.
var n=this.clone(e);return this._updateDims(n,e,t),n},
/**
         * @caution Danger!! Only used in dataStack.
         */
e.prototype.modify=function(e,t){this._updateDims(this,e,t)},e.prototype._updateDims=function(e,t,n){for(var i=e._chunks,o=[],r=t.length,a=e.count(),l=[],s=e._rawExtent,c=0;c<t.length;c++)s[t[c]]=[1/0,-1/0];for(var d=0;d<a;d++){for(var p=e.getRawIndex(d),h=0;h<r;h++)l[h]=i[t[h]][p];l[r]=d;var f=n&&n.apply(null,l);if(null!=f){// a number or string (in oridinal dimension)?
"object"!==u(f)&&(o[0]=f,f=o);for(c=0;c<f.length;c++){var v=t[c],g=f[c],y=s[v],m=i[v];m&&(m[p]=g),g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}}},
/**
         * Large data down sampling using largest-triangle-three-buckets
         * @param {string} valueDimension
         * @param {number} targetCount
         */
e.prototype.lttbDownSample=function(e,t){var n,i,o,r=this.clone([e],!0),a=r._chunks[e],l=this.count(),s=0,u=Math.floor(1/t),c=this.getRawIndex(0),d=new(vg(this._rawCount))(Math.min(2*(Math.ceil(l/u)+2),l));// First frame use the first data.
d[s++]=c;for(var p=1;p<l-1;p+=u){for(var h=Math.min(p+u,l-1),f=Math.min(p+2*u,l),v=(f+h)/2,g=0,y=h;y<f;y++){var m=a[M=this.getRawIndex(y)];isNaN(m)||(g+=m)}g/=f-h;var x=p,b=Math.min(p+u,l),_=p-1,w=a[c];n=-1,o=x;var S=-1,C=0;// Find a point from current frame that construct a triangel with largest area with previous selected point
// And the average of next frame.
for(y=x;y<b;y++){var M;m=a[M=this.getRawIndex(y)];isNaN(m)?(C++,S<0&&(S=M)):(// Calculate triangle area over three buckets
i=Math.abs((_-v)*(m-w)-(_-y)*(g-w)))>n&&(n=i,o=M)}C>0&&C<b-x&&(// Append first NaN point in every bucket.
// It is necessary to ensure the correct order of indices.
d[s++]=Math.min(S,o),o=Math.max(S,o)),d[s++]=o,c=o}// First frame use the last data.
return d[s++]=this.getRawIndex(l-1),r._count=s,r._indices=d,r.getRawIndex=this._getRawIdx,r},
/**
         * Large data down sampling on given dimension
         * @param sampleIndex Sample index for name and id
         */
e.prototype.downSample=function(e,t,n,i){for(var o=this.clone([e],!0),r=o._chunks,a=[],l=Math.floor(1/t),s=r[e],u=this.count(),c=o._rawExtent[e]=[1/0,-1/0],d=new(vg(this._rawCount))(Math.ceil(u/l)),p=0,h=0;h<u;h+=l){// Last frame
l>u-h&&(l=u-h,a.length=l);for(var f=0;f<l;f++){var v=this.getRawIndex(h+f);a[f]=s[v]}var g=n(a),y=this.getRawIndex(Math.min(h+i(a,g)||0,u-1));// Only write value on the filtered data
s[y]=g,g<c[0]&&(c[0]=g),g>c[1]&&(c[1]=g),d[p++]=y}return o._count=p,o._indices=d,o._updateGetRawIdx(),o},
/**
         * Data iteration
         * @param ctx default this
         * @example
         *  list.each('x', function (x, idx) {});
         *  list.each(['x', 'y'], function (x, y, idx) {});
         *  list.each(function (idx) {})
         */
e.prototype.each=function(e,t){if(this._count)for(var n=e.length,i=this._chunks,o=0,r=this.count();o<r;o++){var a=this.getRawIndex(o);// Simple optimization
switch(n){case 0:t(o);break;case 1:t(i[e[0]][a],o);break;case 2:t(i[e[0]][a],i[e[1]][a],o);break;default:for(var l=0,s=[];l<n;l++)s[l]=i[e[l]][a];// Index
s[l]=o,t.apply(null,s)}}},
/**
         * Get extent of data in one dimension
         */
e.prototype.getDataExtent=function(e){// Make sure use concrete dim as cache name.
var t=this._chunks[e],n=[1/0,-1/0];if(!t)return n;// Make more strict checkings to ensure hitting cache.
var i,o=this.count();// Consider the most cases when using data zoom, `getDataExtent`
// happened before filtering. We cache raw extent, which is not
// necessary to be cleared and recalculated when restore data.
if(!this._indices)return this._rawExtent[e].slice();if(i=this._extent[e])return i.slice();for(var r=(i=n)[0],a=i[1],l=0;l<o;l++){var s=t[this.getRawIndex(l)];s<r&&(r=s),s>a&&(a=s)}return i=[r,a],this._extent[e]=i,i},
/**
         * Get raw data item
         */
e.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],i=this._chunks,o=0;o<i.length;o++)n.push(i[o][t]);return n},
/**
         * Clone shallow.
         *
         * @param clonedDims Determine which dims to clone. Will share the data if not specified.
         */
e.prototype.clone=function(t,n){var i,o,r=new e,a=this._chunks,l=t&&Ke(t,(function(e,t){return e[t]=!0,e}),{});if(l)for(var s=0;s<a.length;s++)// Not clone if dim is not picked.
r._chunks[s]=l[s]?(i=a[s],o=void 0,(o=i.constructor)===Array?i.slice():new o(i)):a[s];else r._chunks=a;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Ne(this._extent),e._rawExtent=Ne(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var i=0;i<n;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(e){return e},e.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function e(e,t,n,i){return Uv(e[i],this._dimensions[i])}sg={arrayRows:e,objectRows:function(e,t,n,i){return Uv(e[t],this._dimensions[i])},keyedColumns:e,original:function(e,t,n,i){// Performance sensitive, do not use modelUtil.getDataItemValue.
// If dataItem is an plain object with no value field, the let `value`
// will be assigned with the object, but it will be tread correctly
// in the `convertValue`.
var o=e&&(null==e.value?e:e.value);return Uv(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(e,t,n,i){return e[i]}}}(),e}(),mg=/** @class */function(){function e(e){// Cached source. Do not repeat calculating if not dirty.
this._sourceList=[],this._storeList=[],// version sign of each upstream source manager.
this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}
/**
         * Mark dirty.
         */return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},
/**
         * For detecting whether the upstream source is dirty, so that
         * the local cached source (in `_sourceList`) should be discarded.
         */
e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},
/**
         * Always return a source instance. Otherwise throw error.
         */
e.prototype.prepareSource=function(){// For the case that call `setOption` multiple time but no data changed,
// cache the result source to prevent from repeating transform.
this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n=this._sourceHost,i=this._getUpstreamSourceManagers(),o=!!i.length;if(bg(n)){var r=n,a=void 0,l=void 0,s=void 0;// Has upstream dataset
if(o){var u=i[0];u.prepareSource(),a=(s=u.getSource()).data,l=s.sourceFormat,t=[u._getVersionSign()]}// Series data is from own.
else l=it(a=r.get("data",!0))?df:lf,t=[];// See [REQUIREMENT_MEMO], merge settings on series and parent dataset if it is root.
var c=this._getSourceMetaRawOption()||{},d=s&&s.metaRawOption||{},p=st(c.seriesLayoutBy,d.seriesLayoutBy)||null,h=st(c.sourceHeader,d.sourceHeader),f=st(c.dimensions,d.dimensions);e=p!==d.seriesLayoutBy||!!h!=!!d.sourceHeader||f?[wv(a,{seriesLayoutBy:p,sourceHeader:h,dimensions:f},l)]:[]}else{var v=n;// Has upstream dataset.
if(o){var g=this._applyTransform(i);e=g.sourceList,t=g.upstreamSignList}// Is root dataset.
else{e=[wv(v.get("source",!0),this._getSourceMetaRawOption(),null)],t=[]}}this._setLocalSource(e,t)},e.prototype._applyTransform=function(e){var t,n=this._sourceHost,i=n.get("transform",!0),o=n.get("fromTransformResult",!0);if(null!=o){1!==e.length&&_g("")}var r,a=[],l=[];return Ge(e,(function(e){e.prepareSource();var t=e.getSource(o||0);null==o||t||_g(""),a.push(t),l.push(e._getVersionSign())})),i?t=function(e,t,n){var i=wa(e),o=i.length;o||ma("");for(var r=0,a=o;r<a;r++)t=ag(i[r],t),// piped transform only support single input, except the fist one.
// piped transform only support single output, except the last one.
r!==a-1&&(t.length=Math.max(t.length,1));return t}(i,a,n.componentIndex):null!=o&&(t=[(r=a[0],new bv({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:Ne(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount}))]),{sourceList:t,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;// All sourceList is from the some upstream.
for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(// Consider the case that there is ancestor diry, call it recursively.
// The performance is probably not an issue because usually the chain is not long.
n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},
/**
         * @param sourceIndex By default 0, means "main source".
         *                    In most cases there is only one source.
         */
e.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){// Series may share source instance with dataset.
var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},
/**
         *
         * Get a data store which can be shared across series.
         * Only available for series.
         *
         * @param seriesDimRequest Dimensions that are generated in series.
         *        Should have been sorted by `storeDimIndex` asc.
         */
e.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},e.prototype._innerGetDataStore=function(e,t,n){// TODO Can use other sourceIndex?
var i=this._storeList,o=i[0];o||(o=i[0]={});var r=o[n];if(!r){var a=this._getUpstreamSourceManagers()[0];bg(this._sourceHost)&&a?r=a._innerGetDataStore(e,t,n):// Always create store from source of series.
(r=new yg).initData(new kv(t,e.length),e),o[n]=r}return r},
/**
         * PENDING: Is it fast enough?
         * If no upstream, return empty array.
         */
e.prototype._getUpstreamSourceManagers=function(){// Always get the relationship from the raw option.
// Do not cache the link of the dependency graph, so that
// there is no need to update them when change happens.
var e=this._sourceHost;if(bg(e)){var t=_f(e);return t?[t.getSourceManager()]:[]}return We(function(e){// Only these attributes declared, we by defualt reference to `datasetIndex: 0`.
// Otherwise, no reference.
return e.get("transform",!0)||e.get("fromTransformResult",!0)?Va(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Ba).models:[]}(e),(function(e){return e.getSourceManager()}))},e.prototype._getSourceMetaRawOption=function(){var e,t,n,i=this._sourceHost;if(bg(i))e=i.get("seriesLayoutBy",!0),t=i.get("sourceHeader",!0),n=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=i;e=o.get("seriesLayoutBy",!0),t=o.get("sourceHeader",!0),n=o.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:n}},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * [REQUIREMENT_MEMO]:
       * (0) `metaRawOption` means `dimensions`/`sourceHeader`/`seriesLayoutBy` in raw option.
       * (1) Keep support the feature: `metaRawOption` can be specified both on `series` and
       * `root-dataset`. Them on `series` has higher priority.
       * (2) Do not support to set `metaRawOption` on a `non-root-dataset`, because it might
       * confuse users: whether those props indicate how to visit the upstream source or visit
       * the transform result source, and some transforms has nothing to do with these props,
       * and some transforms might have multiple upstream.
       * (3) Transforms should specify `metaRawOption` in each output, just like they can be
       * declared in `root-dataset`.
       * (4) At present only support visit source in `SERIES_LAYOUT_BY_COLUMN` in transforms.
       * That is for reducing complexity in transforms.
       * PENDING: Whether to provide transposition transform?
       *
       * [IMPLEMENTAION_MEMO]:
       * "sourceVisitConfig" are calculated from `metaRawOption` and `data`.
       * They will not be calculated until `source` is about to be visited (to prevent from
       * duplicate calcuation). `source` is visited only in series and input to transforms.
       *
       * [DIMENSION_INHERIT_RULE]:
       * By default the dimensions are inherited from ancestors, unless a transform return
       * a new dimensions definition.
       * Consider the case:
       * ```js
       * dataset: [{
       *     source: [ ['Product', 'Sales', 'Prise'], ['Cookies', 321, 44.21], ...]
       * }, {
       *     transform: { type: 'filter', ... }
       * }]
       * dataset: [{
       *     dimension: ['Product', 'Sales', 'Prise'],
       *     source: [ ['Cookies', 321, 44.21], ...]
       * }, {
       *     transform: { type: 'filter', ... }
       * }]
       * ```
       * The two types of option should have the same behavior after transform.
       *
       *
       * [SCENARIO]:
       * (1) Provide source data directly:
       * ```js
       * series: {
       *     encode: {...},
       *     dimensions: [...]
       *     seriesLayoutBy: 'row',
       *     data: [[...]]
       * }
       * ```
       * (2) Series refer to dataset.
       * ```js
       * series: [{
       *     encode: {...}
       *     // Ignore datasetIndex means `datasetIndex: 0`
       *     // and the dimensions defination in dataset is used
       * }, {
       *     encode: {...},
       *     seriesLayoutBy: 'column',
       *     datasetIndex: 1
       * }]
       * ```
       * (3) dataset transform
       * ```js
       * dataset: [{
       *     source: [...]
       * }, {
       *     source: [...]
       * }, {
       *     // By default from 0.
       *     transform: { type: 'filter', config: {...} }
       * }, {
       *     // Piped.
       *     transform: [
       *         { type: 'filter', config: {...} },
       *         { type: 'sort', config: {...} }
       *     ]
       * }, {
       *     id: 'regressionData',
       *     fromDatasetIndex: 1,
       *     // Third-party transform
       *     transform: { type: 'ecStat:regression', config: {...} }
       * }, {
       *     // retrieve the extra result.
       *     id: 'regressionFormula',
       *     fromDatasetId: 'regressionData',
       *     fromTransformResult: 1
       * }]
       * ```
       */ // disable the transform merge, but do not disable transform clone from rawOption.
function xg(e){e.option.transform&&vt(e.option.transform)}function bg(e){// Avoid circular dependency with Series.ts
return"series"===e.mainType}function _g(e){throw new Error(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var wg="line-height:1";// TODO: more textStyle option
function Sg(e,t){var n=e.color||"#6e7079",i=e.fontSize||12,o=e.fontWeight||"400",r=e.color||"#464646",a=e.fontSize||14,l=e.fontWeight||"900";return"html"===t?{// eslint-disable-next-line max-len
nameStyle:"font-size:"+ln(i+"")+"px;color:"+ln(n)+";font-weight:"+ln(o+""),// eslint-disable-next-line max-len
valueStyle:"font-size:"+ln(a+"")+"px;color:"+ln(r)+";font-weight:"+ln(l+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:o},valueStyle:{fontSize:a,fill:r,fontWeight:l}}}// See `TooltipMarkupLayoutIntent['innerGapLevel']`.
// (value from UI design)
var Cg=[0,10,20,30],Mg=["","\n","\n\n","\n\n\n"];// eslint-disable-next-line max-len
function Tg(e,t){return t.type=e,t}function Ig(e){return"section"===e.type}function kg(e){return Ig(e)?Dg:Og}function Ag(e){if(Ig(e)){var t=0,n=e.blocks.length,i=n>1||n>0&&!e.noHeader;return Ge(e.blocks,(function(e){var n=Ag(e);// If the some of the sub-blocks have some gaps (like 10px) inside, this block
// should use a larger gap (like 20px) to distinguish those sub-blocks.
n>=t&&(t=n+ +(i&&(// 0 always can not be readable gap level.
!n||Ig(e)&&!e.noHeader)))})),t}return 0}function Dg(e,t,n,i){var o,r=t.noHeader,a=(o=Ag(t),{html:Cg[o],richText:Mg[o]}),l=[],s=t.blocks||[];pt(!s||Ze(s)),s=s||[];var u=e.orderMode;if(t.sortBlocks&&u){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Ct(c,u)){var d=new $v(c[u],null);s.sort((function(e,t){return d.evaluate(e.sortParam,t.sortParam)}))}// FIXME 'seriesDesc' necessary?
else"seriesDesc"===u&&s.reverse()}Ge(s,(function(n,o){var r=t.valueFormatter,s=kg(n)(// Inherit valueFormatter
r?Be(Be({},e),{valueFormatter:r}):e,n,o>0?a.html:0,i);null!=s&&l.push(s)}));var p="richText"===e.renderMode?l.join(a.richText):Lg(l.join(""),r?n:a.html);if(r)return p;var h=Rh(t.header,"ordinal",e.useUTC),f=Sg(i,e.renderMode).nameStyle;return"richText"===e.renderMode?Eg(e,h,f)+a.richText+p:Lg('<div style="'+f+";"+wg+';">'+ln(h)+"</div>"+p,n)}function Og(e,t,n,i){var o=e.renderMode,r=t.noName,a=t.noValue,l=!t.markerType,s=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(e){return We(e=Ze(e)?e:[e],(function(e,t){return Rh(e,Ze(h)?h[t]:h,u)}))};if(!r||!a){var d=l?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",o),p=r?"":Rh(s,"ordinal",u),h=t.valueType,f=a?[]:c(t.value),v=!l||!r,g=!l&&r,y=Sg(i,o),m=y.nameStyle,x=y.valueStyle;return"richText"===o?(l?"":d)+(r?"":Eg(e,p,m))+(a?"":function(e,t,n,i,o){var r=[o],a=i?10:20;// Value has commas inside, so use '  ' as delimiter for multiple values.
return n&&r.push({padding:[0,0,0,a],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(Ze(t)?t.join("  "):t,r)}(e,f,v,g,x)):Lg((l?"":d)+(r?"":function(e,t,n){return'<span style="'+n+";"+(t?"margin-left:2px":"")+'">'+ln(e)+"</span>"}(p,!l,m))+(a?"":function(e,t,n,i){// Do not too close to marker, considering there are multiple values separated by spaces.
var o=n?"10px":"20px",r=t?"float:right;margin-left:"+o:"";return e=Ze(e)?e:[e],'<span style="'+r+";"+i+'">'+We(e,(function(e){return ln(e)})).join("&nbsp;&nbsp;")+"</span>"}(f,v,g,x)),n)}}
/**
       * @return markupText. null/undefined means no content.
       */function Pg(e,t,n,i,o,r){if(e)return kg(e)({useUTC:o,renderMode:n,orderMode:i,markupStyleCreator:t,valueFormatter:e.valueFormatter},e,0,r)}function Lg(e,t){return'<div style="'+("margin: "+t+"px 0 0")+";"+wg+';">'+e+'<div style="clear:both"></div></div>'}function Eg(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function Ng(e,t){return Vh(e.getData().getItemVisual(t,"style")[e.visualDrawType])}function Rg(e,t){var n=e.get("padding");return null!=n?n:"richText"===t?[8,10]:10}
/**
       * The major feature is generate styles for `renderMode: 'richText'`.
       * But it also serves `renderMode: 'html'` to provide
       * "renderMode-independent" API.
       */var zg=/** @class */function(){function e(){this.richTextStyles={},// Notice that "generate a style name" usuall happens repeatly when mouse moving and
// displaying a tooltip. So we put the `_nextStyleNameId` as a member of each creator
// rather than static shared by all creators (which will cause it increase to fast).
this._nextStyleNameId=va()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var i="richText"===n?this._generateStyleName():null,o=function(e,t){var n=Je(e)?{color:e,extraCssText:t}:e||{},i=n.color,o=n.type;t=n.extraCssText;var r=n.renderMode||"html";return i?"html"===r?"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ln(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ln(i)+";"+(t||"")+'"></span>':{renderMode:r,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}({color:t,type:e,renderMode:n,markerId:i});return Je(o)?o:(this.richTextStyles[i]=o.style,o.content)},
/**
         * @usage
         * ```ts
         * const styledText = markupStyleCreator.wrapRichTextStyle([
         *     // The styles will be auto merged.
         *     {
         *         fontSize: 12,
         *         color: 'blue'
         *     },
         *     {
         *         padding: 20
         *     }
         * ]);
         * ```
         */
e.prototype.wrapRichTextStyle=function(e,t){var n={};Ze(t)?Ge(t,(function(e){return Be(n,e)})):Be(n,t);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function Bg(e){var t,n,i,o,r=e.series,a=e.dataIndex,l=e.multipleSeries,s=r.getData(),u=s.mapDimensionsAll("defaultedTooltip"),c=u.length,d=r.getRawValue(a),p=Ze(d),h=Ng(r,a);if(c>1||p&&!c){var f=function(e,t,n,i,o){// check: category-no-encode-has-axis-data in dataset.html
var r=t.getData(),a=Ke(e,(function(e,t,n){var i=r.getDimensionInfo(n);return e||i&&!1!==i.tooltip&&null!=i.displayName}),!1),l=[],s=[],u=[];function c(e,t){var n=r.getDimensionInfo(t);// If `dimInfo.tooltip` is not set, show tooltip.
n&&!1!==n.otherDims.tooltip&&(a?u.push(Tg("nameValue",{markerType:"subItem",markerColor:o,name:n.displayName,value:e,valueType:n.type})):(l.push(e),s.push(n.type)))}return i.length?Ge(i,(function(e){c(Fv(r,n,e),e)})):Ge(e,c),{inlineValues:l,inlineValueTypes:s,blocks:u}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(d,r,a,u,h);t=f.inlineValues,n=f.inlineValueTypes,i=f.blocks,// Only support tooltip sort by the first inline value. It's enough in most cases.
o=f.inlineValues[0]}else if(c){var v=s.getDimensionInfo(u[0]);o=t=Fv(s,a,u[0]),n=v.type}else o=t=p?d[0]:d;// Do not show generated series name. It might not be readable.
var g=Oa(r),y=g&&r.name||"",m=s.getName(a),x=l?y:m;return Tg("section",{header:y,// When series name not specified, do not show a header line with only '-'.
// This case alway happen in tooltip.trigger: 'item'.
noHeader:l||!g,sortParam:o,blocks:[Tg("nameValue",{markerType:"item",markerColor:h,// Do not mix display seriesName and itemName in one tooltip,
// which might confuses users.
name:x,// name dimension might be auto assigned, where the name might
// be not readable. So we check trim here.
noName:!ht(x),value:t,valueType:n})].concat(i||[])})}var Fg=Ea();function Vg(e,t){return e.getName(t)||e.getId(t)}var jg="__universalTransitionEnabled",Hg=/** @class */function(e){function t(){// [Caution]: Because this class or desecendants can be used as `XXX.extend(subProto)`,
// the class members must not be initialized in constructor or declaration place.
// Otherwise there is bad case:
//   class A {xxx = 1;}
//   enableClassExtend(A);
//   class B extends A {}
//   var C = B.extend({xxx: 5});
//   var c = new C();
//   console.log(c.xxx); // expect 5 but always 1.
var t=null!==e&&e.apply(this,arguments)||this;// ---------------------------------------
// Props about data selection
// ---------------------------------------
return t._selectedDataIndicesMap={},t}return de(t,e),t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=Gv({count:Wg,reset:Kg}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),(Fg(this).sourceManager=new mg(this)).prepareSource();var i=this.getInitialData(e,n);Yg(i,this),this.dataTask.context.data=i,Fg(this).dataBeforeProcessed=i,// If we reverse the order (make data firstly, and then make
// dataBeforeProcessed by cloneShallow), cloneShallow will
// cause data.graph.data !== data when using
// module:echarts/data/Graph or module:echarts/data/Tree.
// See module:echarts/data/helper/linkSeriesData
// Theoretically, it is unreasonable to call `seriesModel.getData()` in the model
// init or merge stage, because the data can be restored. So we do not `restoreData`
// and `setData` here, which forbids calling `seriesModel.getData()` in this stage.
// Call `seriesModel.getRawData()` instead.
// this.restoreData();
Gg(this),this._initSelectedMapFromData(i)},
/**
         * Util for merge default and theme to option
         */
t.prototype.mergeDefaultAndTheme=function(e,t){var n=qh(this),i=n?$h(e):{},o=this.subType;tf.hasClass(o)&&(o+="Series"),Re(e,t.getTheme().get(this.subType)),Re(e,this.getDefaultOption()),// Default label emphasis `show`
Sa(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Zh(e,i,n)},t.prototype.mergeOption=function(e,t){// this.settingTask.dirty();
e=Re(this.option,e,!0),this.fillDataTextStyle(e.data);var n=qh(this);n&&Zh(this.option,e,n);var i=Fg(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(e,t);Yg(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Fg(this).dataBeforeProcessed=o,Gg(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(e){// Default data label emphasis `show`
// FIXME Tree structure data ?
// FIXME Performance ?
if(e&&!it(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&Sa(e[n],"label",t)},
/**
         * Init a data structure from data related option in series
         * Must be overridden.
         */
t.prototype.getInitialData=function(e,t){},
/**
         * Append data to list
         */
t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},
/**
         * Consider some method like `filter`, `map` need make new data,
         * We should make sure that `seriesModel.getData()` get correct
         * data in the stream procedure. So we fetch data from upstream
         * each time `task.perform` called.
         */
t.prototype.getData=function(e){var t=qg(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}// When series is not alive (that may happen when click toolbox
// restore or setOption with not merge mode), series data may
// be still need to judge animation or something when graphic
// elements want to know whether fade out.
return Fg(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var t=qg(this);if(t){var n=t.context;// Consider case: filter, data sample.
// FIXME:TS never used, so comment it
// if (context.data !== data && task.modifyOutputEnd) {
//     task.setOutputEnd(data.count());
// }
n.outputData=e,// Caution: setData should update context.data,
// Because getData may be called multiply in a
// single stage and expect to get the data just
// set. (For example, AxisProxy, x y both call
// getData and setDate sequentially).
// So the context.data should be fetched from
// upstream each time when a stage starts to be
// performed.
t!==this.dataTask&&(n.data=e)}Fg(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return bt(e)},t.prototype.getSourceManager=function(){return Fg(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},
/**
         * Get data before processed
         */
t.prototype.getRawData=function(){return Fg(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},
/**
         * Get base axis if has coordinate system and has axis.
         * By default use coordSys.getBaseAxis();
         * Can be overridden for some chart.
         * @return {type} description
         */
t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;// @ts-ignore
return e&&e.getBaseAxis&&e.getBaseAxis()},
/**
         * Default tooltip formatter
         *
         * @param dataIndex
         * @param multipleSeries
         * @param dataType
         * @param renderMode valid values: 'html'(by default) and 'richText'.
         *        'html' is used for rendering tooltip in extra DOM form, and the result
         *        string is used as DOM HTML content.
         *        'richText' is used for rendering tooltip in rich text form, for those where
         *        DOM operation is not supported.
         * @return formatted tooltip with `html` and `markers`
         *        Notice: The override method can also return string
         */
t.prototype.formatTooltip=function(e,t,n){return Bg({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;// Disable animation if using echarts in node but not give ssr flag.
// In ssr mode, renderToString will generate svg with css animation.
if(fe.node&&(!e||!e.ssr))return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var i=this.ecModel,o=Df.prototype.getColorFromPalette.call(this,e,t,n);// PENDING
return o||(o=i.getColorFromPalette(e,t,n)),o},
/**
         * Use `data.mapDimensionsAll(coordDim)` instead.
         * @deprecated
         */
t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},
/**
         * Get progressive rendering count each step
         */
t.prototype.getProgressive=function(){return this.get("progressive")},
/**
         * Get progressive rendering count each step
         */
t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},// PENGING If selectedMode is null ?
t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,o=this.getData(t);if("series"===i||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var r=0;r<e.length;r++){var a=Vg(o,e[r]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},t.prototype.toggleSelect=function(e,t){for(var n=[],i=0;i<e.length;i++)n[0]=e[i],this.isSelected(e[i],t)?this.unselect(n,t):this.select(n,t)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,t=Ye(e),n=[],i=0;i<t.length;i++){var o=e[t[i]];o>=0&&n.push(o)}return n},t.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n)return!1;var i=this.getData(t);return("all"===n||n[Vg(i,e)])&&!i.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[jg])return!0;var e=this.option.universalTransition;// Quick reject
return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,t){var n,i,o=this.option,r=o.selectedMode,a=t.length;if(r&&a)if("series"===r)o.selectedMap="all";else if("multiple"===r){tt(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,s=0;s<a;s++){var u=t[s];// TODO different types of data share same object.
l[d=Vg(e,u)]=!0,this._selectedDataIndicesMap[d]=e.getRawIndex(u)}}else if("single"===r||!0===r){var c=t[a-1],d=Vg(e,c);o.selectedMap=((n={})[d]=!0,n),this._selectedDataIndicesMap=((i={})[d]=e.getRawIndex(c),i)}},t.prototype._initSelectedMapFromData=function(e){// Ignore select info in data if selectedMap exists.
// NOTE It's only for legacy usage. edge data is not supported.
if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each((function(n){var i=e.getRawDataItem(n);i&&i.selected&&t.push(n)})),t.length>0&&this._innerSelect(e,t)}},// /**
//  * @see {module:echarts/stream/Scheduler}
//  */
// abstract pipeTask: null
t.registerClass=function(e){return tf.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",// Make sure the values can be accessed!
e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(tf);
/**
       * MUST be called after `prepareSource` called
       * Here we need to make auto series, especially for auto legend. But we
       * do not modify series.name in option to avoid side effects.
       */
function Gg(e){// User specified name has higher priority, otherwise it may cause
// series can not be queried unexpectedly.
var t=e.name;Oa(e)||(e.name=function(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),i=[];return Ge(n,(function(e){var n=t.getDimensionInfo(e);n.displayName&&i.push(n.displayName)})),i.join(" ")}(e)||t)}function Wg(e){return e.model.getRawData().count()}function Kg(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),Ug}function Ug(e,t){// Avoid repead cloneShallow when data just created in reset.
t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}// TODO refactor
function Yg(e,t){Ge(_t(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),(function(n){e.wrapMethod(n,qe(Xg,t))}))}function Xg(e,t){var n=qg(e);return n&&// Consider case: filter, selectRange
n.setOutputEnd((t||this).count()),t}function qg(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){// When pipline finished, the currrentTask keep the last
// task (renderTask).
var i=n.currentTask;if(i){var o=i.agentStubMap;o&&(i=o.get(e.uid))}return i}}je(Hg,jv),je(Hg,Df),Xa(Hg,tf);var Zg=Hg,$g=/** @class */function(){function e(){this.group=new Kr,this.uid=Yp("viewComponent")}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,i){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,i){// Do nothing;
},e.prototype.updateLayout=function(e,t,n,i){// Do nothing;
},e.prototype.updateVisual=function(e,t,n,i){// Do nothing;
},
/**
         * Hook for toggle blur target series.
         * Can be used in marker for blur or leave blur the markers
         */
e.prototype.toggleBlurSeries=function(e,t,n){// Do nothing;
},
/**
         * Traverse the new rendered elements.
         *
         * It will traverse the new added element in progressive rendering.
         * And traverse all in normal rendering.
         */
e.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */Ya($g),Ja($g);var Jg=$g;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * @return {string} If large mode changed, return string 'reset';
       */function Qg(){var e=Ea();return function(t){var n=e(t),i=t.pipelineContext,o=!!n.large,r=!!n.progressiveRender,a=n.large=!(!i||!i.large),l=n.progressiveRender=!(!i||!i.progressiveRender);return!(o===a&&r===l)&&"reset"}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var ey=Ea(),ty=Qg(),ny=/** @class */function(){function e(){this.group=new Kr,this.uid=Yp("viewChart"),this.renderTask=Gv({plan:ry,reset:ay}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,i){},
/**
         * Highlight series or specified data item.
         */
e.prototype.highlight=function(e,t,n,i){var o=e.getData(i&&i.dataType);o&&oy(o,i,"emphasis")},
/**
         * Downplay series or specified data item.
         */
e.prototype.downplay=function(e,t,n,i){var o=e.getData(i&&i.dataType);o&&oy(o,i,"normal")},
/**
         * Remove self.
         */
e.prototype.remove=function(e,t){this.group.removeAll()},
/**
         * Dispose self.
         */
e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,i){this.render(e,t,n,i)},// FIXME never used?
e.prototype.updateLayout=function(e,t,n,i){this.render(e,t,n,i)},// FIXME never used?
e.prototype.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},
/**
         * Traverse the new rendered elements.
         *
         * It will traverse the new added element in progressive rendering.
         * And traverse all in normal rendering.
         */
e.prototype.eachRendered=function(e){fp(this.group,e)},e.markUpdateMethod=function(e,t){ey(e).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();
/**
       * Set state of single element
       */
function iy(e,t,n){e&&ic(e)&&("emphasis"===t?zu:Bu)(e,n)}function oy(e,t,n){var i=La(e,t),o=t&&null!=t.highlightKey?
/**
       * Support highlight/downplay record on each elements.
       * For the case: hover highlight/downplay (legend, visualMap, ...) and
       * user triggered highlight/downplay should not conflict.
       * Only all of the highlightDigit cleared, return to normal.
       * @param {string} highlightKey
       * @return {number} highlightDigit
       */
function(e){var t=uu[e];return null==t&&su<=32&&(t=uu[e]=su++),t}(t.highlightKey):null;null!=i?Ge(wa(i),(function(t){iy(e.getItemGraphicEl(t),n,o)})):e.eachItemGraphicEl((function(e){iy(e,n,o)}))}function ry(e){return ty(e.model)}function ay(e){var t=e.model,n=e.ecModel,i=e.api,o=e.payload,r=t.pipelineContext.progressiveRender,a=e.view,l=o&&ey(o).updateMethod,s=r?"incrementalPrepareRender":l&&a[l]?l:"render";return"render"!==s&&a[s](t,n,i,o),ly[s]}Ya(ny),Ja(ny);var ly={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{// Put view.render in `progress` to support appendData. But in this case
// view.render should not be called in reset, otherwise it will be called
// twise. Use `forceFirstProgress` to make sure that view.render is called
// in any cases.
forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},sy=ny,uy="\0__throttleOriginMethod",cy="\0__throttleRate",dy="\0__throttleType";
/**
       * @public
       * @param {(Function)} fn
       * @param {number} [delay=0] Unit: ms.
       * @param {boolean} [debounce=false]
       *        true: If call interval less than `delay`, only the last call works.
       *        false: If call interval less than `delay, call works on fixed rate.
       * @return {(Function)} throttled fn.
       */
function py(e,t,n){var i,o,r,a,l,s=0,u=0,c=null;function d(){u=(new Date).getTime(),c=null,e.apply(r,a||[])}t=t||0;var p=function(){for(var e=[],p=0;p<arguments.length;p++)e[p]=arguments[p];i=(new Date).getTime(),r=this,a=e;var h=l||t,f=l||n;l=null,o=i-(f?s:u)-h,clearTimeout(c),// Here we should make sure that: the `exec` SHOULD NOT be called later
// than a new call of `cb`, that is, preserving the command order. Consider
// calculating "scale rate" when roaming as an example. When a call of `cb`
// happens, either the `exec` is called dierectly, or the call is delayed.
// But the delayed call should never be later than next call of `cb`. Under
// this assurance, we can simply update view state each time `dispatchAction`
// triggered by user roaming, but not need to add extra code to avoid the
// state being "rolled-back".
f?c=setTimeout(d,h):o>=0?d():c=setTimeout(d,-o),s=i};
/**
         * Clear throttle.
         * @public
         */return p.clear=function(){c&&(clearTimeout(c),c=null)},
/**
         * Enable debounce once.
         */
p.debounceNextCall=function(e){l=e},p}
/**
       * Create throttle method or update throttle rate.
       *
       * @example
       * ComponentView.prototype.render = function () {
       *     ...
       *     throttle.createOrUpdate(
       *         this,
       *         '_dispatchAction',
       *         this.model.get('throttle'),
       *         'fixRate'
       *     );
       * };
       * ComponentView.prototype.remove = function () {
       *     throttle.clear(this, '_dispatchAction');
       * };
       * ComponentView.prototype.dispose = function () {
       *     throttle.clear(this, '_dispatchAction');
       * };
       *
       */function hy(e,t,n,i){var o=e[t];if(o){var r=o[uy]||o,a=o[dy];if(o[cy]!==n||a!==i){if(null==n||!i)return e[t]=r;(o=e[t]=py(r,n,"debounce"===i))[uy]=r,o[dy]=i,o[cy]=n}return o}}
/**
       * Clear throttle. Example see throttle.createOrUpdate.
       */function fy(e,t){var n=e[t];n&&n[uy]&&(// Clear throttle
n.clear&&n.clear(),e[t]=n[uy])}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var vy=Ea(),gy={itemStyle:Qa(jp,!0),lineStyle:Qa(Bp,!0)},yy={lineStyle:"stroke",itemStyle:"fill"};function my(e,t){var n=e.visualStyleMapper||gy[t];return n||gy.itemStyle}function xy(e,t){// return defaultColorKey[stylePath] ||
var n=e.visualDrawType||yy[t];return n||"fill"}var by={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=e.visualStyleAccessPath||"itemStyle",o=e.getModel(i),r=my(e,i)(o),a=o.getShallow("decal");a&&(n.setVisual("decal",a),a.dirty=!0);// TODO
var l=xy(e,i),s=r[l],u=$e(s)?s:null,c="auto"===r.fill||"auto"===r.stroke;// Get from color palette by default.
if(!r[l]||u||c){// Note: If some series has color specified (e.g., by itemStyle.color), we DO NOT
// make it effect palette. Because some scenarios users need to make some series
// transparent or as background, which should better not effect the palette.
var d=e.getColorFromPalette(// TODO series count changed.
e.name,null,t.getSeriesCount());r[l]||(r[l]=d,n.setVisual("colorFromPalette",!0)),r.fill="auto"===r.fill||$e(r.fill)?d:r.fill,r.stroke="auto"===r.stroke||$e(r.stroke)?d:r.stroke}// Only visible series has each data be visual encoded
if(n.setVisual("style",r),n.setVisual("drawType",l),!t.isSeriesFiltered(e)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(t,n){var i=e.getDataParams(n),o=Be({},r);o[l]=u(i),t.setItemVisual(n,"style",o)}}}},_y=new Kp,wy={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.ignoreStyleOnData&&!t.isSeriesFiltered(e)){var n=e.getData(),i=e.visualStyleAccessPath||"itemStyle",o=my(e,i),r=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(e,t){// Not use getItemModel for performance considuration
var n=e.getRawDataItem(t);if(n&&n[i]){_y.option=n[i];var a=o(_y);Be(e.ensureUniqueItemVisual(t,"style"),a),_y.option.decal&&(e.setItemVisual(t,"decal",_y.option.decal),_y.option.decal.dirty=!0),r in a&&e.setItemVisual(t,"colorFromPalette",!1)}}:null}}}},Sy={performRawSeries:!0,overallReset:function(e){// Each type of series uses one scope.
// Pie and funnel are using different scopes.
var t=bt();e.eachSeries((function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+n,o=t.get(i);o||(o={},t.set(i,o)),vy(e).scope=o}})),e.eachSeries((function(t){if(!t.isColorBySeries()&&!e.isSeriesFiltered(t)){var n=t.getRawData(),i={},o=t.getData(),r=vy(t).scope,a=t.visualStyleAccessPath||"itemStyle",l=xy(t,a);o.each((function(e){var t=o.getRawIndex(e);i[t]=e})),// Iterate on data before filtered. To make sure color from palette can be
// Consistent when toggling legend.
n.each((function(e){var a=i[e];// Get color from palette for each data only when the color is inherited from series color, which is
// also picked from color palette. So following situation is not in the case:
// 1. series.itemStyle.color is set
// 2. color is encoded by visualMap
if(o.getItemVisual(a,"colorFromPalette")){var s=o.ensureUniqueItemVisual(a,"style"),u=n.getName(e)||e+"",c=n.count();s[l]=t.getColorFromPalette(u,r,c)}}))}}))}},Cy=Math.PI;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var My=/** @class */function(){function e(e,t,n,i){// key: handlerUID
this._stageTaskMap=bt(),this.ecInstance=e,this.api=t,// Fix current processors in case that in some rear cases that
// processors might be registered after echarts instance created.
// Register processors incrementally for a echarts instance is
// not supported by this stream architecture.
n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(e,t){// TODO: Only restore needed series and components, but not all components.
// Currently `restoreData` of all of the series and component will be called.
// But some independent components like `title`, `legend`, `graphic`, `toolbox`,
// `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,
// and some components like coordinate system, axes, dataZoom, visualMap only
// need their target series refresh.
// (1) If we are implementing this feature some day, we should consider these cases:
// if a data processor depends on a component (e.g., dataZoomProcessor depends
// on the settings of `dataZoom`), it should be re-performed if the component
// is modified by `setOption`.
// (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,
// it should be re-performed when the result array of `getTargetSeries` changed.
// We use `dependencies` to cover these issues.
// (3) How to update target series when coordinate system related components modified.
// TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,
// and this case all of the tasks will be set as dirty.
e.restoreData(t),// Theoretically an overall task not only depends on each of its target series, but also
// depends on all of the series.
// The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks
// dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure
// that the overall task is set as dirty and to be performed, otherwise it probably cause
// state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it
// probably cause state chaos (consider `dataZoomProcessor`).
this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},// If seriesModel provided, incremental threshold is check by series data.
e.prototype.getPerformArgs=function(e,t){// For overall task
if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,o=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,r=i&&i.modDataCount;return{step:o,modBy:null!=r?Math.ceil(r/o):null,modDataCount:r}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},
/**
         * Current, progressive rendering starts from visual and layout.
         * Always detect render mode in the same stage, avoiding that incorrect
         * detection caused by data filtering.
         * Caution:
         * `updateStreamModes` use `seriesModel.getData()`.
         */
e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,r=e.get("large")&&i>=e.get("largeThreshold"),a="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:a,large:r}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=bt();e.eachSeries((function(e){var i=e.getProgressive(),o=e.uid;n.set(o,{id:o,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:i&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),t._pipe(e,e.dataTask)}))},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;Ge(this._allHandlers,(function(i){var o=e.get(i.uid)||e.set(i.uid,{});pt(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,o,t,n),i.overallReset&&this._createOverallStageTask(i,o,t,n)}),this)},e.prototype.prepareView=function(e,t,n,i){var o=e.renderTask,r=o.context;r.model=t,r.ecModel=n,r.api=i,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},e.prototype.performDataProcessorTasks=function(e,t){// If we do not use `block` here, it should be considered when to update modes.
this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,t,n,i){i=i||{};var o=!1,r=this;function a(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}Ge(e,(function(e,l){if(!i.visualType||i.visualType===e.visualType){var s=r._stageTaskMap.get(e.uid),u=s.seriesTaskMap,c=s.overallTask;if(c){var d,p=c.agentStubMap;p.each((function(e){a(i,e)&&(e.dirty(),d=!0)})),d&&c.dirty(),r.updatePayload(c,n);var h=r.getPerformArgs(c,i.block);// Execute stubs firstly, which may set the overall task dirty,
// then execute the overall task. And stub will call seriesModel.setData,
// which ensures that in the overallTask seriesModel.getData() will not
// return incorrect data.
p.each((function(e){e.perform(h)})),c.perform(h)&&(o=!0)}else u&&u.each((function(l,s){a(i,l)&&l.dirty();var u=r.getPerformArgs(l,i.block);// FIXME
// if intending to declare `performRawSeries` in handlers, only
// stream-independent (specifically, data item independent) operations can be
// performed. Because if a series is filtered, most of the tasks will not
// be performed. A stream-dependent operation probably cause wrong biz logic.
// Perhaps we should not provide a separate callback for this case instead
// of providing the config `performRawSeries`. The stream-dependent operations
// and stream-independent operations should better not be mixed.
u.skip=!e.performRawSeries&&t.isSeriesFiltered(l.context.model),r.updatePayload(l,n),l.perform(u)&&(o=!0)}))}})),this.unfinished=o||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries((function(e){// Progress to the end for dataInit and dataRestore.
t=e.dataTask.perform()||t})),this.unfinished=t||this.unfinished},e.prototype.plan=function(){// Travel pipelines, check block.
this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))},e.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,i){var o=this,r=t.seriesTaskMap,a=t.seriesTaskMap=bt(),l=e.seriesType,s=e.getTargetSeries;function u(t){var l=t.uid,s=a.set(l,r&&r.get(l)||Gv({plan:Dy,reset:Oy,count:Ey}));// Init tasks for each seriesModel only once.
// Reuse original task instance.
s.context={model:t,ecModel:n,api:i,// PENDING: `useClearVisual` not used?
useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(t,s)}// If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,
// to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,
// it works but it may cause other irrelevant charts blocked.
e.createOnAllSeries?n.eachRawSeries(u):l?n.eachRawSeriesByType(l,u):s&&s(n,i).each(u)},e.prototype._createOverallStageTask=function(e,t,n,i){var o=this,r=t.overallTask=t.overallTask||Gv({reset:Ty});r.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:o};var a=r.agentStubMap,l=r.agentStubMap=bt(),s=e.seriesType,u=e.getTargetSeries,c=!0,d=!1;// The count of stages are totally about only several dozen, so
// do not need to reuse the map.
function p(e){var t=e.uid,n=l.set(t,a&&a.get(t)||(// When the result of `getTargetSeries` changed, the overallTask
// should be set as dirty and re-performed.
d=!0,Gv({reset:Iy,onDirty:Ay})));n.context={model:e,overallProgress:c},n.agent=r,n.__block=c,o._pipe(e,n)}pt(!e.createOnAllSeries,""),s?n.eachRawSeriesByType(s,p):u?u(n,i).each(p):(c=!1,Ge(n.getSeries(),p)),d&&r.dirty()},e.prototype._pipe=function(e,t){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},e.wrapStageHandler=function(e,t){return $e(e)&&(e={overallReset:e,seriesType:Ny(e)}),e.uid=Yp("stageHandler"),t&&(e.visualType=t),e},e}();function Ty(e){e.overallReset(e.ecModel,e.api,e.payload)}function Iy(e){return e.overallProgress&&ky}function ky(){this.agent.dirty(),this.getDownstream().dirty()}function Ay(){this.agent&&this.agent.dirty()}function Dy(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Oy(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=wa(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?We(t,(function(e,t){return Ly(t)})):Py}var Py=Ly(0);function Ly(e){return function(t,n){var i=n.data,o=n.resetDefines[e];if(o&&o.dataEach)for(var r=t.start;r<t.end;r++)o.dataEach(i,r);else o&&o.progress&&o.progress(t,i)}}function Ey(e){return e.data.count()}
/**
       * Only some legacy stage handlers (usually in echarts extensions) are pure function.
       * To ensure that they can work normally, they should work in block mode, that is,
       * they should not be started util the previous tasks finished. So they cause the
       * progressive rendering disabled. We try to detect the series type, to narrow down
       * the block range to only the series type they concern, but not all series.
       */function Ny(e){Ry=null;try{// Assume there is no async when calling `eachSeriesByType`.
e(zy,By)}catch(qX){}return Ry}var Ry,zy={},By={};function Fy(e,t){/* eslint-disable */for(var n in t.prototype)// Do not use hasOwnProperty
e[n]=Mt;/* eslint-enable */}Fy(zy,Bf),Fy(By,Vf),zy.eachSeriesByType=zy.eachRawSeriesByType=function(e){Ry=e},zy.eachComponent=function(e){"series"===e.mainType&&e.subType&&(Ry=e.subType)};var Vy=My,jy=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Hy={color:jy,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],jy]},Gy="#B9B8CE",Wy="#100C2A",Ky=function(){return{axisLine:{lineStyle:{color:Gy}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Uy=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Yy={darkMode:!0,color:Uy,backgroundColor:Wy,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{// TODO Contrast of label backgorundColor
color:"#fff"}},legend:{textStyle:{color:Gy}},textStyle:{color:Gy},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Gy}},dataZoom:{borderColor:"#71708A",textStyle:{color:Gy},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Gy}},timeline:{lineStyle:{color:Gy},label:{color:Gy},controlStyle:{color:Gy,borderColor:Gy}},calendar:{itemStyle:{color:Wy},dayLabel:{color:Gy},monthLabel:{color:Gy},yearLabel:{color:Gy}},timeAxis:Ky(),logAxis:Ky(),valueAxis:Ky(),categoryAxis:Ky(),line:{symbol:"circle"},graph:{color:Uy},gauge:{title:{color:Gy},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Gy},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */Yy.categoryAxis.splitLine.show=!1;var Xy=Yy,qy=/** @class */function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},n={},i={};// `query` is `mainType` or `mainType.subType` of component.
if(Je(e)){var o=Ua(e);// `.main` and `.sub` may be ''.
t.mainType=o.main||null,t.subType=o.sub||null}// `query` is an object, convert to {mainType, index, name, id}.
else{// `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,
// can not be used in `compomentModel.filterForExposedEvent`.
var r=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};Ge(e,(function(e,o){for(var l=!1,s=0;s<r.length;s++){var u=r[s],c=o.lastIndexOf(u);if(c>0&&c===o.length-u.length){var d=o.slice(0,c);// Consider `dataIndex`.
"data"!==d&&(t.mainType=d,t[u.toLowerCase()]=e,l=!0)}}a.hasOwnProperty(o)&&(n[o]=e,l=!0),l||(i[o]=e)}))}return{cptQuery:t,dataQuery:n,otherQuery:i}},e.prototype.filter=function(e,t){// They should be assigned before each trigger call.
var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,o=n.packedEvent,r=n.model,a=n.view;// For event like 'globalout'.
if(!r||!a)return!0;var l=t.cptQuery,s=t.dataQuery;return u(l,r,"mainType")&&u(l,r,"subType")&&u(l,r,"index","componentIndex")&&u(l,r,"name")&&u(l,r,"id")&&u(s,o,"name")&&u(s,o,"dataIndex")&&u(s,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(e,t.otherQuery,i,o));function u(e,t,n,i){return null==e[n]||t[i||n]===e[n]}},e.prototype.afterTrigger=function(){// Make sure the eventInfo won't be used in next trigger.
this.eventInfo=null},e}(),Zy=["symbol","symbolSize","symbolRotate","symbolOffset"],$y=Zy.concat(["symbolKeepAspect"]),Jy={createOnAllSeries:!0,// For legend.
performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var i={},o={},r=!1,a=0;a<Zy.length;a++){var l=Zy[a],s=e.get(l);$e(s)?(r=!0,o[l]=s):i[l]=s}// Only visible series has each data be visual encoded
if(i.symbol=i.symbol||e.defaultSymbol,n.setVisual(Be({legendIcon:e.legendIcon||i.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},i)),!t.isSeriesFiltered(e)){var u=Ye(o);return{dataEach:r?function(t,n){for(var i=e.getRawValue(n),r=e.getDataParams(n),a=0;a<u.length;a++){var l=u[a];t.setItemVisual(n,l,o[l](i,r))}}:null}}}}},Qy={createOnAllSeries:!0,// For legend.
performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function(e,t){for(var n=e.getItemModel(t),i=0;i<$y.length;i++){var o=$y[i],r=n.getShallow(o,!0);null!=r&&e.setItemVisual(t,o,r)}}:null};// Only visible series has each data be visual encoded
}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Usage of query:
       * `chart.on('click', query, handler);`
       * The `query` can be:
       * + The component type query string, only `mainType` or `mainType.subType`,
       *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.
       * + The component query object, like:
       *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,
       *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.
       * + The data query object, like:
       *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.
       * + The other query object (cmponent customized query), like:
       *   `{element: 'some'}` (only available in custom series).
       *
       * Caveat: If a prop in the `query` object is `null/undefined`, it is the
       * same as there is no such prop in the `query` object.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function em(e,t,n){switch(n){case"color":return e.getItemVisual(t,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function tm(e,t){switch(t){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function nm(e,t,n,i){switch(n){case"color":e.ensureUniqueItemVisual(t,"style")[e.getVisual("drawType")]=i,// Mark the color has been changed, not from palette anymore
e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,i)}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
// Inlucdes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect
function im(e,t){function n(t,n){var i=[];return t.eachComponent({mainType:"series",subType:e,query:n},(function(e){i.push(e.seriesIndex)})),i}Ge([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],(function(e){t(e[0],(function(t,i,o){t=Be({},t),o.dispatchAction(Be(t,{type:e[1],seriesIndex:n(i,t)}))}))}))}function om(e,t,n,i,o){var r=e+t;n.isSilent(r)||i.eachComponent({mainType:"series",subType:"pie"},(function(e){for(var t=e.seriesIndex,i=e.option.selectedMap,a=o.selected,l=0;l<a.length;l++)if(a[l].seriesIndex===t){var s=e.getData(),u=La(s,o.fromActionPayload);n.trigger(r,{type:r,seriesId:e.id,name:Ze(u)?s.getName(u[0]):s.getName(u),selected:Je(i)?i:Be({},i)})}}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function rm(e,t,n){for(var i;e&&(!t(e)||(i=e,!n));)e=e.__hostTarget||e.parent;return i}var am=Math.round(9*Math.random()),lm="function"==typeof Object.defineProperty,sm=function(){function e(){this._id="__ec_inner_"+am++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var n=this._guard(e);return lm?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}(),um=sm,cm=ks.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,r=t.height/2;e.moveTo(n,i-r),e.lineTo(n+o,i+r),e.lineTo(n-o,i+r),e.closePath()}}),dm=ks.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,o=t.width/2,r=t.height/2;e.moveTo(n,i-r),e.lineTo(n+o,i),e.lineTo(n,i+r),e.lineTo(n-o,i),e.closePath()}}),pm=ks.extend({type:"pin",shape:{// x, y on the cusp
x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,o=t.width/5*3,r=Math.max(o,t.height),a=o/2,l=a*a/(r-a),s=i-r+a+l,u=Math.asin(l/a),c=Math.cos(u)*a,d=Math.sin(u),p=Math.cos(u),h=.6*a,f=.7*a;e.moveTo(n-c,s+l),e.arc(n,s,a,Math.PI-u,2*Math.PI+u),e.bezierCurveTo(n+c-d*h,s+l+p*h,n,i-f,n,i),e.bezierCurveTo(n,i-f,n-c+d*h,s+l+p*h,n-c,s+l),e.closePath()}}),hm=ks.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,i=t.width,o=t.x,r=t.y,a=i/3*2;e.moveTo(o,r),e.lineTo(o+a,r+n),e.lineTo(o,r+n/4*3),e.lineTo(o-a,r+n),e.lineTo(o,r),e.closePath()}}),fm={line:function(e,t,n,i,o){o.x1=e,o.y1=t+i/2,o.x2=e+n,o.y2=t+i/2},rect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i},roundRect:function(e,t,n,i,o){o.x=e,o.y=t,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(e,t,n,i,o){var r=Math.min(n,i);o.x=e,o.y=t,o.width=r,o.height=r},circle:function(e,t,n,i,o){// Put circle in the center of square
o.cx=e+n/2,o.cy=t+i/2,o.r=Math.min(n,i)/2},diamond:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i},pin:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},arrow:function(e,t,n,i,o){o.x=e+n/2,o.y=t+i/2,o.width=n,o.height=i},triangle:function(e,t,n,i,o){o.cx=e+n/2,o.cy=t+i/2,o.width=n,o.height=i}},vm={};Ge({line:ld,rect:Gs,roundRect:Gs,square:Gs,circle:kc,diamond:dm,pin:pm,arrow:hm,triangle:cm},(function(e,t){vm[t]=new e}));var gm=ks.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var i=Pr(e,t,n),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===t.position&&(i.y=n.y+.4*n.height),i},buildPath:function(e,t,n){var i=t.symbolType;if("none"!==i){var o=vm[i];o||(o=vm[// Default rect
i="rect"]),fm[i](t.x,t.y,t.width,t.height,o.shape),o.buildPath(e,o.shape,n)}}});// Provide setColor helper method to avoid determine if set the fill or stroke outside
function ym(e,t){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",// TODO Same width with lineStyle in LineView
n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=e:n.fill=e,this.markRedraw()}}
/**
       * Create a symbol element with given symbol configuration: shape, x, y, width, height, color
       */function mm(e,t,n,i,o,r,// whether to keep the ratio of w/h,
a){// TODO Support image object, DynamicImage.
var l,s=0===e.indexOf("empty");return s&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(l=0===e.indexOf("image://")?Zd(e.slice(8),new Fn(t,n,i,o),a?"center":"cover"):0===e.indexOf("path://")?qd(e.slice(7),{},new Fn(t,n,i,o),a?"center":"cover"):new gm({shape:{symbolType:e,x:t,y:n,width:i,height:o}})).__isEmptyBrush=s,// TODO Should deprecate setColor
l.setColor=ym,r&&l.setColor(r),l}function xm(e){return Ze(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function bm(e,t){if(null!=e)return Ze(e)||(e=[e,e]),[Jr(e[0],t[0])||0,Jr(st(e[1],e[0]),t[1])||0]}function _m(e){return isFinite(e)}function wm(e,t,n){for(var i="radial"===t.type?function(e,t,n){var i=n.width,o=n.height,r=Math.min(i,o),a=null==t.x?.5:t.x,l=null==t.y?.5:t.y,s=null==t.r?.5:t.r;return t.global||(a=a*i+n.x,l=l*o+n.y,s*=r),a=_m(a)?a:.5,l=_m(l)?l:.5,s=s>=0&&_m(s)?s:.5,e.createRadialGradient(a,l,0,a,l,s)}(e,t,n):function(e,t,n){var i=null==t.x?0:t.x,o=null==t.x2?1:t.x2,r=null==t.y?0:t.y,a=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,o=o*n.width+n.x,r=r*n.height+n.y,a=a*n.height+n.y),i=_m(i)?i:0,o=_m(o)?o:1,r=_m(r)?r:0,a=_m(a)?a:0,e.createLinearGradient(i,r,o,a)}(e,t,n),o=t.colorStops,r=0;r<o.length;r++)i.addColorStop(o[r].offset,o[r].color);return i}function Sm(e){return parseInt(e,10)}function Cm(e,t,n){var i=["width","height"][t],o=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=n[i]&&"auto"!==n[i])return parseFloat(n[i]);var l=document.defaultView.getComputedStyle(e);return(e[o]||Sm(l[i])||Sm(e.style[i]))-(Sm(l[r])||0)-(Sm(l[a])||0)|0}function Mm(e){var t,n,i=e.style,o=i.lineDash&&i.lineWidth>0&&(t=i.lineDash,n=i.lineWidth,t&&"solid"!==t&&n>0?"dashed"===t?[4*n,2*n]:"dotted"===t?[n]:et(t)?[t]:Ze(t)?t:null:null),r=i.lineDashOffset;if(o){var a=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;a&&1!==a&&(o=We(o,(function(e){return e/a})),r/=a)}return[o,r]}var Tm=new ls(!0);function Im(e){var t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))}function km(e){return"string"==typeof e&&"none"!==e}function Am(e){var t=e.fill;return null!=t&&"none"!==t}function Dm(e,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function Om(e,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function Pm(e,t,n){var i=ol(t.image,t.__image,n);if(al(i)){var o=e.createPattern(i,t.repeat||"repeat");if("function"==typeof DOMMatrix&&o&&o.setTransform){var r=new DOMMatrix;r.translateSelf(t.x||0,t.y||0),r.rotateSelf(0,0,(t.rotation||0)*Tt),r.scaleSelf(t.scaleX||1,t.scaleY||1),o.setTransform(r)}return o}}var Lm=["shadowBlur","shadowOffsetX","shadowOffsetY"],Em=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Nm(e,t,n,i,o){var r=!1;if(!i&&t===(n=n||{}))return!1;if(i||t.opacity!==n.opacity){Bm(e,o),r=!0;var a=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(a)?bl.opacity:a}(i||t.blend!==n.blend)&&(r||(Bm(e,o),r=!0),e.globalCompositeOperation=t.blend||bl.blend);for(var l=0;l<Lm.length;l++){var s=Lm[l];(i||t[s]!==n[s])&&(r||(Bm(e,o),r=!0),e[s]=e.dpr*(t[s]||0))}return(i||t.shadowColor!==n.shadowColor)&&(r||(Bm(e,o),r=!0),e.shadowColor=t.shadowColor||bl.shadowColor),r}function Rm(e,t,n,i,o){var r=Fm(t,o.inHover),a=i?null:n&&Fm(n,o.inHover)||{};if(r===a)return!1;var l=Nm(e,r,a,i,o);if((i||r.fill!==a.fill)&&(l||(Bm(e,o),l=!0),km(r.fill)&&(e.fillStyle=r.fill)),(i||r.stroke!==a.stroke)&&(l||(Bm(e,o),l=!0),km(r.stroke)&&(e.strokeStyle=r.stroke)),(i||r.opacity!==a.opacity)&&(l||(Bm(e,o),l=!0),e.globalAlpha=null==r.opacity?1:r.opacity),t.hasStroke()){var s=r.lineWidth/(r.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==s&&(l||(Bm(e,o),l=!0),e.lineWidth=s)}for(var u=0;u<Em.length;u++){var c=Em[u],d=c[0];(i||r[d]!==a[d])&&(l||(Bm(e,o),l=!0),e[d]=r[d]||c[1])}return l}function zm(e,t){var n=t.transform,i=e.dpr||1;n?e.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):e.setTransform(i,0,0,i,0,0)}function Bm(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Fm(e,t){return t&&e.__hoverStyle||e.style}function Vm(e,t){jm(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function jm(e,t,n,i){var o=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var r=t.__clipPaths,a=n.prevElClipPaths,l=!1,s=!1;if(a&&!function(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}(r,a)||(a&&a.length&&(Bm(e,n),e.restore(),s=l=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),r&&r.length&&(Bm(e,n),e.save(),function(e,t,n){for(var i=!1,o=0;o<e.length;o++){var r=e[o];i=i||r.isZeroArea(),zm(t,r),t.beginPath(),r.buildPath(t,r.shape),t.clip()}n.allClipped=i}(r,e,n),l=!0),n.prevElClipPaths=r),n.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=n.prevEl;u||(s=l=!0);var c,d,p=t instanceof ks&&t.autoBatch&&function(e){var t=Am(e),n=Im(e);return!(e.lineDash||!(+t^+n)||t&&"string"!=typeof e.fill||n&&"string"!=typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}(t.style);l||(c=o,d=u.transform,c&&d?c[0]!==d[0]||c[1]!==d[1]||c[2]!==d[2]||c[3]!==d[3]||c[4]!==d[4]||c[5]!==d[5]:c||d)?(Bm(e,n),zm(e,t)):p||Bm(e,n);var h=Fm(t,n.inHover);t instanceof ks?(1!==n.lastDrawType&&(s=!0,n.lastDrawType=1),Rm(e,t,u,s,n),p&&(n.batchFill||n.batchStroke)||e.beginPath(),function(e,t,n,i){var o,r=Im(n),a=Am(n),l=n.strokePercent,s=l<1,u=!t.path;t.silent&&!s||!u||t.createPathProxy();var c=t.path||Tm,d=t.__dirty;if(!i){var p=n.fill,h=n.stroke,f=a&&!!p.colorStops,v=r&&!!h.colorStops,g=a&&!!p.image,y=r&&!!h.image,m=void 0,x=void 0,b=void 0,_=void 0,w=void 0;(f||v)&&(w=t.getBoundingRect()),f&&(m=d?wm(e,p,w):t.__canvasFillGradient,t.__canvasFillGradient=m),v&&(x=d?wm(e,h,w):t.__canvasStrokeGradient,t.__canvasStrokeGradient=x),g&&(b=d||!t.__canvasFillPattern?Pm(e,p,t):t.__canvasFillPattern,t.__canvasFillPattern=b),y&&(_=d||!t.__canvasStrokePattern?Pm(e,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=b),f?e.fillStyle=m:g&&(b?e.fillStyle=b:a=!1),v?e.strokeStyle=x:y&&(_?e.strokeStyle=_:r=!1)}var S,C,M=t.getGlobalScale();c.setScale(M[0],M[1],t.segmentIgnoreThreshold),e.setLineDash&&n.lineDash&&(S=(o=Mm(t))[0],C=o[1]);var T=!0;(u||4&d)&&(c.setDPR(e.dpr),s?c.setContext(null):(c.setContext(e),T=!1),c.reset(),t.buildPath(c,t.shape,i),c.toStatic(),t.pathUpdated()),T&&c.rebuildPath(e,s?l:1),S&&(e.setLineDash(S),e.lineDashOffset=C),i||(n.strokeFirst?(r&&Om(e,n),a&&Dm(e,n)):(a&&Dm(e,n),r&&Om(e,n))),S&&e.setLineDash([])}(e,t,h,p),p&&(n.batchFill=h.fill||"",n.batchStroke=h.stroke||"")):t instanceof Os?(3!==n.lastDrawType&&(s=!0,n.lastDrawType=3),Rm(e,t,u,s,n),function(e,t,n){var i,o=n.text;if(null!=o&&(o+=""),o){e.font=n.font||ge,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var r=void 0,a=void 0;e.setLineDash&&n.lineDash&&(r=(i=Mm(t))[0],a=i[1]),r&&(e.setLineDash(r),e.lineDashOffset=a),n.strokeFirst?(Im(n)&&e.strokeText(o,n.x,n.y),Am(n)&&e.fillText(o,n.x,n.y)):(Am(n)&&e.fillText(o,n.x,n.y),Im(n)&&e.strokeText(o,n.x,n.y)),r&&e.setLineDash([])}}(e,t,h)):t instanceof Ns?(2!==n.lastDrawType&&(s=!0,n.lastDrawType=2),function(e,t,n,i,o){Nm(e,Fm(t,o.inHover),n&&Fm(n,o.inHover),i,o)}(e,t,u,s,n),function(e,t,n){var i=t.__image=ol(n.image,t.__image,t,t.onload);if(i&&al(i)){var o=n.x||0,r=n.y||0,a=t.getWidth(),l=t.getHeight(),s=i.width/i.height;if(null==a&&null!=l?a=l*s:null==l&&null!=a?l=a/s:null==a&&null==l&&(a=i.width,l=i.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;e.drawImage(i,u,c,n.sWidth,n.sHeight,o,r,a,l)}else if(n.sx&&n.sy){var d=a-(u=n.sx),p=l-(c=n.sy);e.drawImage(i,u,c,d,p,o,r,a,l)}else e.drawImage(i,o,r,a,l)}}(e,t,h)):t.getTemporalDisplayables&&(4!==n.lastDrawType&&(s=!0,n.lastDrawType=4),function(e,t,n){var i=t.getDisplayables(),o=t.getTemporalDisplayables();e.save();var r,a,l={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(r=t.getCursor(),a=i.length;r<a;r++){(c=i[r]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),jm(e,c,l,r===a-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),l.prevEl=c}for(var s=0,u=o.length;s<u;s++){var c;(c=o[s]).beforeBrush&&c.beforeBrush(),c.innerBeforeBrush(),jm(e,c,l,s===u-1),c.innerAfterBrush(),c.afterBrush&&c.afterBrush(),l.prevEl=c}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(e,t,n)),p&&i&&Bm(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var Hm=new um,Gm=new Gi(100),Wm=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];
/**
       * Create or update pattern image from decal options
       *
       * @param {InnerDecalObject | 'none'} decalObject decal options, 'none' if no decal
       * @return {Pattern} pattern with generated image, null if no decal
       */
function Km(e,t){if("none"===e)return null;var n=t.getDevicePixelRatio(),i=t.getZr(),o="svg"===i.painter.type;e.dirty&&Hm.delete(e);var r=Hm.get(e);if(r)return r;var a=Fe(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var l={repeat:"repeat"};return function(e){for(var t,r=[n],l=!0,s=0;s<Wm.length;++s){var c=a[Wm[s]];if(null!=c&&!Ze(c)&&!Je(c)&&!et(c)&&"boolean"!=typeof c){l=!1;break}r.push(c)}if(l){t=r.join(",")+(o?"-svg":"");var d=Gm.get(t);d&&(o?e.svgElement=d:e.image=d)}var p,h=Ym(a.dashArrayX),f=
/**
       * Convert dash input into dashArray
       *
       * @param {DecalDashArrayY} dash dash input
       * @return {number[]} normolized dash array
       */
function(e){if(!e||"object"===u(e)&&0===e.length)return[0,0];if(et(e)){var t=Math.ceil(e);return[t,t]}var n=We(e,(function(e){return Math.ceil(e)}));return e.length%2?n.concat(n):n}
/**
       * Get block length of each line. A block is the length of dash line and space.
       * For example, a line with [4, 1] has a dash line of 4 and a space of 1 after
       * that, so the block length of this line is 5.
       *
       * @param {number[][]} dash dash array of X or Y
       * @return {number[]} block length of each line
       */(a.dashArrayY),v=Um(a.symbol),g=(_=h,We(_,(function(e){return Xm(e)}))),y=Xm(f),m=!o&&be.createCanvas(),x=o&&{tag:"g",attrs:{},key:"dcl",children:[]},b=
/**
           * Get minimum length that can make a repeatable pattern.
           *
           * @return {Object} pattern width and height
           */
function(){for(
/**
             * For example, if dash is [[3, 2], [2, 1]] for X, it looks like
             * |---  ---  ---  ---  --- ...
             * |-- -- -- -- -- -- -- -- ...
             * |---  ---  ---  ---  --- ...
             * |-- -- -- -- -- -- -- -- ...
             * So the minimum length of X is 15,
             * which is the least common multiple of `3 + 2` and `2 + 1`
             * |---  ---  ---  |---  --- ...
             * |-- -- -- -- -- |-- -- -- ...
             */
var e=1,t=0,n=g.length;t<n;++t)e=ya(e,g[t]);var i=1;for(t=0,n=v.length;t<n;++t)i=ya(i,v[t].length);e*=i;var o=y*g.length*v.length;return{width:Math.max(1,Math.min(e,a.maxTileWidth)),height:Math.max(1,Math.min(o,a.maxTileHeight))}}();var _;m&&(m.width=b.width*n,m.height=b.height*n,p=m.getContext("2d"));(function(){p&&(p.clearRect(0,0,m.width,m.height),a.backgroundColor&&(p.fillStyle=a.backgroundColor,p.fillRect(0,0,m.width,m.height)));for(var e=0,t=0;t<f.length;++t)e+=f[t];if(e<=0)// dashArrayY is 0, draw nothing
return;var r=-y,l=0,s=0,u=0;for(;r<b.height;){if(l%2==0){for(var c=s/2%v.length,d=0,g=0,_=0;d<2*b.width;){var w=0;for(t=0;t<h[u].length;++t)w+=h[u][t];if(w<=0)// Skip empty line
break;// E.g., [15, 5, 20, 5] draws only for 15 and 20
if(g%2==0){var S=.5*(1-a.symbolSize),C=d+h[u][g]*S,M=r+f[l]*S,T=h[u][g]*a.symbolSize,I=f[l]*a.symbolSize,k=_/2%v[c].length;A(C,M,T,I,v[c][k])}d+=h[u][g],++_,++g===h[u].length&&(g=0)}++u===h.length&&(u=0)}r+=f[l],++s,++l===f.length&&(l=0)}function A(e,t,r,l,s){var u=o?1:n,c=mm(s,e*u,t*u,r*u,l*u,a.color,a.symbolKeepAspect);if(o){var d=i.painter.renderOneToVNode(c);d&&x.children.push(d)}else// Paint to canvas for all other renderers.
Vm(p,c)}})(),l&&Gm.put(t,m||x);e.image=m,e.svgElement=x,e.svgWidth=b.width,e.svgHeight=b.height}(l),l.rotation=a.rotation,l.scaleX=l.scaleY=o?1:1/n,Hm.set(e,l),e.dirty=!1,l}
/**
       * Convert symbol array into normalized array
       *
       * @param {string | (string | string[])[]} symbol symbol input
       * @return {string[][]} normolized symbol array
       */function Um(e){if(!e||0===e.length)return[["rect"]];if(Je(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!Je(e[n])){t=!1;break}if(t)return Um([e]);var i=[];for(n=0;n<e.length;++n)Je(e[n])?i.push([e[n]]):i.push(e[n]);return i}
/**
       * Convert dash input into dashArray
       *
       * @param {DecalDashArrayX} dash dash input
       * @return {number[][]} normolized dash array
       */function Ym(e){if(!e||0===e.length)return[[0,0]];if(et(e))return[[o=Math.ceil(e),o]];
/**
         * [20, 5] should be normalized into [[20, 5]],
         * while [20, [5, 10]] should be normalized into [[20, 20], [5, 10]]
         */for(var t=!0,n=0;n<e.length;++n)if(!et(e[n])){t=!1;break}if(t)return Ym([e]);var i=[];for(n=0;n<e.length;++n)if(et(e[n])){var o=Math.ceil(e[n]);i.push([o,o])}else{o=We(e[n],(function(e){return Math.ceil(e)}));o.length%2==1?// [4, 2, 1] means |----  -    -- |----  -    -- |
// so normalize it to be [4, 2, 1, 4, 2, 1]
i.push(o.concat(o)):i.push(o)}return i}function Xm(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2==1?2*t:t}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var qm=new Zt,Zm={};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var $m=2e3,Jm=4500,Qm={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:$m,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:Jm,ARIA:6e3,DECAL:7e3}},ex="__flagInMainProcess",tx="__pendingUpdate",nx="__needsUpdateStatus",ix=/^[a-zA-Z0-9_]+$/,ox="__connectUpdateStatus";function rx(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.isDisposed())return lx(this,e,t);this.id}}function ax(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return lx(this,e,t)}}function lx(e,t,n){// `args[0]` is event name. Event name is all lowercase.
return n[0]=n[0]&&n[0].toLowerCase(),Zt.prototype[t].apply(e,n)}var sx,ux,cx,dx,px,hx,fx,vx,gx,yx,mx,xx,bx,_x,Sx,Cx,Mx,Tx,Ix=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t}(Zt),kx=Ix.prototype;kx.on=ax("on"),kx.off=ax("off");var Ax=/** @class */function(e){function t(t,// Theme name or themeOption.
n,i){var o=e.call(this,new qy)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},// Can't dispatch action during rendering procedure
o._pendingActions=[],i=i||{},// Get theme by name
Je(n)&&(n=zx[n]),o._dom=t;var r=o._zr=qr(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:st(i.useDirtyRect,!1),useCoarsePointer:st(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});o._ssr=i.ssr,// Expect 60 fps.
o._throttledZrFlush=py(Xe(r.flush,r),17),(n=Ne(n))&&hv(n,!0),o._theme=n,o._locale=function(e){if(Je(e)){var t=Jp[e.toUpperCase()]||{};return e===qp||e===Zp?Ne(t):Re(Ne(t),Ne(Jp[$p]),!1)}return Re(Ne(e),Ne(Jp[$p]),!1)}(i.locale||eh),o._coordSysMgr=new Gf;var a=o._api=Sx(o);// Sort on demand
function l(e,t){return e.__prio-t.__prio}return ni(Rx,l),ni(Ex,l),o._scheduler=new Vy(o,a,Ex,Rx),o._messageCenter=new Ix,// Init mouse events
o._initEvents(),// In case some people write `window.onresize = chart.resize`
o.resize=Xe(o.resize,o),r.animation.on("frame",o._onframe,o),yx(r,o),mx(r,o),// ECharts instance can be used as value.
vt(o),o}return de(t,e),t.prototype._onframe=function(){if(!this._disposed){Tx(this);var e=this._scheduler;// Lazy update
if(this[tx]){var t=this[tx].silent;this[ex]=!0;try{sx(this),dx.update.call(this,null,this[tx].updateParams)}catch(qX){throw this[ex]=!1,this[tx]=null,qX}// At present, in each frame, zrender performs:
//   (1) animation step forward.
//   (2) trigger('frame') (where this `_onframe` is called)
//   (3) zrender flush (render).
// If we do nothing here, since we use `setToFinal: true`, the step (3) above
// will render the final state of the elements before the real animation started.
this._zr.flush(),this[ex]=!1,this[tx]=null,vx.call(this,t),gx.call(this,t)}// Avoid do both lazy update and progress in one frame.
else if(e.unfinished){// Stream progress.
var n=1,i=this._model,o=this._api;e.unfinished=!1;do{var r=+new Date;e.performSeriesTasks(i),// Currently dataProcessorFuncs do not check threshold.
e.performDataProcessorTasks(i),hx(this,i),// Do not update coordinate system here. Because that coord system update in
// each frame is not a good user experience. So we follow the rule that
// the extent of the coordinate system is determined in the first frame (the
// frame is executed immediately after task reset.
// this._coordSysMgr.update(ecModel, api);
// console.log('--- ec frame visual ---', remainTime);
e.performVisualTasks(i),_x(this,this._model,o,"remain",{}),n-=+new Date-r}while(n>0&&e.unfinished);// Call flush explicitly for trigger finished event.
e.unfinished||this._zr.flush();// Else, zr flushing be ensue within the same frame,
// because zr flushing is after onframe event.
}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},/* eslint-disable-next-line */t.prototype.setOption=function(e,t,n){if(!this[ex])if(this._disposed)this.id;else{var i,o,r;if(tt(t)&&(n=t.lazyUpdate,i=t.silent,o=t.replaceMerge,r=t.transition,t=t.notMerge),this[ex]=!0,!this._model||t){var a=new Yf(this._api),l=this._theme,s=this._model=new Bf;s.scheduler=this._scheduler,s.ssr=this._ssr,s.init(null,null,null,l,this._locale,a)}this._model.setOption(e,{replaceMerge:o},Nx);var u={seriesTransition:r,optionChanged:!0};if(n)this[tx]={silent:i,updateParams:u},this[ex]=!1,// `setOption(option, {lazyMode: true})` may be called when zrender has been slept.
// It should wake it up to make sure zrender start to render at the next frame.
this.getZr().wakeUp();else{try{sx(this),dx.update.call(this,null,u)}catch(qX){throw this[tx]=null,this[ex]=!1,qX}// Ensure zr refresh sychronously, and then pixel in canvas can be
// fetched after `setOption`.
this._ssr||// not use flush when using ssr mode.
this._zr.flush(),this[tx]=null,this[ex]=!1,vx.call(this,i),gx.call(this,i)}}},
/**
         * @deprecated
         */
t.prototype.setTheme=function(){},// We don't want developers to use getModel directly.
t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr/* eslint-disable-next-line */||fe.hasGlobalWindow&&window.devicePixelRatio||1},
/**
         * Get canvas which has all thing rendered
         * @deprecated Use renderToCanvas instead.
         */
t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return e=e||{},this._zr.painter.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return e=e||{},this._zr.painter.renderToString({useViewBox:e.useViewBox})},
/**
         * Get svg data url
         */
t.prototype.getSvgDataURL=function(){if(fe.svgSupported){var e=this._zr;// Stop animations
return Ge(e.storage.getDisplayList(),(function(e){e.stopAnimation(null,!0)})),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,i=[],o=this;Ge(t,(function(e){n.eachComponent({mainType:e},(function(e){var t=o._componentsMap[e.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Ge(i,(function(e){e.group.ignore=!1})),r}this.id},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var t="svg"===e.type,n=this.group,i=Math.min,o=Math.max,r=1/0;if(Vx[n]){var a=r,l=r,s=-1/0,u=-1/0,c=[],d=e&&e.pixelRatio||this.getDevicePixelRatio();Ge(Fx,(function(r,d){if(r.group===n){var p=t?r.getZr().painter.getSvgDom().innerHTML:r.renderToCanvas(Ne(e)),h=r.getDom().getBoundingClientRect();a=i(h.left,a),l=i(h.top,l),s=o(h.right,s),u=o(h.bottom,u),c.push({dom:p,left:h.left,top:h.top})}}));var p=(s*=d)-(a*=d),h=(u*=d)-(l*=d),f=be.createCanvas(),v=qr(f,{renderer:t?"svg":"canvas"});if(v.resize({width:p,height:h}),t){var g="";return Ge(c,(function(e){var t=e.left-a,n=e.top-l;g+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),v.painter.getSvgRoot().innerHTML=g,e.connectedBackgroundColor&&v.painter.setBackgroundColor(e.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}// Background between the charts
return e.connectedBackgroundColor&&v.add(new Gs({shape:{x:0,y:0,width:p,height:h},style:{fill:e.connectedBackgroundColor}})),Ge(c,(function(e){var t=new Ns({style:{x:e.left*d-a,y:e.top*d-l,image:e.dom}});v.add(t)})),v.refreshImmediately(),f.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}this.id},t.prototype.convertToPixel=function(e,t){return px(this,"convertToPixel",e,t)},t.prototype.convertFromPixel=function(e,t){return px(this,"convertFromPixel",e,t)},
/**
         * Is the specified coordinate systems or components contain the given pixel point.
         * @param {Array|number} value
         * @return {boolean} result
         */
t.prototype.containPixel=function(e,t){var n;if(!this._disposed)return Ge(Ra(this._model,e),(function(e,i){i.indexOf("Models")>=0&&Ge(e,(function(e){var o=e.coordinateSystem;if(o&&o.containPoint)n=n||!!o.containPoint(t);else if("seriesModels"===i){var r=this._chartsMap[e.__viewId];r&&r.containPoint&&(n=n||r.containPoint(t,e))}}),this)}),this),!!n;this.id},
/**
         * Get visual from series or data.
         * @param finder
         *        If string, e.g., 'series', means {seriesIndex: 0}.
         *        If Object, could contain some of these properties below:
         *        {
         *            seriesIndex / seriesId / seriesName,
         *            dataIndex / dataIndexInside
         *        }
         *        If dataIndex is not specified, series visual will be fetched,
         *        but not data item visual.
         *        If all of seriesIndex, seriesId, seriesName are not specified,
         *        visual will be fetched from first series.
         * @param visualType 'color', 'symbol', 'symbolSize'
         */
t.prototype.getVisual=function(e,t){var n=Ra(this._model,e,{defaultMainType:"series"}),i=n.seriesModel.getData(),o=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null;return null!=o?em(i,o,t):tm(i,t)},
/**
         * Get view of corresponding component model
         */
t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},
/**
         * Get view of corresponding series model
         */
t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;Ge(Ox,(function(t){var n=function(n){var i,o=e.getModel(),r=n.target;// Contract: if params prepared in mouse event,
// these properties must be specified:
// {
//    componentType: string (component main type)
//    componentIndex: number
// }
// Otherwise event query can not work.
if(// no e.target when 'globalout'.
"globalout"===t?i={}:r&&rm(r,(function(e){var t=au(e);if(t&&null!=t.dataIndex){var n=t.dataModel||o.getSeriesByIndex(t.seriesIndex);return i=n&&n.getDataParams(t.dataIndex,t.dataType)||{},!0}// If element has custom eventData of components
if(t.eventData)return i=Be({},t.eventData),!0}),!0),i){var a=i.componentType,l=i.componentIndex;// Special handling for historic reason: when trigger by
// markLine/markPoint/markArea, the componentType is
// 'markLine'/'markPoint'/'markArea', but we should better
// enable them to be queried by seriesIndex, since their
// option is set in each series.
"markLine"!==a&&"markPoint"!==a&&"markArea"!==a||(a="series",l=i.seriesIndex);var s=a&&null!=l&&o.getComponent(a,l),u=s&&e["series"===s.mainType?"_chartsMap":"_componentsMap"][s.__viewId];i.event=n,i.type=t,e._$eventProcessor.eventInfo={targetEl:r,packedEvent:i,model:s,view:u},e.trigger(t,i)}};// Consider that some component (like tooltip, brush, ...)
// register zr event handler, but user event handler might
// do anything, such as call `setOption` or `dispatchAction`,
// which probably update any of the content and probably
// cause problem if it is called previous other inner handlers.
n.zrEventfulCallAtLast=!0,e._zr.on(t,n,e)})),Ge(Lx,(function(t,n){e._messageCenter.on(n,(function(e){this.trigger(n,e)}),e)})),// Extra events
// TODO register?
Ge(["selectchanged"],(function(t){e._messageCenter.on(t,(function(e){this.trigger(t,e)}),e)})),function(e,t,n){e.on("selectchanged",(function(e){var i=n.getModel();e.isFromClick?(om("map","selectchanged",t,i,e),om("pie","selectchanged",t,i,e)):"select"===e.fromAction?(om("map","selected",t,i,e),om("pie","selected",t,i,e)):"unselect"===e.fromAction&&(om("map","unselected",t,i,e),om("pie","unselected",t,i,e))}))}(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)this.id;else{this._disposed=!0,this.getDom()&&ja(this.getDom(),Hx,"");var e=this,t=e._api,n=e._model;Ge(e._componentsViews,(function(e){e.dispose(n,t)})),Ge(e._chartsViews,(function(e){e.dispose(n,t)})),// Dispose after all views disposed
e._zr.dispose(),// Set properties to null.
// To reduce the memory cost in case the top code still holds this instance unexpectedly.
e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete Fx[e.id]}},
/**
         * Resize the chart
         */
t.prototype.resize=function(e){if(!this[ex])if(this._disposed)this.id;else{this._zr.resize(e);var t=this._model;// Resize loading effect
if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),i=e&&e.silent;// There is some real cases that:
// chart.setOption(option, { lazyUpdate: true });
// chart.resize();
this[tx]&&(null==i&&(i=this[tx].silent),n=!0,this[tx]=null),this[ex]=!0;try{n&&sx(this),dx.update.call(this,{type:"resize",animation:Be({// Disable animation
duration:0},e&&e.animation)})}catch(qX){throw this[ex]=!1,qX}this[ex]=!1,vx.call(this,i),gx.call(this,i)}}},t.prototype.showLoading=function(e,t){if(this._disposed)this.id;else if(tt(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),Bx[e]){var n=Bx[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},
/**
         * Hide loading effect
         */
t.prototype.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var t=Be({},e);return t.type=Lx[e.type],t},
/**
         * @param opt If pass boolean, means opt.silent
         * @param opt.silent Default `false`. Whether trigger events.
         * @param opt.flush Default `undefined`.
         *        true: Flush immediately, and then pixel in canvas can be fetched
         *            immediately. Caution: it might affect performance.
         *        false: Not flush.
         *        undefined: Auto decide whether perform flush.
         */
t.prototype.dispatchAction=function(e,t){if(this._disposed)this.id;else if(tt(t)||(t={silent:!!t}),Px[e.type]&&this._model)// May dispatchAction in rendering procedure
if(this[ex])this._pendingActions.push(e);else{var n=t.silent;fx.call(this,e,n);var i=t.flush;i?this._zr.flush():!1!==i&&fe.browser.weChat&&// In WeChat embedded browser, `requestAnimationFrame` and `setInterval`
// hang when sliding page (on touch event), which cause that zr does not
// refresh until user interaction finished, which is not expected.
// But `dispatchAction` may be called too frequently when pan on touch
// screen, which impacts performance if do not throttle them.
this._throttledZrFlush(),vx.call(this,n),gx.call(this,n)}// Avoid dispatch action before setOption. Especially in `connect`.
},t.prototype.updateLabelLayout=function(){qm.trigger("series:layoutlabels",this._model,this._api,{// Not adding series labels.
// TODO
updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed)this.id;else{var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),// Note: `appendData` does not support that update extent of coordinate
// system, util some scenario require that. In the expected usage of
// `appendData`, the initial extent of coordinate system should better
// be fixed by axis `min`/`max` setting or initial data, otherwise if
// the extent changed while `appendData`, the location of the painted
// graphic elements have to be changed, which make the usage of
// `appendData` meaningless.
this._scheduler.unfinished=!0,this.getZr().wakeUp()}},// A work around for no `internal` modifier in ts yet but
// need to strictly hide private methods to JS users.
t.internalField=function(){function e(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function t(e){// Keep other states.
for(var t=[],n=e.currentStates,i=0;i<n.length;i++){var o=n[i];"emphasis"!==o&&"blur"!==o&&"select"!==o&&t.push(o)}// Only use states when it's exists.
e.selected&&e.states.select&&t.push("select"),2===e.hoverState&&e.states.emphasis?t.push("emphasis"):1===e.hoverState&&e.states.blur&&t.push("blur"),e.useStates(t)}function n(e,t){if(!e.preventAutoZ){var n=e.get("z")||0,o=e.get("zlevel")||0;// Set z and zlevel
t.eachRendered((function(e){// Don't traverse the children because it has been traversed in _updateZ.
return i(e,n,o,-1/0),!0}))}}function i(e,t,n,o){// Group may also have textContent
var r=e.getTextContent(),a=e.getTextGuideLine();if(e.isGroup)for(// set z & zlevel of children elements of Group
var l=e.childrenRef(),s=0;s<l.length;s++)o=Math.max(i(l[s],t,n,o),o);else// not Group
e.z=t,e.zlevel=n,o=Math.max(e.z2,o);// always set z and zlevel if label/labelLine exists
if(r&&(r.z=t,r.zlevel=n,// lift z2 of text content
// TODO if el.emphasis.z2 is spcefied, what about textContent.
isFinite(o)&&(r.z2=o+2)),a){var u=e.textGuideLineConfig;a.z=t,a.zlevel=n,isFinite(o)&&(a.z2=o+(u&&u.showAbove?1:-1))}return o}// Clear states without animation.
// TODO States on component.
function o(e,t){t.eachRendered((function(e){// Not applied on removed elements, it may still in fading.
if(!Bd(e)){var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),// TODO If el is incremental.
e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)}}))}function r(e,n){var i=e.getModel("stateAnimation"),o=e.isAnimationEnabled(),r=i.get("duration"),a=r>0?{duration:r,delay:i.get("delay"),easing:i.get("easing")}:null;n.eachRendered((function(e){if(e.states&&e.states.emphasis){// Not applied on removed elements, it may still in fading.
if(Bd(e))return;// Only updated on changed element. In case element is incremental and don't want to rerender.
// TODO, a more proper way?
if(e instanceof ks&&function(e){var t=cu(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}(e),e.__dirty){var n=e.prevStates;// Restore states without animation
n&&e.useStates(n)}// Update state transition and enable animation again.
if(o){e.stateTransition=a;var i=e.getTextContent(),r=e.getTextGuideLine();// TODO Is it necessary to animate label?
i&&(i.stateTransition=a),r&&(r.stateTransition=a)}// Use highlighted and selected flag to toggle states.
e.__dirty&&t(e)}}))}sx=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),ux(e,!0),ux(e,!1),t.plan()},
/**
           * Prepare view instances of charts and components
           */
ux=function(e,t){for(var n=e._model,i=e._scheduler,o=t?e._componentsViews:e._chartsViews,r=t?e._componentsMap:e._chartsMap,a=e._zr,l=e._api,s=0;s<o.length;s++)o[s].__alive=!1;function u(e){// By default view will be reused if possible for the case that `setOption` with "notMerge"
// mode and need to enable transition animation. (Usually, when they have the same id, or
// especially no id but have the same type & name & index. See the `model.id` generation
// rule in `makeIdAndName` and `viewId` generation rule here).
// But in `replaceMerge` mode, this feature should be able to disabled when it is clear that
// the new model has nothing to do with the old model.
var s=e.__requireNewView;// This command should not work twice.
e.__requireNewView=!1;// Consider: id same and type changed.
var u="_ec_"+e.id+"_"+e.type,c=!s&&r[u];if(!c){var d=Ua(e.type);(c=new(t?Jg.getClass(d.main,d.sub):// FIXME:TS
// (ChartView as ChartViewConstructor).getClass('series', classType.sub)
// For backward compat, still support a chart type declared as only subType
// like "liquidfill", but recommend "series.liquidfill"
// But need a base class to make a type series.
sy.getClass(d.sub))).init(n,l),r[u]=c,o.push(c),a.add(c.group)}e.__viewId=c.__id=u,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&i.prepareView(c,e,n,l)}t?n.eachComponent((function(e,t){"series"!==e&&u(t)})):n.eachSeries(u);for(s=0;s<o.length;){var c=o[s];c.__alive?s++:(!t&&c.renderTask.dispose(),a.remove(c.group),c.dispose(n,l),o.splice(s,1),r[c.__id]===c&&delete r[c.__id],c.__id=c.group.__ecComponentInfo=null)}},cx=function(e,t,n,i,o){var r=e._model;// broadcast
if(r.setUpdatePayload(n),i){var a={};a[i+"Id"]=n[i+"Id"],a[i+"Index"]=n[i+"Index"],a[i+"Name"]=n[i+"Name"];var l={mainType:i,query:a};o&&(l.subType=o);// subType may be '' by parseClassType;
var s,u=n.excludeSeriesId;null!=u&&(s=bt(),Ge(wa(u),(function(e){var t=Da(e,null);null!=t&&s.set(t,!0)}))),// If dispatchAction before setOption, do nothing.
r&&r.eachComponent(l,(function(t){if(!(s&&null!=s.get(t.id)))if(rc(n))if(t instanceof Zg)n.type!==vu||n.notBlur||t.get(["emphasis","disabled"])||function(e,t,n){var i=e.seriesIndex,o=e.getData(t.dataType);if(o){var r=La(o,t);// Pick the first one if there is multiple/none exists.
r=(Ze(r)?r[0]:r)||0;var a=o.getItemGraphicEl(r);if(!a)// If data on dataIndex is NaN.
for(var l=o.count(),s=0;!a&&s<l;)a=o.getItemGraphicEl(s++);if(a){var u=au(a);Ku(i,u.focus,u.blurScope,n)}else{// If there is no element put on the data. Try getting it from raw option
// TODO Should put it on seriesModel?
var c=e.get(["emphasis","focus"]),d=e.get(["emphasis","blurScope"]);null!=c&&Ku(i,c,d,n)}}}(t,n,e._api);else{var i=Yu(t.mainType,t.componentIndex,n.name,e._api),o=i.focusSelf,r=i.dispatchers;n.type===vu&&o&&!n.notBlur&&Uu(t.mainType,t.componentIndex,e._api),// PENDING:
// Whether to put this "enter emphasis" code in `ComponentView`,
// which will be the same as `ChartView` but might be not necessary
// and will be far from this logic.
r&&Ge(r,(function(e){n.type===vu?zu(e):Bu(e)}))}else oc(n)&&t instanceof Zg&&(!function(e,t,n){if(oc(t)){var i=t.dataType,o=La(e.getData(i),t);Ze(o)||(o=[o]),e[t.type===xu?"toggleSelect":t.type===yu?"select":"unselect"](o,i)}}(t,n,e._api),Xu(t),Mx(e))}),e),r&&r.eachComponent(l,(function(t){s&&null!=s.get(t.id)||c(e["series"===i?"_chartsMap":"_componentsMap"][t.__viewId])}),e)}else// FIXME
// Chart will not be update directly here, except set dirty.
// But there is no such scenario now.
Ge([].concat(e._componentsViews).concat(e._chartsViews),c);function c(i){i&&i.__alive&&i[t]&&i[t](i.__model,r,e._api,n)}},dx={prepareAndUpdate:function(e){sx(this),dx.update.call(this,e,{// Needs to mark option changed if newOption is given.
// It's from MagicType.
// TODO If use a separate flag optionChanged in payload?
optionChanged:null!=e.newOption})},update:function(t,n){var i=this._model,o=this._api,r=this._zr,a=this._coordSysMgr,l=this._scheduler;// update before setOption
if(i){i.setUpdatePayload(t),l.restoreData(i,t),l.performSeriesTasks(i),// TODO
// Save total ecModel here for undo/redo (after restoring data and before processing data).
// Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.
// Create new coordinate system each update
// In LineView may save the old coordinate system and use it to get the original point.
a.create(i,o),l.performDataProcessorTasks(i,t),// Current stream render is not supported in data process. So we can update
// stream modes after data processing, where the filtered data is used to
// determine whether to use progressive rendering.
hx(this,i),// We update stream modes before coordinate system updated, then the modes info
// can be fetched when coord sys updating (consider the barGrid extent fix). But
// the drawback is the full coord info can not be fetched. Fortunately this full
// coord is not required in stream mode updater currently.
a.update(i,o),e(i),l.performVisualTasks(i,t),xx(this,i,o,t,n);// Set background
var s=i.get("backgroundColor")||"transparent",u=i.get("darkMode");r.setBackgroundColor(s),// Force set dark mode.
null!=u&&"auto"!==u&&r.setDarkMode(u),qm.trigger("afterupdate",i,o)}},updateTransform:function(t){var n=this,i=this._model,o=this._api;// update before setOption
if(i){i.setUpdatePayload(t);// ChartView.markUpdateMethod(payload, 'updateTransform');
var r=[];i.eachComponent((function(e,a){if("series"!==e){var l=n.getViewOfComponentModel(a);if(l&&l.__alive)if(l.updateTransform){var s=l.updateTransform(a,i,o,t);s&&s.update&&r.push(l)}else r.push(l)}}));var a=bt();i.eachSeries((function(e){var r=n._chartsMap[e.__viewId];if(r.updateTransform){var l=r.updateTransform(e,i,o,t);l&&l.update&&a.set(e.uid,1)}else a.set(e.uid,1)})),e(i),// Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.
// this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);
this._scheduler.performVisualTasks(i,t,{setDirty:!0,dirtyMap:a}),// Currently, not call render of components. Geo render cost a lot.
// renderComponents(ecIns, ecModel, api, payload, componentDirtyList);
_x(this,i,o,t,{},a),qm.trigger("afterupdate",i,o)}},updateView:function(t){var n=this._model;// update before setOption
n&&(n.setUpdatePayload(t),sy.markUpdateMethod(t,"updateView"),e(n),// Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.
this._scheduler.performVisualTasks(n,t,{setDirty:!0}),xx(this,n,this._api,t,{}),qm.trigger("afterupdate",n,this._api))},updateVisual:function(t){// updateMethods.update.call(this, payload);
var n=this,i=this._model;// update before setOption
i&&(i.setUpdatePayload(t),// clear all visual
i.eachSeries((function(e){e.getData().clearAllVisual()})),// Perform visual
sy.markUpdateMethod(t,"updateVisual"),e(i),// Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.
this._scheduler.performVisualTasks(i,t,{visualType:"visual",setDirty:!0}),i.eachComponent((function(e,o){if("series"!==e){var r=n.getViewOfComponentModel(o);r&&r.__alive&&r.updateVisual(o,i,n._api,t)}})),i.eachSeries((function(e){n._chartsMap[e.__viewId].updateVisual(e,i,n._api,t)})),qm.trigger("afterupdate",i,this._api))},updateLayout:function(e){dx.update.call(this,e)}},px=function(e,t,n,i){if(e._disposed)e.id;else for(var o,r=e._model,a=e._coordSysMgr.getCoordinateSystems(),l=Ra(r,n),s=0;s<a.length;s++){var u=a[s];if(u[t]&&null!=(o=u[t](r,l,i)))return o}},hx=function(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries((function(e){i.updateStreamModes(e,n[e.__viewId])}))},fx=function(e,t){var n=this,i=this.getModel(),o=e.type,r=e.escapeConnect,a=Px[o],l=a.actionInfo,s=(l.update||"update").split(":"),u=s.pop(),c=null!=s[0]&&Ua(s[0]);this[ex]=!0;var d=[e],p=!1;// Batch action
e.batch&&(p=!0,d=We(e.batch,(function(t){return(t=Fe(Be({},t),e)).batch=null,t})));var h,f=[],v=oc(e),g=rc(e);if(// Only leave blur once if there are multiple batches.
g&&Wu(this._api),Ge(d,(function(t){// light update does not perform data process, layout and visual.
if(// Action can specify the event by return it.
// Convert type to eventType
(// Emit event outside
h=(h=a.action(t,n._model,n._api))||Be({},t)).type=l.event||h.type,f.push(h),g){var i=za(e),o=i.queryOptionMap,r=i.mainTypeSpecified?o.keys()[0]:"series";cx(n,u,t,r),Mx(n)}else v?(// At present `dispatchAction({ type: 'select', ... })` is not supported on components.
// geo still use 'geoselect'.
cx(n,u,t,"series"),Mx(n)):c&&cx(n,u,t,c.main,c.sub)})),"none"!==u&&!g&&!v&&!c)try{// Still dirty
this[tx]?(sx(this),dx.update.call(this,e),this[tx]=null):dx[u].call(this,e)}catch(qX){throw this[ex]=!1,qX}// Follow the rule of action batch
if(h=p?{type:l.event||o,escapeConnect:r,batch:f}:f[0],this[ex]=!1,!t){var y=this._messageCenter;// Extra triggered 'selectchanged' event
if(y.trigger(h.type,h),v){var m={type:"selectchanged",escapeConnect:r,selected:qu(i),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e};y.trigger(m.type,m)}}},vx=function(e){for(var t=this._pendingActions;t.length;){var n=t.shift();fx.call(this,n,e)}},gx=function(e){!e&&this.trigger("updated")},
/**
           * Event `rendered` is triggered when zr
           * rendered. It is useful for realtime
           * snapshot (reflect animation).
           *
           * Event `finished` is triggered when:
           * (1) zrender rendering finished.
           * (2) initial animation finished.
           * (3) progressive rendering finished.
           * (4) no pending action.
           * (5) no delayed setOption needs to be processed.
           */
yx=function(e,t){e.on("rendered",(function(n){t.trigger("rendered",n),// The `finished` event should not be triggered repeatedly,
// so it should only be triggered when rendering indeed happens
// in zrender. (Consider the case that dipatchAction is keep
// triggering when mouse move).
// Although zr is dirty if initial animation is not finished
// and this checking is called on frame, we also check
// animation finished for robustness.
!e.animation.isFinished()||t[tx]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))},mx=function(e,t){e.on("mouseover",(function(e){var n=rm(e.target,ic);n&&(!function(e,t,n){var i=au(e),o=Yu(i.componentMainType,i.componentIndex,i.componentHighDownName,n),r=o.dispatchers,a=o.focusSelf;// If `findHighDownDispatchers` is supported on the component,
// highlight/downplay elements with the same name.
r?(a&&Uu(i.componentMainType,i.componentIndex,n),Ge(r,(function(e){return Nu(e,t)}))):(// Try blur all in the related series. Then emphasis the hoverred.
// TODO. progressive mode.
Ku(i.seriesIndex,i.focus,i.blurScope,n),"self"===i.focus&&Uu(i.componentMainType,i.componentIndex,n),// Other than series, component that not support `findHighDownDispatcher` will
// also use it. But in this case, highlight/downplay are only supported in
// mouse hover but not in dispatchAction.
Nu(e,t))}(n,e,t._api),Mx(t))})).on("mouseout",(function(e){var n=rm(e.target,ic);n&&(!function(e,t,n){Wu(n);var i=au(e),o=Yu(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;o?Ge(o,(function(e){return Ru(e,t)})):Ru(e,t)}(n,e,t._api),Mx(t))})).on("click",(function(e){var n=rm(e.target,(function(e){return null!=au(e).dataIndex}),!0);if(n){var i=n.selected?"unselect":"select",o=au(n);t._api.dispatchAction({type:i,dataType:o.dataType,dataIndexInside:o.dataIndex,seriesIndex:o.seriesIndex,isFromClick:!0})}}))},xx=function(e,t,n,i,o){!function(e){var t=[],n=[],i=!1;if(e.eachComponent((function(e,o){var r=o.get("zlevel")||0,a=o.get("z")||0,l=o.getZLevelKey();i=i||!!l,("series"===e?n:t).push({zlevel:r,z:a,idx:o.componentIndex,type:e,key:l})})),i){// Series after component
var o,r,a=t.concat(n);ni(a,(function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel})),Ge(a,(function(t){var n=e.getComponent(t.type,t.idx),i=t.zlevel,a=t.key;null!=o&&(i=Math.max(o,i)),a?(i===o&&a!==r&&i++,r=a):r&&(i===o&&i++,r=""),o=i,n.setZLevel(i)}))}}(t),bx(e,t,n,i,o),Ge(e._chartsViews,(function(e){e.__alive=!1})),_x(e,t,n,i,o),// Remove groups of unrendered charts
Ge(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))},bx=function(e,t,i,a,l,s){Ge(s||e._componentsViews,(function(e){var l=e.__model;o(l,e),e.render(l,t,i,a),n(l,e),r(l,e)}))},
/**
           * Render each chart and component
           */
_x=function(e,t,i,a,l,s){// Render all charts
var u=e._scheduler;l=Be(l||{},{updatedSeries:t.getSeries()}),// TODO progressive?
qm.trigger("series:beforeupdate",t,i,l);var c=!1;t.eachSeries((function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var i=n.renderTask;u.updatePayload(i,a),// TODO states on marker.
o(t,n),s&&s.get(t.uid)&&i.dirty(),i.perform(u.getPerformArgs(i))&&(c=!0),n.group.silent=!!t.get("silent"),// Should not call markRedraw on group, because it will disable zrender
// incremental render (always render from the __startIndex each frame)
// chartView.group.markRedraw();
/**
           * Update chart and blend.
           */
function(e,t){var n=e.get("blendMode")||null;t.eachRendered((function(e){// FIXME marker and other components
e.isGroup||(// DON'T mark the element dirty. In case element is incremental and don't want to rerender.
e.style.blend=n)}))}(t,n),Xu(t)})),u.unfinished=c||u.unfinished,qm.trigger("series:layoutlabels",t,i,l),// transition after label is layouted.
qm.trigger("series:transition",t,i,l),t.eachSeries((function(t){var i=e._chartsMap[t.__viewId];// Update Z after labels updated. Before applying states.
n(t,i),// NOTE: Update states after label is updated.
// label should be in normal status when layouting.
r(t,i)})),// If use hover layer
function(e,t){var n=e._zr,i=n.storage,o=0;i.traverse((function(e){e.isGroup||o++})),o>t.get("hoverLayerThreshold")&&!fe.node&&!fe.worker&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.eachRendered((function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)}))}}))}(e,t),qm.trigger("series:afterupdate",t,i,l)},Mx=function(e){e[nx]=!0,// Wake up zrender if it's sleep. Let it update states in the next frame.
e.getZr().wakeUp()},Tx=function(e){e[nx]&&(e.getZr().storage.traverse((function(e){// Not applied on removed elements, it may still in fading.
Bd(e)||t(e)})),e[nx]=!1)},Sx=function(e){return new(/** @class */function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return de(n,t),n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){zu(t,n),Mx(e)},n.prototype.leaveEmphasis=function(t,n){Bu(t,n),Mx(e)},n.prototype.enterBlur=function(t){Fu(t),Mx(e)},n.prototype.leaveBlur=function(t){Vu(t),Mx(e)},n.prototype.enterSelect=function(t){ju(t),Mx(e)},n.prototype.leaveSelect=function(t){Hu(t),Mx(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n}(Vf))(e)},Cx=function(e){function t(e,t){for(var n=0;n<e.length;n++){e[n][ox]=t}}Ge(Lx,(function(n,i){e._messageCenter.on(i,(function(n){if(Vx[e.group]&&0!==e[ox]){if(n&&n.escapeConnect)return;var i=e.makeActionFromEvent(n),o=[];Ge(Fx,(function(t){t!==e&&t.group===e.group&&o.push(t)})),t(o,0),Ge(o,(function(e){1!==e[ox]&&e.dispatchAction(i)})),t(o,2)}}))}))}}(),t}(Zt),Dx=Ax.prototype;Dx.on=rx("on"),Dx.off=rx("off"),
/**
       * @deprecated
       */
// @ts-ignore
Dx.one=function(e,t,n){var i=this;this.on.call(this,e,(function n(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];t&&t.apply&&t.apply(this,o),// @ts-ignore
i.off(e,n)}),n)};var Ox=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Px={},Lx={},Ex=[],Nx=[],Rx=[],zx={},Bx={},Fx={},Vx={},jx=+new Date-0,Hx="_echarts_instance_";
/**
       * Map eventType to actionType
       */
/**
       * @param opts.devicePixelRatio Use window.devicePixelRatio by default
       * @param opts.renderer Can choose 'canvas' or 'svg' to render the chart.
       * @param opts.width Use clientWidth of the input `dom` by default.
       *        Can be 'auto' (the same as null/undefined)
       * @param opts.height Use clientHeight of the input `dom` by default.
       *        Can be 'auto' (the same as null/undefined)
       * @param opts.locale Specify the locale.
       * @param opts.useDirtyRect Enable dirty rectangle rendering or not.
       */
function Gx(e,t,n){var i=!(n&&n.ssr);if(i){var o=function(e){return Fx[function(e,t){return e.getAttribute?e.getAttribute(t):e[t]}(e,Hx)]}
/**
       * Register theme
       */(e);if(o)return o}var r=new Ax(e,t,n);return r.id="ec_"+jx++,Fx[r.id]=r,i&&ja(e,Hx,r.id),Cx(r),qm.trigger("afterinit",r),r}function Wx(e,t){zx[e]=t}
/**
       * Register option preprocessor
       */function Kx(e){Ve(Nx,e)<0&&Nx.push(e)}function Ux(e,t){$x(Ex,e,t,2e3)}
/**
       * Register postIniter
       * @param {Function} postInitFunc
       */function Yx(e,t){qm.on(e,t)}function Xx(e,t,n){$e(t)&&(n=t,t="");var i=tt(e)?e.type:[e,e={event:t}][0];// Event name is all lowercase
e.event=(e.event||i).toLowerCase(),t=e.event,Lx[t]||(// Validate action type and event name.
pt(ix.test(i)&&ix.test(t)),Px[i]||(Px[i]={action:n,actionInfo:e}),Lx[t]=i)}function qx(e,t){$x(Rx,e,t,3e3,"visual")}var Zx=[];function $x(e,t,n,i,o){if(($e(t)||tt(t))&&(n=t,t=i),!(Ve(Zx,n)>=0)){Zx.push(n);var r=Vy.wrapStageHandler(n,o);r.__prio=t,r.__raw=n,e.push(r)}}function Jx(e,t){Bx[e]=t}
/**
       * The parameters and usage: see `geoSourceManager.registerMap`.
       * Compatible with previous `echarts.registerMap`.
       */var Qx=function(e){var t=(e=Ne(e)).type;t||ma("");var n=t.split(":");2!==n.length&&ma("");// Namespace 'echarts:xxx' is official namespace, where the transforms should
// be called directly via 'xxx' rather than 'echarts:xxx'.
var i=!1;"echarts"===n[0]&&(t=n[1],i=!0),e.__isBuiltIn=i,rg.set(t,e)};
/**
       * Globa dispatchAction to a specified chart instance.
       */
// export function dispatchAction(payload: { chartId: string } & Payload, opt?: Parameters<ECharts['dispatchAction']>[1]) {
//     if (!payload || !payload.chartId) {
//         // Must have chartId to find chart
//         return;
//     }
//     const chart = instances[payload.chartId];
//     if (chart) {
//         chart.dispatchAction(payload, opt);
//     }
// }
// Builtin global visual
qx($m,by),qx(Jm,wy),qx(Jm,Sy),qx($m,Jy),qx(Jm,Qy),qx(7e3,(function(e,t){e.eachRawSeries((function(n){if(!e.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each((function(e){var n=i.getItemVisual(e,"decal");n&&(i.ensureUniqueItemVisual(e,"style").decal=Km(n,t))}));var o=i.getVisual("decal");if(o)i.getVisual("style").decal=Km(o,t)}}))})),Kx(hv),Ux(900,(function(e){var t=bt();e.eachSeries((function(e){var n=e.get("stack");// Compatible: when `stack` is set as '', do not stack.
if(n){var i=t.get(n)||t.set(n,[]),o=e.getData(),r={// Used for calculate axis extent automatically.
// TODO: Type getCalculationInfo return more specific type?
stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};// If stacked on axis that do not support data stack.
if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(r)}})),t.each(fv)})),Jx("default",(
/**
       * @param {module:echarts/ExtensionAPI} api
       * @param {Object} [opts]
       * @param {string} [opts.text]
       * @param {string} [opts.color]
       * @param {string} [opts.textColor]
       * @return {module:zrender/Element}
       */
function(e,t){Fe(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Kr,i=new Gs({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var o,r=new ru({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Gs({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return n.add(a),t.showSpinner&&((o=new vd({shape:{startAngle:-Cy/2,endAngle:-Cy/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Cy/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*Cy/2}).delay(300).start("circularInOut"),n.add(o)),// Inject resize
n.resize=function(){var n=r.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,s=(e.getWidth()-2*l-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:l),u=e.getHeight()/2;t.showSpinner&&o.setShape({cx:s,cy:u}),a.setShape({x:s-l,y:u-l,width:2*l,height:2*l}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n})),// Default actions
Xx({type:vu,event:vu,update:vu},Mt),Xx({type:gu,event:gu,update:gu},Mt),Xx({type:yu,event:yu,update:yu},Mt),Xx({type:mu,event:mu,update:mu},Mt),Xx({type:xu,event:xu,update:xu},Mt),// Default theme
Wx("light",Hy),Wx("dark",Xy);// For backward compatibility, where the namespace `dataTool` will
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var eb=[],tb={registerPreprocessor:Kx,registerProcessor:Ux,registerPostInit:function(e){Yx("afterinit",e)}
/**
       * Register postUpdater
       * @param {Function} postUpdateFunc
       */,registerPostUpdate:function(e){Yx("afterupdate",e)},registerUpdateLifecycle:Yx,registerAction:Xx,registerCoordinateSystem:function(e,t){Gf.register(e,t)},registerLayout:function(e,t){$x(Rx,e,t,1e3,"layout")},registerVisual:qx,registerTransform:Qx,registerLoading:Jx,registerMap:function(e,t,n){var i=Zm["registerMap"];i&&i(e,t,n)},registerImpl:// TODO Type
function(e,t){Zm[e]=t},PRIORITY:Qm,ComponentModel:tf,ComponentView:Jg,SeriesModel:Zg,ChartView:sy,// TODO Use ComponentModel and SeriesModel instead of Constructor
registerComponentModel:function(e){tf.registerClass(e)},registerComponentView:function(e){Jg.registerClass(e)},registerSeriesModel:function(e){Zg.registerClass(e)},registerChartView:function(e){sy.registerClass(e)},registerSubTypeDefaulter:function(e,t){tf.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){var n;n=t,Ur[e]=n}};function nb(e){Ze(e)?// use([ChartLine, ChartBar]);
Ge(e,(function(e){nb(e)})):Ve(eb,e)>=0||(eb.push(e),$e(e)&&(e={install:e}),e.install(tb))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function ib(e){return null==e?0:e.length||1}function ob(e){return e}var rb=/** @class */function(){
/**
         * @param context Can be visited by this.context in callback.
         */
function e(e,t,n,i,o,// By default: 'oneToOne'.
r){this._old=e,this._new=t,this._oldKeyGetter=n||ob,this._newKeyGetter=i||ob,// Visible in callback via `this.context`;
this.context=o,this._diffModeMultiple="multiple"===r}
/**
         * Callback function when add a data
         */return e.prototype.add=function(e){return this._add=e,this},
/**
         * Callback function when update a data
         */
e.prototype.update=function(e){return this._update=e,this},
/**
         * Callback function when update a data and only work in `cbMode: 'byKey'`.
         */
e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},
/**
         * Callback function when update a data and only work in `cbMode: 'byKey'`.
         */
e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},
/**
         * Callback function when update a data and only work in `cbMode: 'byKey'`.
         */
e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},
/**
         * Callback function when remove a data
         */
e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},i=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,n,o,"_newKeyGetter");for(var r=0;r<e.length;r++){var a=i[r],l=n[a],s=ib(l);// idx can never be empty array here. see 'set null' logic below.
if(s>1){// Consider there is duplicate key (for example, use dataItem.name as key).
// We should make sure every item in newArr and oldArr can be visited.
var u=l.shift();1===l.length&&(n[a]=l[0]),this._update&&this._update(u,r)}else 1===s?(n[a]=null,this._update&&this._update(l,r)):this._remove&&this._remove(r)}this._performRestAdd(o,n)},
/**
         * For example, consider the case:
         * oldData: [o0, o1, o2, o3, o4, o5, o6, o7],
         * newData: [n0, n1, n2, n3, n4, n5, n6, n7, n8],
         * Where:
         *     o0, o1, n0 has key 'a' (many to one)
         *     o5, n4, n5, n6 has key 'b' (one to many)
         *     o2, n1 has key 'c' (one to one)
         *     n2, n3 has key 'd' (add)
         *     o3, o4 has key 'e' (remove)
         *     o6, o7, n7, n8 has key 'f' (many to many, treated as add and remove)
         * Then:
         *     (The order of the following directives are not ensured.)
         *     this._updateManyToOne(n0, [o0, o1]);
         *     this._updateOneToMany([n4, n5, n6], o5);
         *     this._update(n1, o2);
         *     this._remove(o3);
         *     this._remove(o4);
         *     this._remove(o6);
         *     this._remove(o7);
         *     this._add(n2);
         *     this._add(n3);
         *     this._add(n7);
         *     this._add(n8);
         */
e.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},i={},o=[],r=[];this._initIndexMap(e,n,o,"_oldKeyGetter"),this._initIndexMap(t,i,r,"_newKeyGetter");for(var a=0;a<o.length;a++){var l=o[a],s=n[l],u=i[l],c=ib(s),d=ib(u);if(c>1&&1===d)this._updateManyToOne&&this._updateManyToOne(u,s),i[l]=null;else if(1===c&&d>1)this._updateOneToMany&&this._updateOneToMany(u,s),i[l]=null;else if(1===c&&1===d)this._update&&this._update(u,s),i[l]=null;else if(c>1&&d>1)this._updateManyToMany&&this._updateManyToMany(u,s),i[l]=null;else if(c>1)for(var p=0;p<c;p++)this._remove&&this._remove(s[p]);else this._remove&&this._remove(s)}this._performRestAdd(r,i)},e.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=t[i],r=ib(o);if(r>1)for(var a=0;a<r;a++)this._add&&this._add(o[a]);else 1===r&&this._add&&this._add(o);// Support both `newDataKeyArr` are duplication removed or not removed.
t[i]=null}},e.prototype._initIndexMap=function(e,// Can be null.
t,// In 'byKey', the output `keyArr` is duplication removed.
// In 'byIndex', the output `keyArr` is not duplication removed and
//     its indices are accurately corresponding to `arr`.
n,i){for(var o=this._diffModeMultiple,r=0;r<e.length;r++){// Add prefix to avoid conflict with Object.prototype.
var a="_ec_"+this[i](e[r],r);if(o||(n[r]=a),t){var l=t[a],s=ib(l);0===s?(// Simple optimize: in most cases, one index has one key,
// do not need array.
t[a]=r,o&&n.push(a)):1===s?t[a]=[l,r]:l.push(r)}}},e}(),ab=rb,lb=/** @class */function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{// Do not generate full dimension name until fist used.
fullDimensions:this._getFullDimensionNames(),encode:this._encode}},
/**
         * Get all data store dimension names.
         * Theoretically a series data store is defined both by series and used dataset (if any).
         * If some dimensions are omitted for performance reason in `this.dimensions`,
         * the dimension name may not be auto-generated if user does not specify a dimension name.
         * In this case, the dimension name is `null`/`undefined`.
         */
e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function sb(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}// FIXME:TS should be type `AxisType`
function ub(e){return"category"===e?"ordinal":"time"===e?"time":"float"}// function findTheLastDimMayLabel(data) {
//     // Get last value dim
//     let dimensions = data.dimensions.slice();
//     let valueType;
//     let valueDim;
//     while (dimensions.length && (
//         valueDim = dimensions.pop(),
//         valueType = data.getDimensionInfo(valueDim).type,
//         valueType === 'ordinal' || valueType === 'time'
//     )) {} // jshint ignore:line
//     return valueDim;
// }
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var cb=
/**
         * @param opt All of the fields will be shallow copied.
         */
function(e){
/**
           * The format of `otherDims` is:
           * ```js
           * {
           *     tooltip?: number
           *     label?: number
           *     itemName?: number
           *     seriesName?: number
           * }
           * ```
           *
           * A `series.encode` can specified these fields:
           * ```js
           * encode: {
           *     // "3, 1, 5" is the index of data dimension.
           *     tooltip: [3, 1, 5],
           *     label: [0, 3],
           *     ...
           * }
           * ```
           * `otherDims` is the parse result of the `series.encode` above, like:
           * ```js
           * // Suppose the index of this data dimension is `3`.
           * this.otherDims = {
           *     // `3` is at the index `0` of the `encode.tooltip`
           *     tooltip: 0,
           *     // `3` is at the index `1` of the `encode.label`
           *     label: 1
           * };
           * ```
           *
           * This prop should never be `null`/`undefined` after initialized.
           */
this.otherDims={},null!=e&&Be(this,e)},db=Ea(),pb={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},hb=/** @class */function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=gb(this.source)))},
/**
         * @caution Can only be used when `dimensionOmitted: true`.
         *
         * Get index by user defined dimension name (i.e., not internal generate name).
         * That is, get index from `dimensionsDefine`.
         * If no `dimensionsDefine`, or no name get, return -1.
         */
e.prototype.getSourceDimensionIndex=function(e){return st(this._dimNameMap.get(e),-1)},
/**
         * @caution Can only be used when `dimensionOmitted: true`.
         *
         * Notice: may return `null`/`undefined` if user not specify dimension names.
         */
e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Iv(this.source),n=!yb(e),i="",o=[],r=0,a=0;r<e;r++){var l=void 0,s=void 0,u=void 0,c=this.dimensions[a];// The list has been sorted by `storeDimIndex` asc.
if(c&&c.storeDimIndex===r)l=t?c.name:null,s=c.type,u=c.ordinalMeta,a++;else{var d=this.getSourceDimension(r);d&&(l=t?d.name:null,s=d.type)}o.push({property:l,type:s,ordinalMeta:u}),// If retrieving data by index,
//   use <index, type, ordinalMeta> to determine whether data can be shared.
//   (Because in this case there might be no dimension name defined in dataset, but indices always exists).
//   (Indices are always 0, 1, 2, ..., so we can ignore them to shorten the hash).
// Otherwise if retrieving data by property name (like `data: [{aa: 123, bb: 765}, ...]`),
//   use <property, type, ordinalMeta> in hash.
!t||null==l||c&&c.isCalculationCoord||(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=pb[s]||"f",u&&(i+=u.uid),i+="$"}// Source from endpoint(usually series) will be read differently
// when seriesLayoutBy or startIndex(which is affected by sourceHeader) are different.
// So we use this three props as key.
var p=this.source;return{dimensions:o,hash:[p.seriesLayoutBy,p.startIndex,i].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var i=void 0,o=this.dimensions[n];// The list has been sorted by `storeDimIndex` asc.
if(o&&o.storeDimIndex===t)o.isCalculationCoord||(i=o.name),n++;else{var r=this.getSourceDimension(t);r&&(i=r.name)}e.push(i)}return e},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,// If append dimension on a data store, consider the store
// might be shared by different series, series dimensions not
// really map to store dimensions.
this._updateDimOmitted(!0)},e}();function fb(e){return e instanceof hb}function vb(e){for(var t=bt(),n=0;n<(e||[]).length;n++){var i=e[n],o=tt(i)?i.name:i;null!=o&&null==t.get(o)&&t.set(o,n)}return t}function gb(e){var t=db(e);return t.dimNameMap||(t.dimNameMap=vb(e.dimensionsDefine))}function yb(e){return e>30}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var mb,xb,bb,_b,wb,Sb,Cb,Mb=tt,Tb=We,Ib="undefined"==typeof Int32Array?Array:Int32Array,kb=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Ab=["_approximateExtent"],Db=/** @class */function(){
/**
         * @param dimensionsInput.dimensions
         *        For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].
         *        Dimensions should be concrete names like x, y, z, lng, lat, angle, radius
         */
function e(e,t){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],// Models of data option is stored sparse for optimizing memory cost
// Never used yet (not used yet).
// private _optionModels: Model[] = [];
// Global visual properties after visual coding
this._visual={},// Global layout properties.
this._layout={},// Item visual properties after visual coding
this._itemVisuals=[],// Item layout properties after layout
this._itemLayouts=[],// Graphic elements
this._graphicEls=[],// key: dim, value: extent
this._approximateExtent={},this._calculationInfo={},// Having detected that there is data item is non primitive type
// (in type `OptionDataItemObject`).
// Like `data: [ { value: xx, itemStyle: {...} }, ...]`
// At present it only happen in `SOURCE_FORMAT_ORIGINAL`.
this.hasItemOption=!1,// Methods that create a new list based on this list should be listed here.
// Notice that those method should `RETURN` the new list.
this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],// Methods that change indices of this list should be listed here.
this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i=!1;fb(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var o={},r=[],a={},l=!1,s={},u=0;u<n.length;u++){// Use the original dimensions[i], where other flag props may exists.
var c=n[u],d=Je(c)?new cb({name:c}):c instanceof cb?c:new cb(c),p=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=p,d.coordDimIndex=0);var h=d.otherDims=d.otherDims||{};r.push(p),o[p]=d,null!=s[p]&&(l=!0),d.createInvertedIndices&&(a[p]=[]),0===h.itemName&&(this._nameDimIdx=u),0===h.itemId&&(this._idDimIdx=u),i&&(d.storeDimIndex=u)}if(this.dimensions=r,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=a,this._dimOmitted){var f=this._dimIdxToName=bt();Ge(r,(function(e){f.set(o[e].storeDimIndex,e)}))}}
/**
         *
         * Get concrete dimension name by dimension name or dimension index.
         * If input a dimension name, do not validate whether the dimension name exits.
         *
         * @caution
         * @param dim Must make sure the dimension is `SeriesDimensionLoose`.
         * Because only those dimensions will have auto-generated dimension names if not
         * have a user-specified name, and other dimensions will get a return of null/undefined.
         *
         * @notice Because of this reason, should better use `getDimensionIndex` instead, for examples:
         * ```js
         * const val = data.getStore().get(data.getDimensionIndex(dim), dataIdx);
         * ```
         *
         * @return Concrete dim name.
         */return e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];// Retrieve from series dimension definition because it probably contains
// generated dimension name (like 'x', 'y').
var n=this._dimIdxToName.get(t);if(null!=n)return n;var i=this._schema.getSourceDimension(t);return i?i.name:void 0},
/**
         * Get dimension index in data store. Return -1 if not found.
         * Can be used to index value from getRawValue.
         */
e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},
/**
         * The meanings of the input parameter `dim`:
         *
         * + If dim is a number (e.g., `1`), it means the index of the dimension.
         *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.
         * + If dim is a number-like string (e.g., `"1"`):
         *     + If there is the same concrete dim name defined in `series.dimensions` or `dataset.dimensions`,
         *        it means that concrete name.
         *     + If not, it will be converted to a number, which means the index of the dimension.
         *        (why? because of the backward compatibility. We have been tolerating number-like string in
         *        dimension setting, although now it seems that it is not a good idea.)
         *     For example, `visualMap[i].dimension: "1"` is the same meaning as `visualMap[i].dimension: 1`,
         *     if no dimension name is defined as `"1"`.
         * + If dim is a not-number-like string, it means the concrete dim name.
         *   For example, it can be be default name `"x"`, `"y"`, `"z"`, `"lng"`, `"lat"`, `"angle"`, `"radius"`,
         *   or customized in `dimensions` property of option like `"age"`.
         *
         * @return recognized `DimensionIndex`. Otherwise return null/undefined (means that dim is `DimensionName`).
         */
e.prototype._recognizeDimIndex=function(e){if(et(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},e.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},
/**
         * Get type and calculation info of particular dimension
         * @param dim
         *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius
         *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'
         */
e.prototype.getDimensionInfo=function(e){// Do not clone, because there may be categories in dimInfo.
return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},
/**
         * concrete dimension name list on coord.
         */
e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[t]:null},e.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},e.prototype.getStore=function(){return this._store},
/**
         * Initialize from data
         * @param data source or data or data store.
         * @param nameList The name of a datum is used on data diff and
         *        default label/tooltip.
         *        A name can be specified in encode.itemName,
         *        or dataItem.name (only for series option data),
         *        or provided in nameList from outside.
         */
e.prototype.initData=function(e,t,n){var i,o=this;if(e instanceof yg&&(i=e),!i){var r=this.dimensions,a=_v(e)||He(e)?new kv(e,r.length):e;i=new yg;var l=Tb(r,(function(e){return{type:o._dimInfos[e].type,property:e}}));i.initData(a,l,n)}this._store=i,// Reset
this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),// Cache summary info for fast visit. See "dimensionHelper".
// Needs to be initialized after store is prepared.
this._dimSummary=function(e,t){var n={},i=n.encode={},o=bt(),r=[],a=[],l={};Ge(e.dimensions,(function(t){var n,s=e.getDimensionInfo(t),u=s.coordDim;if(u){var c=s.coordDimIndex;sb(i,u)[c]=t,s.isExtraCoord||(o.set(u,1),// Use the last coord dim (and label friendly) as default label,
// because when dataset is used, it is hard to guess which dimension
// can be value dimension. If both show x, y on label is not look good,
// and conventionally y axis is focused more.
"ordinal"!==(n=s.type)&&"time"!==n&&(r[0]=t),// User output encode do not contain generated coords.
// And it only has index. User can use index to retrieve value from the raw item array.
sb(l,u)[c]=e.getDimensionIndex(s.name)),s.defaultTooltip&&a.push(t)}af.each((function(e,t){var n=sb(i,t),o=s.otherDims[t];null!=o&&!1!==o&&(n[o]=s.name)}))}));var s=[],u={};o.each((function(e,t){var n=i[t];u[t]=n[0],// Not necessary to remove duplicate, because a data
// dim canot on more than one coordDim.
s=s.concat(n)})),n.dataDimsOnCoord=s,n.dataDimIndicesOnCoord=We(s,(function(t){return e.getDimensionInfo(t).storeDimIndex})),n.encodeFirstDimNotExtra=u;var c=i.label;// FIXME `encode.label` is not recommended, because formatter cannot be set
// in this way. Use label.formatter instead. Maybe remove this approach someday.
c&&c.length&&(r=c.slice());var d=i.tooltip;return d&&d.length?a=d.slice():a.length||(a=r.slice()),i.defaultedLabel=r,i.defaultedTooltip=a,n.userOutput=new lb(l,t),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},
/**
         * Caution: Can be only called on raw data (before `this._indices` created).
         */
e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},
/**
         * Caution: Can be only called on raw data (before `this._indices` created).
         * This method does not modify `rawData` (`dataProvider`), but only
         * add values to store.
         *
         * The final count will be increased by `Math.max(values.length, names.length)`.
         *
         * @param values That is the SourceType: 'arrayRows', like
         *        [
         *            [12, 33, 44],
         *            [NaN, 43, 1],
         *            ['-', 'asdf', 0]
         *        ]
         *        Each item is exactly corresponding to a dimension.
         */
e.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t.length),i=n.start,o=n.end,r=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var a=i;a<o;a++){var l=a-i;this._nameList[a]=t[l],r&&Cb(this,a)}},e.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var i=this._dimInfos[t[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==df&&!e.fillStorage},e.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,o=this._idList;// Each data item is value
// [1, 2]
// 2
// Bar chart, line chart which uses category axis
// only gives the 'y' value. 'x' value is the indices of category
// Use a tempValue to normalize the value to be a (x, y) value
// If dataItem is {name: ...} or {id: ...}, it has highest priority.
// This kind of ids and names are always stored `_nameList` and `_idList`.
if(n.getSource().sourceFormat===lf&&!n.pure)for(var r=[],a=e;a<t;a++){// NOTICE: Try not to write things into dataItem
var l=n.getItem(a,r);if(!this.hasItemOption&&Ta(l)&&(this.hasItemOption=!0),l){var s=l.name;null==i[a]&&null!=s&&(i[a]=Da(s,null));var u=l.id;null==o[a]&&null!=u&&(o[a]=Da(u,null))}}if(this._shouldMakeIdFromName())for(a=e;a<t;a++)Cb(this,a);mb(this)}},
/**
         * PENDING: In fact currently this function is only used to short-circuit
         * the calling of `scale.unionExtentFromData` when data have been filtered by modules
         * like "dataZoom". `scale.unionExtentFromData` is used to calculate data extent for series on
         * an axis, but if a "axis related data filter module" is used, the extent of the axis have
         * been fixed and no need to calling `scale.unionExtentFromData` actually.
         * But if we add "custom data filter" in future, which is not "axis related", this method may
         * be still needed.
         *
         * Optimize for the scenario that data is filtered by a given extent.
         * Consider that if data amount is more than hundreds of thousand,
         * extent calculation will cost more than 10ms and the cache will
         * be erased because of the filtering.
         */
e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},
/**
         * Calculate extent on a filtered data might be time consuming.
         * Approximate extent is only used for: calculate extent of filtered data outside.
         */
e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){Mb(e)?Be(this._calculationInfo,e):this._calculationInfo[e]=t},
/**
         * @return Never be null/undefined. `number` will be converted to string. Because:
         * In most cases, name is used in display, where returning a string is more convenient.
         * In other cases, name is used in query (see `indexOfName`), where we can keep the
         * rule that name `2` equals to name `'2'`.
         */
e.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return null==n&&null!=this._nameDimIdx&&(n=bb(this,this._nameDimIdx,t)),null==n&&(n=""),n},e.prototype._getCategory=function(e,t){var n=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},
/**
         * @return Never null/undefined. `number` will be converted to string. Because:
         * In all cases having encountered at present, id is used in making diff comparison, which
         * are usually based on hash map. We can keep the rule that the internal id are always string
         * (treat `2` is the same as `'2'`) to make the related logic simple.
         */
e.prototype.getId=function(e){return xb(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},
/**
         * Get value. Return NaN if idx is out of range.
         *
         * @notice Should better to use `data.getStore().get(dimIndex, dataIdx)` instead.
         */
e.prototype.get=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,t)},
/**
         * @notice Should better to use `data.getStore().getByRawIndex(dimIndex, dataIdx)` instead.
         */
e.prototype.getByRawIndex=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var n=this,i=this._store;return Ze(e)?i.getValues(Tb(e,(function(e){return n._getStoreDimIndex(e)})),t):i.getValues(e)},
/**
         * If value is NaN. Including '-'
         * Only check the coord dimensions.
         */
e.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,i=t.length;n<i;n++)// Ordinal type originally can be string or number.
// But when an ordinal type is used on coord, it can
// not be string but only number. So we can also use isNaN.
if(isNaN(this._store.get(t[n],e)))return!1;return!0},
/**
         * Retrieve the index with given name
         */
e.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},
/**
         * Only support the dimension which inverted index created.
         * Do not support other cases until required.
         * @param dim concrete dim
         * @param value ordinal index
         * @return rawIndex
         */
e.prototype.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return null==n||isNaN(n)?-1:n},
/**
         * Retrieve the index of nearest value
         * @param dim
         * @param value
         * @param [maxDistance=Infinity]
         * @return If and only if multiple indices has
         *         the same value, they are put to the result.
         */
e.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},e.prototype.each=function(e,t,n){$e(e)&&(n=t,t=e,e=[]);// ctxCompat just for compat echarts3
var i=n||this,o=Tb(_b(e),this._getStoreDimIndex,this);this._store.each(o,i?Xe(t,i):t)},e.prototype.filterSelf=function(e,t,n){$e(e)&&(n=t,t=e,e=[]);// ctxCompat just for compat echarts3
var i=n||this,o=Tb(_b(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?Xe(t,i):t),this},
/**
         * Select data in range. (For optimization of filter)
         * (Manually inline code, support 5 million data filtering in data zoom.)
         */
e.prototype.selectRange=function(e){var t=this,n={};return Ge(Ye(e),(function(i){var o=t._getStoreDimIndex(i);n[o]=e[i]})),this._store=this._store.selectRange(n),this},/* eslint-enable max-len */e.prototype.mapArray=function(e,t,n){$e(e)&&(n=t,t=e,e=[]),// ctxCompat just for compat echarts3
n=n||this;var i=[];return this.each(e,(function(){i.push(t&&t.apply(this,arguments))}),n),i},e.prototype.map=function(e,t,n,i){// ctxCompat just for compat echarts3
var o=n||i||this,r=Tb(_b(e),this._getStoreDimIndex,this),a=Sb(this);return a._store=this._store.map(r,o?Xe(t,o):t),a},e.prototype.modify=function(e,t,n,i){var o=n||i||this,r=Tb(_b(e),this._getStoreDimIndex,this);// If do shallow clone here, if there are too many stacked series,
// it still cost lots of memory, because `_store.dimensions` are not shared.
// We should consider there probably be shallow clone happen in each series
// in consequent filter/map.
this._store.modify(r,o?Xe(t,o):t)},
/**
         * Large data down sampling on given dimension
         * @param sampleIndex Sample index for name and id
         */
e.prototype.downSample=function(e,t,n,i){var o=Sb(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,n,i),o},
/**
         * Large data down sampling using largest-triangle-three-buckets
         * @param {string} valueDimension
         * @param {number} targetCount
         */
e.prototype.lttbDownSample=function(e,t){var n=Sb(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},
/**
         * Get model of one data item.
         */
// TODO: Type of data item
e.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new Kp(n,t,t&&t.ecModel)},
/**
         * Create a data differ
         */
e.prototype.diff=function(e){var t=this;return new ab(e?e.getStore().getIndices():[],this.getStore().getIndices(),(function(t){return xb(e,t)}),(function(e){return xb(t,e)}))},
/**
         * Get visual property.
         */
e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},Mb(e)?Be(this._visual,e):this._visual[e]=t},
/**
         * Get visual property of single data item
         */
// eslint-disable-next-line
e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],i=n&&n[t];return null==i?this.getVisual(t):i},
/**
         * If exists visual property of single data item
         */
e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},
/**
         * Make sure itemVisual property is unique
         */
// TODO: use key to save visual to reduce memory.
e.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var o=i[t];return null==o&&(// TODO Performance?
Ze(o=this.getVisual(t))?o=o.slice():Mb(o)&&(o=Be({},o)),i[t]=o),o},// eslint-disable-next-line
e.prototype.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Mb(t)?Be(i,t):i[t]=n},
/**
         * Clear itemVisuals and list visual.
         */
e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){Mb(e)?Be(this._layout,e):this._layout[e]=t},
/**
         * Get layout property.
         */
e.prototype.getLayout=function(e){return this._layout[e]},
/**
         * Get layout of single data item
         */
e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},
/**
         * Set layout of single data item
         */
e.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?Be(this._itemLayouts[e]||{},t):t},
/**
         * Clear all layout of single data item
         */
e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},
/**
         * Set graphic element relative to data. It can be set as null
         */
e.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;lu(n,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){Ge(this._graphicEls,(function(n,i){n&&e&&e.call(t,n,i)}))},
/**
         * Shallow clone a new list except visual and layout properties, and graph elements.
         * New list only change the indices.
         */
e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Tb(this.dimensions,this._getDimInfo,this),this.hostModel)),wb(t,this),t._store=this._store,t},
/**
         * Wrap some method to add more feature
         */
e.prototype.wrapMethod=function(e,t){var n=this[e];$e(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(ct(arguments)))})},// ----------------------------------------------------------
// A work around for internal method visiting private member.
// ----------------------------------------------------------
e.internalField=(mb=function(e){var t=e._invertedIndicesMap;Ge(t,(function(n,i){var o=e._dimInfos[i],r=o.ordinalMeta,a=e._store;// Currently, only dimensions that has ordinalMeta can create inverted indices.
if(r){n=t[i]=new Ib(r.categories.length);// The default value of TypedArray is 0. To avoid miss
// mapping to 0, we should set it as INDEX_NOT_FOUND.
for(var l=0;l<n.length;l++)n[l]=-1;for(l=0;l<a.count();l++)// Only support the case that all values are distinct.
n[a.get(o.storeDimIndex,l)]=l}}))},bb=function(e,t,n){return Da(e._getCategory(t,n),null)},
/**
           * @see the comment of `List['getId']`.
           */
xb=function(e,t){var n=e._idList[t];return null==n&&null!=e._idDimIdx&&(n=bb(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n},_b=function(e){return Ze(e)||(e=null!=e?[e]:[]),e},
/**
           * Data in excludeDimensions is copied, otherwise transferred.
           */
Sb=function(t){var n=new e(t._schema?t._schema:Tb(t.dimensions,t._getDimInfo,t),t.hostModel);// FIXME If needs stackedOn, value may already been stacked
return wb(n,t),n},wb=function(e,t){Ge(kb.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,Ge(Ab,(function(n){e[n]=Ne(t[n])})),e._calculationInfo=Be({},t._calculationInfo)},void(Cb=function(e,t){var n=e._nameList,i=e._idList,o=e._nameDimIdx,r=e._idDimIdx,a=n[t],l=i[t];if(null==a&&null!=o&&(n[t]=a=bb(e,o,t)),null==l&&null!=r&&(i[t]=l=bb(e,r,t)),null==l&&null!=a){var s=e._nameRepeatCount,u=s[a]=(s[a]||0)+1;l=a,u>1&&(l+="__ec__"+u),i[t]=l}})),e}(),Ob=Db;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * This method builds the relationship between:
       * + "what the coord sys or series requires (see `coordDimensions`)",
       * + "what the user defines (in `encode` and `dimensions`, see `opt.dimensionsDefine` and `opt.encodeDefine`)"
       * + "what the data source provids (see `source`)".
       *
       * Some guess strategy will be adapted if user does not define something.
       * If no 'value' dimension specified, the first no-named dimension will be
       * named as 'value'.
       *
       * @return The results are always sorted by `storeDimIndex` asc.
       */
function Pb(// TODO: TYPE completeDimensions type
e,t){_v(e)||(e=Sv(e));var n=(t=t||{}).coordDimensions||[],i=t.dimensionsDefine||e.dimensionsDefine||[],o=bt(),r=[],a=// ??? TODO
// Originally detect dimCount by data[0]. Should we
// optimize it to only by sysDims and dimensions and encode.
// So only necessary dims will be initialized.
// But
// (1) custom series should be considered. where other dims
// may be visited.
// (2) sometimes user need to calculate bubble size or use visualMap
// on other dimensions besides coordSys needed.
// So, dims that is not used by system, should be shared in data store?
function(e,t,n,i){// Note that the result dimCount should not small than columns count
// of data, otherwise `dataDimNameMap` checking will be incorrect.
var o=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,i||0);return Ge(t,(function(e){var t;tt(e)&&(t=e.dimsDef)&&(o=Math.max(o,t.length))})),o}(e,n,i,t.dimensionsCount),l=t.canOmitUnusedDimensions&&yb(a),s=i===e.dimensionsDefine,u=s?gb(e):vb(i),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,a));for(var d=bt(c),p=new pg(a),h=0;h<p.length;h++)p[h]=-1;function f(e){var t=p[e];if(t<0){var n=i[e],o=tt(n)?n:{name:n},a=new cb,l=o.name;null!=l&&null!=u.get(l)&&(// Only if `series.dimensions` is defined in option
// displayName, will be set, and dimension will be displayed vertically in
// tooltip by default.
a.name=a.displayName=l),null!=o.type&&(a.type=o.type),null!=o.displayName&&(a.displayName=o.displayName);var s=r.length;return p[e]=s,a.storeDimIndex=e,r.push(a),a}return r[t]}if(!l)for(h=0;h<a;h++)f(h);// Set `coordDim` and `coordDimIndex` by `encodeDefMap` and normalize `encodeDefMap`.
d.each((function(e,t){var n=wa(e).slice();// Note: It is allowed that `dataDims.length` is `0`, e.g., options is
// `{encode: {x: -1, y: 1}}`. Should not filter anything in
// this case.
if(1===n.length&&!Je(n[0])&&n[0]<0)d.set(t,!1);else{var i=d.set(t,[]);Ge(n,(function(e,n){// The input resultDimIdx can be dim name or index.
var o=Je(e)?u.get(e):e;null!=o&&o<a&&(i[n]=o,g(f(o),t,n))}))}}));// Apply templates and default order from `sysDims`.
var v=0;function g(e,t,n){null!=af.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,o.set(t,!0))}// Make sure the first extra dim is 'value'.
Ge(n,(function(e){var t,n,i,o;if(Je(e))t=e,o={};else{t=(o=e).name;var r=o.ordinalMeta;o.ordinalMeta=null,(o=Be({},o)).ordinalMeta=r,// `coordDimIndex` should not be set directly.
n=o.dimsDef,i=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var l=d.get(t);// negative resultDimIdx means no need to mapping.
if(!1!==l){// dimensions provides default dim sequences.
if(!(l=wa(l)).length)for(var u=0;u<(n&&n.length||1);u++){for(;v<a&&null!=f(v).coordDim;)v++;v<a&&l.push(v++)}// Apply templates.
Ge(l,(function(e,r){var a=f(e);// Coordinate system has a higher priority on dim type than source.
if(s&&null!=o.type&&(a.type=o.type),g(Fe(a,o),t,r),null==a.name&&n){var l=n[r];!tt(l)&&(l={name:l}),a.name=a.displayName=l.name,a.defaultTooltip=l.defaultTooltip}// FIXME refactor, currently only used in case: {otherDims: {tooltip: false}}
i&&Fe(a.otherDims,i)}))}}));var y=t.generateCoord,m=t.generateCoordCount,x=null!=m;m=y?m||1:0;var b=y||"value";function _(e){null==e.name&&(// Duplication will be removed in the next step.
e.name=e.coordDim)}// Set dim `name` and other `coordDim` and other props.
if(l)Ge(r,(function(e){// PENDING: guessOrdinal or let user specify type: 'ordinal' manually?
_(e)})),// Sort dimensions: there are some rule that use the last dim as label,
// and for some latter travel process easier.
r.sort((function(e,t){return e.storeDimIndex-t.storeDimIndex}));else for(var w=0;w<a;w++){var S=f(w);null==S.coordDim&&(// TODO no need to generate coordDim for isExtraCoord?
S.coordDim=Lb(b,o,x),S.coordDimIndex=0,// Series specified generateCoord is using out.
(!y||m<=0)&&(S.isExtraCoord=!0),m--),_(S),null!=S.type||wf(e,w)!==vf&&(!S.isExtraCoord||null==S.otherDims.itemName&&null==S.otherDims.seriesName)||(S.type="ordinal")}return function(e){for(var t=bt(),n=0;n<e.length;n++){var i=e[n],o=i.name,r=t.get(o)||0;r>0&&(// Starts from 0.
i.name=o+(r-1)),r++,t.set(o,r)}}(r),new hb({source:e,dimensions:r,fullDimensionCount:a,dimensionOmitted:l})}function Lb(e,t,n){if(n||t.hasKey(e)){for(var i=0;t.hasKey(e+i);)i++;e+=i}return t.set(e,!0),e}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * @class
       * For example:
       * {
       *     coordSysName: 'cartesian2d',
       *     coordSysDims: ['x', 'y', ...],
       *     axisMap: HashMap({
       *         x: xAxisModel,
       *         y: yAxisModel
       *     }),
       *     categoryAxisMap: HashMap({
       *         x: xAxisModel,
       *         y: undefined
       *     }),
       *     // The index of the first category axis in `coordSysDims`.
       *     // `null/undefined` means no category axis exists.
       *     firstCategoryDimIndex: 1,
       *     // To replace user specified encode.
       * }
       */var Eb=function(e){this.coordSysDims=[],this.axisMap=bt(),this.categoryAxisMap=bt(),this.coordSysName=e};var Nb={cartesian2d:function(e,t,n,i){var o=e.getReferringComponents("xAxis",Ba).models[0],r=e.getReferringComponents("yAxis",Ba).models[0];t.coordSysDims=["x","y"],n.set("x",o),n.set("y",r),Rb(o)&&(i.set("x",o),t.firstCategoryDimIndex=0),Rb(r)&&(i.set("y",r),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,i){var o=e.getReferringComponents("singleAxis",Ba).models[0];t.coordSysDims=["single"],n.set("single",o),Rb(o)&&(i.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var o=e.getReferringComponents("polar",Ba).models[0],r=o.findAxisModel("radiusAxis"),a=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",r),n.set("angle",a),Rb(r)&&(i.set("radius",r),t.firstCategoryDimIndex=0),Rb(a)&&(i.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var o=e.ecModel,r=o.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=r.dimensions.slice();Ge(r.parallelAxisIndex,(function(e,r){var l=o.getComponent("parallelAxis",e),s=a[r];n.set(s,l),Rb(l)&&(i.set(s,l),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=r))}))}};function Rb(e){return"category"===e.get("type")}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Note that it is too complicated to support 3d stack by value
       * (have to create two-dimension inverted index), so in 3d case
       * we just support that stacked by index.
       *
       * @param seriesModel
       * @param dimensionsInput The same as the input of <module:echarts/data/SeriesData>.
       *        The input will be modified.
       * @param opt
       * @param opt.stackedCoordDimension Specify a coord dimension if needed.
       * @param opt.byIndex=false
       * @return calculationInfo
       * {
       *     stackedDimension: string
       *     stackedByDimension: string
       *     isStackedByIndex: boolean
       *     stackedOverDimension: string
       *     stackResultDimension: string
       * }
       */function zb(e,t,n){var i,o,r,a=(n=n||{}).byIndex,l=n.stackedCoordDimension;!function(e){return!fb(e.schema)}(t)?(o=t.schema,i=o.dimensions,r=t.store):i=t;// Compatibal: when `stack` is set as '', do not stack.
var s,u,c,d,p=!(!e||!e.get("stack"));// Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.
// That put stack logic in List is for using conveniently in echarts extensions, but it
// might not be a good way.
if(Ge(i,(function(e,t){Je(e)&&(i[t]=e={name:e}),p&&!e.isExtraCoord&&(// Find the first ordinal dimension as the stackedByDimInfo.
a||s||!e.ordinalMeta||(s=e),// Find the first stackable dimension as the stackedDimInfo.
u||"ordinal"===e.type||"time"===e.type||l&&l!==e.coordDim||(u=e))})),!u||a||s||(// Compatible with previous design, value axis (time axis) only stack by index.
// It may make sense if the user provides elaborately constructed data.
a=!0),u){// Use a weird name that not duplicated with other names.
// Also need to use seriesModel.id as postfix because different
// series may share same data store. The stack dimension needs to be distinguished.
c="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,// Create inverted index to fast query index by value.
s&&(s.createInvertedIndices=!0);var h=u.coordDim,f=u.type,v=0;Ge(i,(function(e){e.coordDim===h&&v++}));var g={name:c,coordDim:h,coordDimIndex:v,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},y={name:d,// This dimension contains stack base (generally, 0), so do not set it as
// `stackedDimCoordDim` to avoid extent calculation, consider log scale.
coordDim:d,coordDimIndex:v+1,type:f,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};o?(r&&(g.storeDimIndex=r.ensureCalculationDimension(d,f),y.storeDimIndex=r.ensureCalculationDimension(c,f)),o.appendCalculationDimension(g),o.appendCalculationDimension(y)):(i.push(g),i.push(y))}return{stackedDimension:u&&u.name,stackedByDimension:s&&s.name,isStackedByIndex:a,stackedOverDimension:d,stackResultDimension:c}}function Bb(e,t){// Each single series only maps to one pair of axis. So we do not need to
// check stackByDim, whatever stacked by a dimension or stacked by index.
return!!t&&t===e.getCalculationInfo("stackedDimension")}function Fb(e,t){return Bb(e,t)?e.getCalculationInfo("stackResultDimension"):t}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Caution: there are side effects to `sourceManager` in this method.
       * Should better only be called in `Series['getInitialData']`.
       */
function Vb(e,t,n){n=n||{};var i,o=t.getSourceManager(),r=!1;e?(r=!0,i=Sv(e)):// Is series.data. not dataset.
r=(i=o.getSource()).sourceFormat===lf;var a=function(e){var t=e.get("coordinateSystem"),n=new Eb(t),i=Nb[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n}(t),l=function(e,t){var n,i=e.get("coordinateSystem"),o=Gf.get(i);return t&&t.coordSysDims&&(n=We(t.coordSysDims,(function(e){var n={name:e},i=t.axisMap.get(e);if(i){var o=i.get("type");n.type=ub(o)}return n}))),n||(// Get dimensions from registered coordinate system
n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),n}(t,a),s=n.useEncodeDefaulter,u=$e(s)?s:s?qe(xf,l,t):null,c=Pb(i,{coordDimensions:l,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!r}),d=function(e,t,n){var i,o;return n&&Ge(e,(function(e,r){var a=e.coordDim,l=n.categoryAxisMap.get(a);l&&(null==i&&(i=r),e.ordinalMeta=l.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(o=!0)})),o||null==i||(e[i].otherDims.itemName=0),i}(c.dimensions,n.createInvertedIndices,a),p=r?null:o.getSharedDataStore(c),h=zb(t,{schema:c,store:p}),f=new Ob(c,t);f.setCalculationInfo(h);var v=null!=d&&function(e){if(e.sourceFormat===lf){var t=function(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(e.data||[]);return!Ze(Ma(t))}}(i)?function(e,t,n,i){// Use dataIndex as ordinal value in categoryAxis
return i===d?n:this.defaultDimValueGetter(e,t,n,i)}:null;return f.hasItemOption=!1,f.initData(// Try to reuse the data store in sourceManager if using dataset.
r?i:p,null,v),f}var jb=/** @class */function(){function e(e){this._setting=e||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(e){return this._setting[e]},
/**
         * Set extent from data
         */
e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},
/**
         * Set extent from data
         */
e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},
/**
         * Get extent
         *
         * Extent is always in increase order.
         */
e.prototype.getExtent=function(){return this._extent.slice()},
/**
         * Set extent
         */
e.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},
/**
         * If value is in extent range
         */
e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},
/**
         * When axis extent depends on data and no data exists,
         * axis ticks should not be drawn, which is named 'blank'.
         */
e.prototype.isBlank=function(){return this._isBlank},
/**
         * When axis extent depends on data and no data exists,
         * axis ticks should not be drawn, which is named 'blank'.
         */
e.prototype.setBlank=function(e){this._isBlank=e},e}();Ja(jb);var Hb=jb,Gb=0,Wb=/** @class */function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Gb}return e.createByAxisModel=function(t){var n=t.option,i=n.data,o=i&&We(i,Kb);return new e({categories:o,needCollect:!o,// deduplication is default in axis.
deduplication:!1!==n.dedplication})},e.prototype.getOrdinal=function(e){// @ts-ignore
return this._getOrCreateMap().get(e)},
/**
         * @return The ordinal. If not found, return NaN.
         */
e.prototype.parseAndCollect=function(e){var t,n=this._needCollect;// The value of category dim can be the index of the given category set.
// This feature is only supported when !needCollect, because we should
// consider a common case: a value is 2017, which is a number but is
// expected to be tread as a category. This case usually happen in dataset,
// where it happent to be no need of the index feature.
if(!Je(e)&&!n)return e;// Optimize for the scenario:
// category is ['2012-01-01', '2012-01-02', ...], where the input
// data has been ensured not duplicate and is large data.
// Notice, if a dataset dimension provide categroies, usually echarts
// should remove duplication except user tell echarts dont do that
// (set axis.deduplication = false), because echarts do not know whether
// the values in the category dimension has duplication (consider the
// parallel-aqi example)
if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();// @ts-ignore
return null==(t=i.get(e))&&(n?(t=this.categories.length,this.categories[t]=e,// @ts-ignore
i.set(e,t)):t=NaN),t},// Consider big data, do not create map until needed.
e.prototype._getOrCreateMap=function(){return this._map||(this._map=bt(this.categories))},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function Kb(e){return tt(e)&&null!=e.value?e.value:e+""}var Ub=Wb;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function Yb(e){return"interval"===e.type||"log"===e.type}
/**
       * @param extent Both extent[0] and extent[1] should be valid number.
       *               Should be extent[0] < extent[1].
       * @param splitNumber splitNumber should be >= 1.
       */function Xb(e,t,n,i){var o={},r=e[1]-e[0],a=o.interval=ca(r/t,!0);null!=n&&a<n&&(a=o.interval=n),null!=i&&a>i&&(a=o.interval=i);// Tow more digital for tick.
var l=o.intervalPrecision=Zb(a);// Niced extent inside original extent
// In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.
return function(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),$b(e,0,t),$b(e,1,t),e[0]>e[1]&&(e[0]=e[1])}(o.niceTickExtent=[Qr(Math.ceil(e[0]/a)*a,l),Qr(Math.floor(e[1]/a)*a,l)],e),o}function qb(e){var t=Math.pow(10,ua(e)),n=e/t;// Increase interval
return n?2===n?n=3:3===n?n=5:// f is 1 or 5
n*=2:n=1,Qr(n*t)}
/**
       * @return interval precision
       */function Zb(e){// Tow more digital for tick.
return ta(e)+2}function $b(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Jb(e,t){return e>=t[0]&&e<=t[1]}function Qb(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function e_(e,t){return e*(t[1]-t[0])+t[0]}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var t_=/** @class */function(e){function t(t){var n=e.call(this,t)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");// Caution: Should not use instanceof, consider ec-extensions using
// import approach to get OrdinalMeta class.
return i||(i=new Ub({})),Ze(i)&&(i=new Ub({categories:We(i,(function(e){return tt(e)?e.value:e}))})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return de(t,e),t.prototype.parse=function(e){// Caution: Math.round(null) will return `0` rather than `NaN`
return null==e?NaN:Je(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Jb(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},
/**
         * Normalize given rank or name to linear [0, 1]
         * @param val raw ordinal number.
         * @return normalized value in [0, 1].
         */
t.prototype.normalize=function(e){return Qb(e=this._getTickNumber(this.parse(e)),this._extent)},
/**
         * @param val normalized value in [0, 1].
         * @return raw ordinal number.
         */
t.prototype.scale=function(e){return e=Math.round(e_(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push({value:n}),n++;return e},t.prototype.getMinorTicks=function(e){},
/**
         * @see `Ordinal['_ordinalNumbersByTick']`
         */
t.prototype.setSortInfo=function(e){if(null!=e){for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,r=this._ordinalMeta.categories.length,a=Math.min(r,t.length);o<a;++o){var l=t[o];n[o]=l,i[l]=o}// Handle that `series.data` only covers part of the `axis.category.data`.
for(var s=0;o<r;++o){for(;null!=i[s];)s++;n.push(s),i[s]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;// also support ordinal out of range of `ordinalMeta.categories.length`,
// where ordinal numbers are used as tick value directly.
return t&&e>=0&&e<t.length?t[e]:e},
/**
         * @usage
         * ```js
         * const ordinalNumber = ordinalScale.getRawOrdinalNumber(tickVal);
         *
         * // case0
         * const rawOrdinalValue = axisModel.getCategories()[ordinalNumber];
         * // case1
         * const rawOrdinalValue = this._ordinalMeta.categories[ordinalNumber];
         * // case2
         * const coord = axis.dataToCoord(ordinalNumber);
         * ```
         *
         * @param {OrdinalNumber} tickNumber index of display
         */
t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;// tickNumber may be out of range, e.g., when axis max is larger than `ordinalMeta.categories.length`.,
// where ordinal numbers are used as tick value directly.
return t&&e>=0&&e<t.length?t[e]:e},
/**
         * Get item on tick
         */
t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),n=this._ordinalMeta.categories[t];// Note that if no data, ordinalMeta.categories is an empty array.
// Return empty if it's not exist.
return null==n?"":n+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},
/**
         * @override
         * If value is in extent range
         */
t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Hb);Hb.registerClass(t_);var n_=t_,i_=Qr,o_=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",// Step is calculated in adjustExtent.
t._interval=0,t._intervalPrecision=2,t}return de(t,e),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Jb(e,this._extent)},t.prototype.normalize=function(e){return Qb(e,this._extent)},t.prototype.scale=function(e){return e_(e,this._extent)},t.prototype.setExtent=function(e,t){var n=this._extent;// start,end may be a Number like '25',so...
isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),// unionExtent may called by it's sub classes
this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,// Dropped auto calculated niceExtent and use user-set extent.
// We assume user wants to set both interval, min, max to get a better result.
this._niceExtent=this._extent.slice(),this._intervalPrecision=Zb(e)},
/**
         * @param expandToNicedExtent Whether expand the ticks to niced extent.
         */
t.prototype.getTicks=function(e){var t=this._interval,n=this._extent,i=this._niceExtent,o=this._intervalPrecision,r=[];// If interval is 0, return [];
if(!t)return r;// Consider this case: using dataZoom toolbox, zoom and zoom.
n[0]<i[0]&&(e?r.push({value:i_(i[0]-t,o)}):r.push({value:n[0]}));for(var a=i[0];a<=i[1]&&(r.push({value:a}),(// Avoid rounding error
a=i_(a+t,o))!==r[r.length-1].value);)if(r.length>1e4)return[];// Consider this case: the last item of ticks is smaller
// than niceTickExtent[1] and niceTickExtent[1] === extent[1].
var l=r.length?r[r.length-1].value:i[1];return n[1]>l&&(e?r.push({value:i_(l+t,o)}):r.push({value:n[1]})),r},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks(!0),n=[],i=this.getExtent(),o=1;o<t.length;o++){for(var r=t[o],a=t[o-1],l=0,s=[],u=(r.value-a.value)/e;l<e-1;){var c=i_(a.value+(l+1)*u);// For the first and last interval. The count may be less than splitNumber.
c>i[0]&&c<i[1]&&s.push(c),l++}n.push(s)}return n},
/**
         * @param opt.precision If 'auto', use nice presision.
         * @param opt.pad returns 1.50 but not 1.5 if precision is 2.
         */
t.prototype.getLabel=function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=ta(e.value)||0:"auto"===n&&(// Should be more precise then tick.
n=this._intervalPrecision),Lh(i_(e.value,n,!0))},
/**
         * @param splitNumber By default `5`.
         */
t.prototype.calcNiceTicks=function(e,t,n){e=e||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){// User may set axis min 0 and data are all negative
// FIXME If it needs to reverse ?
o<0&&(o=-o,i.reverse());var r=Xb(i,e,t,n);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var t=this._extent;// If extent start and end are same, expand them
if(t[0]===t[1])if(0!==t[0]){// Expand extent
// Note that extents can be both negative. See #13154
var n=Math.abs(t[0]);// In the fowllowing case
//      Axis has been fixed max 100
//      Plus data are all 100 and axis extent are [100, 100].
// Extend to the both side will cause expanded max is larger than fixed max.
// So only expand to the smaller side.
e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var i=t[1]-t[0];// If there are no data and extent are [Infinity, -Infinity]
isFinite(i)||(t[0]=0,t[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);// let extent = this._extent;
var o=this._interval;e.fixMin||(t[0]=i_(Math.floor(t[0]/o)*o)),e.fixMax||(t[1]=i_(Math.ceil(t[1]/o)*o))},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type="interval",t}(Hb);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */Hb.registerClass(o_);var r_=o_,a_="undefined"!=typeof Float32Array,l_=a_?Float32Array:Array;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/* global Float32Array */function s_(e){return Ze(e)?a_?new Float32Array(e):e:new l_(e);// Else is number
}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var u_="__ec_stack_";function c_(e){return e.get("stack")||u_+e.seriesIndex}function d_(e){return e.dim+e.index}
/**
       * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.
       */function p_(e,t){var n=[];return t.eachSeriesByType(e,(function(e){// Check series coordinate, do layout for cartesian2d only
y_(e)&&n.push(e)})),n}
/**
       * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent
       * values.
       * This works for time axes, value axes, and log axes.
       * For a single time axis, return value is in the form like
       * {'x_0': [1000000]}.
       * The value of 1000000 is in milliseconds.
       */function h_(e){var t=function(e){
/**
         * Map from axis.index to values.
         * For a single time axis, axisValues is in the form like
         * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.
         * Items in axisValues[x], e.g. 1495555200000, are time values of all
         * series.
         */
var t={};Ge(e,(function(e){var n=e.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=e.getData(),o=n.dim+"_"+n.index,r=i.getDimensionIndex(i.mapDimension(n.dim)),a=i.getStore(),l=0,s=a.count();l<s;++l){var u=a.get(r,l);t[o]?// No value in previous series
t[o].push(u):// No previous data for the axis
t[o]=[u];// Ignore duplicated time values in the same axis
}}));var n={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(o){// Sort axis values into ascending order to calculate gaps
o.sort((function(e,t){return e-t}));for(var r=null,a=1;a<o.length;++a){var l=o[a]-o[a-1];l>0&&(// Ignore 0 delta because they are of the same axis value
r=null===r?l:Math.min(r,l))}// Set to null if only have one data
n[i]=r}}return n}(e),n=[];return Ge(e,(function(e){var i,o=e.coordinateSystem.getBaseAxis(),r=o.getExtent();if("category"===o.type)i=o.getBandWidth();else if("value"===o.type||"time"===o.type){var a=o.dim+"_"+o.index,l=t[a],s=Math.abs(r[1]-r[0]),u=o.scale.getExtent(),c=Math.abs(u[1]-u[0]);i=l?s/c*l:s}else{var d=e.getData();i=Math.abs(r[1]-r[0])/d.count()}var p=Jr(e.get("barWidth"),i),h=Jr(e.get("barMaxWidth"),i),f=Jr(// barMinWidth by default is 0.5 / 1 in cartesian. Because in value axis,
// the auto-calculated bar width might be less than 0.5 / 1.
e.get("barMinWidth")||(m_(e)?.5:1),i),v=e.get("barGap"),g=e.get("barCategoryGap");n.push({bandWidth:i,barWidth:p,barMaxWidth:h,barMinWidth:f,barGap:v,barCategoryGap:g,axisKey:d_(o),stackId:c_(e)})})),f_(n)}function f_(e){// Columns info on each category axis. Key is cartesian name
var t={};Ge(e,(function(e,n){var i=e.axisKey,o=e.bandWidth,r=t[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=r.stacks;t[i]=r;var l=e.stackId;a[l]||r.autoWidthCount++,a[l]=a[l]||{width:0,maxWidth:0};// Caution: In a single coordinate system, these barGrid attributes
// will be shared by series. Consider that they have default values,
// only the attributes set on the last series will work.
// Do not change this fact unless there will be a break change.
var s=e.barWidth;s&&!a[l].width&&(// See #6312, do not restrict width.
a[l].width=s,s=Math.min(r.remainedWidth,s),r.remainedWidth-=s);var u=e.barMaxWidth;u&&(a[l].maxWidth=u);var c=e.barMinWidth;c&&(a[l].minWidth=c);var d=e.barGap;null!=d&&(r.gap=d);var p=e.barCategoryGap;null!=p&&(r.categoryGap=p)}));var n={};return Ge(t,(function(e,t){n[t]={};var i=e.stacks,o=e.bandWidth,r=e.categoryGap;if(null==r){var a=Ye(i).length;// More columns in one group
// the spaces between group is smaller. Or the column will be too thin.
r=Math.max(35-4*a,15)+"%"}var l=Jr(r,o),s=Jr(e.gap,1),u=e.remainedWidth,c=e.autoWidthCount,d=(u-l)/(c+(c-1)*s);d=Math.max(d,0),// Find if any auto calculated bar exceeded maxBarWidth
Ge(i,(function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){// `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as
// CSS does. Because barWidth can be a percent value, where
// `barMaxWidth` can be used to restrict the final width.
i=e.width;t&&(i=Math.min(i,t)),// `minWidth` has higher priority, as described above
n&&(i=Math.max(i,n)),e.width=i,u-=i+s*i,c--}else{var i=d;t&&t<i&&(i=Math.min(t,u)),// `minWidth` has higher priority. `minWidth` decide that whether the
// bar is able to be visible. So `minWidth` should not be restricted
// by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In
// the extreme cases for `value` axis, bars are allowed to overlap
// with each other if `minWidth` specified.
n&&n>i&&(i=n),i!==d&&(e.width=i,u-=i+s*i,c--)}})),// Recalculate width again
d=(u-l)/(c+(c-1)*s),d=Math.max(d,0);var p,h=0;Ge(i,(function(e,t){e.width||(e.width=d),p=e,h+=e.width*(1+s)})),p&&(h-=p.width*s);var f=-h/2;Ge(i,(function(e,i){n[t][i]=n[t][i]||{bandWidth:o,offset:f,width:e.width},f+=e.width*(1+s)}))})),n}function v_(e,t){var n=p_(e,t),i=h_(n);Ge(n,(function(e){var t=e.getData(),n=e.coordinateSystem.getBaseAxis(),o=c_(e),r=i[d_(n)][o],a=r.offset,l=r.width;t.setLayout({bandWidth:r.bandWidth,offset:a,size:l})}))}// TODO: Do not support stack in large mode yet.
function g_(e){return{seriesType:e,plan:Qg(),reset:function(e){if(y_(e)){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),o=n.getOtherAxis(i),r=t.getDimensionIndex(t.mapDimension(o.dim)),a=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),s=t.mapDimension(o.dim),u=t.getCalculationInfo("stackResultDimension"),c=Bb(t,s)&&!!t.getCalculationInfo("stackedOnSeries"),d=o.isHorizontal(),p=// See cases in `test/bar-start.html` and `#7412`, `#8747`.
function(e,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(0,o),h=m_(e),f=e.get("barMinHeight")||0,v=u&&t.getDimensionIndex(u),g=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(e,t){for(var i,o=e.count,s=h&&s_(3*o),u=h&&l&&s_(3*o),m=h&&s_(o),x=n.master.getRect(),b=d?x.width:x.height,_=t.getStore(),w=0;null!=(i=e.next());){var S=_.get(c?v:r,i),C=_.get(a,i),M=p,T=void 0;// Because of the barMinHeight, we can not use the value in
// stackResultDimension directly.
c&&(T=+S-_.get(r,i));var I=void 0,k=void 0,A=void 0,D=void 0;if(d){var O=n.dataToPoint([S,C]);if(c)M=n.dataToPoint([T,C])[0];I=M,k=O[1]+y,A=O[0]-M,D=g,Math.abs(A)<f&&(A=(A<0?-1:1)*f)}else{O=n.dataToPoint([C,S]);if(c)M=n.dataToPoint([C,T])[1];I=O[0]+y,k=M,A=g,D=O[1]-M,Math.abs(D)<f&&(// Include zero to has a positive bar
D=(D<=0?-1:1)*f)}h?(s[w]=I,s[w+1]=k,s[w+2]=d?A:D,u&&(u[w]=d?x.x:I,u[w+1]=d?k:x.y,u[w+2]=b),m[i]=i):t.setItemLayout(i,{x:I,y:k,width:A,height:D}),w+=3}h&&t.setLayout({largePoints:s,largeDataIndices:m,largeBackgroundPoints:u,valueAxisHorizontal:d})}}}}}}function y_(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function m_(e){return e.pipelineContext&&e.pipelineContext.large}var x_=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="time",n}
/**
         * Get label is mainly for other components like dataZoom, tooltip.
         */return de(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return gh(e.value,ch[function(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:// Also for day, hour, minute, second
return"second"}}(fh(this._minLevelUnit))]||ch.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,n){var i=this.getSetting("useUTC");return function(e,t,n,i,o){var r=null;if(Je(n))// Single formatter for all units at all levels
r=n;else if($e(n))// Callback formatter
r=n(e.value,t,{level:e.level});else{var a=Be({},sh);if(e.level>0)for(var l=0;l<dh.length;++l)a[dh[l]]="{primary|"+a[dh[l]]+"}";var s=n?!1===n.inherit?n:Fe(n,a):a,u=yh(e.value,o);if(s[u])r=s[u];else if(s.inherit){for(l=ph.indexOf(u)-1;l>=0;--l)if(s[u]){r=s[u];break}r=r||a.none}if(Ze(r)){var c=null==e.level?0:e.level>=0?e.level:r.length+e.level;r=r[c=Math.min(c,r.length-1)]}}return gh(new Date(e.value),r,o,i)}(e,t,n,this.getSetting("locale"),i)},
/**
         * @override
         */
t.prototype.getTicks=function(){var e=this._interval,t=this._extent,n=[];// If interval is 0, return [];
if(!e)return n;n.push({value:t[0],level:0});var i=this.getSetting("useUTC"),o=function(e,t,n,i){var o=1e4,r=ph,a=0;function l(e,t,n,o,r,a,l){// if (isDate) {
//     d -= 1; // Starts with 0;   PENDING
// }
for(var s=new Date(t),u=t,c=s[o]();u<n&&u<=i[1];)l.push({value:u}),c+=e,s[r](c),u=s.getTime();// This extra tick is for calcuating ticks of next level. Will not been added to the final result
l.push({value:u,notAdd:!0})}function s(e,o,r){var a=[],s=!o.length;if(!function(e,t,n,i){var o=sa(t),r=sa(n),a=function(e){return mh(o,e,i)===mh(r,e,i)},l=function(){return a("year")},s=function(){return l()&&a("month")},u=function(){return s()&&a("day")},c=function(){return u()&&a("hour")},d=function(){return c()&&a("minute")},p=function(){return d()&&a("second")},h=function(){return p()&&a("millisecond")};switch(e){case"year":return l();case"month":return s();case"day":return u();case"hour":return c();case"minute":return d();case"second":return p();case"millisecond":return h()}}// const primaryUnitGetters = {
//     year: fullYearGetterName(),
//     month: monthGetterName(),
//     day: dateGetterName(),
//     hour: hoursGetterName(),
//     minute: minutesGetterName(),
//     second: secondsGetterName(),
//     millisecond: millisecondsGetterName()
// };
// const primaryUnitUTCGetters = {
//     year: fullYearGetterName(true),
//     month: monthGetterName(true),
//     day: dateGetterName(true),
//     hour: hoursGetterName(true),
//     minute: minutesGetterName(true),
//     second: secondsGetterName(true),
//     millisecond: millisecondsGetterName(true)
// };
// function moveTick(date: Date, unitName: TimeUnit, step: number, isUTC: boolean) {
//     step = step || 1;
//     switch (getPrimaryTimeUnit(unitName)) {
//         case 'year':
//             date[fullYearSetterName(isUTC)](date[fullYearGetterName(isUTC)]() + step);
//             break;
//         case 'month':
//             date[monthSetterName(isUTC)](date[monthGetterName(isUTC)]() + step);
//             break;
//         case 'day':
//             date[dateSetterName(isUTC)](date[dateGetterName(isUTC)]() + step);
//             break;
//         case 'hour':
//             date[hoursSetterName(isUTC)](date[hoursGetterName(isUTC)]() + step);
//             break;
//         case 'minute':
//             date[minutesSetterName(isUTC)](date[minutesGetterName(isUTC)]() + step);
//             break;
//         case 'second':
//             date[secondsSetterName(isUTC)](date[secondsGetterName(isUTC)]() + step);
//             break;
//         case 'millisecond':
//             date[millisecondsSetterName(isUTC)](date[millisecondsGetterName(isUTC)]() + step);
//             break;
//     }
//     return date.getTime();
// }
// const DATE_INTERVALS = [[8, 7.5], [4, 3.5], [2, 1.5]];
// const MONTH_INTERVALS = [[6, 5.5], [3, 2.5], [2, 1.5]];
// const MINUTES_SECONDS_INTERVALS = [[30, 30], [20, 20], [15, 15], [10, 10], [5, 5], [2, 2]];
(fh(e),i[0],i[1],n)){s&&(o=[{// TODO Optimize. Not include so may ticks.
value:T_(new Date(i[0]),e,n)},{value:i[1]}]);for(var u=0;u<o.length-1;u++){var c=o[u].value,d=o[u+1].value;if(c!==d){var p=void 0,h=void 0,f=void 0,v=!1;switch(e){case"year":p=Math.max(1,Math.round(t/ah/365)),h=xh(n),f=Th(n);break;case"half-year":case"quarter":case"month":p=w_(t),h=bh(n),f=Ih(n);break;case"week":// PENDING If week is added. Ignore day.
case"half-week":case"day":p=__(t),// Use 32 days and let interval been 16
h=_h(n),f=kh(n),v=!0;break;case"half-day":case"quarter-day":case"hour":p=S_(t),h=wh(n),f=Ah(n);break;case"minute":p=C_(t,!0),h=Sh(n),f=Dh(n);break;case"second":p=C_(t,!1),h=Ch(n),f=Oh(n);break;case"millisecond":p=M_(t),h=Mh(n),f=Ph(n)}l(p,c,d,h,f,v,a),"year"===e&&r.length>1&&0===u&&// Add nearest years to the left extent.
r.unshift({value:r[0].value-p})}}for(u=0;u<a.length;u++)r.push(a[u]);// newAddedTicks.length && console.log(unitName, newAddedTicks);
return a}}for(var u=[],c=[],d=0,p=0,h=0;h<r.length&&a++<o;++h){var f=fh(r[h]);if(vh(r[h]))if(s(r[h],u[u.length-1]||[],c),f!==(r[h+1]?fh(r[h+1]):null)){if(c.length){p=d,// Remove the duplicate so the tick count can be precisely.
c.sort((function(e,t){return e.value-t.value}));for(var v=[],g=0;g<c.length;++g){var y=c[g].value;0!==g&&c[g-1].value===y||(v.push(c[g]),y>=i[0]&&y<=i[1]&&d++)}var m=(i[1]-i[0])/t;// Added too much in this level and not too less in last level
if(d>1.5*m&&p>m/1.5)break;// Only treat primary time unit as one level.
if(u.push(v),d>m||e===r[h])break}// Reset if next unitName is primary
c=[]}}var x=Ue(We(u,(function(e){return Ue(e,(function(e){return e.value>=i[0]&&e.value<=i[1]&&!e.notAdd}))})),(function(e){return e.length>0})),b=[],_=x.length-1;for(h=0;h<x.length;++h)for(var w=x[h],S=0;S<w.length;++S)b.push({value:w[S].value,level:_-h});b.sort((function(e,t){return e.value-t.value}));// Remove duplicates
var C=[];for(h=0;h<b.length;++h)0!==h&&b[h].value===b[h-1].value||C.push(b[h]);return C}(this._minLevelUnit,this._approxInterval,i,t);return(n=n.concat(o)).push({value:t[1],level:0}),n},t.prototype.calcNiceExtent=function(e){var t=this._extent;// If extent start and end are same, expand them
// If there are no data and extent are [Infinity, -Infinity]
if(t[0]===t[1]&&(// Expand extent
t[0]-=ah,t[1]+=ah),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-ah}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,n){e=e||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var r=b_.length,a=Math.min(function(e,t,n,i){for(;n<i;){var o=n+i>>>1;e[o][1]<t?n=o+1:i=o}return n}(b_,this._approxInterval,0,r),r-1);// Interval that can be used to calculate ticks
this._interval=b_[a][1],// Min level used when picking ticks from top down.
// We check one more level to avoid the ticks are to sparse in some case.
this._minLevelUnit=b_[Math.max(a-1,0)][0]},t.prototype.parse=function(e){// val might be float.
return et(e)?e:+sa(e)},t.prototype.contain=function(e){return Jb(this.parse(e),this._extent)},t.prototype.normalize=function(e){return Qb(this.parse(e),this._extent)},t.prototype.scale=function(e){return e_(e,this._extent)},t.type="time",t}(r_),b_=[// Format                           interval
["second",ih],["minute",oh],["hour",rh],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",lh/2],["year",lh]];function __(e,t){return(e/=ah)>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function w_(e){return(e/=2592e6)>6?6:e>3?3:e>2?2:1}function S_(e){return(e/=rh)>12?12:e>6?6:e>3.5?4:e>2?2:1}function C_(e,t){return(e/=t?oh:ih)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function M_(e){return ca(e,!0)}function T_(e,t,n){var i=new Date(e);switch(fh(t)){case"year":case"month":i[Ih(n)](0);case"day":i[kh(n)](1);case"hour":i[Ah(n)](0);case"minute":i[Dh(n)](0);case"second":i[Oh(n)](0),i[Ph(n)](0)}return i.getTime()}Hb.registerClass(x_);var I_=x_,k_=Hb.prototype,A_=r_.prototype,D_=Qr,O_=Math.floor,P_=Math.ceil,L_=Math.pow,E_=Math.log,N_=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new r_,// FIXME:TS actually used by `IntervalScale`
t._interval=0,t}
/**
         * @param Whether expand the ticks to niced extent.
         */return de(t,e),t.prototype.getTicks=function(e){var t=this._originalScale,n=this._extent,i=t.getExtent();return We(A_.getTicks.call(this,e),(function(e){var t=e.value,o=Qr(L_(this.base,t));// Fix #4158
return o=t===n[0]&&this._fixMin?z_(o,i[0]):o,{value:o=t===n[1]&&this._fixMax?z_(o,i[1]):o}}),this)},t.prototype.setExtent=function(e,t){var n=E_(this.base);// log(-Infinity) is NaN, so safe guard here
e=E_(Math.max(0,e))/n,t=E_(Math.max(0,t))/n,A_.setExtent.call(this,e,t)},
/**
         * @return {number} end
         */
t.prototype.getExtent=function(){var e=this.base,t=k_.getExtent.call(this);t[0]=L_(e,t[0]),t[1]=L_(e,t[1]);// Fix #4158
var n=this._originalScale.getExtent();return this._fixMin&&(t[0]=z_(t[0],n[0])),this._fixMax&&(t[1]=z_(t[1],n[1])),t},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=E_(e[0])/E_(t),e[1]=E_(e[1])/E_(t),k_.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){// TODO
// filter value that <= 0
this.unionExtent(e.getApproximateExtent(t))},
/**
         * Update interval and extent of intervals for nice ticks
         * @param approxTickNum default 10 Given approx tick number
         */
t.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var i,o=(i=n,Math.pow(10,ua(i)));// Interval should be integer
for(// Filter ticks to get closer to the desired count.
e/n*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var r=[Qr(P_(t[0]/o)*o),Qr(O_(t[1]/o)*o)];this._interval=o,this._niceExtent=r}},t.prototype.calcNiceExtent=function(e){A_.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Jb(e=E_(e)/E_(this.base),this._extent)},t.prototype.normalize=function(e){return Qb(e=E_(e)/E_(this.base),this._extent)},t.prototype.scale=function(e){return e=e_(e,this._extent),L_(this.base,e)},t.type="log",t}(Hb),R_=N_.prototype;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function z_(e,t){return D_(e,ta(t))}R_.getMinorTicks=A_.getMinorTicks,R_.getLabel=A_.getLabel,Hb.registerClass(N_);var B_=N_,F_=/** @class */function(){function e(e,t,// Usually: data extent from all series on this axis.
n){this._prepareParams(e,t,n)}
/**
         * Parameters depending on outside (like model, user callback)
         * are prepared and fixed here.
         */return e.prototype._prepareParams=function(e,t,// Usually: data extent from all series on this axis.
n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);$e(o)?// This callback always provides users the full data extent (before data is filtered).
this._modelMinNum=G_(e,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=G_(e,o));var r=this._modelMaxRaw=t.get("max",!0);if($e(r)?// This callback always provides users the full data extent (before data is filtered).
this._modelMaxNum=G_(e,r({min:n[0],max:n[1]})):"dataMax"!==r&&(this._modelMaxNum=G_(e,r)),i)// FIXME: there is a flaw here: if there is no "block" data processor like `dataZoom`,
// and progressive rendering is using, here the category result might just only contain
// the processed chunk rather than the entire result.
this._axisDataLen=t.getCategories().length;else{var a=t.get("boundaryGap"),l=Ze(a)?a:[a||0,a||0];"boolean"==typeof l[0]||"boolean"==typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Or(l[0],1),Or(l[1],1)]}},
/**
         * Calculate extent by prepared parameters.
         * This method has no external dependency and can be called duplicatedly,
         * getting the same result.
         * If parameters changed, should call this method to recalcuate.
         */
e.prototype.calculate=function(){// Notice: When min/max is not set (that is, when there are null/undefined,
// which is the most common case), these cases should be ensured:
// (1) For 'ordinal', show all axis.data.
// (2) For others:
//      + `boundaryGap` is applied (if min/max set, boundaryGap is
//      disabled).
//      + If `needCrossZero`, min/max should be zero, otherwise, min/max should
//      be the result that originalExtent enlarged by boundaryGap.
// (3) If no data, it should be ensured that `scale.setBlank` is set.
var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,r=e?null:n-t||Math.abs(t),a="dataMin"===this._modelMinRaw?t:this._modelMinNum,l="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,s=null!=a,u=null!=l;null==a&&(a=e?i?0:NaN:t-o[0]*r),null==l&&(l=e?i?i-1:NaN:n+o[1]*r),(null==a||!isFinite(a))&&(a=NaN),(null==l||!isFinite(l))&&(l=NaN);var c=at(a)||at(l)||e&&!i;// If data extent modified, need to recalculated to ensure cross zero.
this._needCrossZero&&(// Axis is over zero and min is not set
a>0&&l>0&&!s&&(a=0),// Axis is under zero and max is not set
a<0&&l<0&&!u&&(l=0));var d=this._determinedMin,p=this._determinedMax;// Ensure min/max be finite number or NaN here. (not to be null/undefined)
// `NaN` means min/max axis is blank.
return null!=d&&(a=d,s=!0),null!=p&&(l=p,u=!0),{min:a,max:l,minFixed:s,maxFixed:u,isBlank:c}},e.prototype.modifyDataMinMax=function(e,t){this[j_[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){this[V_[e]]=t},e.prototype.freeze=function(){// @ts-ignore
this.frozen=!0},e}(),V_={min:"_determinedMin",max:"_determinedMax"},j_={min:"_dataMin",max:"_dataMax"};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Get scale min max and related info only depends on model settings.
       * This method can be called after coordinate system created.
       * For example, in data processing stage.
       *
       * Scale extent info probably be required multiple times during a workflow.
       * For example:
       * (1) `dataZoom` depends it to get the axis extent in "100%" state.
       * (2) `processor/extentCalculator` depends it to make sure whether axis extent is specified.
       * (3) `coordSys.update` use it to finally decide the scale extent.
       * But the callback of `min`/`max` should not be called multiple times.
       * The code below should not be implemented repeatedly either.
       * So we cache the result in the scale instance, which will be recreated at the beginning
       * of the workflow (because `scale` instance will be recreated each round of the workflow).
       */
function H_(e,t,// Usually: data extent from all series on this axis.
n){// Do not permit to recreate.
var i=e.rawExtentInfo;return i||(i=new F_(e,t,n),// @ts-ignore
e.rawExtentInfo=i,i)}function G_(e,t){return null==t?null:at(t)?NaN:e.parse(t)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Get axis scale extent before niced.
       * Item of returned array can only be number (including Infinity and NaN).
       *
       * Caution:
       * Precondition of calling this method:
       * The scale extent has been initialized using series data extent via
       * `scale.setExtent` or `scale.unionExtentFromData`;
       */function W_(e,t){var n=e.type,i=H_(e,t,e.getExtent()).calculate();e.setBlank(i.isBlank);var o=i.min,r=i.max,a=t.ecModel;if(a&&"time"/* || scaleType === 'interval' */===n){var l=p_("bar",a),s=!1;if(Ge(l,(function(e){s=s||e.getBaseAxis()===t.axis})),s){// Calculate placement of bars on axis. TODO should be decoupled
// with barLayout
var u=h_(l),c=function(e,t,n,// Only support cartesian coord yet.
i){// Get Axis Length
var o=n.axis.getExtent(),r=o[1]-o[0],a=function(e,t,n){if(e&&t){var i=e[d_(t)];return null!=i&&null!=n?i[c_(n)]:i}}(i,n.axis);if(void 0===a)return{min:e,max:t};var l=1/0;Ge(a,(function(e){l=Math.min(e.offset,l)}));var s=-1/0;Ge(a,(function(e){s=Math.max(e.offset+e.width,s)})),l=Math.abs(l),s=Math.abs(s);var u=l+s,c=t-e,d=c/(1-(l+s)/r)-c;// Calculate required buffer based on old range and overflow
return t+=d*(s/u),e-=d*(l/u),{min:e,max:t}}// Precondition of calling this method:
// The scale extent has been initialized using series data extent via
// `scale.setExtent` or `scale.unionExtentFromData`;
(o,r,t,u);// Adjust axis min and max to account for overflow
o=c.min,r=c.max}}return{extent:[o,r],// "fix" means "fixed", the value should not be
// changed in the subsequent steps.
fixMin:i.minFixed,fixMax:i.maxFixed}}function K_(e,t){var n=t,i=W_(e,n),o=i.extent,r=n.get("splitNumber");e instanceof B_&&(e.base=n.get("logBase"));var a=e.type,l=n.get("interval"),s="interval"===a||"time"===a;e.setExtent(o[0],o[1]),e.calcNiceExtent({splitNumber:r,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:s?n.get("minInterval"):null,maxInterval:s?n.get("maxInterval"):null}),// If some one specified the min, max. And the default calculated interval
// is not good enough. He can specify the interval. It is often appeared
// in angle axis with angle 0 - 360. Interval calculated in interval scale is hard
// to be 60.
// FIXME
null!=l&&e.setInterval&&e.setInterval(l)}
/**
       * @param axisType Default retrieve from model.type
       */function U_(e,t){if(t=t||e.get("type"))switch(t){// Buildin scale
case"category":return new n_({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new I_({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:// case 'value'/'interval', 'log', or others.
return new(Hb.getClass(t)||r_)}}
/**
       * Check if the axis cross 0
       */
/**
       * @param axis
       * @return Label formatter function.
       *         param: {number} tickValue,
       *         param: {number} idx, the index in all ticks.
       *                         If category axis, this param is not required.
       *         return: {string} label string.
       */
function Y_(e){var t,n,i=e.getLabelModel().get("formatter"),o="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?(n=i,function(t,i){return e.scale.getFormattedLabel(t,i,n)}):Je(i)?function(t){return function(n){// For category axis, get raw value; for numeric axis,
// get formatted label like '1,333,444'.
var i=e.scale.getLabel(n);return t.replace("{value}",null!=i?i:"")}}(i):$e(i)?(t=i,function(n,i){// The original intention of `idx` is "the index of the tick in all ticks".
// But the previous implementation of category axis do not consider the
// `axisLabel.interval`, which cause that, for example, the `interval` is
// `1`, then the ticks "name5", "name7", "name9" are displayed, where the
// corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep
// the definition here for back compatibility.
return null!=o&&(i=n.value-o),t(X_(e,n),i,null!=n.level?{level:n.level}:null)}):function(t){return e.scale.getLabel(t)}}function X_(e,t){// In category axis with data zoom, tick is not the original
// index of axis.data. So tick should not be exposed to user
// in category axis.
return"category"===e.type?e.scale.getLabel(t):t.value}
/**
       * @param axis
       * @return Be null/undefined if no labels.
       */function q_(e,t){var n=t*Math.PI/180,i=e.width,o=e.height,r=i*Math.abs(Math.cos(n))+Math.abs(o*Math.sin(n)),a=i*Math.abs(Math.sin(n))+Math.abs(o*Math.cos(n));return new Fn(e.x,e.y,r,a)}
/**
       * @param model axisLabelModel or axisTickModel
       * @return {number|String} Can be null|'auto'|number|function
       */function Z_(e){var t=e.get("interval");return null==t?"auto":t}
/**
       * Set `categoryInterval` as 0 implicitly indicates that
       * show all labels regardless of overlap.
       * @param {Object} axis axisModel.axis
       */function $_(e){return"category"===e.type&&0===Z_(e.getLabelModel())}function J_(e,t){// Remove duplicated dat dimensions caused by `getStackedDimension`.
var n={};// Currently `mapDimensionsAll` will contain stack result dimension ('__\0ecstackresult').
// PENDING: is it reasonable? Do we need to remove the original dim from "coord dim" since
// there has been stacked result dim?
return Ge(e.mapDimensionsAll(t),(function(t){// For example, the extent of the original dimension
// is [0.1, 0.5], the extent of the `stackResultDimension`
// is [7, 9], the final extent should NOT include [0.1, 0.5],
// because there is no graphic corresponding to [0.1, 0.5].
// See the case in `test/area-stack.html` `main1`, where area line
// stack needs `yAxis` not start from 0.
n[Fb(e,t)]=!0})),Ye(n)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
// eslint-disable-next-line @typescript-eslint/no-unused-vars
var Q_=/** @class */function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},
/**
         * Should be implemented by each axis model if necessary.
         * @return coordinate system model
         */
e.prototype.getCoordSysModel=function(){},e}();function ew(e,t){return Math.abs(e-t)<1e-8}function tw(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var r=1;r<e.length;r++){var a=e[r];i+=vs(o[0],o[1],a[0],a[1],t,n),o=a}var l=e[0];return ew(o[0],l[0])&&ew(o[1],l[1])||(i+=vs(o[0],o[1],l[0],l[1],t,n)),0!==i}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var nw=[];function iw(e,t){for(var n=0;n<e.length;n++)Gt(e[n],e[n],t)}function ow(e,t,n,i){for(var o=0;o<e.length;o++){var r=e[o];i&&(// projection may return null point.
r=i.project(r)),r&&isFinite(r[0])&&isFinite(r[1])&&(Wt(t,t,r),Kt(n,n,r))}}var rw=/** @class */function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},
/**
         * Get center point in data unit. That is,
         * for GeoJSONRegion, the unit is lat/lng,
         * for GeoSVGRegion, the unit is SVG local coord.
         */
e.prototype.getCenter=function(){var e=this._center;return e||(// In most cases there are no need to calculate this center.
// So calculate only when called.
e=this._center=this.calcCenter()),e},e}(),aw=function(e,t){this.type="polygon",this.exterior=e,this.interiors=t},lw=function(e){this.type="linestring",this.points=e},sw=/** @class */function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.type="geoJSON",o.geometries=n,o._center=i&&[i[0],i[1]],o}return de(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,n=0,i=0;i<t.length;i++){var o=t[i],r=o.exterior,a=r&&r.length;a>n&&(e=o,n=a)}if(e)return function(e){// Polygon should been closed.
for(var t=0,n=0,i=0,o=e.length,r=e[o-1][0],a=e[o-1][1],l=0;l<o;l++){var s=e[l][0],u=e[l][1],c=r*u-s*a;t+=c,n+=(r+s)*c,i+=(a+u)*c,r=s,a=u}return t?[n/t/3,i/t/3,t]:[e[0][0]||0,e[0][1]||0]}(e.exterior);// from bounding rect by default.
var l=this.getBoundingRect();return[l.x+l.width/2,l.y+l.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;// Always recalculate if using projection.
if(t&&!e)return t;var n=[1/0,1/0],i=[-1/0,-1/0];return Ge(this.geometries,(function(t){"polygon"===t.type?// Doesn't consider hole
ow(t.exterior,n,i,e):Ge(t.points,(function(t){ow(t,n,i,e)}))})),// Normalie invalid bounding.
isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),t=new Fn(n[0],n[1],i[0]-n[0],i[1]-n[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++){var r=n[i];// Only support polygon.
if("polygon"===r.type){var a=r.exterior,l=r.interiors;if(tw(a,e[0],e[1])){// Not in the region if point is in the hole.
for(var s=0;s<(l?l.length:0);s++)if(tw(l[s],e[0],e[1]))continue e;return!0}}}return!1},
/**
         * Transform the raw coords to target bounding.
         * @param x
         * @param y
         * @param width
         * @param height
         */
t.prototype.transformTo=function(e,t,n,i){var o=this.getBoundingRect(),r=o.width/o.height;n?i||(i=n/r):n=r*i;for(var a=new Fn(e,t,n,i),l=o.calculateTransform(a),s=this.geometries,u=0;u<s.length;u++){var c=s[u];"polygon"===c.type?(iw(c.exterior,l),Ge(c.interiors,(function(e){iw(e,l)}))):Ge(c.points,(function(e){iw(e,l)}))}(o=this._rect).copy(a),// Update center
this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this._center);// Simply avoid to be called.
return n._rect=this._rect,n.transformTo=null,n},t}(rw),uw=/** @class */function(e){function t(t,n){var i=e.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return de(t,e),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=e.getBoundingRect(),n=[t.x+t.width/2,t.y+t.height/2],i=_n(nw),o=e;o&&!o.isGeoSVGGraphicRoot;)Sn(i,o.getLocalTransform(),i),o=o.parent;return In(i,i),Gt(n,n,i),n},t}(rw);function cw(e,t,n){for(var i=0;i<e.length;i++)e[i]=dw(e[i],t[i],n)}function dw(e,t,n){for(var i=[],o=t[0],r=t[1],a=0;a<e.length;a+=2){var l=e.charCodeAt(a)-64,s=e.charCodeAt(a+1)-64;// ZigZag decoding
l=l>>1^-(1&l),s=s>>1^-(1&s),o=// Delta deocding
l+=o,r=s+=r,// Dequantize
i.push([l/n,s/n])}return i}function pw(e,t){return We(Ue((e=
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;return null==n&&(n=1024),Ge(t.features,(function(e){var t=e.geometry,i=t.encodeOffsets,o=t.coordinates;// Geometry may be appeded manually in the script after json loaded.
// In this case this geometry is usually not encoded.
if(i)switch(t.type){case"LineString":t.coordinates=dw(o,i,n);break;case"Polygon":case"MultiLineString":cw(o,i,n);break;case"MultiPolygon":Ge(o,(function(e,t){return cw(e,i[t],n)}))}})),// Has been decoded
t.UTF8Encoding=!1,t}(e)).features,(function(e){// Output of mapshaper may have geometry null
return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,i=e.geometry,o=[];switch(i.type){case"Polygon":var r=i.coordinates;// According to the GeoJSON specification.
// First must be exterior, and the rest are all interior(holes).
o.push(new aw(r[0],r.slice(1)));break;case"MultiPolygon":Ge(i.coordinates,(function(e){e[0]&&o.push(new aw(e[0],e.slice(1)))}));break;case"LineString":o.push(new lw([i.coordinates]));break;case"MultiLineString":o.push(new lw(i.coordinates))}var a=new sw(n[t||"name"],o,n.cp);return a.properties=n,a}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var hw=Ea();function fw(e){// Only ordinal scale support tick interval
return"category"===e.type?function(e){var t=e.getLabelModel(),n=gw(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(e):function(e){var t=e.scale.getTicks(),n=Y_(e);return{labels:We(t,(function(t,i){return{level:t.level,formattedLabel:n(t,i),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}(e)}
/**
       * @param {module:echats/coord/Axis} axis
       * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.
       * @return {Object} {
       *     ticks: Array.<number>
       *     tickCategoryInterval: number
       * }
       */function vw(e,t){// Only ordinal scale support tick interval
return"category"===e.type?function(e,t){var n,i,o=yw(e,"ticks"),r=Z_(t),a=mw(o,r);if(a)return a;// Optimize for the case that large category data and no label displayed,
// we should not return all ticks.
t.get("show")&&!e.scale.isBlank()||(n=[]);if($e(r))n=_w(e,r,!0);else if("auto"===r){var l=gw(e,e.getLabelModel());i=l.labelCategoryInterval,n=We(l.labels,(function(e){return e.tickValue}))}else n=bw(e,i=r,!0);// Cache to avoid calling interval function repeatedly.
return xw(o,r,{ticks:n,tickCategoryInterval:i})}(e,t):{ticks:We(e.scale.getTicks(),(function(e){return e.value}))}}function gw(e,t){var n,i,o=yw(e,"labels"),r=Z_(t),a=mw(o,r);return a||($e(r)?n=_w(e,r):(i="auto"===r?function(e){var t=hw(e).autoInterval;return null!=t?t:hw(e).autoInterval=e.calculateCategoryInterval()}
/**
       * Calculate interval for category axis ticks and labels.
       * To get precise result, at least one of `getRotate` and `isHorizontal`
       * should be implemented in axis.
       */(e):r,n=bw(e,i)),xw(o,r,{labels:n,labelCategoryInterval:i}))}function yw(e,t){// Because key can be a function, and cache size always is small, we use array cache.
return hw(e)[t]||(hw(e)[t]=[])}function mw(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function xw(e,t,n){return e.push({key:t,value:n}),n}function bw(e,t,n){var i=Y_(e),o=e.scale,r=o.getExtent(),a=e.getLabelModel(),l=[],s=Math.max((t||0)+1,1),u=r[0],c=o.count();// Calculate start tick based on zero if possible to keep label consistent
// while zooming and moving while interval > 0. Otherwise the selection
// of displayable ticks and symbols probably keep changing.
// 3 is empirical value.
0!==u&&s>1&&c/s>2&&(u=Math.round(Math.ceil(u/s)*s));// (1) Only add min max label here but leave overlap checking
// to render stage, which also ensure the returned list
// suitable for splitLine and splitArea rendering.
// (2) Scales except category always contain min max label so
// do not need to perform this process.
var d=$_(e),p=a.get("showMinLabel")||d,h=a.get("showMaxLabel")||d;p&&u!==r[0]&&v(r[0]);// Optimize: avoid generating large array by `ordinalScale.getTicks()`.
for(var f=u;f<=r[1];f+=s)v(f);function v(e){var t={value:e};l.push(n?e:{formattedLabel:i(t),rawLabel:o.getLabel(t),tickValue:e})}return h&&f-s!==r[1]&&v(r[1]),l}function _w(e,t,n){var i=e.scale,o=Y_(e),r=[];return Ge(i.getTicks(),(function(e){var a=i.getLabel(e),l=e.value;t(e.value,a)&&r.push(n?l:{formattedLabel:o(e),rawLabel:a,tickValue:l})})),r}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var ww=[0,1],Sw=/** @class */function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}
/**
         * If axis extent contain given coord
         */return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},
/**
         * If axis extent contain given data
         */
e.prototype.containData=function(e){return this.scale.contain(e)},
/**
         * Get coord extent.
         */
e.prototype.getExtent=function(){return this._extent.slice()},
/**
         * Get precision used for formatting
         */
e.prototype.getPixelPrecision=function(e){return na(e||this.scale.getExtent(),this._extent)},
/**
         * Set coord extent
         */
e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},
/**
         * Convert data to coord. Data is the rank if it has an ordinal scale
         */
e.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Cw(n=n.slice(),i.count()),$r(e,ww,n,t)},
/**
         * Convert coord to data. Data is the rank if it has an ordinal scale
         */
e.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Cw(n=n.slice(),i.count());var o=$r(e,n,ww,t);return this.scale.scale(o)},
/**
         * Convert pixel point to data in axis
         */
e.prototype.pointToData=function(e,t){},
/**
         * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,
         * `axis.getTicksCoords` considers `onBand`, which is used by
         * `boundaryGap:true` of category axis and splitLine and splitArea.
         * @param opt.tickModel default: axis.model.getModel('axisTick')
         * @param opt.clamp If `true`, the first and the last
         *        tick must be at the axis end points. Otherwise, clip ticks
         *        that outside the axis extent.
         */
e.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=We(vw(this,t).ticks,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this);// If axis has labels [1, 2, 3, 4]. Bands on the axis are
// |---1---|---2---|---3---|---4---|.
// So the displayed ticks and splitLine/splitArea should between
// each data item, otherwise cause misleading (e.g., split tow bars
// of a single data item when there are two bar series).
// Also consider if tickCategoryInterval > 0 and onBand, ticks and
// splitLine/spliteArea should layout appropriately corresponding
// to displayed labels. (So we should not use `getBandWidth` in this
// case).
return function(e,t,n,i){var o=t.length;if(!e.onBand||n||!o)return;var r,a,l=e.getExtent();if(1===o)t[0].coord=l[0],r=t[1]={coord:l[0]};else{var s=t[o-1].tickValue-t[0].tickValue,u=(t[o-1].coord-t[0].coord)/s;Ge(t,(function(e){e.coord-=u/2})),a=1+e.scale.getExtent()[1]-t[o-1].tickValue,r={coord:t[o-1].coord+u*a},t.push(r)}var c=l[0]>l[1];// Handling clamp.
d(t[0].coord,l[0])&&(i?t[0].coord=l[0]:t.shift());i&&d(l[0],t[0].coord)&&t.unshift({coord:l[0]});d(l[1],r.coord)&&(i?r.coord=l[1]:t.pop());i&&d(r.coord,l[1])&&t.push({coord:l[1]});function d(e,t){// Avoid rounding error cause calculated tick coord different with extent.
// It may cause an extra unnecessary tick added.
return e=Qr(e),t=Qr(t),c?e>t:e<t}}(this,n,t.get("alignWithLabel"),e.clamp),n},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)// Category axis doesn't support minor ticks
return[];var e=this.model.getModel("minorTick").get("splitNumber");// Protection.
return e>0&&e<100||(e=5),We(this.scale.getMinorTicks(e),(function(e){return We(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this)},e.prototype.getViewLabels=function(){return fw(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},
/**
         * Notice here we only get the default tick model. For splitLine
         * or splitArea, we should pass the splitLineModel or splitAreaModel
         * manually when calling `getTicksCoords`.
         * In GL, this method may be overridden to:
         * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`
         */
e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},
/**
         * Get width of band
         */
e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);// Fix #2728, avoid NaN when only one data.
0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},
/**
         * Only be called in category axis.
         * Can be overridden, consider other axes like in 3D.
         * @return Auto interval for cateogry axis tick and label
         */
e.prototype.calculateCategoryInterval=function(){return function(e){var t=function(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(e),n=Y_(e),i=(t.axisRotate-t.labelRotate)/180*Math.PI,o=e.scale,r=o.getExtent(),a=o.count();if(r[1]-r[0]<1)return 0;var l=1;// Simple optimization. Empirical value: tick count should less than 40.
a>40&&(l=Math.max(1,Math.floor(a/40)));// Caution: Performance sensitive for large category data.
// Consider dataZoom, we should make appropriate step to avoid O(n) loop.
for(var s=r[0],u=e.dataToCoord(s+1)-e.dataToCoord(s),c=Math.abs(u*Math.cos(i)),d=Math.abs(u*Math.sin(i)),p=0,h=0;s<=r[1];s+=l){var f,v,g=Ir(n({value:s}),t.font,"center","top");// Magic number
f=1.3*g.width,v=1.3*g.height,// Min size, void long loop.
p=Math.max(p,f,7),h=Math.max(h,v,7)}var y=p/c,m=h/d;// 0/0 is NaN, 1/0 is Infinity.
isNaN(y)&&(y=1/0),isNaN(m)&&(m=1/0);var x=Math.max(0,Math.floor(Math.min(y,m))),b=hw(e.model),_=e.getExtent(),w=b.lastAutoInterval,S=b.lastTickCount;// Use cache to keep interval stable while moving zoom window,
// otherwise the calculated interval might jitter when the zoom
// window size is close to the interval-changing size.
// For example, if all of the axis labels are `a, b, c, d, e, f, g`.
// The jitter will cause that sometimes the displayed labels are
// `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).
return null!=w&&null!=S&&Math.abs(w-x)<=1&&Math.abs(S-a)<=1&&w>x&&b.axisExtent0===_[0]&&b.axisExtent1===_[1]?x=w:(b.lastTickCount=a,b.lastAutoInterval=x,b.axisExtent0=_[0],b.axisExtent1=_[1]),x}(this)},e}();
/**
       * Base class of Axis.
       */function Cw(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}var Mw=Sw,Tw=2*Math.PI,Iw=ls.CMD,kw=["top","right","bottom","left"];
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function Aw(e,t,n,i,o){var r=n.width,a=n.height;switch(e){case"top":i.set(n.x+r/2,n.y-t),o.set(0,-1);break;case"bottom":i.set(n.x+r/2,n.y+a+t),o.set(0,1);break;case"left":i.set(n.x-t,n.y+a/2),o.set(-1,0);break;case"right":i.set(n.x+r+t,n.y+a/2),o.set(1,0)}}function Dw(e,t,n,i,o,r,a,l,s){a-=e,l-=t;var u=Math.sqrt(a*a+l*l),c=(a/=u)*n+e,d=(l/=u)*n+t;if(Math.abs(i-o)%Tw<1e-4)// Is a circle
return s[0]=c,s[1]=d,u-n;if(r){var p=i;i=ps(o),o=ps(p)}else i=ps(i),o=ps(o);i>o&&(o+=Tw);var h=Math.atan2(l,a);if(h<0&&(h+=Tw),h>=i&&h<=o||h+Tw>=i&&h+Tw<=o)// Project point is on the arc.
return s[0]=c,s[1]=d,u-n;var f=n*Math.cos(i)+e,v=n*Math.sin(i)+t,g=n*Math.cos(o)+e,y=n*Math.sin(o)+t,m=(f-a)*(f-a)+(v-l)*(v-l),x=(g-a)*(g-a)+(y-l)*(y-l);return m<x?(s[0]=f,s[1]=v,Math.sqrt(m)):(s[0]=g,s[1]=y,Math.sqrt(x))}function Ow(e,t,n,i,o,r,a,l){var s=o-e,u=r-t,c=n-e,d=i-t,p=Math.sqrt(c*c+d*d),h=(s*(c/=p)+u*(d/=p))/p;l&&(h=Math.min(Math.max(h,0),1)),h*=p;var f=a[0]=e+h*c,v=a[1]=t+h*d;return Math.sqrt((f-o)*(f-o)+(v-r)*(v-r))}function Pw(e,t,n,i,o,r,a){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i);var l=e+n,s=t+i,u=a[0]=Math.min(Math.max(o,e),l),c=a[1]=Math.min(Math.max(r,t),s);return Math.sqrt((u-o)*(u-o)+(c-r)*(c-r))}var Lw=[];function Ew(e,t,n){var i=Pw(t.x,t.y,t.width,t.height,e.x,e.y,Lw);return n.set(Lw[0],Lw[1]),i}
/**
       * Calculate min distance corresponding point.
       * This method won't evaluate if point is in the path.
       */function Nw(e,t,n){for(var i,o,r=0,a=0,l=0,s=0,u=1/0,c=t.data,d=e.x,p=e.y,h=0;h<c.length;){var f=c[h++];1===h&&(l=r=c[h],s=a=c[h+1]);var v=u;switch(f){case Iw.M:r=// moveTo 命令重新创建一个新的 subpath, 并且更新新的起点
// 在 closePath 的时候使用
l=c[h++],a=s=c[h++];break;case Iw.L:v=Ow(r,a,c[h],c[h+1],d,p,Lw,!0),r=c[h++],a=c[h++];break;case Iw.C:v=ki(r,a,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],d,p,Lw),r=c[h++],a=c[h++];break;case Iw.Q:v=Ei(r,a,c[h++],c[h++],c[h],c[h+1],d,p,Lw),r=c[h++],a=c[h++];break;case Iw.A:// TODO Arc 判断的开销比较大
var g=c[h++],y=c[h++],m=c[h++],x=c[h++],b=c[h++],_=c[h++];// TODO Arc 旋转
h+=1;var w=!!(1-c[h++]);i=Math.cos(b)*m+g,o=Math.sin(b)*x+y,// 不是直接使用 arc 命令
h<=1&&(// 第一个命令起点还未定义
l=i,s=o),v=Dw(g,y,x,b,b+_,w,(d-g)*x/m+g,p,Lw),r=Math.cos(b+_)*m+g,a=Math.sin(b+_)*x+y;break;case Iw.R:v=Pw(l=r=c[h++],s=a=c[h++],c[h++],c[h++],d,p,Lw);break;case Iw.Z:v=Ow(r,a,l,s,d,p,Lw,!0),r=l,a=s}v<u&&(u=v,n.set(Lw[0],Lw[1]))}return u}// Temporal variable for intermediate usage.
var Rw=new An,zw=new An,Bw=new An,Fw=new An,Vw=new An;
/**
       * Calculate a proper guide line based on the label position and graphic element definition
       * @param label
       * @param labelRect
       * @param target
       * @param targetRect
       */
function jw(e,t){if(e){var n=e.getTextGuideLine(),i=e.getTextContent();// Needs to create text guide in each charts.
if(i&&n){var o=e.textGuideLineConfig||{},r=[[0,0],[0,0],[0,0]],a=o.candidates||kw,l=i.getBoundingRect().clone();l.applyTransform(i.getComputedTransform());var s=1/0,u=o.anchor,c=e.getComputedTransform(),d=c&&In([],c),p=t.get("length2")||0;u&&Bw.copy(u);for(var h=0;h<a.length;h++){Aw(a[h],0,l,Rw,Fw),An.scaleAndAdd(zw,Rw,Fw,p),// Transform to target coord space.
zw.transform(d);// Note: getBoundingRect will ensure the `path` being created.
var f=e.getBoundingRect(),v=u?u.distance(zw):e instanceof ks?Nw(zw,e.path,Bw):Ew(zw,f,Bw);// TODO pt2 is in the path
v<s&&(s=v,// Transform back to global space.
zw.transform(c),Bw.transform(c),Bw.toArray(r[0]),zw.toArray(r[1]),Rw.toArray(r[2]))}Ww(r,t.get("minTurnAngle")),n.setShape({points:r})}}}// Temporal variable for the limitTurnAngle function
var Hw=[],Gw=new An;
/**
       * Reduce the line segment attached to the label to limit the turn angle between two segments.
       * @param linePoints
       * @param minTurnAngle Radian of minimum turn angle. 0 - 180
       */
function Ww(e,t){if(t<=180&&t>0){t=t/180*Math.PI,// The line points can be
//      /pt1----pt2 (label)
//     /
// pt0/
Rw.fromArray(e[0]),zw.fromArray(e[1]),Bw.fromArray(e[2]),An.sub(Fw,Rw,zw),An.sub(Vw,Bw,zw);var n=Fw.len(),i=Vw.len();if(!(n<.001||i<.001)){Fw.scale(1/n),Vw.scale(1/i);var o=Fw.dot(Vw);if(Math.cos(t)<o){// Smaller than minTurnAngle
// Calculate project point of pt0 on pt1-pt2
var r=Ow(zw.x,zw.y,Bw.x,Bw.y,Rw.x,Rw.y,Hw,!1);Gw.fromArray(Hw),// Calculate new projected length with limited minTurnAngle and get the new connect point
Gw.scaleAndAdd(Vw,r/Math.tan(Math.PI-t));// Limit the new calculated connect point between pt1 and pt2.
var a=Bw.x!==zw.x?(Gw.x-zw.x)/(Bw.x-zw.x):(Gw.y-zw.y)/(Bw.y-zw.y);if(isNaN(a))return;a<0?An.copy(Gw,zw):a>1&&An.copy(Gw,Bw),Gw.toArray(e[1])}}}}
/**
       * Limit the angle of line and the surface
       * @param maxSurfaceAngle Radian of minimum turn angle. 0 - 180. 0 is same direction to normal. 180 is opposite
       */function Kw(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,Rw.fromArray(e[0]),zw.fromArray(e[1]),Bw.fromArray(e[2]),An.sub(Fw,zw,Rw),An.sub(Vw,Bw,zw);var i=Fw.len(),o=Vw.len();if(!(i<.001||o<.001))if(Fw.scale(1/i),Vw.scale(1/o),Fw.dot(t)<Math.cos(n)){// Calculate project point of pt0 on pt1-pt2
var r=Ow(zw.x,zw.y,Bw.x,Bw.y,Rw.x,Rw.y,Hw,!1);Gw.fromArray(Hw);var a=Math.PI/2,l=a+Math.acos(Vw.dot(t))-n;if(l>=a)// parallel
An.copy(Gw,Bw);else{// Calculate new projected length with limited minTurnAngle and get the new connect point
Gw.scaleAndAdd(Vw,r/Math.tan(Math.PI/2-l));// Limit the new calculated connect point between pt1 and pt2.
var s=Bw.x!==zw.x?(Gw.x-zw.x)/(Bw.x-zw.x):(Gw.y-zw.y)/(Bw.y-zw.y);if(isNaN(s))return;s<0?An.copy(Gw,zw):s>1&&An.copy(Gw,Bw)}Gw.toArray(e[1])}}}function Uw(e,t,n,i){var o="normal"===n,r=o?e:e.ensureState(n);// Make sure display.
r.ignore=t;// Set smooth
var a=i.get("smooth");a&&!0===a&&(a=.3),r.shape=r.shape||{},a>0&&(r.shape.smooth=a);var l=i.getModel("lineStyle").getLineStyle();o?e.useStyle(l):r.style=l}function Yw(e,t){var n=t.smooth,i=t.points;if(i)if(e.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var o=Vt(i[0],i[1]),r=Vt(i[1],i[2]);if(!o||!r)return e.lineTo(i[1][0],i[1][1]),void e.lineTo(i[2][0],i[2][1]);var a=Math.min(o,r)*n,l=Ht([],i[1],i[0],a/o),s=Ht([],i[1],i[2],a/r),u=Ht([],l,s,.5);e.bezierCurveTo(l[0],l[1],l[0],l[1],u[0],u[1]),e.bezierCurveTo(s[0],s[1],s[0],s[1],i[2][0],i[2][1])}else for(var c=1;c<i.length;c++)e.lineTo(i[c][0],i[c][1])}
/**
       * Create a label line if necessary and set it's style.
       */function Xw(e,t,n){var i=e.getTextGuideLine(),o=e.getTextContent();if(o){for(var r=t.normal,a=r.get("show"),l=o.ignore,s=0;s<hu.length;s++){var u=hu[s],c=t[u],d="normal"===u;if(c){var p=c.get("show");if((d?l:st(o.states[u]&&o.states[u].ignore,l))||!st(p,a)){var h=d?i:i&&i.states[u];h&&(h.ignore=!0);continue}// Create labelLine if not exists
i||(i=new id,e.setTextGuideLine(i),// Reset state of normal because it's new created.
// NOTE: NORMAL should always been the first!
d||!l&&a||Uw(i,!0,"normal",t.normal),// Use same state proxy.
e.stateProxy&&(i.stateProxy=e.stateProxy)),Uw(i,!1,u,c)}}if(i){Fe(i.style,n),// Not fill.
i.style.fill=null;var f=r.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=f||!1,// Custom the buildPath.
i.buildPath=Yw}}else// Not show label line if there is no label.
i&&e.removeTextGuideLine()}function qw(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},i=0;i<pu.length;i++){var o=pu[i];n[o]=e.getModel([o,t])}return n}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function Zw(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(!i.defaultAttr.ignore){var o=i.label,r=o.getComputedTransform(),a=o.getBoundingRect(),l=!r||r[1]<1e-5&&r[2]<1e-5,s=o.style.margin||0,u=a.clone();u.applyTransform(r),u.x-=s/2,u.y-=s/2,u.width+=s,u.height+=s;var c=l?new Ad(a,r):null;t.push({label:o,labelLine:i.labelLine,rect:u,localRect:a,obb:c,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:l,transform:r})}}return t}function $w(e,t,n,i,o,r){var a=e.length;if(!(a<2)){e.sort((function(e,n){return e.rect[t]-n.rect[t]}));for(var l,s=0,u=!1,c=0,d=0;d<a;d++){var p=e[d],h=p.rect;(l=h[t]-s)<0&&(// shiftForward(i, len, -delta);
h[t]-=l,p.label[t]-=l,u=!0),c+=Math.max(-l,0),s=h[t]+h[n]}c>0&&r&&// Shift back to make the distribution more equally.
b(-c/a,0,a);// TODO bleedMargin?
var f,v,g=e[0],y=e[a-1];return m(),// If ends exceed two bounds, squeeze at most 80%, then take the gap of two bounds.
f<0&&_(-f,.8),v<0&&_(v,.8),m(),x(f,v,1),x(v,f,-1),// Handle bailout when there is not enough space.
m(),f<0&&w(-f),v<0&&w(v),u}function m(){f=g.rect[t]-i,v=o-y.rect[t]-y.rect[n]}function x(e,t,n){if(e<0){// Move from other gap if can.
var i=Math.min(t,-e);if(i>0){b(i*n,0,a);var o=i+e;o<0&&_(-o*n,1)}else _(-e*n,1)}}function b(n,i,o){0!==n&&(u=!0);for(var r=i;r<o;r++){var a=e[r];a.rect[t]+=n,a.label[t]+=n}}// Squeeze gaps if the labels exceed margin.
function _(i,o){for(var r=[],l=0,s=1;s<a;s++){var u=e[s-1].rect,c=Math.max(e[s].rect[t]-u[t]-u[n],0);r.push(c),l+=c}if(l){var d=Math.min(Math.abs(i)/l,o);if(i>0)for(s=0;s<a-1;s++){// Forward
b(r[s]*d,0,s+1)}else// Backward
for(s=a-1;s>0;s--){b(-(r[s-1]*d),s,a)}}}
/**
         * Squeeze to allow overlap if there is no more space available.
         * Let other overlapping strategy like hideOverlap do the job instead of keep exceeding the bounds.
         */function w(e){var t=e<0?-1:1;e=Math.abs(e);for(var n=Math.ceil(e/(a-1)),i=0;i<a-1;i++)if(t>0?// Forward
b(n,0,i+1):// Backward
b(-n,a-i-1,a),(e-=n)<=0)return}}
/**
       * Adjust labels on x direction to avoid overlap.
       */
/**
       * Adjust labels on y direction to avoid overlap.
       */
function Jw(e,t,n,// If average the shifts on all labels and add them to 0
i){return $w(e,"y","height",t,n,i)}function Qw(e){var t=[];// TODO, render overflow visible first, put in the displayedLabels.
e.sort((function(e,t){return t.priority-e.priority}));var n=new Fn(0,0,0,0);function i(e){if(!e.ignore){// Show on emphasis.
var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}for(var o=0;o<e.length;o++){var r=e[o],a=r.axisAligned,l=r.localRect,s=r.transform,u=r.label,c=r.labelLine;n.copy(r.rect),// Add a threshold because layout may be aligned precisely.
n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var d=r.obb,p=!1,h=0;h<t.length;h++){var f=t[h];// Fast rejection.
if(n.intersect(f.rect)){if(a&&f.axisAligned){// Is overlapped
p=!0;break}if(f.obb||(// If self is not axis aligned. But other is.
f.obb=new Ad(f.localRect,f.transform)),d||(// If self is axis aligned. But other is not.
d=new Ad(l,s)),d.intersect(f.obb)){p=!0;break}}}// TODO Callback to determine if this overlap should be handled?
p?(i(u),c&&i(c)):(u.attr("ignore",r.defaultAttr.ignore),c&&c.attr("ignore",r.defaultAttr.labelGuideIgnore),t.push(r))}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function eS(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function tS(e,t){var n=e.label,i=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,// x: labelAttr.x,
// y: labelAttr.y,
align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:eS(i&&i.shape.points)}}var nS=["align","verticalAlign","width","height","fontSize"],iS=new Sr,oS=Ea(),rS=Ea();function aS(e,t,n){for(var i=0;i<n.length;i++){var o=n[i];null!=t[o]&&(e[o]=t[o])}}var lS=["x","y","rotation"],sS=/** @class */function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},
/**
         * Add label to manager
         */
e.prototype._addLabel=function(e,t,n,i,o){var r=i.style,a=i.__hostTarget.textConfig||{},l=i.getComputedTransform(),s=i.getBoundingRect().plain();Fn.applyTransform(s,s,l),l?iS.setLocalTransform(l):(// Identity transform.
iS.x=iS.y=iS.rotation=iS.originX=iS.originY=0,iS.scaleX=iS.scaleY=1);var u,c=i.__hostTarget;if(c){u=c.getBoundingRect().plain();var d=c.getComputedTransform();Fn.applyTransform(u,u,d)}var p=u&&c.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:n,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:s,hostRect:u,// Label with lower priority will be hidden when overlapped
// Use rect size as default priority
priority:u?u.width*u.height:0,// Save default label attributes.
// For restore if developers want get back to default value in callback.
defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:iS.x,y:iS.y,scaleX:iS.scaleX,scaleY:iS.scaleY,rotation:iS.rotation,style:{x:r.x,y:r.y,align:r.align,verticalAlign:r.verticalAlign,width:r.width,height:r.height,fontSize:r.fontSize},cursor:i.cursor,attachedPos:a.position,attachedRot:a.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");
/**
           * Ignore layouting if it's not specified anything.
           */
($e(i)||Ye(i).length)&&e.group.traverse((function(e){if(e.ignore)return!0;// Stop traverse descendants.
// Only support label being hosted on graphic elements.
var o=e.getTextContent(),r=au(e);// Can only attach the text on the element with dataIndex
o&&!o.disableLabelLayout&&t._addLabel(r.dataIndex,r.dataType,n,o,i)}))},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function i(e,t){return function(){jw(e,t)}}for(var o=0;o<this._labelList.length;o++){var r=this._labelList[o],a=r.label,l=a.__hostTarget,s=r.defaultAttr,u=void 0;u=(// TODO A global layout option?
u=$e(r.layoutOption)?r.layoutOption(tS(r,l)):r.layoutOption)||{},r.computedLayoutOption=u;var c=Math.PI/180;// TODO hostEl should always exists.
// Or label should not have parent because the x, y is all in global space.
l&&l.setTextConfig({// Force to set local false.
local:!1,// Ignore position and rotation config on the host el if x or y is changed.
position:null!=u.x||null!=u.y?null:s.attachedPos,// Ignore rotation config on the host el if rotation is changed.
rotation:null!=u.rotate?u.rotate*c:s.attachedRot,offset:[u.dx||0,u.dy||0]});var d=!1;if(null!=u.x?(// TODO width of chart view.
a.x=Jr(u.x,t),a.setStyle("x",0),// Ignore movement in style. TODO: origin.
d=!0):(a.x=s.x,a.setStyle("x",s.style.x)),null!=u.y?(// TODO height of chart view.
a.y=Jr(u.y,n),a.setStyle("y",0),// Ignore movement in style.
d=!0):(a.y=s.y,a.setStyle("y",s.style.y)),u.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),// Not update
d=!1)}oS(a).needsUpdateLabelLine=d,a.rotation=null!=u.rotate?u.rotate*c:s.rotation,a.scaleX=s.scaleX,a.scaleY=s.scaleY;for(var h=0;h<nS.length;h++){var f=nS[h];a.setStyle(f,null!=u[f]?u[f]:s.style[f])}if(u.draggable){if(a.draggable=!0,a.cursor="move",l){var v=r.seriesModel;if(null!=r.dataIndex)v=r.seriesModel.getData(r.dataType).getItemModel(r.dataIndex);a.on("drag",i(l,v.getModel("labelLine")))}}else// TODO Other drag functions?
a.off("drag"),a.cursor=s.cursor}},e.prototype.layout=function(e){var// If average the shifts on all labels and add them to 0
// TODO: Not sure if should enable it.
// Pros: The angle of lines will distribute more equally
// Cons: In some layout. It may not what user wanted. like in pie. the label of last sector is usually changed unexpectedly.
t,n=e.getWidth(),i=e.getHeight(),o=Zw(this._labelList),r=Ue(o,(function(e){return"shiftX"===e.layoutOption.moveOverlap})),a=Ue(o,(function(e){return"shiftY"===e.layoutOption.moveOverlap}));$w(r,"x","width",0,n,t),Jw(a,0,i),Qw(Ue(o,(function(e){return e.layoutOption.hideOverlap})))},
/**
         * Process all labels. Not only labels with layoutOption.
         */
e.prototype.processLabelsOverall=function(){var e=this;Ge(this._chartViewList,(function(t){var n=t.__model,i=t.ignoreLabelLineUpdate,o=n.isAnimationEnabled();t.group.traverse((function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;// Stop traverse descendants.
var r=!i,a=t.getTextContent();!r&&a&&(r=oS(a).needsUpdateLabelLine),r&&e._updateLabelLine(t,n),o&&e._animateLabels(t,n)}))}))},e.prototype._updateLabelLine=function(e,t){// Only support label being hosted on graphic elements.
var n=e.getTextContent(),i=au(e),o=i.dataIndex;// Update label line style.
// Only support labelLine on the labels represent data.
if(n&&null!=o){var r=t.getData(i.dataType),a=r.getItemModel(o),l={},s=r.getItemVisual(o,"style"),u=r.getVisual("drawType");// Default to be same with main color
l.stroke=s[u];var c=a.getModel("labelLine");Xw(e,qw(a),l),jw(e,c)}},e.prototype._animateLabels=function(e,t){var n=e.getTextContent(),i=e.getTextGuideLine();// Animate
if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!Bd(e))){var o=(h=oS(n)).oldLayout,r=au(e),a=r.dataIndex,l={x:n.x,y:n.y,rotation:n.rotation},s=t.getData(r.dataType);if(o){n.attr(o);// Make sure the animation from is in the right status.
var u=e.prevStates;u&&(Ve(u,"select")>=0&&n.attr(h.oldLayoutSelect),Ve(u,"emphasis")>=0&&n.attr(h.oldLayoutEmphasis)),Rd(n,l,t,a)}else// Disable fade in animation if value animation is enabled.
if(n.attr(l),!kp(n).valueAnimation){var c=st(n.style.opacity,1);// Fade in animation
n.style.opacity=0,zd(n,{style:{opacity:c}},t,a)}if(h.oldLayout=l,n.states.select){var d=h.oldLayoutSelect={};aS(d,l,lS),aS(d,n.states.select,lS)}if(n.states.emphasis){var p=h.oldLayoutEmphasis={};aS(p,l,lS),aS(p,n.states.emphasis,lS)}Dp(n,a,s,t,t)}if(i&&!i.ignore&&!i.invisible){o=(h=rS(i)).oldLayout;var h,f={points:i.shape.points};o?(i.attr({shape:o}),Rd(i,{shape:f},t)):(i.setShape(f),i.style.strokePercent=0,zd(i,{style:{strokePercent:1}},t)),h.oldLayout=f}},e}(),uS=sS,cS=Ea();var dS=Math.sin,pS=Math.cos,hS=Math.PI,fS=2*Math.PI,vS=180/hS,gS=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,n,i,o,r){this._add("C",e,t,n,i,o,r)},e.prototype.quadraticCurveTo=function(e,t,n,i){this._add("Q",e,t,n,i)},e.prototype.arc=function(e,t,n,i,o,r){this.ellipse(e,t,n,n,0,i,o,r)},e.prototype.ellipse=function(e,t,n,i,o,r,a,l){var s=a-r,u=!l,c=Math.abs(s),d=fo(c-fS)||(u?s>=fS:-s>=fS),p=s>0?s%fS:s%fS+fS,h=!1;h=!!d||!fo(c)&&p>=hS==!!u;var f=e+n*pS(r),v=t+i*dS(r);this._start&&this._add("M",f,v);var g=Math.round(o*vS);if(d){var y=1/this._p,m=(u?1:-1)*(fS-y);this._add("A",n,i,g,1,+u,e+n*pS(r+m),t+i*dS(r+m)),y>.01&&this._add("A",n,i,g,0,+u,f,v)}else{var x=e+n*pS(a),b=t+i*dS(a);this._add("A",n,i,g,+h,+u,x,b)}},e.prototype.rect=function(e,t,n,i){this._add("M",e,t),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,n,i,o,r,a,l,s){for(var u=[],c=this._p,d=1;d<arguments.length;d++){var p=arguments[d];if(isNaN(p))return void(this._invalid=!0);u.push(Math.round(p*c)/c)}this._d.push(e+u.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),yS=gS,mS="none",xS=Math.round;var bS=["lineCap","miterLimit","lineJoin"],_S=We(bS,(function(e){return"stroke-"+e.toLowerCase()}));function wS(e,t,n,i){var o=null==t.opacity?1:t.opacity;if(n instanceof Ns)e("opacity",o);else{if(function(e){var t=e.fill;return null!=t&&t!==mS}(t)){var r=po(t.fill);e("fill",r.color);var a=null!=t.fillOpacity?t.fillOpacity*r.opacity*o:r.opacity*o;(i||a<1)&&e("fill-opacity",a)}else e("fill",mS);if(function(e){var t=e.stroke;return null!=t&&t!==mS}(t)){var l=po(t.stroke);e("stroke",l.color);var s=t.strokeNoScale?n.getLineScale():1,u=s?(t.lineWidth||0)/s:0,c=null!=t.strokeOpacity?t.strokeOpacity*l.opacity*o:l.opacity*o,d=t.strokeFirst;if((i||1!==u)&&e("stroke-width",u),(i||d)&&e("paint-order",d?"stroke":"fill"),(i||c<1)&&e("stroke-opacity",c),t.lineDash){var p=Mm(n),h=p[0],f=p[1];h&&(f=xS(f||0),e("stroke-dasharray",h.join(",")),(f||i)&&e("stroke-dashoffset",f))}else i&&e("stroke-dasharray",mS);for(var v=0;v<bS.length;v++){var g=bS[v];if(i||t[g]!==Cs[g]){var y=t[g]||Cs[g];y&&e(_S[v],y)}}}else i&&e("stroke",mS)}}var SS="http://www.w3.org/2000/svg",CS="http://www.w3.org/1999/xlink";function MS(e){return document.createElementNS(SS,e)}function TS(e,t,n,i,o){return{tag:e,attrs:n||{},children:i,text:o,key:t}}function IS(e,t){var n=(t=t||{}).newline?"\n":"";return function e(t){var i=t.children,o=t.tag;return function(e,t){var n=[];if(t)for(var i in t){var o=t[i],r=i;!1!==o&&(!0!==o&&null!=o&&(r+='="'+o+'"'),n.push(r))}return"<"+e+" "+n.join(" ")+">"}(o,t.attrs)+ln(t.text)+(i?""+n+We(i,(function(t){return e(t)})).join(n)+n:"")+("</"+o+">")}(e)}function kS(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function AS(e,t,n,i){return TS("svg","root",{width:e,height:t,xmlns:SS,"xmlns:xlink":CS,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+e+" "+t},n)}var DS={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},OS="transform-origin";function PS(e,t,n){var i=Be({},e.shape);Be(i,t),e.buildPath(n,i);var o=new yS;return o.reset(Co(e)),n.rebuildPath(o,1),o.generateStr(),o.getStr()}function LS(e,t){var n=t.originX,i=t.originY;(n||i)&&(e[OS]=n+"px "+i+"px")}var ES={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function NS(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function RS(e){return Je(e)?DS[e]?"cubic-bezier("+DS[e]+")":zi(e)?e:"":""}function zS(e,t,n,i){var o=e.animators,r=o.length,a=[];if(e instanceof yd){var l=function(e,t,n){var i,o,r=e.shape.paths,a={};if(Ge(r,(function(e){var t=kS(n.zrId);t.animation=!0,zS(e,{},t,!0);var r=t.cssAnims,l=t.cssNodes,s=Ye(r),u=s.length;if(u){var c=r[o=s[u-1]];for(var d in c){var p=c[d];a[d]=a[d]||{d:""},a[d].d+=p.d||""}for(var h in l){var f=l[h].animation;f.indexOf(o)>=0&&(i=f)}}})),i){t.d=!1;var l=NS(a,n);return i.replace(o,l)}}(e,t,n);if(l)a.push(l);else if(!r)return}else if(!r)return;for(var s={},u=0;u<r;u++){var c=o[u],d=[c.getMaxTime()/1e3+"s"],p=RS(c.getClip().easing),h=c.getDelay();p?d.push(p):d.push("linear"),h&&d.push(h/1e3+"s"),c.getLoop()&&d.push("infinite");var f=d.join(" ");s[f]=s[f]||[f,[]],s[f][1].push(c)}function v(o){var r,a=o[1],l=a.length,s={},u={},c={},d="animation-timing-function";function p(e,t,n){for(var i=e.getTracks(),o=e.getMaxTime(),r=0;r<i.length;r++){var a=i[r];if(a.needsAnimate()){var l=a.keyframes,s=a.propName;if(n&&(s=n(s)),s)for(var u=0;u<l.length;u++){var c=l[u],p=Math.round(c.time/o*100)+"%",h=RS(c.easing),f=c.rawValue;(Je(f)||et(f))&&(t[p]=t[p]||{},t[p][s]=c.rawValue,h&&(t[p][d]=h))}}}}for(var h=0;h<l;h++){(S=(w=a[h]).targetName)?"shape"===S&&p(w,u):!i&&p(w,s)}for(var f in s){var v={};wr(v,e),Be(v,s[f]);var g=Mo(v),y=s[f][d];c[f]=g?{transform:g}:{},LS(c[f],v),y&&(c[f][d]=y)}var m=!0;for(var f in u){c[f]=c[f]||{};var x=!r;y=u[f][d];x&&(r=new ls);var b=r.len();r.reset(),c[f].d=PS(e,u[f],r);var _=r.len();if(!x&&b!==_){m=!1;break}y&&(c[f][d]=y)}if(!m)for(var f in c)delete c[f].d;if(!i)for(h=0;h<l;h++){var w,S;"style"===(S=(w=a[h]).targetName)&&p(w,c,(function(e){return ES[e]}))}var C,M=Ye(c),T=!0;for(h=1;h<M.length;h++){var I=M[h-1],k=M[h];if(c[I][OS]!==c[k][OS]){T=!1;break}C=c[I][OS]}if(T&&C){for(var f in c)c[f][OS]&&delete c[f][OS];t[OS]=C}if(Ue(M,(function(e){return Ye(c[e]).length>0})).length)return NS(c,n)+" "+o[0]+" both"}for(var g in s){(l=v(s[g]))&&a.push(l)}if(a.length){var y=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+y]={animation:a.join(",")},t.class=y}}var BS=Math.round;function FS(e){return e&&Je(e.src)}function VS(e){return e&&$e(e.toDataURL)}function jS(e,t,n,i){wS((function(o,r){var a="fill"===o||"stroke"===o;a&&wo(r)?$S(t,e,o,i):a&&xo(r)?JS(n,e,o,i):e[o]=r}),t,n,!1),function(e,t,n){var i=e.style;if(function(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}(i)){var o=function(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}(e),r=n.shadowCache,a=r[o];if(!a){var l=e.getGlobalScale(),s=l[0],u=l[1];if(!s||!u)return;var c=i.shadowOffsetX||0,d=i.shadowOffsetY||0,p=i.shadowBlur,h=po(i.shadowColor),f=h.opacity,v=h.color,g=p/2/s+" "+p/2/u;a=n.zrId+"-s"+n.shadowIdx++,n.defs[a]=TS("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[TS("feDropShadow","",{dx:c/s,dy:d/u,stdDeviation:g,"flood-color":v,"flood-opacity":f})]),r[o]=a}t.filter=So(a)}}(n,e,i)}function HS(e){return fo(e[0]-1)&&fo(e[1])&&fo(e[2])&&fo(e[3]-1)}function GS(e,t,n){if(t&&(!function(e){return fo(e[4])&&fo(e[5])}(t)||!HS(t))){var i=n?10:1e4;e.transform=HS(t)?"translate("+BS(t[4]*i)/i+" "+BS(t[5]*i)/i+")":function(e){return"matrix("+vo(e[0])+","+vo(e[1])+","+vo(e[2])+","+vo(e[3])+","+go(e[4])+","+go(e[5])+")"}(t)}}function WS(e,t,n){for(var i=e.points,o=[],r=0;r<i.length;r++)o.push(BS(i[r][0]*n)/n),o.push(BS(i[r][1]*n)/n);t.points=o.join(" ")}function KS(e){return!e.smooth}var US,YS,XS={circle:[(US=["cx","cy","r"],YS=We(US,(function(e){return"string"==typeof e?[e,e]:e})),function(e,t,n){for(var i=0;i<YS.length;i++){var o=YS[i],r=e[o[0]];null!=r&&(t[o[1]]=BS(r*n)/n)}})],polyline:[WS,KS],polygon:[WS,KS]};function qS(e,t){var n=e.style,i=e.shape,o=XS[e.type],r={},a=t.animation,l="path",s=e.style.strokePercent,u=t.compress&&Co(e)||4;if(!o||t.willUpdate||o[1]&&!o[1](i)||a&&function(e){for(var t=e.animators,n=0;n<t.length;n++)if("shape"===t[n].targetName)return!0;return!1}(e)||s<1){var c=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;c&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var p=d.getVersion(),h=e,f=h.__svgPathBuilder;h.__svgPathVersion===p&&f&&s===h.__svgPathStrokePercent||(f||(f=h.__svgPathBuilder=new yS),f.reset(u),d.rebuildPath(f,s),f.generateStr(),h.__svgPathVersion=p,h.__svgPathStrokePercent=s),r.d=f.getStr()}else{l=e.type;var v=Math.pow(10,u);o[0](i,r,v)}return GS(r,e.transform),jS(r,n,e,t),t.animation&&zS(e,r,t),TS(l,e.id+"",r)}function ZS(e,t){return e instanceof ks?qS(e,t):e instanceof Ns?function(e,t){var n=e.style,i=n.image;if(i&&!Je(i)&&(FS(i)?i=i.src:VS(i)&&(i=i.toDataURL())),i){var o=n.x||0,r=n.y||0,a={href:i,width:n.width,height:n.height};return o&&(a.x=o),r&&(a.y=r),GS(a,e.transform),jS(a,n,e,t),t.animation&&zS(e,a,t),TS("image",e.id+"",a)}}(e,t):e instanceof Os?function(e,t){var n=e.style,i=n.text;if(null!=i&&(i+=""),i&&!isNaN(n.x)&&!isNaN(n.y)){var o=n.font||ge,r=n.x||0,a=function(e,t,n){return"top"===n?e+=t/2:"bottom"===n&&(e-=t/2),e}(n.y||0,Dr(o),n.textBaseline),l={"dominant-baseline":"central","text-anchor":yo[n.textAlign]||n.textAlign};if(Js(n)){var s="",u=n.fontStyle,c=Zs(n.fontSize);if(!parseFloat(c))return;var d=n.fontFamily||ve,p=n.fontWeight;s+="font-size:"+c+";font-family:"+d+";",u&&"normal"!==u&&(s+="font-style:"+u+";"),p&&"normal"!==p&&(s+="font-weight:"+p+";"),l.style=s}else l.style="font: "+o;return i.match(/\s/)&&(l["xml:space"]="preserve"),r&&(l.x=r),a&&(l.y=a),GS(l,e.transform),jS(l,n,e,t),t.animation&&zS(e,l,t),TS("text",e.id+"",l,void 0,i)}}(e,t):void 0}function $S(e,t,n,i){var o,r=e[n],a={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(bo(r))o="linearGradient",a.x1=r.x,a.y1=r.y,a.x2=r.x2,a.y2=r.y2;else{if(!_o(r))return;o="radialGradient",a.cx=st(r.x,.5),a.cy=st(r.y,.5),a.r=st(r.r,.5)}for(var l=r.colorStops,s=[],u=0,c=l.length;u<c;++u){var d=100*go(l[u].offset)+"%",p=po(l[u].color),h=p.color,f=p.opacity,v={offset:d};v["stop-color"]=h,f<1&&(v["stop-opacity"]=f),s.push(TS("stop",u+"",v))}var g=IS(TS(o,"",a,s)),y=i.gradientCache,m=y[g];m||(m=i.zrId+"-g"+i.gradientIdx++,y[g]=m,a.id=m,i.defs[m]=TS(o,m,a,s)),t[n]=So(m)}function JS(e,t,n,i){var o,r=e.style[n],a=e.getBoundingRect(),l={},s=r.repeat,u="no-repeat"===s,c="repeat-x"===s,d="repeat-y"===s;if(mo(r)){var p=r.imageWidth,h=r.imageHeight,f=void 0,v=r.image;if(Je(v)?f=v:FS(v)?f=v.src:VS(v)&&(f=v.toDataURL()),"undefined"==typeof Image){var g="Image width/height must been given explictly in svg-ssr renderer.";pt(p,g),pt(h,g)}else if(null==p||null==h){var y=function(e,t){if(e){var n=e.elm,i=p||t.width,o=h||t.height;"pattern"===e.tag&&(c?(o=1,i/=a.width):d&&(i=1,o/=a.height)),e.attrs.width=i,e.attrs.height=o,n&&(n.setAttribute("width",i),n.setAttribute("height",o))}},m=ol(f,null,e,(function(e){u||y(w,e),y(o,e)}));m&&m.width&&m.height&&(p=p||m.width,h=h||m.height)}o=TS("image","img",{href:f,width:p,height:h}),l.width=p,l.height=h}else r.svgElement&&(o=Ne(r.svgElement),l.width=r.svgWidth,l.height=r.svgHeight);if(o){var x,b;u?x=b=1:c?(b=1,x=l.width/a.width):d?(x=1,b=l.height/a.height):l.patternUnits="userSpaceOnUse",null==x||isNaN(x)||(l.width=x),null==b||isNaN(b)||(l.height=b);var _=Mo(r);_&&(l.patternTransform=_);var w=TS("pattern","",l,[o]),S=IS(w),C=i.patternCache,M=C[S];M||(M=i.zrId+"-p"+i.patternIdx++,C[S]=M,l.id=M,w=i.defs[M]=TS("pattern",M,l,[o])),t[n]=So(M)}}function QS(e,t,n){var i=n.clipPathCache,o=n.defs,r=i[e.id];if(!r){var a={id:r=n.zrId+"-c"+n.clipPathIdx++};i[e.id]=r,o[r]=TS("clipPath",r,a,[qS(e,n)])}t["clip-path"]=So(r)}function eC(e){return document.createTextNode(e)}function tC(e,t,n){e.insertBefore(t,n)}function nC(e,t){e.removeChild(t)}function iC(e,t){e.appendChild(t)}function oC(e){return e.parentNode}function rC(e){return e.nextSibling}function aC(e,t){e.textContent=t}var lC=TS("","");function sC(e){return void 0===e}function uC(e){return void 0!==e}function cC(e,t,n){for(var i={},o=t;o<=n;++o){var r=e[o].key;void 0!==r&&(i[r]=o)}return i}function dC(e,t){var n=e.key===t.key;return e.tag===t.tag&&n}function pC(e){var t,n=e.children,i=e.tag;if(uC(i)){var o=e.elm=MS(i);if(vC(lC,e),Ze(n))for(t=0;t<n.length;++t){var r=n[t];null!=r&&iC(o,pC(r))}else uC(e.text)&&!tt(e.text)&&iC(o,eC(e.text))}else e.elm=eC(e.text);return e.elm}function hC(e,t,n,i,o){for(;i<=o;++i){var r=n[i];null!=r&&tC(e,pC(r),t)}}function fC(e,t,n,i){for(;n<=i;++n){var o=t[n];if(null!=o)if(uC(o.tag))nC(oC(o.elm),o.elm);else nC(e,o.elm)}}function vC(e,t){var n,i=t.elm,o=e&&e.attrs||{},r=t.attrs||{};if(o!==r){for(n in r){var a=r[n];o[n]!==a&&(!0===a?i.setAttribute(n,""):!1===a?i.removeAttribute(n):120!==n.charCodeAt(0)?i.setAttribute(n,a):"xmlns:xlink"===n||"xmlns"===n?i.setAttributeNS("http://www.w3.org/2000/xmlns/",n,a):58===n.charCodeAt(3)?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,a):58===n.charCodeAt(5)?i.setAttributeNS(CS,n,a):i.setAttribute(n,a))}for(n in o)n in r||i.removeAttribute(n)}}function gC(e,t){var n=t.elm=e.elm,i=e.children,o=t.children;e!==t&&(vC(e,t),sC(t.text)?uC(i)&&uC(o)?i!==o&&function(e,t,n){for(var i,o,r,a=0,l=0,s=t.length-1,u=t[0],c=t[s],d=n.length-1,p=n[0],h=n[d];a<=s&&l<=d;)null==u?u=t[++a]:null==c?c=t[--s]:null==p?p=n[++l]:null==h?h=n[--d]:dC(u,p)?(gC(u,p),u=t[++a],p=n[++l]):dC(c,h)?(gC(c,h),c=t[--s],h=n[--d]):dC(u,h)?(gC(u,h),tC(e,u.elm,rC(c.elm)),u=t[++a],h=n[--d]):dC(c,p)?(gC(c,p),tC(e,c.elm,u.elm),c=t[--s],p=n[++l]):(sC(i)&&(i=cC(t,a,s)),sC(o=i[p.key])||(r=t[o]).tag!==p.tag?tC(e,pC(p),u.elm):(gC(r,p),t[o]=void 0,tC(e,r.elm,u.elm)),p=n[++l]);(a<=s||l<=d)&&(a>s?hC(e,null==n[d+1]?null:n[d+1].elm,n,l,d):fC(e,t,a,s))}(n,i,o):uC(o)?(uC(e.text)&&aC(n,""),hC(n,null,o,0,o.length-1)):uC(i)?fC(n,i,0,i.length-1):uC(e.text)&&aC(n,""):e.text!==t.text&&(uC(i)&&fC(n,i,0,i.length-1),aC(n,t.text)))}var yC=0,mC=function(){function e(e,t,n){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=n=Be({},n),this.root=e,this._id="zr"+yC++,this._oldVNode=AS(n.width,n.height),e&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=MS("svg");vC(null,this._oldVNode),i.appendChild(o),e.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,t){if(dC(e,t))gC(e,t);else{var n=e.elm,i=oC(n);pC(t),null!==i&&(tC(i,t.elm,rC(n)),fC(i,[e],0,0))}}(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return ZS(e,kS(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,i=this._height,o=kS(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var r=[],a=this._bgVNode=function(e,t,n,i){var o;if(n&&"none"!==n)if(o=TS("rect","bg",{width:e,height:t,x:"0",y:"0",id:"0"}),wo(n))$S({fill:n},o.attrs,"fill",i);else if(xo(n))JS({style:{fill:n},dirty:Mt,getBoundingRect:function(){return{width:e,height:t}}},o.attrs,"fill",i);else{var r=po(n),a=r.color,l=r.opacity;o.attrs.fill=a,l<1&&(o.attrs["fill-opacity"]=l)}return o}(n,i,this._backgroundColor,o);a&&r.push(a);var l=e.compress?null:this._mainVNode=TS("g","main",{},[]);this._paintList(t,o,l?l.children:r),l&&r.push(l);var s=We(Ye(o.defs),(function(e){return o.defs[e]}));if(s.length&&r.push(TS("defs","defs",{},s)),e.animation){var u=function(e,t,n){var i=(n=n||{}).newline?"\n":"",o=" {"+i,r=i+"}",a=We(Ye(e),(function(t){return t+o+We(Ye(e[t]),(function(n){return n+":"+e[t][n]+";"})).join(i)+r})).join(i),l=We(Ye(t),(function(e){return"@keyframes "+e+o+We(Ye(t[e]),(function(n){return n+o+We(Ye(t[e][n]),(function(i){var o=t[e][n][i];return"d"===i&&(o='path("'+o+'")'),i+":"+o+";"})).join(i)+r})).join(i)+r})).join(i);return a||l?["<![CDATA[",a,l,"]]>"].join(i):""}(o.cssNodes,o.cssAnims,{newline:!0});if(u){var c=TS("style","stl",{},[],u);r.push(c)}}return AS(n,i,r,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},IS(this.renderToVNode({animation:st(e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:st(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,n){for(var i,o,r=e.length,a=[],l=0,s=0,u=0;u<r;u++){var c=e[u];if(!c.invisible){var d=c.__clipPaths,p=d&&d.length||0,h=o&&o.length||0,f=void 0;for(f=Math.max(p-1,h-1);f>=0&&(!d||!o||d[f]!==o[f]);f--);for(var v=h-1;v>f;v--)i=a[--l-1];for(var g=f+1;g<p;g++){var y={};QS(d[g],y,t);var m=TS("g","clip-g-"+s++,y,[]);(i?i.children:n).push(m),a[l++]=m,i=m}o=d;var x=ZS(c,t);x&&(i?i.children:n).push(x)}}},e.prototype.resize=function(e,t){var n=this._opts,i=this.root,o=this._viewport;if(null!=e&&(n.width=e),null!=t&&(n.height=t),i&&o&&(o.style.display="none",e=Cm(i,0,n),t=Cm(i,1,n),o.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,o){var r=o.style;r.width=e+"px",r.height=t+"px"}if(xo(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",e),a.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=To(t))&&n+"base64,"+t:n+"charset=UTF-8,"+encodeURIComponent(t)},e}();var xC=mC;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function bC(e,t,n){var i=be.createCanvas(),o=t.getWidth(),r=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=o+"px",a.height=r+"px",i.setAttribute("data-zr-dom-id",e)),i.width=o*n,i.height=r*n,i}var _C=function(e){function t(t,n,i){var o,r=e.call(this)||this;r.motionBlur=!1,r.lastFrameAlpha=.7,r.dpr=1,r.virtual=!1,r.config={},r.incremental=!1,r.zlevel=0,r.maxRepaintRectCount=5,r.__dirty=!0,r.__firstTimePaint=!0,r.__used=!1,r.__drawIndex=0,r.__startIndex=0,r.__endIndex=0,r.__prevStartIndex=null,r.__prevEndIndex=null,i=i||cr,"string"==typeof t?o=bC(t,n,i):tt(t)&&(t=(o=t).id),r.id=t,r.dom=o;var a=o.style;return a&&(St(o),o.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),r.painter=n,r.dpr=i,r}return kt(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=bC("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o,r=[],a=this.maxRepaintRectCount,l=!1,s=new Fn(0,0,0,0);function u(e){if(e.isFinite()&&!e.isZero())if(0===r.length){(t=new Fn(0,0,0,0)).copy(e),r.push(t)}else{for(var t,n=!1,i=1/0,o=0,u=0;u<r.length;++u){var c=r[u];if(c.intersect(e)){var d=new Fn(0,0,0,0);d.copy(c),d.union(e),r[u]=d,n=!0;break}if(l){s.copy(e),s.union(c);var p=e.width*e.height,h=c.width*c.height,f=s.width*s.height-p-h;f<i&&(i=f,o=u)}}if(l&&(r[o].union(e),n=!0),!n)(t=new Fn(0,0,0,0)).copy(e),r.push(t);l||(l=r.length>=a)}}for(var c=this.__startIndex;c<this.__endIndex;++c){if(h=e[c]){var d=h.shouldBePainted(n,i,!0,!0);(f=h.__isRendered&&(1&h.__dirty||!d)?h.getPrevPaintRect():null)&&u(f);var p=d&&(1&h.__dirty||!h.__isRendered)?h.getPaintRect():null;p&&u(p)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var h,f;d=(h=t[c]).shouldBePainted(n,i,!0,!0);if(h&&(!d||!h.__zr)&&h.__isRendered)(f=h.getPrevPaintRect())&&u(f)}do{o=!1;for(c=0;c<r.length;)if(r[c].isZero())r.splice(c,1);else{for(var v=c+1;v<r.length;)r[c].intersect(r[v])?(o=!0,r[c].union(r[v]),r.splice(v,1)):v++;c++}}while(o);return this._paintRects=r,r},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var n=this.dpr,i=this.dom,o=i.style,r=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),i.width=e*n,i.height=t*n,r&&(r.width=e*n,r.height=t*n,1!==n&&this.ctxBack.scale(n,n))},t.prototype.clear=function(e,t,n){var i=this.dom,o=this.ctx,r=i.width,a=i.height;t=t||this.clearColor;var l=this.motionBlur&&!e,s=this.lastFrameAlpha,u=this.dpr,c=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,r/u,a/u));var d=this.domBack;function p(e,n,i,r){if(o.clearRect(e,n,i,r),t&&"transparent"!==t){var a=void 0;if(rt(t))a=(t.global||t.__width===i&&t.__height===r)&&t.__canvasGradient||wm(o,t,{x:0,y:0,width:i,height:r}),t.__canvasGradient=a,t.__width=i,t.__height=r;else null!=t.image&&(t.scaleX=t.scaleX||u,t.scaleY=t.scaleY||u,a=Pm(o,t,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}}));o.save(),o.fillStyle=a||t,o.fillRect(e,n,i,r),o.restore()}l&&(o.save(),o.globalAlpha=s,o.drawImage(d,e,n,i,r),o.restore())}!n||l?p(0,0,r,a):n.length&&Ge(n,(function(e){p(e.x*u,e.y*u,e.width*u,e.height*u)}))},t}(Zt),wC=_C,SC=1e5,CC=314159,MC=.01;var TC=function(){function e(e,t,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=Be({},n||{}),this.dpr=n.devicePixelRatio||cr,this._singleCanvas=o,this.root=e,e.style&&(St(e),e.innerHTML=""),this.storage=t;var r=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(o){var l=e,s=l.width,u=l.height;null!=n.width&&(s=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,l.width=s*this.dpr,l.height=u*this.dpr,this._width=s,this._height=u;var c=new wC(l,this,this.dpr);c.__builtin__=!0,c.initContext(),a[314159]=c,c.zlevel=CC,r.push(CC),this._domRoot=e}else{this._width=Cm(e,0,n),this._height=Cm(e,1,n);var d=this._domRoot=function(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);e.appendChild(d)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var o=0;o<i.length;o++){var r=i[o],a=this._layers[r];if(!a.__builtin__&&a.refresh){var l=0===o?this._backgroundColor:null;a.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var i,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},r=0;r<t;r++){var a=e[r];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(SC)),i||(i=n.ctx).save(),jm(i,a,o,r===t-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(SC)},e.prototype.paintOne=function(e,t){Vm(e,t)},e.prototype._paintList=function(e,t,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,n),r=o.finished,a=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(e),r)this.eachLayer((function(e){e.afterBrush&&e.afterBrush()}));else{var l=this;ui((function(){l._paintList(e,t,n,i)}))}}},e.prototype._compositeManually=function(){var e=this.getLayer(CC).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)}))},e.prototype._doPaintList=function(e,t,n){for(var i=this,o=[],r=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var l=this._zlevelList[a],s=this._layers[l];s.__builtin__&&s!==this._hoverlayer&&(s.__dirty||n)&&o.push(s)}for(var u=!0,c=!1,d=function(a){var l,s=o[a],d=s.ctx,h=r&&s.createRepaintRects(e,t,p._width,p._height),f=n?s.__startIndex:s.__drawIndex,v=!n&&s.incremental&&Date.now,g=v&&Date.now(),y=s.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,y,h);else if(f===s.__startIndex){var m=e[f];m.incremental&&m.notClear&&!n||s.clear(!1,y,h)}-1===f&&(f=s.__startIndex);var x=function(t){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(l=f;l<s.__endIndex;l++){var o=e[l];if(o.__inHover&&(c=!0),i._doPaintEl(o,s,r,t,n,l===s.__endIndex-1),v)if(Date.now()-g>15)break}n.prevElClipPaths&&d.restore()};if(h)if(0===h.length)l=s.__endIndex;else for(var b=p.dpr,_=0;_<h.length;++_){var w=h[_];d.save(),d.beginPath(),d.rect(w.x*b,w.y*b,w.width*b,w.height*b),d.clip(),x(w),d.restore()}else d.save(),x(),d.restore();s.__drawIndex=l,s.__drawIndex<s.__endIndex&&(u=!1)},p=this,h=0;h<o.length;h++)d(h);return fe.wxa&&Ge(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),{finished:u,needsRefreshHover:c}},e.prototype._doPaintEl=function(e,t,n,i,o,r){var a=t.ctx;if(n){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(jm(a,e,o,r),e.setPrevPaintRect(l))}else jm(a,e,o,r)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=CC);var n=this._layers[e];return n||((n=new wC("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Re(n,this._layerConfig[e],!0):this._layerConfig[e-MC]&&Re(n,this._layerConfig[e-MC],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},e.prototype.insertLayer=function(e,t){var n=this._layers,i=this._zlevelList,o=i.length,r=this._domRoot,a=null,l=-1;if(!n[e]&&function(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}(t)){if(o>0&&e>i[0]){for(l=0;l<o-1&&!(i[l]<e&&i[l+1]>e);l++);a=n[i[l]]}if(i.splice(l+1,0,e),n[e]=t,!t.virtual)if(a){var s=a.dom;s.nextSibling?r.insertBefore(t.dom,s.nextSibling):r.appendChild(t.dom)}else r.firstChild?r.insertBefore(t.dom,r.firstChild):r.appendChild(t.dom);t.__painter=this}},e.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i];e.call(t,this._layers[o],o)}},e.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],r=this._layers[o];r.__builtin__&&e.call(t,r,o)}},e.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],r=this._layers[o];r.__builtin__||e.call(t,r,o)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){r&&(r.__endIndex!==e&&(r.__dirty=!0),r.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++){if((l=e[n]).zlevel!==e[n-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}}var i,o,r=null,a=0;for(o=0;o<e.length;o++){var l,s=(l=e[o]).zlevel,u=void 0;i!==s&&(i=s,a=0),l.incremental?((u=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,a=1):u=this.getLayer(s+(a>0?MC:0),this._needsManuallyCompositing),u.__builtin__||Ee("ZLevel "+s+" has been used by unkown layer "+u.id),u!==r&&(u.__used=!0,u.__startIndex!==o&&(u.__dirty=!0),u.__startIndex=o,u.incremental?u.__drawIndex=-1:u.__drawIndex=o,t(o),r=u),1&l.__dirty&&!l.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=o))}t(o),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Ge(this._layers,(function(e){e.setUnpainted()}))},e.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?Re(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===e||o===e+MC)Re(this._layers[o],n[e],!0)}}},e.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(Ve(n,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,o=this.root;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=Cm(o,0,i),t=Cm(o,1,i),n.style.display="",this._width!==e||t!==this._height){for(var r in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(CC).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new wC("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,o=t.dom.height;this.eachLayer((function(e){e.__builtin__?n.drawImage(e.dom,0,0,i,o):e.renderToCanvas&&(n.save(),e.renderToCanvas(n),n.restore())}))}else for(var r={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),l=0,s=a.length;l<s;l++){var u=a[l];jm(n,u,r,l===s-1)}return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}(),IC=TC;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var kC=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return de(t,e),t.prototype.getInitialData=function(e){return Vb(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new Kr,n=mm("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),r="none"===i?"circle":i,a=.8*e.itemHeight,l=mm(r,(e.itemWidth-a)/2,(e.itemHeight-a)/2,a,a,e.itemStyle.fill);t.add(l),l.setStyle(e.itemStyle);var s="inherit"===e.iconRotate?o:e.iconRotate||0;return l.rotation=s*Math.PI/180,l.setOrigin([e.itemWidth/2,e.itemHeight/2]),r.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={// zlevel: 0,
z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},// itemStyle: {
// },
endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},// areaStyle: {
// origin of areaStyle. Valid values:
// `'auto'/null/undefined`: from axisLine to data
// `'start'`: from min to data
// `'end'`: from data to max
// origin: 'auto'
// },
// false, 'start', 'end', 'middle'
step:!1,// Disabled if step is true
smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,// `false`: follow the label interval strategy.
// `true`: show all symbols.
// `'auto'`: If possible, show all symbols, otherwise
//           follow the label interval strategy.
showAllSymbol:"auto",// Whether to connect break point.
connectNulls:!1,// Sampling for large data. Can be: 'average', 'max', 'min', 'sum', 'lttb'.
sampling:"none",animationEasing:"linear",// Disable progressive
progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Zg),AC=kC;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * @return label string. Not null/undefined
       */
function DC(e,t){var n=e.mapDimensionsAll("defaultedLabel"),i=n.length;// Simple optimization (in lots of cases, label dims length is 1)
if(1===i){var o=Fv(e,t,n[0]);return null!=o?o+"":null}if(i){for(var r=[],a=0;a<n.length;a++)r.push(Fv(e,t,n[a]));return r.join(" ")}}function OC(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!Ze(t))return t+"";for(var i=[],o=0;o<n.length;o++){var r=e.getDimensionIndex(n[o]);r>=0&&i.push(t[r])}return i.join(" ")}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var PC=/** @class */function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.updateData(t,n,i,o),r}return de(t,e),t.prototype._createSymbol=function(e,t,n,i,o){// Remove paths created before
this.removeAll();// let symbolPath = createSymbol(
//     symbolType, -0.5, -0.5, 1, 1, color
// );
// If width/height are set too small (e.g., set to 1) on ios10
// and macOS Sierra, a circle stroke become a rect, no matter what
// the scale is set. So we set width/height as 2. See #4150.
var r=mm(e,-1,-1,2,2,null,o);r.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),// Rewrite drift method
r.drift=LC,this._symbolType=e,this.add(r)},
/**
         * Stop animation
         * @param {boolean} toLastFrame
         */
t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},
/**
         * FIXME:
         * Caution: This method breaks the encapsulation of this module,
         * but it indeed brings convenience. So do not use the method
         * unless you detailedly know all the implements of `Symbol`,
         * especially animation.
         *
         * Get symbol path element.
         */
t.prototype.getSymbolPath=function(){return this.childAt(0)},
/**
         * Highlight symbol
         */
t.prototype.highlight=function(){zu(this.childAt(0))},
/**
         * Downplay symbol
         */
t.prototype.downplay=function(){Bu(this.childAt(0))},
/**
         * @param {number} zlevel
         * @param {number} z
         */
t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e,t){var n=this.childAt(0);n.draggable=e,n.cursor=!t&&e?"move":n.cursor},
/**
         * Update symbol properties
         */
t.prototype.updateData=function(e,n,i,o){this.silent=!1;var r=e.getItemVisual(n,"symbol")||"circle",a=e.hostModel,l=t.getSymbolSize(e,n),s=r!==this._symbolType,u=o&&o.disableAnimation;if(s){var c=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(r,e,n,l,c)}else{(p=this.childAt(0)).silent=!1;var d={scaleX:l[0]/2,scaleY:l[1]/2};u?p.attr(d):Rd(p,d,a,n),Hd(p)}if(this._updateCommon(e,n,l,i,o),s){var p=this.childAt(0);if(!u){d={scaleX:this._sizeX,scaleY:this._sizeY,style:{// Always fadeIn. Because it has fadeOut animation when symbol is removed..
opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,zd(p,d,a,n)}}u&&// Must stop leave transition manually if don't call initProps or updateProps.
this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,n,i,o){var r,a,l,s,u,c,d,p,h,f=this.childAt(0),v=e.hostModel;if(i&&(r=i.emphasisItemStyle,a=i.blurItemStyle,l=i.selectItemStyle,s=i.focus,u=i.blurScope,d=i.labelStatesModels,p=i.hoverScale,h=i.cursorStyle,c=i.emphasisDisabled),!i||e.hasItemOption){var g=i&&i.itemModel?i.itemModel:e.getItemModel(t),y=g.getModel("emphasis");r=y.getModel("itemStyle").getItemStyle(),l=g.getModel(["select","itemStyle"]).getItemStyle(),a=g.getModel(["blur","itemStyle"]).getItemStyle(),s=y.get("focus"),u=y.get("blurScope"),c=y.get("disabled"),d=bp(g),p=y.getShallow("scale"),h=g.getShallow("cursor")}var m=e.getItemVisual(t,"symbolRotate");f.attr("rotation",(m||0)*Math.PI/180||0);var x=bm(e.getItemVisual(t,"symbolOffset"),n);x&&(f.x=x[0],f.y=x[1]),h&&f.attr("cursor",h);var b=e.getItemVisual(t,"style"),_=b.fill;if(f instanceof Ns){var w=f.style;f.useStyle(Be({// TODO other properties like x, y ?
image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},b))}else f.__isEmptyBrush?// fill and stroke will be swapped if it's empty.
// So we cloned a new style to avoid it affecting the original style in visual storage.
// TODO Better implementation. No empty logic!
f.useStyle(Be({},b)):f.useStyle(b),// Disable decal because symbol scale will been applied on the decal.
f.style.decal=null,f.setColor(_,o&&o.symbolInnerColor),f.style.strokeNoScale=!0;var S=e.getItemVisual(t,"liftZ"),C=this._z2;null!=S?null==C&&(this._z2=f.z2,f.z2+=S):null!=C&&(f.z2=C,this._z2=null);var M=o&&o.useNameLabel;xp(f,d,{labelFetcher:v,labelDataIndex:t,defaultText:// Do not execute util needed.
function(t){return M?e.getName(t):DC(e,t)},inheritColor:_,defaultOpacity:b.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var T=f.ensureState("emphasis");T.style=r,f.ensureState("select").style=l,f.ensureState("blur").style=a;// null / undefined / true means to use default strategy.
// 0 / false / negative number / NaN / Infinity means no scale.
var I=null==p||!0===p?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;// always set scale to allow resetting
T.scaleX=this._sizeX*I,T.scaleY=this._sizeY*I,this.setSymbolScale(1),$u(this,s,u,c)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var i=this.childAt(0),o=au(this).dataIndex,r=n&&n.animation;// Not show text when animating
if(// Avoid mistaken hover when fading out
this.silent=i.silent=!0,n&&n.fadeLabel){var a=i.getTextContent();a&&Fd(a,{style:{opacity:0}},t,{dataIndex:o,removeOpt:r,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Fd(i,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:o,cb:e,removeOpt:r})},t.getSymbolSize=function(e,t){return xm(e.getItemVisual(t,"symbolSize"))},t}(Kr);function LC(e,t){this.parent.drift(e,t)}var EC=PC;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function NC(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function RC(e){return null==e||tt(e)||(e={isIgnore:e}),e||{}}function zC(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:bp(t),cursorStyle:t.get("cursor")}}var BC=/** @class */function(){function e(e){this.group=new Kr,this._SymbolCtor=e||EC}
/**
         * Update symbols draw by new data
         */return e.prototype.updateData=function(e,t){// Remove progressive els.
this._progressiveEls=null,t=RC(t);var n=this.group,i=e.hostModel,o=this._data,r=this._SymbolCtor,a=t.disableAnimation,l=zC(e),s={disableAnimation:a},u=t.getSymbolPoint||function(t){return e.getItemLayout(t)};// There is no oldLineData only when first rendering or switching from
// stream mode to normal mode, where previous elements should be removed.
o||n.removeAll(),e.diff(o).add((function(i){var o=u(i);if(NC(e,o,i,t)){var a=new r(e,i,l,s);a.setPosition(o),e.setItemGraphicEl(i,a),n.add(a)}})).update((function(c,d){var p=o.getItemGraphicEl(d),h=u(c);if(NC(e,h,c,t)){var f=e.getItemVisual(c,"symbol")||"circle",v=p&&p.getSymbolType&&p.getSymbolType();if(!p||v&&v!==f)n.remove(p),(p=new r(e,c,l,s)).setPosition(h);else{p.updateData(e,c,l,s);var g={x:h[0],y:h[1]};a?p.attr(g):Rd(p,g,i)}// Add back
n.add(p),e.setItemGraphicEl(c,p)}else n.remove(p)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}),i)})).execute(),this._getSymbolPoint=u,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&// Not use animation
t.eachItemGraphicEl((function(t,n){var i=e._getSymbolPoint(n);t.setPosition(i),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=zC(e),this._data=null,this.group.removeAll()},
/**
         * Update symbols draw by new data
         */
e.prototype.incrementalUpdate=function(e,t,n){function i(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}// Clear
this._progressiveEls=[],n=RC(n);for(var o=e.start;o<e.end;o++){var r=t.getItemLayout(o);if(NC(t,r,o,n)){var a=new this._SymbolCtor(t,o,this._seriesScope);a.traverse(i),a.setPosition(r),this.group.add(a),t.setItemGraphicEl(o,a),this._progressiveEls.push(a)}}},e.prototype.eachRendered=function(e){fp(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,n=this._data;// Incremental model do not have this._data.
n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),n.hostModel)})):t.removeAll()},e}(),FC=BC;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function VC(e,t,n){var i=e.getBaseAxis(),o=e.getOtherAxis(i),r=function(e,t){var n=0,i=e.scale.getExtent();"start"===t?n=i[0]:"end"===t?n=i[1]:et(t)&&!isNaN(t)?n=t:// Both positive
i[0]>0?n=i[0]:i[1]<0&&(n=i[1]);return n}(o,n),a=i.dim,l=o.dim,s=t.mapDimension(l),u=t.mapDimension(a),c="x"===l||"radius"===l?1:0,d=We(e.dimensions,(function(e){return t.mapDimension(e)})),p=!1,h=t.getCalculationInfo("stackResultDimension");return Bb(t,d[0]/* , dims[1] */)&&(// jshint ignore:line
p=!0,d[0]=h),Bb(t,d[1]/* , dims[0] */)&&(// jshint ignore:line
p=!0,d[1]=h),{dataDimsForPoint:d,valueStart:r,valueAxisDim:l,baseAxisDim:a,stacked:!!p,valueDim:s,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function jC(e,t,n,i){var o=NaN;e.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=e.valueStart);var r=e.baseDataOffset,a=[];return a[r]=n.get(e.baseDim,i),a[1-r]=o,t.dataToPoint(a)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var HC=Math.min,GC=Math.max;function WC(e,t){return isNaN(e)||isNaN(t)}
/**
       * Draw smoothed line in non-monotone, in may cause undesired curve in extreme
       * situations. This should be used when points are non-monotone neither in x or
       * y dimension.
       */function KC(e,t,n,i,o,r,a,l,s){for(var u,c,d,p,h,f,v=n,g=0;g<i;g++){var y=t[2*v],m=t[2*v+1];if(v>=o||v<0)break;if(WC(y,m)){if(s){v+=r;continue}break}if(v===n)e[r>0?"moveTo":"lineTo"](y,m),d=y,p=m;else{var x=y-u,b=m-c;// Ignore tiny segment.
if(x*x+b*b<.5){v+=r;continue}if(a>0){// Ignore duplicate point
for(var _=v+r,w=t[2*_],S=t[2*_+1];w===y&&S===m&&g<i;)g++,v+=r,w=t[2*(_+=r)],S=t[2*_+1],x=(y=t[2*v])-u,b=(m=t[2*v+1])-c;var C=g+1;if(s)// Find next point not null
for(;WC(w,S)&&C<i;)C++,w=t[2*(_+=r)],S=t[2*_+1];var M=.5,T=0,I=0,k=void 0,A=void 0;// Is last point
if(C>=i||WC(w,S))h=y,f=m;else{T=w-u,I=S-c;var D=y-u,O=w-y,P=m-c,L=S-m,E=void 0,N=void 0;if("x"===l){var R=T>0?1:-1;h=y-R*(E=Math.abs(D))*a,f=m,k=y+R*(N=Math.abs(O))*a,A=m}else if("y"===l){var z=I>0?1:-1;h=y,f=m-z*(E=Math.abs(P))*a,k=y,A=m+z*(N=Math.abs(L))*a}else E=Math.sqrt(D*D+P*P),h=y-T*a*(1-(// Use ratio of seg length
M=(N=Math.sqrt(O*O+L*L))/(N+E))),f=m-I*a*(1-M),A=m+I*a*M,// Smooth constraint between point and next point.
// Avoid exceeding extreme after smoothing.
k=HC(// cp0 of next segment
k=y+T*a*M,GC(w,y)),A=HC(A,GC(S,m)),k=GC(k,HC(w,y)),f=m-(I=(A=GC(A,HC(S,m)))-m)*E/N,// Smooth constraint between point and prev point.
// Avoid exceeding extreme after smoothing.
h=HC(h=y-(// Reclaculate cp1 based on the adjusted cp0 of next seg.
T=k-y)*E/N,GC(u,y)),f=HC(f,GC(c,m)),k=y+(// Adjust next cp0 again.
T=y-(h=GC(h,HC(u,y))))*N/E,A=m+(I=m-(f=GC(f,HC(c,m))))*N/E}e.bezierCurveTo(d,p,h,f,y,m),d=k,p=A}else e.lineTo(y,m)}u=y,c=m,v+=r}return g}var UC=function(){this.smooth=0,this.smoothConstraint=!0},YC=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return de(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new UC},t.prototype.buildPath=function(e,t){var n=t.points,i=0,o=n.length/2;// const result = getBoundingBox(points, shape.smoothConstraint);
if(t.connectNulls){// Must remove first and last null values avoid draw error in polygon
for(;o>0&&WC(n[2*o-2],n[2*o-1]);o--);for(;i<o&&WC(n[2*i],n[2*i+1]);i++);}for(;i<o;)i+=KC(e,n,i,o,o,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,o=this.path.data,r=ls.CMD,a="x"===t,l=[],s=0;s<o.length;){var u=void 0,c=void 0,d=void 0,p=void 0,h=void 0,f=void 0,v=void 0;switch(o[s++]){case r.M:n=o[s++],i=o[s++];break;case r.L:if(u=o[s++],c=o[s++],(v=a?(e-n)/(u-n):(e-i)/(c-i))<=1&&v>=0){var g=a?(c-i)*v+i:(u-n)*v+n;return a?[e,g]:[g,e]}n=u,i=c;break;case r.C:u=o[s++],c=o[s++],d=o[s++],p=o[s++],h=o[s++],f=o[s++];var y=a?Mi(n,u,d,h,e,l):Mi(i,c,p,f,e,l);if(y>0)for(var m=0;m<y;m++){var x=l[m];if(x<=1&&x>=0){g=a?Si(i,c,p,f,x):Si(n,u,d,h,x);return a?[e,g]:[g,e]}}n=h,i=f}}},t}(ks),XC=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t}(UC),qC=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return de(t,e),t.prototype.getDefaultShape=function(){return new XC},t.prototype.buildPath=function(e,t){var n=t.points,i=t.stackedOnPoints,o=0,r=n.length/2,a=t.smoothMonotone;if(t.connectNulls){// Must remove first and last null values avoid draw error in polygon
for(;r>0&&WC(n[2*r-2],n[2*r-1]);r--);for(;o<r&&WC(n[2*o],n[2*o+1]);o++);}for(;o<r;){var l=KC(e,n,o,r,r,1,t.smooth,a,t.connectNulls);KC(e,i,o+l-1,l,r,-1,t.stackedOnSmooth,a,t.connectNulls),o+=l+1,e.closePath()}},t}(ks);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function ZC(e,t,n,i,o){var r=e.getArea(),a=r.x,l=r.y,s=r.width,u=r.height,c=n.get(["lineStyle","width"])||2;// Expand the clip path a bit to avoid the border is clipped and looks thinner
a-=c/2,l-=c/2,s+=c,u+=c,// fix: https://github.com/apache/incubator-echarts/issues/11369
a=Math.floor(a),s=Math.round(s);var d=new Gs({shape:{x:a,y:l,width:s,height:u}});if(t){var p=e.getBaseAxis(),h=p.isHorizontal(),f=p.inverse;h?(f&&(d.shape.x+=s),d.shape.width=0):(f||(d.shape.y+=u),d.shape.height=0);var v=$e(o)?function(e){o(e,d)}:null;zd(d,{shape:{width:s,height:u,x:a,y:l}},n,null,i,v)}return d}function $C(e,t,n){var i=e.getArea(),o=Qr(i.r0,1),r=Qr(i.r,1),a=new Yc({shape:{cx:Qr(e.cx,1),cy:Qr(e.cy,1),r0:o,r:r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});// Avoid float number rounding error for symbol on the edge of axis extent.
t&&("angle"===e.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=o,zd(a,{shape:{endAngle:i.endAngle,r:r}},n));return a}function JC(e,t,n,i,o){return e?"polar"===e.type?$C(e,t,n):"cartesian2d"===e.type?ZC(e,t,n,i,o):null:null}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function QC(e,t){return e.type===t}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function eM(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function tM(e){for(var t=1/0,n=1/0,i=-1/0,o=-1/0,r=0;r<e.length;){var a=e[r++],l=e[r++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(l)||(n=Math.min(l,n),o=Math.max(l,o))}return[[t,n],[i,o]]}function nM(e,t){var n=tM(e),i=n[0],o=n[1],r=tM(t),a=r[0],l=r[1];// Get a max value from each corner of two boundings.
return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(o[0]-l[0]),Math.abs(o[1]-l[1]))}function iM(e){return et(e)?e:e?.5:0}function oM(e,t,n,i){var o=t.getBaseAxis(),r="x"===o.dim||"radius"===o.dim?0:1,a=[],l=0,s=[],u=[],c=[],d=[];if(i){for(l=0;l<e.length;l+=2)isNaN(e[l])||isNaN(e[l+1])||d.push(e[l],e[l+1]);e=d}for(l=0;l<e.length-2;l+=2)switch(c[0]=e[l+2],c[1]=e[l+3],u[0]=e[l],u[1]=e[l+1],a.push(u[0],u[1]),n){case"end":s[r]=c[r],s[1-r]=u[1-r],a.push(s[0],s[1]);break;case"middle":var p=(u[r]+c[r])/2,h=[];s[r]=h[r]=p,s[1-r]=u[1-r],h[1-r]=c[1-r],a.push(s[0],s[1]),a.push(h[0],h[1]);break;default:// default is start
s[r]=u[r],s[1-r]=c[1-r],a.push(s[0],s[1])}// Last points
return a.push(e[l++],e[l++]),a}
/**
       * Clip color stops to edge. Avoid creating too large gradients.
       * Which may lead to blurry when GPU acceleration is enabled. See #15680
       *
       * The stops has been sorted from small to large.
       */function rM(e,t){var n,i,o=[],r=e.length;function a(e,t,n){var i=e.coord;return{coord:n,color:function(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),o=Math.floor(i),r=Math.ceil(i),a=no(t[o]),l=no(t[r]),s=i-o,u=so([Ki(Zi(a[0],l[0],s)),Ki(Zi(a[1],l[1],s)),Ki(Zi(a[2],l[2],s)),Ui(Zi(a[3],l[3],s))],"rgba");return n?{color:u,leftIndex:o,rightIndex:r,value:i}:u}}((n-i)/(t.coord-i),[e.color,t.color])}}for(var l=0;l<r;l++){var s=e[l],u=s.coord;if(u<0)n=s;else{if(u>t){i?o.push(a(i,s,t)):n&&// If there are two stops and coord range is between these two stops
o.push(a(n,s,0),a(n,s,t));// All following stop will be out of range. So just ignore them.
break}n&&(o.push(a(n,s,0)),// Reset
n=null),o.push(s),i=s}}return o}function aM(e,t,n){var i=e.get("showAllSymbol"),o="auto"===i;if(!i||o){var r=n.getAxesByScale("ordinal")[0];if(r&&(!o||!function(e,t){// In most cases, line is monotonous on category axis, and the label size
// is close with each other. So we check the symbol size and some of the
// label size alone with the category axis to estimate whether all symbol
// can be shown without overlap.
var n=e.getExtent(),i=Math.abs(n[1]-n[0])/e.scale.count();isNaN(i)&&(i=0);for(// 0/0 is NaN.
// Sampling some points, max 5.
var o=t.count(),r=Math.max(1,Math.round(o/5)),a=0;a<o;a+=r)if(1.5*EC.getSymbolSize(t,a)[e.isHorizontal()?1:0]>i)return!1;return!0}(r,t)))// Note that category label interval strategy might bring some weird effect
// in some scenario: users may wonder why some of the symbols are not
// displayed. So we show all symbols as possible as we can.
{// Otherwise follow the label interval strategy on category axis.
var a=t.mapDimension(r.dim),l={};return Ge(r.getViewLabels(),(function(e){var t=r.scale.getRawOrdinalNumber(e.tickValue);l[t]=1})),function(e){return!l.hasOwnProperty(t.get(a,e))}}}}function lM(e,t){return isNaN(e)||isNaN(t)}function sM(e,t){return[e[2*t],e[2*t+1]]}function uM(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<pu.length;t++)if(e.get([pu[t],"endLabel","show"]))return!0;return!1}function cM(e,t,n,i){if(QC(t,"cartesian2d")){var o=i.getModel("endLabel"),r=o.get("valueAnimation"),a=i.getData(),l={lastFrameIndex:0},s=uM(i)?function(n,i){e._endLabelOnDuring(n,i,a,l,r,o,t)}:null,u=t.getBaseAxis().isHorizontal(),c=ZC(t,n,i,(function(){var t=e._endLabel;t&&n&&null!=l.originalX&&t.attr({x:l.originalX,y:l.originalY})}),s);// Expand clip shape to avoid clipping when line value exceeds axis
if(!i.get("clip",!0)){var d=c.shape,p=Math.max(d.width,d.height);u?(d.y-=p,d.height+=2*p):(d.x-=p,d.width+=2*p)}// Set to the final frame. To make sure label layout is right.
return s&&s(1,c),c}return $C(t,n,i)}var dM=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.init=function(){var e=new Kr,t=new FC;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,n){var i=this,o=e.coordinateSystem,r=this.group,a=e.getData(),l=e.getModel("lineStyle"),s=e.getModel("areaStyle"),u=a.getLayout("points")||[],c="polar"===o.type,d=this._coordSys,p=this._symbolDraw,h=this._polyline,f=this._polygon,v=this._lineGroup,g=e.get("animation"),y=!s.isEmpty(),m=s.get("origin"),x=VC(o,a,m),b=y&&function(e,t,n){if(!n.valueDim)return[];for(var i=t.count(),o=s_(2*i),r=0;r<i;r++){var a=jC(n,e,t,r);o[2*r]=a[0],o[2*r+1]=a[1]}return o}(o,a,x),_=e.get("showSymbol"),w=e.get("connectNulls"),S=_&&!c&&aM(e,a,o),C=this._data;C&&C.eachItemGraphicEl((function(e,t){e.__temp&&(r.remove(e),C.setItemGraphicEl(t,null))})),// Remove previous created symbols if showSymbol changed to false
_||p.remove(),r.add(v);// FIXME step not support polar
var M,T=!c&&e.get("step");o&&o.getArea&&e.get("clip",!0)&&(// Avoid float number rounding error for symbol on the edge of axis extent.
// See #7913 and `test/dataZoom-clip.html`.
null!=(M=o.getArea()).width?(M.x-=.1,M.y-=.1,M.width+=.2,M.height+=.2):M.r0&&(M.r0-=.5,M.r+=.5)),this._clipShapeForSymbol=M;var I=function(e,t,n){var i=e.getVisual("visualMeta");if(i&&i.length&&e.count()&&"cartesian2d"===t.type){for(var o,r,a=i.length-1;a>=0;a--){var l=e.getDimensionInfo(i[a].dimension);// Can only be x or y
if("x"===(o=l&&l.coordDim)||"y"===o){r=i[a];break}}if(r){// If the area to be rendered is bigger than area defined by LinearGradient,
// the canvas spec prescribes that the color of the first stop and the last
// stop should be used. But if two stops are added at offset 0, in effect
// browsers use the color of the second stop to render area outside
// LinearGradient. So we can only infinitesimally extend area defined in
// LinearGradient to render `outerColors`.
var s=t.getAxis(o),u=We(r.stops,(function(e){// offset will be calculated later.
return{coord:s.toGlobalCoord(s.dataToCoord(e.value)),color:e.color}})),c=u.length,d=r.outerColors.slice();// dataToCoord mapping may not be linear, but must be monotonic.
c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var p=rM(u,"x"===o?n.getWidth():n.getHeight()),h=p.length;if(!h&&c)// All stops are out of range. All will be the same color.
return u[0].coord<0?d[1]?d[1]:u[c-1].color:d[0]?d[0]:u[0].color;var f=p[0].coord-10,v=p[h-1].coord+10,g=v-f;// Arbitrary value: 10px
if(g<.001)return"transparent";Ge(p,(function(e){e.offset=(e.coord-f)/g})),p.push({// NOTE: inRangeStopLen may still be 0 if stoplen is zero.
offset:h?p[h-1].offset:.5,color:d[1]||"transparent"}),p.unshift({offset:h?p[0].offset:.5,color:d[0]||"transparent"});var y=new _d(0,0,0,0,p,!0);return y[o]=f,y[o+"2"]=v,y}}}(a,o,n)||a.getVisual("style")[a.getVisual("drawType")];// Initialization animation or coordinate system changed
if(h&&d.type===o.type&&T===this._step){y&&!f?// If areaStyle is added
f=this._newPolygon(u,b):f&&!y&&(// If areaStyle is removed
v.remove(f),f=this._polygon=null),// NOTE: Must update _endLabel before setClipPath.
c||this._initOrUpdateEndLabel(e,o,Vh(I));// Update clipPath
var k=v.getClipPath();if(k)zd(k,{shape:cM(this,o,!1,e).shape},e);else v.setClipPath(cM(this,o,!0,e));// Always update, or it is wrong in the case turning on legend
// because points are not changed.
_&&p.updateData(a,{isIgnore:S,clipShape:M,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),// In the case data zoom triggered refreshing frequently
// Data may not change if line has a category axis. So it should animate nothing.
eM(this._stackedOnPoints,b)&&eM(this._points,u)||(g?this._doUpdateAnimation(a,b,o,n,T,m,w):(// Not do it in update with animation
T&&(// TODO If stacked series is not step
u=oM(u,o,T,w),b&&(b=oM(b,o,T,w))),h.setShape({points:u}),f&&f.setShape({points:u,stackedOnPoints:b})))}else _&&p.updateData(a,{isIgnore:S,clipShape:M,disableAnimation:!0,getSymbolPoint:function(e){return[u[2*e],u[2*e+1]]}}),g&&this._initSymbolLabelAnimation(a,o,M),T&&(// TODO If stacked series is not step
u=oM(u,o,T,w),b&&(b=oM(b,o,T,w))),h=this._newPolyline(u),y?f=this._newPolygon(u,b):f&&(v.remove(f),f=this._polygon=null),// NOTE: Must update _endLabel before setClipPath.
c||this._initOrUpdateEndLabel(e,o,Vh(I)),v.setClipPath(cM(this,o,!0,e));var A=e.getModel("emphasis"),D=A.get("focus"),O=A.get("blurScope"),P=A.get("disabled");(h.useStyle(Fe(// Use color in lineStyle first
l.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"})),tc(h,e,"lineStyle"),h.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(h.getState("emphasis").style.lineWidth=+h.style.lineWidth+1);// Needs seriesIndex for focus
au(h).seriesIndex=e.seriesIndex,$u(h,D,O,P);var L=iM(e.get("smooth")),E=e.get("smoothMonotone");if(h.setShape({smooth:L,smoothMonotone:E,connectNulls:w}),f){var N=a.getCalculationInfo("stackedOnSeries"),R=0;f.useStyle(Fe(s.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),N&&(R=iM(N.get("smooth"))),f.setShape({smooth:L,stackedOnSmooth:R,smoothMonotone:E,connectNulls:w}),tc(f,e,"areaStyle"),// Needs seriesIndex for focus
au(f).seriesIndex=e.seriesIndex,$u(f,D,O,P)}var z=function(e){i._changePolyState(e)};a.eachItemGraphicEl((function(e){// Switch polyline / polygon state if element changed its state.
e&&(e.onHoverStateChange=z)})),this._polyline.onHoverStateChange=z,this._data=a,// Save the coordinate system for transition animation when data changed
this._coordSys=o,this._stackedOnPoints=b,this._points=u,this._step=T,this._valueOrigin=m,e.get("triggerLineEvent")&&(this.packEventData(e,h),f&&this.packEventData(e,f))},t.prototype.packEventData=function(e,t){au(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,n,i){var o=e.getData(),r=La(o,i);if(this._changePolyState("emphasis"),!(r instanceof Array)&&null!=r&&r>=0){var a=o.getLayout("points"),l=o.getItemGraphicEl(r);if(!l){// Create a temporary symbol if it is not exists
var s=a[2*r],u=a[2*r+1];if(isNaN(s)||isNaN(u))// Null data
return;// fix #11360: shouldn't draw symbol outside clipShapeForSymbol
if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s,u))return;var c=e.get("zlevel")||0,d=e.get("z")||0;(l=new EC(o,r)).x=s,l.y=u,l.setZ(c,d);// ensure label text of the temporary symbol is in front of line and area polygon
var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=c,p.z=d,p.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(r,l),// Stop scale animation
l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else// Highlight whole series
sy.prototype.highlight.call(this,e,t,n,i)},t.prototype.downplay=function(e,t,n,i){var o=e.getData(),r=La(o,i);if(this._changePolyState("normal"),null!=r&&r>=0){var a=o.getItemGraphicEl(r);a&&(a.__temp?(o.setItemGraphicEl(r,null),this.group.remove(a)):a.downplay())}else// FIXME
// can not downplay completely.
// Downplay whole series
sy.prototype.downplay.call(this,e,t,n,i)},t.prototype._changePolyState=function(e){var t=this._polygon;Pu(this._polyline,e),t&&Pu(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;// Remove previous created polyline
return t&&this._lineGroup.remove(t),t=new YC({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;// Remove previous created polygon
return n&&this._lineGroup.remove(n),n=new qC({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var i,o,r=t.getBaseAxis(),a=r.inverse;"cartesian2d"===t.type?(i=r.isHorizontal(),o=!1):"polar"===t.type&&(i="angle"===r.dim,o=!0);var l=e.hostModel,s=l.get("animationDuration");$e(s)&&(s=s(null));var u=l.get("animationDelay")||0,c=$e(u)?u(null):u;e.eachItemGraphicEl((function(e,r){var l=e;if(l){var d=[e.x,e.y],p=void 0,h=void 0,f=void 0;if(n)if(o){var v=n,g=t.pointToCoord(d);i?(p=v.startAngle,h=v.endAngle,f=-g[1]/180*Math.PI):(p=v.r0,h=v.r,f=g[0])}else{var y=n;i?(p=y.x,h=y.x+y.width,f=e.x):(p=y.y+y.height,h=y.y,f=e.y)}var m=h===p?0:(f-p)/(h-p);a&&(m=1-m);var x=$e(u)?u(r):s*m+c,b=l.getSymbolPath(),_=b.getTextContent();l.attr({scaleX:0,scaleY:0}),l.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:x}),b.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,n){var i=e.getModel("endLabel");if(uM(e)){var o=e.getData(),r=this._polyline,a=o.getLayout("points");if(!a)return r.removeTextContent(),void(this._endLabel=null);var l=this._endLabel;l||((l=this._endLabel=new ru({z2:200})).ignoreClip=!0,r.setTextContent(this._endLabel),r.disableLabelAnimation=!0);// Find last non-NaN data to display data
var s=function(e){for(var t=e.length/2;t>0&&lM(e[2*t-2],e[2*t-1]);t--);return t-1}(a);s>=0&&(xp(r,bp(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:s,defaultText:function(e,t,n){return null!=n?OC(o,n):DC(o,e)},enableTextSetter:!0},function(e,t){var n=t.getBaseAxis(),i=n.isHorizontal(),o=n.inverse,r=i?o?"right":"left":"center",a=i?"middle":o?"top":"bottom";return{normal:{align:e.get("align")||r,verticalAlign:e.get("verticalAlign")||a}}}(i,t)),r.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,i,o,r,a){var l=this._endLabel,s=this._polyline;if(l){// NOTE: Don't remove percent < 1. percent === 1 means the first frame during render.
// The label is not prepared at this time.
e<1&&null==i.originalX&&(i.originalX=l.x,i.originalY=l.y);var u=n.getLayout("points"),c=n.hostModel,d=c.get("connectNulls"),p=r.get("precision"),h=r.get("distance")||0,f=a.getBaseAxis(),v=f.isHorizontal(),g=f.inverse,y=t.shape,m=g?v?y.x:y.y+y.height:v?y.x+y.width:y.y,x=(v?h:0)*(g?-1:1),b=(v?0:-h)*(g?-1:1),_=v?"x":"y",w=function(e,t,n){for(var i,o,r=e.length/2,a="x"===n?0:1,l=0,s=-1,u=0;u<r;u++)if(o=e[2*u+a],!isNaN(o)&&!isNaN(e[2*u+1-a]))if(0!==u){if(i<=t&&o>=t||i>=t&&o<=t){s=u;break}l=u,i=o}else i=o;return{range:[l,s],t:(t-i)/(o-i)}}(u,m,_),S=w.range,C=S[1]-S[0],M=void 0;if(C>=1){// diff > 1 && connectNulls, which is on the null data.
if(C>1&&!d){var T=sM(u,S[0]);l.attr({x:T[0]+x,y:T[1]+b}),o&&(M=c.getRawValue(S[0]))}else{(T=s.getPointOn(m,_))&&l.attr({x:T[0]+x,y:T[1]+b});var I=c.getRawValue(S[0]),k=c.getRawValue(S[1]);o&&(M=Ga(n,p,I,k,w.t))}i.lastFrameIndex=S[0]}else{// If diff <= 0, which is the range is not found(Include NaN)
// Choose the first point or last point.
var A=1===e||i.lastFrameIndex>0?S[0]:0;T=sM(u,A);o&&(M=c.getRawValue(A)),l.attr({x:T[0]+x,y:T[1]+b})}o&&kp(l).setLabelText(M)}},
/**
         * @private
         */
// FIXME Two value axis
t.prototype._doUpdateAnimation=function(e,t,n,i,o,r,a){var l=this._polyline,s=this._polygon,u=e.hostModel,c=function(e,t,n,i,o,r,a,l){for(var s=function(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}(e,t),u=[],c=[],d=[],p=[],h=[],f=[],v=[],g=VC(o,t,a),y=e.getLayout("points")||[],m=t.getLayout("points")||[],x=0// let newIdList = newData.mapArray(newData.getId);
// let oldIdList = oldData.mapArray(oldData.getId);
// convertToIntId(newIdList, oldIdList);
// // FIXME One data ?
// diff = arrayDiff(oldIdList, newIdList);
;x<s.length;x++){var b=s[x],_=!0,w=void 0,S=void 0;// FIXME, animation is not so perfect when dataZoom window moves fast
// Which is in case remvoing or add more than one data in the tail or head
switch(b.cmd){case"=":w=2*b.idx,S=2*b.idx1;var C=y[w],M=y[w+1],T=m[S],I=m[S+1];// If previous data is NaN, use next point directly
(isNaN(C)||isNaN(M))&&(C=T,M=I),u.push(C,M),c.push(T,I),d.push(n[w],n[w+1]),p.push(i[S],i[S+1]),v.push(t.getRawIndex(b.idx1));break;case"+":var k=b.idx,A=g.dataDimsForPoint,D=o.dataToPoint([t.get(A[0],k),t.get(A[1],k)]);S=2*k,u.push(D[0],D[1]),c.push(m[S],m[S+1]);var O=jC(g,o,t,k);d.push(O[0],O[1]),p.push(i[S],i[S+1]),v.push(t.getRawIndex(k));break;case"-":_=!1}// Original indices
_&&(h.push(b),f.push(f.length))}// Diff result may be crossed if all items are changed
// Sort by data index
f.sort((function(e,t){return v[e]-v[t]}));var P=u.length,L=s_(P),E=s_(P),N=s_(P),R=s_(P),z=[];for(x=0;x<f.length;x++){var B=f[x],F=2*x,V=2*B;L[F]=u[V],L[F+1]=u[V+1],E[F]=c[V],E[F+1]=c[V+1],N[F]=d[V],N[F+1]=d[V+1],R[F]=p[V],R[F+1]=p[V+1],z[x]=h[B]}return{current:L,next:E,stackedOnCurrent:N,stackedOnNext:R,status:z}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),d=c.current,p=c.stackedOnCurrent,h=c.next,f=c.stackedOnNext;// Don't apply animation if diff is large.
// For better result and avoid memory explosion problems like
// https://github.com/apache/incubator-echarts/issues/12229
if(o&&(// TODO If stacked series is not step
d=oM(c.current,n,o,a),p=oM(c.stackedOnCurrent,n,o,a),h=oM(c.next,n,o,a),f=oM(c.stackedOnNext,n,o,a)),nM(d,h)>3e3||s&&nM(p,f)>3e3)return l.stopAnimation(),l.setShape({points:h}),void(s&&(s.stopAnimation(),s.setShape({points:h,stackedOnPoints:f})));l.shape.__points=c.current,l.shape.points=d;var v={shape:{points:h}};// Also animate the original points.
// If points reference is changed when turning into step line.
c.current!==d&&(v.shape.__points=c.next),// Stop previous animation.
l.stopAnimation(),Rd(l,v,u),s&&(s.setShape({// Reuse the points with polyline.
points:d,stackedOnPoints:p}),s.stopAnimation(),Rd(s,{shape:{stackedOnPoints:f}},u),// If use attr directly in updateProps.
l.shape.points!==s.shape.points&&(s.shape.points=l.shape.points));for(var g=[],y=c.status,m=0;m<y.length;m++){if("="===y[m].cmd){var x=e.getItemGraphicEl(y[m].idx1);x&&g.push({el:x,ptIdx:m})}}l.animators&&l.animators.length&&l.animators[0].during((function(){s&&s.dirtyShape();for(var e=l.shape.__points,t=0;t<g.length;t++){var n=g[t].el,i=2*g[t].ptIdx;n.x=e[i],n.y=e[i+1],n.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),// Remove temporary created elements when highlighting
n&&n.eachItemGraphicEl((function(e,i){e.__temp&&(t.remove(e),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(sy),pM=dM;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function hM(e,t){return{seriesType:e,plan:Qg(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,o=e.pipelineContext,r=t||o.large;if(i){var a=We(i.dimensions,(function(e){return n.mapDimension(e)})).slice(0,2),l=a.length,s=n.getCalculationInfo("stackResultDimension");Bb(n,a[0])&&(a[0]=s),Bb(n,a[1])&&(a[1]=s);var u=n.getStore(),c=n.getDimensionIndex(a[0]),d=n.getDimensionIndex(a[1]);return l&&{progress:function(e,t){for(var n=e.end-e.start,o=r&&s_(n*l),a=[],s=[],p=e.start,h=0;p<e.end;p++){var f=void 0;if(1===l){var v=u.get(c,p);// NOTE: Make sure the second parameter is null to use default strategy.
f=i.dataToPoint(v,null,s)}else a[0]=u.get(c,p),a[1]=u.get(d,p),// Let coordinate system to handle the NaN data.
f=i.dataToPoint(a,null,s);r?(o[h++]=f[0],o[h++]=f[1]):t.setItemLayout(p,f.slice())}r&&t.setLayout("points",o)}}}}}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var fM={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);// Return NaN if count is 0
return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)// Ignore NaN
t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);// NaN will cause illegal axis extent.
return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);// NaN will cause illegal axis extent.
return isFinite(t)?t:NaN},// TODO
// Median
nearest:function(e){return e[0]}},vM=function(e){return Math.round(e.length/2)};function gM(e){return{seriesType:e,// FIXME:TS never used, so comment it
// modifyOutputEnd: true,
reset:function(e,t,n){var i=e.getData(),o=e.get("sampling"),r=e.coordinateSystem,a=i.count();// Only cartesian2d support down sampling. Disable it when there is few data.
if(a>10&&"cartesian2d"===r.type&&o){var l=r.getBaseAxis(),s=r.getOtherAxis(l),u=l.getExtent(),c=n.getDevicePixelRatio(),d=Math.abs(u[1]-u[0])*(c||1),p=Math.round(a/d);if(isFinite(p)&&p>1){"lttb"===o&&e.setData(i.lttbDownSample(i.mapDimension(s.dim),1/p));var h=void 0;Je(o)?h=fM[o]:$e(o)&&(h=o),h&&// Only support sample the first dim mapped from value axis.
e.setData(i.downSample(i.mapDimension(s.dim),1/p,h,vM))}}}}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var yM=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.getInitialData=function(e,t){return Vb(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,n){var i=this.coordinateSystem;if(i&&i.clampData){// PENDING if clamp ?
var o=i.dataToPoint(i.clampData(e));if(n)Ge(i.getAxes(),(function(n,r){// If axis type is category, use tick coords instead
if("category"===n.type){var a=n.getTicksCoords(),l=i.clampData(e)[r];// The index of rightmost tick of markArea is 1 larger than x1/y1 index
!t||"x1"!==t[r]&&"y1"!==t[r]||(l+=1),l>a.length-1&&(l=a.length-1),l<0&&(l=0),a[l]&&(o[r]=n.toGlobalCoord(a[l].coord))}}));else{var r=this.getData(),a=r.getLayout("offset"),l=r.getLayout("size"),s=i.getBaseAxis().isHorizontal()?0:1;o[s]+=a+l/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={// zlevel: 0,
z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,// stack: null
// Cartesian coordinate system
// xAxisIndex: 0,
// yAxisIndex: 0,
barMinHeight:0,barMinAngle:0,// cursor: null,
large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Zg);Zg.registerClass(yM);var mM=yM,xM=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.getInitialData=function(){return Vb(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},
/**
         * @override
         */
t.prototype.getProgressive=function(){// Do not support progressive in normal mode.
return!!this.get("large")&&this.get("progressive")},
/**
         * @override
         */
t.prototype.getProgressiveThreshold=function(){// Do not support progressive in normal mode.
var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Xp(mM.defaultOption,{// If clipped
// Only available on cartesian2d
clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(mM),bM=xM,_M=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},wM=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return de(t,e),t.prototype.getDefaultShape=function(){return new _M},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,o=Math.max(t.r0||0,0),r=Math.max(t.r,0),a=.5*(r-o),l=o+a,s=t.startAngle,u=t.endAngle,c=t.clockwise,d=2*Math.PI,p=c?u-s<d:s-u<d;p||(// Normalize angles
s=u-(c?d:-d));var h=Math.cos(s),f=Math.sin(s),v=Math.cos(u),g=Math.sin(u);p?(e.moveTo(h*o+n,f*o+i),e.arc(h*l+n,f*l+i,a,-Math.PI+s,s,!c)):e.moveTo(h*r+n,f*r+i),e.arc(n,i,r,s,u,!c),e.arc(v*l+n,g*l+i,a,u-2*Math.PI,u-Math.PI,!c),0!==o&&e.arc(n,i,o,u,s,c)},t}(ks),SM=wM;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function CM(e,t,n){return t*Math.sin(e)*(n?-1:1)}function MM(e,t,n){return t*Math.cos(e)*(n?1:-1)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var TM=Math.max,IM=Math.min;var kM=/** @class */function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return de(t,e),t.prototype.render=function(e,t,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");"cartesian2d"!==o&&"polar"!==o||(// Clear previously rendered progressive elements.
this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),// incremental also need to clip, otherwise might be overlow.
// But must not set clip in each frame, otherwise all of the children will be marked redraw.
this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){// Reset
this._progressiveEls=[],// Do not support progressive in normal mode.
this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){fp(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,i){var o,r=this.group,a=e.getData(),l=this._data,s=e.coordinateSystem,u=s.getBaseAxis();"cartesian2d"===s.type?o=u.isHorizontal():"polar"===s.type&&(o="angle"===u.dim);var c=e.isAnimationEnabled()?e:null,d=function(e,t){var n=e.get("realtimeSort",!0),i=t.getBaseAxis();if(n&&"category"===i.type&&"cartesian2d"===t.type)return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}(e,s);d&&this._enableRealtimeSort(d,a,n);var p=e.get("clip",!0)||d,h=function(e,t){var n=e.getArea&&e.getArea();if(QC(e,"cartesian2d")){var i=e.getBaseAxis();// When boundaryGap is false or using time axis. bar may exceed the grid.
// We should not clip this part.
// See test/bar2.html
if("category"!==i.type||!i.onBand){var o=t.getLayout("bandWidth");i.isHorizontal()?(n.x-=o,n.width+=2*o):(n.y-=o,n.height+=2*o)}}return n}(s,a);// If there is clipPath created in large mode. Remove it.
r.removeClipPath();// We don't use clipPath in normal mode because we needs a perfect animation
// And don't want the label are clipped.
var f=e.get("roundCap",!0),v=e.get("showBackground",!0),g=e.getModel("backgroundStyle"),y=g.get("borderRadius")||0,m=[],x=this._backgroundEls,b=i&&i.isInitSort,_=i&&"changeAxisOrder"===i.type;function w(e){var t=RM[s.type](a,e),n=function(e,t,n){var i="polar"===e.type?Yc:Gs;return new i({shape:GM(t,n,e),silent:!0,z2:0})}(s,o,t);return n.useStyle(g.getItemStyle()),// Only cartesian2d support borderRadius.
"cartesian2d"===s.type&&n.setShape("r",y),m[e]=n,n}a.diff(l).add((function(t){var n=a.getItemModel(t),i=RM[s.type](a,t,n);// If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in "axisProxy".
if(v&&w(t),a.hasValue(t)&&NM[s.type](i)){var l=!1;p&&(// Clip will modify the layout params.
// And return a boolean to determine if the shape are fully clipped.
l=AM[s.type](h,i));var g=DM[s.type](e,a,t,i,o,c,u.model,!1,f);d&&(
/**
               * Force label animation because even if the element is
               * ignored because it's clipped, it may not be clipped after
               * changing order. Then, if not using forceLabelAnimation,
               * the label animation was never started, in which case,
               * the label will be the final value and doesn't have label
               * animation.
               */
g.forceLabelAnimation=!0),BM(g,a,t,n,i,e,o,"polar"===s.type),b?g.attr({shape:i}):d?OM(d,c,g,i,t,o,!1,!1):zd(g,{shape:i},e,t),a.setItemGraphicEl(t,g),r.add(g),g.ignore=l}})).update((function(t,n){var i=a.getItemModel(t),S=RM[s.type](a,t,i);if(v){var C=void 0;0===x.length?C=w(n):((C=x[n]).useStyle(g.getItemStyle()),// Only cartesian2d support borderRadius.
"cartesian2d"===s.type&&C.setShape("r",y),m[t]=C);var M=RM[s.type](a,t);Rd(C,{shape:GM(o,M,s)},c,t)}var T=l.getItemGraphicEl(n);if(a.hasValue(t)&&NM[s.type](S)){var I=!1;if(p&&(I=AM[s.type](h,S))&&r.remove(T),T?Hd(T):T=DM[s.type](e,a,t,S,o,c,u.model,!!T,f),d&&(T.forceLabelAnimation=!0),_){var k=T.getTextContent();if(k){var A=kp(k);null!=A.prevValue&&(
/**
                   * Set preValue to be value so that no new label
                   * should be started, otherwise, it will take a full
                   * `animationDurationUpdate` time to finish the
                   * animation, which is not expected.
                   */
A.prevValue=A.value)}}// Not change anything if only order changed.
// Especially not change label.
else BM(T,a,t,i,S,e,o,"polar"===s.type);b?T.attr({shape:S}):d?OM(d,c,T,S,t,o,!0,_):Rd(T,{shape:S},e,t,null),a.setItemGraphicEl(t,T),T.ignore=I,r.add(T)}else r.remove(T)})).remove((function(t){var n=l.getItemGraphicEl(t);n&&jd(n,e,t)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Kr);S.removeAll();for(var C=0;C<m.length;++C)S.add(m[C]);r.add(S),this._backgroundEls=m,this._data=a},t.prototype._renderLarge=function(e,t,n){this._clear(),jM(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),jM(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){// Use clipPath in large mode.
var t=e.get("clip",!0)&&JC(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var i=this;// If no data in the first frame, wait for data to initSort
if(t.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var r=function(e){var n=t.getItemGraphicEl(e),i=n&&n.shape;return i&&// The result should be consistent with the initial sort by data value.
// Do not support the case that both positive and negative exist.
Math.abs(o.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(t,r,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var i=[];return e.each(e.mapDimension(t.dim),(function(e,t){var o=n(t);o=null==o?NaN:o,i.push({dataIndex:t,mappedValue:o,ordinalNumber:e})})),i.sort((function(e,t){// If NaN, it will be treated as min val.
return t.mappedValue-e.mappedValue})),{ordinalNumbers:We(i,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var i=n.scale,o=e.mapDimension(n.dim),r=Number.MAX_VALUE,a=0,l=i.getOrdinalMeta().categories.length;a<l;++a){var s=e.rawIndexOf(o,i.getRawOrdinalNumber(a)),u=s<0?Number.MIN_VALUE:t(e.indexOfRawIndex(s));if(u>r)return!0;r=u}return!1},
/*
         * Consider the case when A and B changed order, whose representing
         * bars are both out of sight, we don't wish to trigger reorder action
         * as long as the order in the view doesn't change.
         */
t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,i=n.getExtent(),o=Math.max(0,i[0]),r=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=r;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,i){if(this._isOrderChangedWithinSameData(e,t,n)){var o=this._dataSort(e,n,t);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,t,n){var i=t.baseAxis,o=this._dataSort(e,i,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){jd(t,e,au(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(sy),AM={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;// Needs positive width and height
n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var o=e.x+e.width,r=e.y+e.height,a=TM(t.x,e.x),l=IM(t.x+t.width,o),s=TM(t.y,e.y),u=IM(t.y+t.height,r),c=l<a,d=u<s;// When xClipped or yClipped, the element will be marked as `ignore`.
// But we should also place the element at the edge of the coord sys bounding rect.
// Because if data changed and the bar shows again, its transition animation
// will begin at this place.
return t.x=c&&a>o?l:a,t.y=d&&s>r?u:s,t.width=c?0:l-a,t.height=d?0:u-s,// Reverse back
n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),c||d},polar:function(e,t){var n=t.r0<=t.r?1:-1;// Make sure r is larger than r0
if(n<0){var i=t.r;t.r=t.r0,t.r0=i}var o=IM(t.r,e.r),r=TM(t.r0,e.r0);t.r=o,t.r0=r;var a=o-r<0;// Reverse back
if(n<0){i=t.r;t.r=t.r0,t.r0=i}return a}},DM={cartesian2d:function(e,t,n,i,o,r,a,l,s){var u=new Gs({shape:Be({},i),z2:1});(u.__dataIndex=n,u.name="item",r)&&(u.shape[o?"height":"width"]=0);return u},polar:function(e,t,n,i,o,r,a,l,s){var u=!o&&s?SM:Yc,c=new u({shape:i,z2:1});c.name="item";var d=zM(o);// Animation
if(c.calculateTextPosition=
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e,t){var n=(t=t||{}).isRoundCap;return function(t,i,o){var r=i.position;if(!r||r instanceof Array)return Pr(t,i,o);var a=e(r),l=null!=i.distance?i.distance:5,s=this.shape,u=s.cx,c=s.cy,d=s.r,p=s.r0,h=(d+p)/2,f=s.startAngle,v=s.endAngle,g=(f+v)/2,y=n?Math.abs(d-p)/2:0,m=Math.cos,x=Math.sin,b=u+d*m(f),_=c+d*x(f),w="left",S="top";switch(a){case"startArc":b=u+(p-l)*m(g),_=c+(p-l)*x(g),w="center",S="top";break;case"insideStartArc":b=u+(p+l)*m(g),_=c+(p+l)*x(g),w="center",S="bottom";break;case"startAngle":b=u+h*m(f)+CM(f,l+y,!1),_=c+h*x(f)+MM(f,l+y,!1),w="right",S="middle";break;case"insideStartAngle":b=u+h*m(f)+CM(f,-l+y,!1),_=c+h*x(f)+MM(f,-l+y,!1),w="left",S="middle";break;case"middle":b=u+h*m(g),_=c+h*x(g),w="center",S="middle";break;case"endArc":b=u+(d+l)*m(g),_=c+(d+l)*x(g),w="center",S="bottom";break;case"insideEndArc":b=u+(d-l)*m(g),_=c+(d-l)*x(g),w="center",S="top";break;case"endAngle":b=u+h*m(v)+CM(v,l+y,!0),_=c+h*x(v)+MM(v,l+y,!0),w="left",S="middle";break;case"insideEndAngle":b=u+h*m(v)+CM(v,-l+y,!0),_=c+h*x(v)+MM(v,-l+y,!0),w="right",S="middle";break;default:return Pr(t,i,o)}return(t=t||{}).x=b,t.y=_,t.align=w,t.verticalAlign=S,t}}(d,{isRoundCap:u===SM}),r){var p=o?"r":"endAngle",h={};c.shape[p]=o?0:i.startAngle,h[p]=i[p],(l?Rd:zd)(c,{shape:h},r)}return c}};function OM(e,t,n,i,o,r,a,l){var s,u;r?(u={x:i.x,width:i.width},s={y:i.y,height:i.height}):(u={y:i.y,height:i.height},s={x:i.x,width:i.width}),l||// Keep the original growth animation if only axis order changed.
// Not start a new animation.
(a?Rd:zd)(n,{shape:s},t,o,null),(a?Rd:zd)(n,{shape:u},t?e.baseAxis.model:null,o)}function PM(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var LM=["x","y","width","height"],EM=["cx","cy","r","startAngle","endAngle"],NM={cartesian2d:function(e){return!PM(e,LM)},polar:function(e){return!PM(e,EM)}},RM={// itemModel is only used to get borderWidth, which is not needed
// when calculating bar background layout.
cartesian2d:function(e,t,n){var i=e.getItemLayout(t),o=n?// In case width or height are too small.
function(e,t){// Has no border.
var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=e.get(["itemStyle","borderWidth"])||0,o=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),r=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);// width or height may be NaN for empty data
return Math.min(i,o,r)}(n,i):0,r=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+r*o/2,y:i.y+a*o/2,width:i.width-r*o,height:i.height-a*o}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function zM(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function BM(e,t,n,i,o,r,a,l){var s=t.getItemVisual(n,"style");l||e.setShape("r",i.get(["itemStyle","borderRadius"])||0),e.useStyle(s);var u=i.getShallow("cursor");u&&e.attr("cursor",u);var c=l?a?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":a?o.height>=0?"bottom":"top":o.width>=0?"right":"left",d=bp(i);xp(e,d,{labelFetcher:r,labelDataIndex:n,defaultText:DC(r.getData(),n),inheritColor:s.fill,defaultOpacity:s.opacity,defaultOutsidePosition:c});var p=e.getTextContent();if(l&&p){var h=i.get(["label","position"]);e.textConfig.inside="middle"===h||null,function(e,t,n,i){if(et(i))// user-set rotation
e.setTextConfig({rotation:i});else if(Ze(t))// user-set position, use 0 as auto rotation
e.setTextConfig({rotation:0});else{var o,r=e.shape,a=r.clockwise?r.startAngle:r.endAngle,l=r.clockwise?r.endAngle:r.startAngle,s=(a+l)/2,u=n(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=s;break;case"startAngle":case"insideStartAngle":o=a;break;case"endAngle":case"insideEndAngle":o=l;break;default:return void e.setTextConfig({rotation:0})}var c=1.5*Math.PI-o;
/**
         * TODO: labels with rotate > Math.PI / 2 should be rotate another
         * half round flipped to increase readability. However, only middle
         * position supports this for now, because in other positions, the
         * anchor point is not at the center of the text, so the positions
         * after rotating is not as expected.
         */"middle"===u&&c>Math.PI/2&&c<1.5*Math.PI&&(c-=Math.PI),e.setTextConfig({rotation:c})}}(e,"outside"===h?c:h,zM(a),i.get(["label","rotate"]))}Ap(p,d,r.getRawValue(n),(function(e){return OC(t,e)}));var f=i.getModel(["emphasis"]);$u(e,f.get("focus"),f.get("blurScope"),f.get("disabled")),tc(e,i),function(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(o)&&(e.style.fill="none",e.style.stroke="none",Ge(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}var FM=function(){},VM=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return de(t,e),t.prototype.getDefaultShape=function(){return new FM},t.prototype.buildPath=function(e,t){for(// Drawing lines is more efficient than drawing
// a whole line or drawing rects.
var n=t.points,i=this.baseDimIdx,o=1-this.baseDimIdx,r=[],a=[],l=this.barWidth,s=0;s<n.length;s+=3)a[i]=l,a[o]=n[s+2],r[i]=n[s+i],r[o]=n[s+o],e.rect(r[0],r[1],a[0],a[1])},t}(ks);function jM(e,t,n,i){// TODO support polar
var o=e.getData(),r=o.getLayout("valueAxisHorizontal")?1:0,a=o.getLayout("largeDataIndices"),l=o.getLayout("size"),s=e.getModel("backgroundStyle"),u=o.getLayout("largeBackgroundPoints");if(u){var c=new VM({shape:{points:u},incremental:!!i,silent:!0,z2:0});c.baseDimIdx=r,c.largeDataIndices=a,c.barWidth=l,c.useStyle(s.getItemStyle()),t.add(c),n&&n.push(c)}var d=new VM({shape:{points:o.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=r,d.largeDataIndices=a,d.barWidth=l,t.add(d),d.useStyle(o.getVisual("style")),// Enable tooltip and user mouse/touch event handlers.
au(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",HM),d.on("mousemove",HM)),n&&n.push(d)}// Use throttle to avoid frequently traverse to find dataIndex.
var HM=py((function(e){var t=function(e,t,n){for(var i=e.baseDimIdx,o=1-i,r=e.shape.points,a=e.largeDataIndices,l=[],s=[],u=e.barWidth,c=0,d=r.length/3;c<d;c++){var p=3*c;if(s[i]=u,s[o]=r[p+2],l[i]=r[p+i],l[o]=r[p+o],s[o]<0&&(l[o]+=s[o],s[o]=-s[o]),t>=l[0]&&t<=l[0]+s[0]&&n>=l[1]&&n<=l[1]+s[1])return a[c]}return-1}(this,e.offsetX,e.offsetY);au(this).dataIndex=t>=0?t:null}),30,!1);function GM(e,t,n){if(QC(n,"cartesian2d")){var i=t,o=n.getArea();return{x:e?i.x:o.x,y:e?o.y:i.y,width:e?i.width:o.width,height:e?o.height:i.height}}var r=t;return{cx:(o=n.getArea()).cx,cy:o.cy,r0:e?o.r0:r.r0,r:e?o.r:r.r,startAngle:e?r.startAngle:0,endAngle:e?r.endAngle:2*Math.PI}}var WM=kM;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var KM=2*Math.PI,UM=Math.PI/180;function YM(e,t){return Yh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function XM(e,t){var n=YM(e,t),i=e.get("center"),o=e.get("radius");// center can be string or number when coordinateSystem is specified
Ze(o)||(o=[0,o]);var r,a,l=Jr(n.width,t.getWidth()),s=Jr(n.height,t.getHeight()),u=Math.min(l,s),c=Jr(o[0],u/2),d=Jr(o[1],u/2),p=e.coordinateSystem;if(p){// percentage is not allowed when coordinate system is specified
var h=p.dataToPoint(i);r=h[0]||0,a=h[1]||0}else Ze(i)||(i=[i,i]),r=Jr(i[0],l)+n.x,a=Jr(i[1],s)+n.y;return{cx:r,cy:a,r0:c,r:d}}function qM(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),i=t.mapDimension("value"),o=YM(e,n),r=XM(e,n),a=r.cx,l=r.cy,s=r.r,u=r.r0,c=-e.get("startAngle")*UM,d=e.get("minAngle")*UM,p=0;t.each(i,(function(e){!isNaN(e)&&p++}));var h=t.getSum(i),f=Math.PI/(h||p)*2,v=e.get("clockwise"),g=e.get("roseType"),y=e.get("stillShowZeroSum"),m=t.getDataExtent(i);// Sum may be 0
m[0]=0;// In the case some sector angle is smaller than minAngle
var x=KM,b=0,_=c,w=v?1:-1;// Some sector is constrained by minAngle
// Rest sectors needs recalculate angle
if(t.setLayout({viewRect:o,r:s}),t.each(i,(function(e,n){var i;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:a,cy:l,r0:u,r:g?NaN:s});else{(// FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？
i="area"!==g?0===h&&y?f:e*f:KM/p)<d?(i=d,x-=d):b+=e;var o=_+w*i;t.setItemLayout(n,{angle:i,startAngle:_,endAngle:o,clockwise:v,cx:a,cy:l,r0:u,r:g?$r(e,m,[u,s]):s}),_=o}})),x<KM&&p)// Average the angle if rest angle is not enough after all angles is
// Constrained by minAngle
if(x<=.001){var S=KM/p;t.each(i,(function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n);i.angle=S,i.startAngle=c+w*n*S,i.endAngle=c+w*(n+1)*S}}))}else f=x/b,_=c,t.each(i,(function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n),o=i.angle===d?d:e*f;i.startAngle=_,i.endAngle=_+w*o,_+=w*o}}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function ZM(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var i=e.getData();i.filterSelf((function(e){// If in any legend component the status is not selected.
for(var t=i.getName(e),o=0;o<n.length;o++)// @ts-ignore FIXME: LegendModel
if(!n[o].isSelected(t))return!1;return!0}))}}}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var $M=Math.PI/180;function JM(e,t,n,i,o,r,a,l,s,u){if(!(e.length<2)){for(var c=e.length,d=0;d<c;d++)if("outer"===e[d].position&&"labelLine"===e[d].labelAlignTo){var p=e[d].label.x-u;e[d].linePoints[1][0]+=p,e[d].label.x=u}Jw(e,s,s+a)&&// Adjust X based on the shifted y. Make tight labels aligned on an ellipse curve.
function(e){for(// Extremes of
var r={list:[],maxY:0},a={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],u=s.label.y>n?a:r,c=Math.abs(s.label.y-n);if(c>=u.maxY){var d=s.label.x-t-s.len2*o,p=i+s.len,f=Math.abs(d)<p?Math.sqrt(c*c/(1-d*d/p/p)):p;// horizontal r is always same with original r because x is not changed.
u.rB=f,u.maxY=c}u.list.push(s)}h(r),h(a)}(e)}function h(e){for(var r=e.rB,a=r*r,l=0;l<e.list.length;l++){var s=e.list[l],u=Math.abs(s.label.y-n),c=i+s.len,d=c*c,p=Math.sqrt((1-Math.abs(u*u/a))*d),h=t+(p+s.len2)*o,f=h-s.label.x;// text x is changed, so need to recalculate width.
QM(s,s.targetTextWidth-f*o,!0),s.label.x=h}}}
/**
       * Set max width of each label, and then wrap each label to the max width.
       *
       * @param layout label layout
       * @param availableWidth max width for the label to display
       * @param forceRecalculate recaculate the text layout even if the current width
       * is smaller than `availableWidth`. This is useful when the text was previously
       * wrapped by calling `constrainTextWidth` but now `availableWidth` changed, in
       * which case, previous wrapping should be redo.
       */
function QM(e,t,n){if(void 0===n&&(n=!1),null==e.labelStyleWidth){var i=e.label,o=i.style,r=e.rect,a=o.backgroundColor,l=o.padding,s=l?l[1]+l[3]:0,u=o.overflow,c=r.width+(a?0:s);if(t<c||n){var d=r.height;if(u&&u.match("break")){// Temporarily set background to be null to calculate
// the bounding box without background.
i.setStyle("backgroundColor",null),// Set constraining width
i.setStyle("width",t-s);// This is the real bounding box of the text without padding.
var p=i.getBoundingRect();i.setStyle("width",Math.ceil(p.width)),i.setStyle("backgroundColor",a)}else{var h=t-s,f=t<c?h:// Current available width is enough, but the text may have
// already been wrapped with a smaller available width.
n?h>e.unconstrainedWidth?null:h:// Current available width is enough, so no need to
// constrain.
null;i.setStyle("width",f)}var v=i.getBoundingRect();r.width=v.width;var g=(i.style.margin||0)+2.1;r.height=v.height+g,r.y-=(r.height-d)/2}}}function eT(e){// Not change x for center label
return"center"===e.position}function tT(e){var t,n,i=e.getData(),o=[],r=!1,a=(e.get("minShowLabelAngle")||0)*$M,l=i.getLayout("viewRect"),s=i.getLayout("r"),u=l.width,c=l.x,d=l.y,p=l.height;function h(e){e.ignore=!0}i.each((function(e){var l=i.getItemGraphicEl(e),d=l.shape,p=l.getTextContent(),f=l.getTextGuideLine(),v=i.getItemModel(e),g=v.getModel("label"),y=g.get("position")||v.get(["emphasis","label","position"]),m=g.get("distanceToLabelLine"),x=g.get("alignTo"),b=Jr(g.get("edgeDistance"),u),_=g.get("bleedMargin"),w=v.getModel("labelLine"),S=w.get("length");S=Jr(S,u);var C=w.get("length2");if(C=Jr(C,u),Math.abs(d.endAngle-d.startAngle)<a)return Ge(p.states,h),p.ignore=!0,void(f&&(Ge(f.states,h),f.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(p)){var M,T,I,k,A=(d.startAngle+d.endAngle)/2,D=Math.cos(A),O=Math.sin(A);t=d.cx,n=d.cy;var P="inside"===y||"inner"===y;if("center"===y)M=d.cx,T=d.cy,k="center";else{var L=(P?(d.r+d.r0)/2*D:d.r*D)+t,E=(P?(d.r+d.r0)/2*O:d.r*O)+n;if(M=L+3*D,T=E+3*O,!P){// For roseType
var N=L+D*(S+s-d.r),R=E+O*(S+s-d.r),z=N+(D<0?-1:1)*C;// Adjust textX because text align of edge is opposite
M="edge"===x?D<0?c+b:c+u-b:z+(D<0?-m:m),T=R,I=[[L,E],[N,R],[z,R]]}k=P?"center":"edge"===x?D>0?"right":"left":D>0?"left":"right"}var B=Math.PI,F=0,V=g.get("rotate");if(et(V))F=V*(B/180);else if("center"===y)F=0;else if("radial"===V||!0===V){F=D<0?-A+B:-A}else if("tangential"===V&&"outside"!==y&&"outer"!==y){var j=Math.atan2(D,O);j<0&&(j=2*B+j),O>0&&(j=B+j),F=j-B}// Not sectorShape the inside label
if(r=!!F,p.x=M,p.y=T,p.rotation=F,p.setStyle({verticalAlign:"middle"}),P){p.setStyle({align:k});var H=p.states.select;H&&(H.x+=p.x,H.y+=p.y)}else{var G=p.getBoundingRect().clone();G.applyTransform(p.getComputedTransform());// Text has a default 1px stroke. Exclude this.
var W=(p.style.margin||0)+2.1;G.y-=W/2,G.height+=W,o.push({label:p,labelLine:f,position:y,len:S,len2:C,minTurnAngle:w.get("minTurnAngle"),maxSurfaceAngle:w.get("maxSurfaceAngle"),surfaceNormal:new An(D,O),linePoints:I,textAlign:k,labelDistance:m,labelAlignTo:x,edgeDistance:b,bleedMargin:_,rect:G,unconstrainedWidth:G.width,labelStyleWidth:p.style.width})}l.setTextConfig({inside:P})}})),!r&&e.get("avoidLabelOverlap")&&function(e,t,n,i,o,r,a,l){for(var s=[],u=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,p=0;p<e.length;p++){var h=e[p].label;eT(e[p])||(h.x<t?(c=Math.min(c,h.x),s.push(e[p])):(d=Math.max(d,h.x),u.push(e[p])))}for(p=0;p<e.length;p++)if(!eT(g=e[p])&&g.linePoints){if(null!=g.labelStyleWidth)continue;h=g.label;var f=g.linePoints,v=void 0;v="edge"===g.labelAlignTo?h.x<t?f[2][0]-g.labelDistance-a-g.edgeDistance:a+o-g.edgeDistance-f[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?h.x<t?c-a-g.bleedMargin:a+o-d-g.bleedMargin:h.x<t?h.x-a-g.bleedMargin:a+o-h.x-g.bleedMargin,g.targetTextWidth=v,QM(g,v)}for(JM(u,t,n,i,1,0,r,0,l,d),JM(s,t,n,i,-1,0,r,0,l,c),p=0;p<e.length;p++){var g;if(!eT(g=e[p])&&g.linePoints){h=g.label,f=g.linePoints;var y="edge"===g.labelAlignTo,m=h.style.padding,x=m?m[1]+m[3]:0,b=h.style.backgroundColor?0:x,_=g.rect.width+b,w=f[1][0]-f[2][0];y?h.x<t?f[2][0]=a+g.edgeDistance+_+g.labelDistance:f[2][0]=a+o-g.edgeDistance-_-g.labelDistance:(h.x<t?f[2][0]=h.x+g.labelDistance:f[2][0]=h.x-g.labelDistance,f[1][0]=f[2][0]+w),f[1][1]=f[2][1]=h.y}}}(o,t,n,s,u,p,c,d);for(var f=0;f<o.length;f++){var v=o[f],g=v.label,y=v.labelLine,m=isNaN(g.x)||isNaN(g.y);if(g){g.setStyle({align:v.textAlign}),m&&(Ge(g.states,h),g.ignore=!0);var x=g.states.select;x&&(x.x+=g.x,x.y+=g.y)}if(y){var b=v.linePoints;m||!b?(Ge(y.states,h),y.ignore=!0):(Ww(b,v.minTurnAngle),Kw(b,v.surfaceNormal,v.maxSurfaceAngle),y.setShape({points:b}),// Set the anchor to the midpoint of sector
g.__hostTarget.textGuideLineConfig={anchor:new An(b[0][0],b[0][1])})}}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function nT(e,t,n){var i=e.get("borderRadius");if(null==i)return n?{cornerRadius:0}:null;Ze(i)||(i=[i,i,i,i]);var o=Math.abs(t.r||0-t.r0||0);return{cornerRadius:We(i,(function(e){return Or(e,o)}))}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Piece of pie including Sector, Label, LabelLine
       */var iT=/** @class */function(e){function t(t,n,i){var o=e.call(this)||this;o.z2=2;var r=new ru;return o.setTextContent(r),o.updateData(t,n,i,!0),o}return de(t,e),t.prototype.updateData=function(e,t,n,i){var o=this,r=e.hostModel,a=e.getItemModel(t),l=a.getModel("emphasis"),s=e.getItemLayout(t),u=Be(nT(a.getModel("itemStyle"),s,!0),s);// Ignore NaN data.
if(isNaN(u.startAngle))// Use NaN shape to avoid drawing shape.
o.setShape(u);else{if(i){o.setShape(u);var c=r.getShallow("animationType");r.ecModel.ssr?(// Use scale animation in SSR mode(opacity?)
// Because CSS SVG animation doesn't support very customized shape animation.
zd(o,{scaleX:0,scaleY:0},r,{dataIndex:t,isFrom:!0}),o.originX=u.cx,o.originY=u.cy):"scale"===c?(o.shape.r=s.r0,zd(o,{shape:{r:s.r}},r,t)):null!=n?(o.setShape({startAngle:n,endAngle:n}),zd(o,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},r,t)):(o.shape.endAngle=s.startAngle,Rd(o,{shape:{endAngle:s.endAngle}},r,t))}else Hd(o),// Transition animation from the old shape
Rd(o,{shape:u},r,t);o.useStyle(e.getItemVisual(t,"style")),tc(o,a);var d=(s.startAngle+s.endAngle)/2,p=r.get("selectedOffset"),h=Math.cos(d)*p,f=Math.sin(d)*p,v=a.getShallow("cursor");v&&o.attr("cursor",v),this._updateLabel(r,e,t),o.ensureState("emphasis").shape=Be({r:s.r+(l.get("scale")&&l.get("scaleSize")||0)},nT(l.getModel("itemStyle"),s)),Be(o.ensureState("select"),{x:h,y:f,shape:nT(a.getModel(["select","itemStyle"]),s)}),Be(o.ensureState("blur"),{shape:nT(a.getModel(["blur","itemStyle"]),s)});var g=o.getTextGuideLine(),y=o.getTextContent();g&&Be(g.ensureState("select"),{x:h,y:f}),// TODO: needs dx, dy in zrender?
Be(y.ensureState("select"),{x:h,y:f}),$u(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))}},t.prototype._updateLabel=function(e,t,n){var i=this,o=t.getItemModel(n),r=o.getModel("labelLine"),a=t.getItemVisual(n,"style"),l=a&&a.fill,s=a&&a.opacity;xp(i,bp(o),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:l,defaultOpacity:s,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var u=i.getTextContent();// Set textConfig on sector.
i.setTextConfig({// reset position, rotation
position:null,rotation:null}),// Make sure update style on labelText after setLabelStyle.
// Because setLabelStyle will replace a new style on it.
u.attr({z2:10});var c=e.get(["label","position"]);if("outside"!==c&&"outer"!==c)i.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new id,this.setTextGuideLine(d)),// Default use item visual color
Xw(this,qw(o),{stroke:l,opacity:ut(r.get(["lineStyle","opacity"]),s,1)})}},t}(Yc),oT=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return de(t,e),t.prototype.render=function(e,t,n,i){var o,r=e.getData(),a=this._data,l=this.group;// First render
if(!a&&r.count()>0){for(var s=r.getItemLayout(0),u=1;isNaN(s&&s.startAngle)&&u<r.count();++u)s=r.getItemLayout(u);s&&(o=s.startAngle)}// remove empty-circle if it exists
// when all data are filtered, show lightgray empty circle
if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===r.count()&&e.get("showEmptyCircle")){var c=new Yc({shape:XM(e,n)});c.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=c,l.add(c)}r.diff(a).add((function(e){var t=new iT(r,e,o);r.setItemGraphicEl(e,t),l.add(t)})).update((function(e,t){var n=a.getItemGraphicEl(t);n.updateData(r,e,o),n.off("click"),l.add(n),r.setItemGraphicEl(e,n)})).remove((function(t){jd(a.getItemGraphicEl(t),e,t)})).execute(),tT(e),// Always use initial animation.
"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,r=Math.sqrt(i*i+o*o);return r<=n.r&&r>=n.r0}},t.type="pie",t}(sy),rT=oT;// Pie view
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * [Usage]:
       * (1)
       * createListSimply(seriesModel, ['value']);
       * (2)
       * createListSimply(seriesModel, {
       *     coordDimensions: ['value'],
       *     dimensionsCount: 5
       * });
       */
function aT(e,t,n){t=Ze(t)&&{coordDimensions:t}||Be({encodeDefine:e.getEncode()},t);var i=e.getSource(),o=Pb(i,t).dimensions,r=new Ob(o,e);return r.initData(i,n),r}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * LegendVisualProvider is an bridge that pick encoded color from data and
       * provide to the legend component.
       */var lT=/** @class */function(){function e(// Function to get data after filtered. It stores all the encoding info
e,// Function to get raw data before filtered.
t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();// We find the name from the raw data. In case it's filtered by the legend component.
// Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.
return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),sT=lT,uT=Ea(),cT=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}
/**
         * @overwrite
         */return de(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),// Enable legend selection for each data item
// Use a function instead of direct access because data reference may changed
this.legendVisualProvider=new sT(Xe(this.getData,this),Xe(this.getRawData,this)),this._defaultLabelLine(t)},
/**
         * @overwrite
         */
t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},
/**
         * @overwrite
         */
t.prototype.getInitialData=function(){return aT(this,{coordDimensions:["value"],encodeDefaulter:qe(bf,this)})},
/**
         * @overwrite
         */
t.prototype.getDataParams=function(t){var n=this.getData(),i=uT(n),o=i.seats;// update seats when data is changed
if(!o){var r=[];n.each(n.mapDimension("value"),(function(e){r.push(e)})),o=i.seats=function(e,t){var n=Ke(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===n)return[];// Has remainding votes.
for(var i=Math.pow(10,t),o=We(e,(function(e){return(isNaN(e)?0:e)/n*i*100})),r=100*i,a=We(o,(function(e){// Assign automatic seats.
return Math.floor(e)})),l=Ke(a,(function(e,t){return e+t}),0),s=We(o,(function(e,t){return e-a[t]}));l<r;){for(// Find next largest remainder.
var u=Number.NEGATIVE_INFINITY,c=null,d=0,p=s.length;d<p;++d)s[d]>u&&(u=s[d],c=d);// Add a vote to max remainder.
++a[c],s[c]=0,++l}return We(a,(function(e){return e/i}))}(r,n.hostModel.get("percentPrecision"))}var a=e.prototype.getDataParams.call(this,t);// seats may be empty when sum is 0
return a.percent=o[t]||0,a.$vars.push("percent"),a},t.prototype._defaultLabelLine=function(e){// Extend labelLine emphasis
Sa(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;// Not show label line if `label.normal.show = false`
t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={// zlevel: 0,
z:2,legendHoverLink:!0,colorBy:"data",// 默认全局居中
center:["50%","50%"],radius:[0,"75%"],// 默认顺时针
clockwise:!0,startAngle:90,// 最小角度改为0
minAngle:0,// If the angle of a sector less than `minShowLabelAngle`,
// the label will not be displayed.
minShowLabelAngle:0,// 选中时扇区偏移量
selectedOffset:10,// 选择模式，默认关闭，可选single，multiple
// selectedMode: false,
// 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）
// roseType: null,
percentPrecision:2,// If still show when all data zero.
stillShowZeroSum:!0,// cursor: null,
left:0,top:0,right:0,bottom:0,width:null,height:null,label:{// color: 'inherit',
// If rotate around circle
rotate:0,show:!0,overflow:"truncate",// 'outer', 'inside', 'center'
position:"outer",// 'none', 'labelLine', 'edge'. Works only when position is 'outer'
alignTo:"none",// Closest distance between label and chart edge.
// Works only position is 'outer' and alignTo is 'edge'.
edgeDistance:"25%",// Works only position is 'outer' and alignTo is not 'edge'.
bleedMargin:10,// Distance between text and label line.
distanceToLabelLine:5},// Enabled when label.normal.position is 'outer'
labelLine:{show:!0,// 引导线两段中的第一段长度
length:15,// 引导线两段中的第二段长度
length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{// color: 各异,
width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{// Hide the overlapped label.
hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},// If use strategy to avoid label overlapping
avoidLabelOverlap:!0,// Animation type. Valid values: expansion, scale
animationType:"expansion",animationDuration:1e3,// Animation type when update. Valid values: transition, expansion
animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Zg),dT=cT;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var pT=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return de(t,e),t.prototype.getInitialData=function(e,t){return Vb(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){// Each progressive series has individual key.
return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",// zlevel: 0,
z:2,legendHoverLink:!0,symbolSize:10,// symbolRotate: null,  // 图形旋转控制
large:!1,// Available when large is true
largeThreshold:2e3,// cursor: null,
itemStyle:{opacity:.8},emphasis:{scale:!0},// If clip the overflow graphics
// Works on cartesian / polar series
clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Zg),hT=pT,fT=function(){},vT=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return de(t,e),t.prototype.getDefaultShape=function(){return new fT},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,i=t.points,o=t.size,r=this.symbolProxy,a=r.shape,l=e.getContext?e.getContext():e,s=l&&o[0]<4,u=this.softClipShape;// Do draw in afterBrush.
if(s)this._ctx=l;else{for(this._ctx=null,n=this._off;n<i.length;){var c=i[n++],d=i[n++];isNaN(c)||isNaN(d)||(u&&!u.contain(c,d)||(a.x=c-o[0]/2,a.y=d-o[1]/2,a.width=o[0],a.height=o[1],r.buildPath(e,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,i=t.size,o=this._ctx,r=this.softClipShape;if(o){// PENDING If style or other canvas status changed?
for(e=this._off;e<n.length;){var a=n[e++],l=n[e++];isNaN(a)||isNaN(l)||(r&&!r.contain(a,l)||// fillRect is faster than building a rect path and draw.
// And it support light globalCompositeOperation.
o.fillRect(a-i[0]/2,l-i[1]/2,i[0],i[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){// Not consider transform
// Treat each element as a rect
// top down traverse
for(// TODO ???
// Consider transform
var n=this.shape,i=n.points,o=n.size,r=Math.max(o[0],4),a=Math.max(o[1],4),l=i.length/2-1;l>=0;l--){var s=2*l,u=i[s]-r/2,c=i[s+1]-a/2;if(e>=u&&t>=c&&e<=u+r&&t<=c+a)return l}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return e=n[0],t=n[1],i.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){// Ignore stroke for large symbol draw.
var e=this._rect;if(!e){for(var t=this.shape,n=t.points,i=t.size,o=i[0],r=i[1],a=1/0,l=1/0,s=-1/0,u=-1/0,c=0;c<n.length;){var d=n[c++],p=n[c++];a=Math.min(d,a),s=Math.max(d,s),l=Math.min(p,l),u=Math.max(p,u)}e=this._rect=new Fn(a-o/2,l-r/2,s-a+o,u-l+r)}return e},t}(ks),gT=/** @class */function(){function e(){this.group=new Kr}
/**
         * Update symbols draw by new data
         */return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),i=4*e.startIndex*2;t=new Float32Array(t.buffer,i,n)}e.setShape("points",t),// Reset draw cursor.
e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var i=this._newAdded[0],o=t.getLayout("points"),r=i&&i.shape.points;// Merging the exists. Each element has 1e4 points.
// Consider the performance balance between too much elements and too much points in one shape(may affect hover optimization)
if(r&&r.length<2e4){var a=r.length,l=new Float32Array(a+o.length);// Concat two array
l.set(r),l.set(o,a),// Update endIndex
i.endIndex=e.end,i.setShape({points:l})}else{// Clear
this._newAdded=[];var s=this._create();s.startIndex=e.start,s.endIndex=e.end,s.incremental=!0,s.setShape({points:o}),this._setCommon(s,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new vT({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var i=t.hostModel;n=n||{};var o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=n.clipShape||null,// Create symbolProxy to build path for each data
e.symbolProxy=mm(t.getVisual("symbol"),0,0,0,0),// Use symbolProxy setColor method
e.setColor=e.symbolProxy.setColor;var r=e.shape.size[0]<4;e.useStyle(// Draw shadow when doing fillRect is extremely slow.
i.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var a=t.getVisual("style"),l=a&&a.fill;l&&e.setColor(l);var s=au(e);// Enable tooltip
// PENDING May have performance issue when path is extremely large
s.seriesIndex=i.seriesIndex,e.on("mousemove",(function(t){s.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(// Provide dataIndex for tooltip
s.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),yT=gT,mT=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{// TODO
// If this parameter should be a shape or a bounding volume
// shape will be more general.
// But bounding volume like bounding rect will be much faster in the contain calculation
clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var i=e.getData();// Must mark group dirty and make sure the incremental layer will be cleared
// PENDING
if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var o=hM("").reset(e,t,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new yT:new FC,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(sy),xT=mT,bT=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,// zlevel: 0,
z:0,left:"10%",top:60,right:"10%",bottom:70,// If grid size contain label
containLabel:!1,// width: {totalWidth} - left - right,
// height: {totalHeight} - top - bottom,
backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(tf),_T=bT,wT=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ba).models[0]},t.type="cartesian2dAxis",t}(tf);je(wT,Q_);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var ST={show:!0,// zlevel: 0,
z:0,// Inverse the axis.
inverse:!1,// Axis name displayed.
name:"",// 'start' | 'middle' | 'end'
nameLocation:"end",// By degree. By default auto rotate by nameLocation.
nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},// Use global text style by default.
nameTextStyle:{},// The gap between axisName and axisLine.
nameGap:15,// Default `false` to support tooltip.
silent:!1,// Default `false` to avoid legacy user event listener fail.
triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},// The arrow at both ends the the axis.
symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,// Whether axisTick is inside the grid or outside the grid.
inside:!1,// The length of axisTick.
length:5,lineStyle:{width:1}},axisLabel:{show:!0,// Whether axisLabel is inside the grid or outside the grid.
inside:!1,rotate:0,// true | false | null/undefined (auto)
showMinLabel:null,// true | false | null/undefined (auto)
showMaxLabel:null,margin:8,// formatter: null,
fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},CT=Re({// The gap at both ends of the axis. For categoryAxis, boolean.
boundaryGap:!0,// Set false to faster category collection.
deduplication:null,// splitArea: {
// show: false
// },
splitLine:{show:!1},axisTick:{// If tick is align with label when boundaryGap is true
alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},ST),MT=Re({boundaryGap:[0,0],axisLine:{// Not shown when other axis is categoryAxis in cartesian
show:"auto"},axisTick:{// Not shown when other axis is categoryAxis in cartesian
show:"auto"},// TODO
// min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]
splitNumber:5,minorTick:{// Minor tick, not available for cateogry axis.
show:!1,// Split number of minor ticks. The value should be in range of (0, 100)
splitNumber:5,// Length of minor tick
length:3,// Line style
lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},ST),TT={category:CT,value:MT,time:Re({splitNumber:6,axisLabel:{// To eliminate labels that are not nice
showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},MT),log:Fe({logBase:10},MT)},IT={value:1,category:1,time:1,log:1};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Generate sub axis model class
       * @param axisName 'x' 'y' 'radius' 'angle' 'parallel' ...
       */
function kT(e,t,n,i){Ge(IT,(function(o,r){var a=Re(Re({},TT[r],!0),i,!0),l=/** @class */function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t+"Axis."+r,n}return de(n,e),n.prototype.mergeDefaultAndTheme=function(e,t){var n=qh(this),i=n?$h(e):{};Re(e,t.getTheme().get(r+"Axis")),Re(e,this.getDefaultOption()),e.type=AT(e),n&&Zh(e,i,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Ub.createByAxisModel(this))},
/**
             * Should not be called before all of 'getInitailData' finished.
             * Because categories are collected during initializing data.
             */
n.prototype.getCategories=function(e){var t=this.option;// FIXME
// warning if called before all of 'getInitailData' finished.
if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=t+"Axis."+r,n.defaultOption=a,n}(n);e.registerComponentModel(l)})),e.registerSubTypeDefaulter(t+"Axis",AT)}function AT(e){// Default axis with data is category axis
return e.type||(e.data?"category":"value")}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var DT=/** @class */function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return We(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ue(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),OT=["x","y"];function PT(e){return"interval"===e.type||"time"===e.type}var LT=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=OT,t}
/**
         * Calculate an affine transform matrix if two axes are time or value.
         * It's mainly for accelartion on the large time series data.
         */return de(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(PT(e)&&PT(t)){var n=e.getExtent(),i=t.getExtent(),o=this.dataToPoint([n[0],i[0]]),r=this.dataToPoint([n[1],i[1]]),a=n[1]-n[0],l=i[1]-i[0];if(a&&l){// Accelerate data to point calculation on the special large time series data.
var s=(r[0]-o[0])/a,u=(r[1]-o[1])/l,c=o[0]-n[0]*s,d=o[1]-i[0]*u,p=this._transform=[s,0,0,u,c,d];this._invTransform=In([],p)}}},
/**
         * Base axis will be used on stacking.
         */
t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,t){var n=this.dataToPoint(e),i=this.dataToPoint(t),o=this.getArea(),r=new Fn(n[0],n[1],i[0]-n[0],i[1]-n[1]);return o.intersect(r)},t.prototype.dataToPoint=function(e,t,n){n=n||[];var i=e[0],o=e[1];// Fast path
if(this._transform&&null!=i&&isFinite(i)&&null!=o&&isFinite(o))return Gt(n,e,this._transform);var r=this.getAxis("x"),a=this.getAxis("y");return n[0]=r.toGlobalCoord(r.dataToCoord(i,t)),n[1]=a.toGlobalCoord(a.dataToCoord(o,t)),n},t.prototype.clampData=function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),r=i.getExtent(),a=n.parse(e[0]),l=i.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),t[1]=Math.min(Math.max(Math.min(r[0],r[1]),l),Math.max(r[0],r[1])),t},t.prototype.pointToData=function(e,t){var n=[];if(this._invTransform)return Gt(n,e,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(e[0]),t),n[1]=o.coordToData(o.toLocalCoord(e[1]),t),n},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},
/**
         * Get rect area of cartesian.
         * Area will have a contain function to determine if a point is in the coordinate system.
         */
t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),i=Math.min(t[0],t[1]),o=Math.max(e[0],e[1])-n,r=Math.max(t[0],t[1])-i;return new Fn(n,i,o,r)},t}(DT),ET=/** @class */function(e){function t(t,n,i,o,r){var a=e.call(this,t,n,i)||this;
/**
           * Index of axis, can be used as key
           * Injected outside.
           */return a.index=0,a.type=o||"value",a.position=r||"bottom",a}return de(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},
/**
         * Each item cooresponds to this.getExtent(), which
         * means globalExtent[0] may greater than globalExtent[1],
         * unless `asc` is input.
         *
         * @param {boolean} [asc]
         * @return {Array.<number>}
         */
t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},
/**
         * Set ordinalSortInfo
         * @param info new OrdinalSortInfo
         */
t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Mw),NT=ET;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Can only be called after coordinate system creation stage.
       * (Can be called before coordinate system update stage).
       */
function RT(e,t,n){n=n||{};var i=e.coordinateSystem,o=t.axis,r={},a=o.getAxesOnZeroOf()[0],l=o.position,s=a?"onZero":l,u=o.dim,c=i.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],p={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,f="x"===u?[d[2]-h,d[3]+h]:[d[0]-h,d[1]+h];if(a){var v=a.toGlobalCoord(a.dataToCoord(0));f[p.onZero]=Math.max(Math.min(v,f[1]),f[0])}// Axis position
r.position=["y"===u?f[p[s]]:d[0],"x"===u?f[p[s]]:d[3]],// Axis rotation
r.rotation=Math.PI/2*("x"===u?0:1);r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],r.labelOffset=a?f[p[l]]-f[p.onZero]:0,t.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),lt(n.labelInside,t.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);// Special label rotation
var g=t.get(["axisLabel","rotate"]);return r.labelRotate="top"===s?-g:g,// Over splitLine and splitArea
r.z2=1,r}function zT(e){return"cartesian2d"===e.get("coordinateSystem")}function BT(e){var t={xAxisModel:null,yAxisModel:null};return Ge(t,(function(n,i){var o=i.replace(/Model$/,""),r=e.getReferringComponents(o,Ba).models[0];t[i]=r})),t}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var FT=Math.log;function VT(e,t,n){var i=r_.prototype,o=i.getTicks.call(n),r=i.getTicks.call(n,!0),a=o.length-1,l=i.getInterval.call(n),s=W_(e,t),u=s.extent,c=s.fixMin,d=s.fixMax;// NOTE: There is a precondition for log scale  here:
// In log scale we store _interval and _extent of exponent value.
// So if we use the method of InternalScale to set/get these data.
// It process the exponent value, which is linear and what we want here.
if("log"===e.type){var p=FT(e.base);u=[FT(u[0])/p,FT(u[1])/p]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:a,fixMin:c,fixMax:d});var h=i.getExtent.call(e);// Need to update the rawExtent.
// Because value in rawExtent may be not parsed. e.g. 'dataMin', 'dataMax'
c&&(u[0]=h[0]),d&&(u[1]=h[1]);var f=i.getInterval.call(e),v=u[0],g=u[1];if(c&&d)// User set min, max, divide to get new interval
f=(g-v)/a;else if(c)// User set min, expand extent on the other side
for(g=u[0]+f*a;g<u[1]&&isFinite(g)&&isFinite(u[1]);)f=qb(f),g=u[0]+f*a;else if(d)for(// User set max, expand extent on the other side
v=u[1]-f*a;v>u[0]&&isFinite(v)&&isFinite(u[0]);)f=qb(f),v=u[1]-f*a;else{e.getTicks().length-1>a&&(f=qb(f));var y=f*a;// Not change the result that crossing zero.
(v=Qr((g=Math.ceil(u[1]/f)*f)-y))<0&&u[0]>=0?(v=0,g=Qr(y)):g>0&&u[1]<=0&&(g=0,v=-Qr(y))}// Adjust min, max based on the extent of alignTo. When min or max is set in alignTo scale
var m=(o[0].value-r[0].value)/l,x=(o[a].value-r[a].value)/l;// NOTE: Must in setExtent -> setInterval -> setNiceExtent order.
i.setExtent.call(e,v+f*m,g+f*x),i.setInterval.call(e,f),(m||x)&&i.setNiceExtent.call(e,v+f,g-f)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var jT=/** @class */function(){function e(e,t,n){// FIXME:TS where used (different from registered type 'cartesian2d')?
this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=OT,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;function i(e){var t,n=Ye(e),i=n.length;// Axis is added in order of axisIndex.
if(i){// Process once and calculate the ticks for those don't use alignTicks.
for(var o=[],r=i-1;r>=0;r--){var a=e[+n[r]],l=a.model,s=a.scale;// Convert to number.
// Only value and log axis without interval support alignTicks.
Yb(s)&&l.get("alignTicks")&&null==l.get("interval")?o.push(a):(K_(s,l),Yb(s)&&(// Can only align to interval or log axis.
t=a))}// PENDING. Should we find the axis that both set interval, min, max and align to this one?
o.length&&(t||K_((t=o.pop()).scale,t.model),Ge(o,(function(e){VT(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),i(n.x),i(n.y);// Key: axisDim_axisIndex, value: boolean, whether onZero target.
var o={};Ge(n.x,(function(e){GT(n,"y",e,o)})),Ge(n.y,(function(e){GT(n,"x",e,o)})),// Resize again if containLabel is enabled
// FIXME It may cause getting wrong grid size in data processing stage
this.resize(this.model,t)},
/**
         * Resize the grid
         */
e.prototype.resize=function(e,t,n){var i=e.getBoxLayoutParams(),o=!n&&e.get("containLabel"),r=Yh(i,{width:t.getWidth(),height:t.getHeight()});this._rect=r;var a=this._axesList;function l(){Ge(a,(function(e){var t=e.isHorizontal(),n=t?[0,r.width]:[0,r.height],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),function(e,t){var n=e.getExtent(),i=n[0]+n[1];// Fast transform
e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}(e,t?r.x:r.y)}))}l(),// Minus label size
o&&(Ge(a,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=function(e){var t=e.model,n=e.scale;if(t.get(["axisLabel","show"])&&!n.isBlank()){var i,o,r=n.getExtent();// Optimize for large category data, avoid call `getTicks()`.
o=n instanceof n_?n.count():(i=n.getTicks()).length;var a,l=e.getLabelModel(),s=Y_(e),u=1;// Simple optimization for large amount of labels
o>40&&(u=Math.ceil(o/40));for(var c=0;c<o;c+=u){var d=s(i?i[c]:{value:r[0]+c},c),p=q_(l.getTextRect(d),l.get("rotate")||0);a?a.union(p):a=p}return a}}(e);if(t){var n=e.isHorizontal()?"height":"width",i=e.model.get(["axisLabel","margin"]);r[n]-=t[n]+i,"top"===e.position?r.y+=t.height+i:"left"===e.position&&(r.x+=t.width+i)}}})),l()),Ge(this._coordsList,(function(e){// Calculate affine matrix to accelerate the data to point transform.
// If all the axes scales are time or value.
e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}tt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===e||o[i].getAxis("y").index===t)return o[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},
/**
         * @implements
         */
e.prototype.convertToPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},
/**
         * @implements
         */
e.prototype.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t,n,i=e.seriesModel,o=e.xAxisModel||i&&i.getReferringComponents("xAxis",Ba).models[0],r=e.yAxisModel||i&&i.getReferringComponents("yAxis",Ba).models[0],a=e.gridModel,l=this._coordsList;if(i)Ve(l,t=i.coordinateSystem)<0&&(t=null);else if(o&&r)t=this.getCartesian(o.componentIndex,r.componentIndex);else if(o)n=this.getAxis("x",o.componentIndex);else if(r)n=this.getAxis("y",r.componentIndex);else if(a){a.coordinateSystem===this&&(t=this._coordsList[0])}return{cartesian:t,axis:n}},
/**
         * @implements
         */
e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},
/**
         * Initialize cartesian coordinate systems
         */
e.prototype._initCartesian=function(e,t,n){var i=this,o=this,r={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},l={x:0,y:0};if(// Create axis
t.eachComponent("xAxis",s("x"),this),t.eachComponent("yAxis",s("y"),this),!l.x||!l.y)// Roll back when there no either x or y axis
return this._axesMap={},void(this._axesList=[]);function s(t){return function(n,i){if(HT(n,e)){var s=n.get("position");"x"===t?// Fix position
"top"!==s&&"bottom"!==s&&(// Default bottom of X
s=r.bottom?"top":"bottom"):// Fix position
"left"!==s&&"right"!==s&&(// Default left of Y
s=r.left?"right":"left"),r[s]=!0;var u=new NT(t,U_(n),[0,0],n.get("type"),s),c="category"===u.type;u.onBand=c&&n.get("boundaryGap"),u.inverse=n.get("inverse"),// Inject axis into axisModel
n.axis=u,// Inject axisModel into axis
u.model=n,// Inject grid info axis
u.grid=o,// Index of axis, can be used as key
u.index=i,o._axesList.push(u),a[t][i]=u,l[t]++}}}this._axesMap=a,// Create cartesian2d
Ge(a.x,(function(t,n){Ge(a.y,(function(o,r){var a="x"+n+"y"+r,l=new LT(a);l.master=i,l.model=e,i._coordsMap[a]=l,i._coordsList.push(l),l.addAxis(t),l.addAxis(o)}))}))},
/**
         * Update cartesian properties from series.
         */
e.prototype._updateScale=function(e,t){function n(e,t){Ge(J_(e,t.dim),(function(n){t.scale.unionExtentFromData(e,n)}))}// Reset scale
Ge(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(zT(e)){var i=BT(e),o=i.xAxisModel,r=i.yAxisModel;if(!HT(o,t)||!HT(r,t))return;var a=this.getCartesian(o.componentIndex,r.componentIndex),l=e.getData(),s=a.getAxis("x"),u=a.getAxis("y");n(l,s),n(l,u)}}),this)},
/**
         * @param dim 'x' or 'y' or 'auto' or null/undefined
         */
e.prototype.getTooltipAxes=function(e){var t=[],n=[];return Ge(this.getCartesians(),(function(i){var o=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),r=i.getOtherAxis(o);Ve(t,o)<0&&t.push(o),Ve(n,r)<0&&n.push(r)})),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var i=[];return t.eachComponent("grid",(function(o,r){var a=new e(o,t,n);a.name="grid_"+r,// dataSampling requires axis extent, so resize
// should be performed in create stage.
a.resize(o,n,!0),o.coordinateSystem=a,i.push(a)})),// Inject the coordinateSystems into seriesModel
t.eachSeries((function(e){if(zT(e)){var t=BT(e),n=t.xAxisModel,i=t.yAxisModel,o=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=o.getCartesian(n.componentIndex,i.componentIndex)}})),i},// For deciding which dimensions to use when creating list data
e.dimensions=OT,e}();
/**
       * Check if the axis is used in the specified grid.
       */function HT(e,t){return e.getCoordSysModel()===t}function GT(e,t,n,// Key: see `getOnZeroRecordKey`
i){n.getAxesOnZeroOf=function(){// TODO: onZero of multiple axes.
return o?[o]:[]};// onZero can not be enabled in these two situations:
// 1. When any other axis is a category axis.
// 2. When no axis is cross 0 point.
var o,r=e[t],a=n.model,l=a.get(["axisLine","onZero"]),s=a.get(["axisLine","onZeroAxisIndex"]);if(l){// If target axis is specified.
if(null!=s)WT(r[s])&&(o=r[s]);else// Find the first available other axis.
for(var u in r)if(r.hasOwnProperty(u)&&WT(r[u])&&!i[c(r[u])]){o=r[u];break}o&&(i[c(o)]=!0)}function c(e){return e.dim+"_"+e.index}}function WT(e){return e&&"category"!==e.type&&"time"!==e.type&&function(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)}(e)}var KT=jT,UT=Math.PI,YT=/** @class */function(){function e(e,t){this.group=new Kr,this.opt=t,this.axisModel=e,// Default value
Fe(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});// FIXME Not use a seperate text group?
var n=new Kr({x:t.position[0],y:t.position[1],rotation:t.rotation});// this.group.add(transformGroup);
// this._transformGroup = transformGroup;
n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(e){return!!XT[e]},e.prototype.add=function(e){XT[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,n){var i,o,r=ra(t-e);return aa(r)?(// Label is parallel with axis line.
o=n>0?"top":"bottom",i="center"):aa(r-UT)?(// Label is inverse parallel with axis line.
o=n>0?"bottom":"top",i="center"):(o="middle",i=r>0&&r<UT?n>0?"right":"left":n>0?"left":"right"),{rotation:r,textAlign:i,textVerticalAlign:o}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),XT={axisLine:function(e,t,n,i){var o=t.get(["axisLine","show"]);if("auto"===o&&e.handleAutoShown&&(o=e.handleAutoShown("axisLine")),o){var r=t.axis.getExtent(),a=i.transform,l=[r[0],0],s=[r[1],0],u=l[0]>s[0];a&&(Gt(l,l,a),Gt(s,s,a));var c=Be({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new ld({shape:{x1:l[0],y1:l[1],x2:s[0],y2:s[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});ep(d.shape,d.style.lineWidth),d.anid="line",n.add(d);var p=t.get(["axisLine","symbol"]);if(null!=p){var h=t.get(["axisLine","symbolSize"]);Je(p)&&(// Use the same arrow for start and end point
p=[p,p]),(Je(h)||et(h))&&(// Use the same size for width and height
h=[h,h]);var f=bm(t.get(["axisLine","symbolOffset"])||0,h),v=h[0],g=h[1];Ge([{rotate:e.rotation+Math.PI/2,offset:f[0],r:0},{rotate:e.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((l[0]-s[0])*(l[0]-s[0])+(l[1]-s[1])*(l[1]-s[1]))}],(function(t,i){if("none"!==p[i]&&null!=p[i]){var o=mm(p[i],-v/2,-g/2,v,g,c.stroke,!0),r=t.r+t.offset,a=u?s:l;// Calculate arrow position with offset
o.attr({rotation:t.rotate,x:a[0]+r*Math.cos(e.rotation),y:a[1]-r*Math.sin(e.rotation),silent:!0,z2:11}),n.add(o)}}))}}},axisTickLabel:function(e,t,n,i){var o=function(e,t,n,i){var o=n.axis,r=n.getModel("axisTick"),a=r.get("show");"auto"===a&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick"));if(!a||o.scale.isBlank())return;for(var l=r.getModel("lineStyle"),s=i.tickDirection*r.get("length"),u=JT(o.getTicksCoords(),t.transform,s,Fe(l.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<u.length;c++)e.add(u[c]);return u}(n,i,t,e),r=function(e,t,n,i){var o=n.axis,r=lt(i.axisLabelShow,n.get(["axisLabel","show"]));if(!r||o.scale.isBlank())return;var a=n.getModel("axisLabel"),l=a.get("margin"),s=o.getViewLabels(),u=(lt(i.labelRotate,a.get("rotate"))||0)*UT/180,c=YT.innerTextLayout(i.rotation,u,i.labelDirection),d=n.getCategories&&n.getCategories(!0),p=[],h=YT.isLabelSilent(n),f=n.get("triggerEvent");return Ge(s,(function(r,s){var u="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(r.tickValue):r.tickValue,v=r.formattedLabel,g=r.rawLabel,y=a;if(d&&d[u]){var m=d[u];tt(m)&&m.textStyle&&(y=new Kp(m.textStyle,a,n.ecModel))}var x=y.getTextColor()||n.get(["axisLine","lineStyle","color"]),b=o.dataToCoord(u),_=new ru({x:b,y:i.labelOffset+i.labelDirection*l,rotation:c.rotation,silent:h,z2:10+(r.level||0),style:_p(y,{text:v,align:y.getShallow("align",!0)||c.textAlign,verticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||c.textVerticalAlign,fill:$e(x)?x(// (1) In category axis with data zoom, tick is not the original
// index of axis.data. So tick should not be exposed to user
// in category axis.
// (2) Compatible with previous version, which always use formatted label as
// input. But in interval scale the formatted label is like '223,445', which
// maked user repalce ','. So we modify it to return original val but remain
// it as 'string' to avoid error in replacing.
"category"===o.type?g:"value"===o.type?u+"":u,s):x})});// Pack data for mouse event
if(_.anid="label_"+u,f){var w=YT.makeAxisEventDataBase(n);w.targetType="axisLabel",w.value=g,w.tickIndex=s,"category"===o.type&&(w.dataIndex=u),au(_).eventData=w}// FIXME
t.add(_),_.updateTransform(),p.push(_),e.add(_),_.decomposeTransform()})),p}(n,i,t,e);// This bit fixes the label overlap issue for the time chart.
// See https://github.com/apache/echarts/issues/14266 for more.
(function(e,t,n){if($_(e.axis))return;// If min or max are user set, we need to check
// If the tick on min(max) are overlap on their neighbour tick
// If they are overlapped, we need to hide the min(max) tick label
var i=e.get(["axisLabel","showMinLabel"]),o=e.get(["axisLabel","showMaxLabel"]);// FIXME
// Have not consider onBand yet, where tick els is more than label els.
t=t||[],n=n||[];var r=t[0],a=t[1],l=t[t.length-1],s=t[t.length-2],u=n[0],c=n[1],d=n[n.length-1],p=n[n.length-2];!1===i?(qT(r),qT(u)):ZT(r,a)&&(i?(qT(a),qT(c)):(qT(r),qT(u)));!1===o?(qT(l),qT(d)):ZT(s,l)&&(o?(qT(s),qT(p)):(qT(l),qT(d)))}(t,r,o),function(e,t,n,i){var o=n.axis,r=n.getModel("minorTick");if(!r.get("show")||o.scale.isBlank())return;var a=o.getMinorTicksCoords();if(!a.length)return;for(var l=r.getModel("lineStyle"),s=i*r.get("length"),u=Fe(l.getLineStyle(),Fe(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var d=JT(a[c],t.transform,s,u,"minorticks_"+c),p=0;p<d.length;p++)e.add(d[p])}(n,i,t,e.tickDirection),t.get(["axisLabel","hideOverlap"]))&&Qw(Zw(We(r,(function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}}))))},axisName:function(e,t,n,i){var o=lt(e.axisName,t.get("name"));if(o){var r,a,l=t.get("nameLocation"),s=e.nameDirection,u=t.getModel("nameTextStyle"),c=t.get("nameGap")||0,d=t.axis.getExtent(),p=d[0]>d[1]?-1:1,h=["start"===l?d[0]-p*c:"end"===l?d[1]+p*c:(d[0]+d[1])/2,// Reuse labelOffset.
$T(l)?e.labelOffset+s*c:0],f=t.get("nameRotate");null!=f&&(f=f*UT/180),$T(l)?r=YT.innerTextLayout(e.rotation,null!=f?f:e.rotation,// Adapt to axis.
s):(r=function(e,t,n,i){var o,r,a=ra(n-e),l=i[0]>i[1],s="start"===t&&!l||"start"!==t&&l;aa(a-UT/2)?(r=s?"bottom":"top",o="center"):aa(a-1.5*UT)?(r=s?"top":"bottom",o="center"):(r="middle",o=a<1.5*UT&&a>UT/2?s?"left":"right":s?"right":"left");return{rotation:a,textAlign:o,textVerticalAlign:r}}(e.rotation,l,f||0,d),null!=(a=e.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(r.rotation)),!isFinite(a)&&(a=null)));var v=u.getFont(),g=t.get("nameTruncate",!0)||{},y=g.ellipsis,m=lt(e.nameTruncateMaxWidth,g.maxWidth,a),x=new ru({x:h[0],y:h[1],rotation:r.rotation,silent:YT.isLabelSilent(t),style:_p(u,{text:o,font:v,overflow:"truncate",width:m,ellipsis:y,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||r.textAlign,verticalAlign:u.get("verticalAlign")||r.textVerticalAlign}),z2:1});if(pp({el:x,componentModel:t,itemName:o}),x.__fullText=o,// Id for animation
x.anid="name",t.get("triggerEvent")){var b=YT.makeAxisEventDataBase(t);b.targetType="axisName",b.name=o,au(x).eventData=b}// FIXME
i.add(x),x.updateTransform(),n.add(x),x.decomposeTransform()}}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function qT(e){e&&(e.ignore=!0)}function ZT(e,t){// current and next has the same rotation.
var n=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(n&&i){// When checking intersect of two rotated labels, we use mRotationBack
// to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.
var o=_n([]);return Mn(o,o,-e.rotation),n.applyTransform(Sn([],o,e.getLocalTransform())),i.applyTransform(Sn([],o,t.getLocalTransform())),n.intersect(i)}}function $T(e){return"middle"===e||"center"===e}function JT(e,t,n,i,o){for(var r=[],a=[],l=[],s=0;s<e.length;s++){var u=e[s].coord;a[0]=u,a[1]=0,l[0]=u,l[1]=n,t&&(Gt(a,a,t),Gt(l,l,t));// Tick line, Not use group transform to have better line draw
var c=new ld({shape:{x1:a[0],y1:a[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});ep(c.shape,c.style.lineWidth),c.anid=o+"_"+e[s].tickValue,r.push(c)}return r}var QT=YT;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
// allAxesInfo should be updated when setOption performed.
function eI(e,t){var n={
/**
           * key: makeKey(axis.model)
           * value: {
           *      axis,
           *      coordSys,
           *      axisPointerModel,
           *      triggerTooltip,
           *      involveSeries,
           *      snap,
           *      seriesModels,
           *      seriesDataCount
           * }
           */
axesInfo:{},seriesInvolved:!1,
/**
           * key: makeKey(coordSys.model)
           * value: Object: key makeKey(axis.model), value: axisInfo
           */
coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var i=t.getComponent("tooltip"),o=t.getComponent("axisPointer"),r=o.get("link",!0)||[],a=[];// Collect axes info.
Ge(n.getCoordinateSystems(),(function(n){// Some coordinate system do not support axes, like geo.
if(n.axisPointerEnabled){var l=rI(n.model),s=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=n;// Set tooltip (like 'cross') is a convienent way to show axisPointer
// for user. So we enable seting tooltip on coordSys model.
var u=n.model.getModel("tooltip",i);// If axis tooltip used, choose tooltip axis for each coordSys.
// Notice this case: coordSys is `grid` but not `cartesian2D` here.
if(Ge(n.getAxes(),qe(h,!1,null)),n.getTooltipAxes&&i&&u.get("show")){// Compatible with previous logic. But series.tooltip.trigger: 'axis'
// or series.data[n].tooltip.trigger: 'axis' are not support any more.
var c="axis"===u.get("trigger"),d="cross"===u.get(["axisPointer","type"]),p=n.getTooltipAxes(u.get(["axisPointer","axis"]));(c||d)&&Ge(p.baseAxes,qe(h,!d||"cross",c)),d&&Ge(p.otherAxes,qe(h,"cross",!1))}// fromTooltip: true | false | 'cross'
// triggerTooltip: true | false | null
}function h(i,l,c){var d=c.model.getModel("axisPointer",o),p=d.get("show");if(p&&("auto"!==p||i||oI(d))){null==l&&(l=d.get("triggerTooltip")),d=i?function(e,t,n,i,o,r){var a=t.getModel("axisPointer"),l={};// Compatibel with previous behavior, tooltip axis do not show label by default.
// Only these properties can be overrided from tooltip to axisPointer.
Ge(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){l[e]=Ne(a.get(e))})),// category axis do not auto snap, otherwise some tick that do not
// has value can not be hovered. value/time/log axis default snap if
// triggered from tooltip and trigger tooltip.
l.snap="category"!==e.type&&!!r,"cross"===a.get("type")&&(l.type="line");var s=l.label||(l.label={});// Follow the convention, do not show label when triggered by tooltip by default.
if(null==s.show&&(s.show=!1),"cross"===o){// When 'cross', both axes show labels.
var u=a.get(["label","show"]);// If triggerTooltip, this is a base axis, which should better not use cross style
// (cross style is dashed by default)
if(s.show=null==u||u,!r){var c=l.lineStyle=a.get("crossStyle");c&&Fe(s,c.textStyle)}}return e.model.getModel("axisPointer",new Kp(l,n,i))}(c,u,o,t,i,l):d;var h=d.get("snap"),f=rI(c.model),v=l||h||"category"===c.type,g=e.axesInfo[f]={key:f,axis:c,coordSys:n,axisPointerModel:d,triggerTooltip:l,involveSeries:v,snap:h,useHandle:oI(d),seriesModels:[],linkGroup:null};s[f]=g,e.seriesInvolved=e.seriesInvolved||v;var y=
/**
       * For example:
       * {
       *     axisPointer: {
       *         links: [{
       *             xAxisIndex: [2, 4],
       *             yAxisIndex: 'all'
       *         }, {
       *             xAxisId: ['a5', 'a7'],
       *             xAxisName: 'xxx'
       *         }]
       *     }
       * }
       */
function(e,t){for(var n=t.model,i=t.dim,o=0;o<e.length;o++){var r=e[o]||{};if(tI(r[i+"AxisId"],n.id)||tI(r[i+"AxisIndex"],n.componentIndex)||tI(r[i+"AxisName"],n.name))return o}}(r,c);if(null!=y){var m=a[y]||(a[y]={axesInfo:{}});m.axesInfo[f]=g,m.mapper=r[y].mapper,g.linkGroup=m}}}}))}(n,e,t),// Check seriesInvolved for performance, in case too many series in some chart.
n.seriesInvolved&&function(e,t){// Prepare data for axis trigger
t.eachSeries((function(t){// Notice this case: this coordSys is `cartesian2D` but not `grid`.
var n=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),o=t.get(["tooltip","show"],!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==o&&!1!==t.get(["axisPointer","show"],!0)&&Ge(e.coordSysAxesInfo[rI(n.model)],(function(e){var i=e.axis;n.getAxis(i.dim)===i&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}))}(n,e),n}function tI(e,t){return"all"===e||Ze(e)&&Ve(e,t)>=0||e===t}function nI(e){var t=iI(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,o=n.option,r=n.get("status"),a=n.get("value");// Parse init value for category and time axis.
null!=a&&(a=i.parse(a));var l=oI(n);// If `handle` used, `axisPointer` will always be displayed, so value
// and status should be initialized.
null==r&&(o.status=l?"show":"hide");var s=i.getExtent().slice();s[0]>s[1]&&s.reverse(),(// Pick a value on axis when initializing.
null==a||a>s[1])&&(// Make handle displayed on the end of the axis when init, which looks better.
a=s[1]),a<s[0]&&(a=s[0]),o.value=a,l&&(o.status=t.axis.scale.isBlank()?"hide":"show")}}function iI(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[rI(e)]}function oI(e){return!!e.get(["handle","show"])}
/**
       * @param {module:echarts/model/Model} model
       * @return {string} unique key
       */function rI(e){return e.type+"||"+e.id}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var aI={},lI=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}
/**
         * @override
         */return de(t,e),t.prototype.render=function(t,n,i,o){// FIXME
// This process should proformed after coordinate systems updated
// (axis scale updated), and should be performed each time update.
// So put it here temporarily, although it is not appropriate to
// put a model-writing procedure in `view`.
this.axisPointerClass&&nI(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},
/**
         * Action handler.
         */
t.prototype.updateAxisPointer=function(e,t,n,i){this._doUpdateAxisPointerClass(e,n,!1)},
/**
         * @override
         */
t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},
/**
         * @override
         */
t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,i){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var r=function(e){var t=iI(e);return t&&t.axisPointerModel}(e);r?(this._axisPointer||(this._axisPointer=new o)).render(e,r,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){aI[e]=t},t.getAxisPointerClass=function(e){return e&&aI[e]},t.type="axis",t}(Jg),sI=lI,uI=Ea();
/**
       * Base class of AxisView.
       */function cI(e,t,n,i){var o=n.axis;if(!o.scale.isBlank()){// TODO: TYPE
var r=n.getModel("splitArea"),a=r.getModel("areaStyle"),l=a.get("color"),s=i.coordinateSystem.getRect(),u=o.getTicksCoords({tickModel:r,clamp:!0});if(u.length){// For Making appropriate splitArea animation, the color and anid
// should be corresponding to previous one if possible.
var c=l.length,d=uI(e).splitAreaColors,p=bt(),h=0;if(d)for(var f=0;f<u.length;f++){var v=d.get(u[f].tickValue);if(null!=v){h=(v+(c-1)*f)%c;break}}var g=o.toGlobalCoord(u[0].coord),y=a.getAreaStyle();l=Ze(l)?l:[l];for(f=1;f<u.length;f++){var m=o.toGlobalCoord(u[f].coord),x=void 0,b=void 0,_=void 0,w=void 0;o.isHorizontal()?(x=g,b=s.y,_=m-x,w=s.height,g=x+_):(x=s.x,b=g,_=s.width,g=b+(w=m-b));var S=u[f-1].tickValue;null!=S&&p.set(S,h),t.add(new Gs({anid:null!=S?"area_"+S:null,shape:{x:x,y:b,width:_,height:w},style:Fe({fill:l[h]},y),autoBatch:!0,silent:!0})),h=(h+1)%c}uI(e).splitAreaColors=p}}}function dI(e){uI(e).splitAreaColors=null}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var pI=["axisLine","axisTickLabel","axisName"],hI=["splitArea","splitLine","minorSplitLine"],fI=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}
/**
         * @override
         */return de(t,e),t.prototype.render=function(t,n,i,o){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Kr,this.group.add(this._axisGroup),t.get("show")){var a=t.getCoordSysModel(),l=RT(a,t),s=new QT(t,Be({handleAutoShown:function(e){for(var n=a.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if(Yb(n[i].getOtherAxis(t.axis).scale))// Still show axis tick or axisLine if other axis is value / log
return!0;// Not show axisTick or axisLine if other axis is category / time
return!1}},l));Ge(pI,s.add,s),this._axisGroup.add(s.getGroup()),Ge(hI,(function(e){t.get([e,"show"])&&vI[e](this,this._axisGroup,t,a)}),this),o&&"changeAxisOrder"===o.type&&o.isInitSort||ap(r,this._axisGroup,t),e.prototype.render.call(this,t,n,i,o)}},t.prototype.remove=function(){dI(this)},t.type="cartesianAxis",t}(sI),vI={splitLine:function(e,t,n,i){var o=n.axis;if(!o.scale.isBlank()){var r=n.getModel("splitLine"),a=r.getModel("lineStyle"),l=a.get("color");l=Ze(l)?l:[l];for(var s=i.coordinateSystem.getRect(),u=o.isHorizontal(),c=0,d=o.getTicksCoords({tickModel:r}),p=[],h=[],f=a.getLineStyle(),v=0;v<d.length;v++){var g=o.toGlobalCoord(d[v].coord);u?(p[0]=g,p[1]=s.y,h[0]=g,h[1]=s.y+s.height):(p[0]=s.x,p[1]=g,h[0]=s.x+s.width,h[1]=g);var y=c++%l.length,m=d[v].tickValue,x=new ld({anid:null!=m?"line_"+d[v].tickValue:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:h[0],y2:h[1]},style:Fe({stroke:l[y]},f),silent:!0});ep(x.shape,f.lineWidth),t.add(x)}}},minorSplitLine:function(e,t,n,i){var o=n.axis,r=n.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),l=o.isHorizontal(),s=o.getMinorTicksCoords();if(s.length)for(var u=[],c=[],d=r.getLineStyle(),p=0;p<s.length;p++)for(var h=0;h<s[p].length;h++){var f=o.toGlobalCoord(s[p][h].coord);l?(u[0]=f,u[1]=a.y,c[0]=f,c[1]=a.y+a.height):(u[0]=a.x,u[1]=f,c[0]=a.x+a.width,c[1]=f);var v=new ld({anid:"minor_line_"+s[p][h].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:d,silent:!0});ep(v.shape,d.lineWidth),t.add(v)}},splitArea:function(e,t,n,i){cI(e,t,n,i)}},gI=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="xAxis",t}(fI),yI=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=gI.type,t}return de(t,e),t.type="yAxis",t}(fI),mI=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return de(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new Gs({shape:e.coordinateSystem.getRect(),style:Fe({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Jg),xI={// gridIndex: 0,
// gridId: '',
offset:0};function bI(e){e.registerComponentView(mI),e.registerComponentModel(_T),e.registerCoordinateSystem("cartesian2d",KT),kT(e,"x",wT,xI),kT(e,"y",wT,xI),e.registerComponentView(gI),e.registerComponentView(yI),e.registerPreprocessor((function(e){// Only create grid when need
e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function _I(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){var o=i.getIndicatorAxes();Ge(o,(function(e,r){t.each(t.mapDimension(o[r].dim),(function(e,t){n[t]=n[t]||[];var o=i.dataToPoint(e,r);n[t][r]=wI(o)?o:SI(i)}))})),// Close polygon
t.each((function(e){// TODO
// Is it appropriate to connect to the next data when some data is missing?
// Or, should trade it like `connectNull` in line chart?
var o=function(e,t,n){if(e&&t)for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i,e))return e[i]}(n[e],(function(e){return wI(e)}))||SI(i);// Copy the first actual point to the end of the array
n[e].push(o.slice()),t.setItemLayout(e,n[e])}))}}))}function wI(e){return!isNaN(e[0])&&!isNaN(e[1])}function SI(e){// It is error-prone to input [NaN, NaN] into polygon, polygon.
// (probably cause problem when refreshing or animating)
return[e.cx,e.cy]}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function CI(e){var t=e.polar;if(t){Ze(t)||(t=[t]);var n=[];Ge(t,(function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],Ze(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}Ge(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var MI=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){var i=e.coordinateSystem,o=this.group,r=e.getData(),a=this._data;function l(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if("none"!==n){var i=xm(e.getItemVisual(t,"symbolSize")),o=mm(n,-1,-1,2,2),r=e.getItemVisual(t,"symbolRotate")||0;return o.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:r*Math.PI/180||0}),o}}function s(t,n,i,o,r,a){// Simply rerender all
i.removeAll();for(var s=0;s<n.length-1;s++){var u=l(o,r);u&&(u.__dimIdx=s,t[s]?(u.setPosition(t[s]),vp[a?"initProps":"updateProps"](u,{x:n[s][0],y:n[s][1]},e,r)):u.setPosition(n[s]),i.add(u))}}function u(e){return We(e,(function(e){return[i.cx,i.cy]}))}r.diff(a).add((function(t){var n=r.getItemLayout(t);if(n){var i=new ed,o=new id,a={shape:{points:n}};i.shape.points=u(n),o.shape.points=u(n),zd(i,a,e,t),zd(o,a,e,t);var l=new Kr,c=new Kr;l.add(o),l.add(i),l.add(c),s(o.shape.points,n,c,r,t,!0),r.setItemGraphicEl(t,l)}})).update((function(t,n){var i=a.getItemGraphicEl(n),o=i.childAt(0),l=i.childAt(1),u=i.childAt(2),c={shape:{points:r.getItemLayout(t)}};c.shape.points&&(s(o.shape.points,c.shape.points,u,r,t,!1),Hd(l),Hd(o),Rd(o,c,e),Rd(l,c,e),r.setItemGraphicEl(t,i))})).remove((function(e){o.remove(a.getItemGraphicEl(e))})).execute(),r.eachItemGraphicEl((function(e,t){var n=r.getItemModel(t),i=e.childAt(0),a=e.childAt(1),l=e.childAt(2),s=r.getItemVisual(t,"style"),u=s.fill;o.add(e),i.useStyle(Fe(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),tc(i,n,"lineStyle"),tc(a,n,"areaStyle");var c=n.getModel("areaStyle"),d=c.isEmpty()&&c.parentModel.isEmpty();a.ignore=d,Ge(["emphasis","select","blur"],(function(e){var t=n.getModel([e,"areaStyle"]),i=t.isEmpty()&&t.parentModel.isEmpty();// Won't be ignore if normal state is not ignore.
a.ensureState(e).ignore=i&&d})),a.useStyle(Fe(c.getAreaStyle(),{fill:u,opacity:.7,decal:s.decal}));var p=n.getModel("emphasis"),h=p.getModel("itemStyle").getItemStyle();l.eachChild((function(e){if(e instanceof Ns){var i=e.style;e.useStyle(Be({// TODO other properties like x, y ?
image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},s))}else e.useStyle(s),e.setColor(u),e.style.strokeNoScale=!0;e.ensureState("emphasis").style=Ne(h);var o=r.getStore().get(r.getDimensionIndex(e.__dimIdx),t);(null==o||isNaN(o))&&(o=""),xp(e,bp(n),{labelFetcher:r.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:o,inheritColor:u,defaultOpacity:s.opacity})})),$u(e,p.get("focus"),p.get("blurScope"),p.get("disabled"))})),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(sy),TI=MI,II=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}// Overwrite
return de(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),// Enable legend selection for each data item
// Use a function instead of direct access because data reference may changed
this.legendVisualProvider=new sT(Xe(this.getData,this),Xe(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return aT(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),o=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(e),a=""===r?this.name:r,l=Ng(this,e);return Tg("section",{header:a,sortBlocks:!0,blocks:We(o,(function(t){var n=i.get(i.mapDimension(t.dim),e);return Tg("nameValue",{markerType:"subItem",markerColor:l,name:t.name,value:n,sortParam:n})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,i=t.getValues(We(n.dimensions,(function(e){return t.mapDimension(e)})),e),o=0,r=i.length;o<r;o++)if(!isNaN(i[o])){var a=n.getIndicatorAxes();return n.coordToPoint(a[o].dataToCoord(i[o]),o)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={// zlevel: 0,
z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},// areaStyle: {
// },
// itemStyle: {}
symbolSize:8},t}(Zg),kI=II,AI=TT.value;function DI(e,t){return Fe({show:t},e)}var OI=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),r=this.get("axisLabel"),a=this.get("axisName"),l=this.get(["axisName","show"]),s=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),c=this.get("triggerEvent"),d=We(this.get("indicator")||[],(function(d){// PENDING
null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var p=a;null!=d.color&&(p=Fe({color:d.color},a));// Use same configuration
var h=Re(Ne(d),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:o,// axisType: axisType,
axisLabel:r,// Compatible with 2 and use text
name:d.text,showName:l,nameLocation:"end",nameGap:u,// min: 0,
nameTextStyle:p,triggerEvent:c},!1);if(Je(s)){var f=h.name;h.name=s.replace("{value}",null!=f?f:"")}else $e(s)&&(h.name=s(h.name,h));var v=new Kp(h,null,this.ecModel);return je(v,Q_.prototype),// For triggerEvent.
v.mainType="radar",v.componentIndex=this.componentIndex,v}),this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={// zlevel: 0,
z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,// Polygon or circle
shape:"polygon",axisLine:Re({lineStyle:{color:"#bbb"}},AI.axisLine),axisLabel:DI(AI.axisLabel,!1),axisTick:DI(AI.axisTick,!1),// axisType: 'value',
splitLine:DI(AI.splitLine,!0),splitArea:DI(AI.splitArea,!0),// {text, min, max}
indicator:[]},t}(tf),PI=OI,LI=["axisLine","axisTickLabel","axisName"],EI=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem;Ge(We(t.getIndicatorAxes(),(function(e){var n=e.model.get("showName")?e.name:"";// hide name
return new QT(e.model,{axisName:n,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(e){Ge(LI,e.add,e),this.group.add(e.getGroup())}),this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var i=e.get("shape"),o=e.getModel("splitLine"),r=e.getModel("splitArea"),a=o.getModel("lineStyle"),l=r.getModel("areaStyle"),s=o.get("show"),u=r.get("show"),c=a.get("color"),d=l.get("color"),p=Ze(c)?c:[c],h=Ze(d)?d:[d],f=[],v=[];if("circle"===i)for(var g=n[0].getTicksCoords(),y=t.cx,m=t.cy,x=0;x<g.length;x++){if(s)f[I(f,p,x)].push(new kc({shape:{cx:y,cy:m,r:g[x].coord}}));if(u&&x<g.length-1)v[I(v,h,x)].push(new Zc({shape:{cx:y,cy:m,r0:g[x].coord,r:g[x+1].coord}}))}else{var b,_=We(n,(function(e,n){var i=e.getTicksCoords();return b=null==b?i.length-1:Math.min(i.length-1,b),We(i,(function(e){return t.coordToPoint(e.coord,n)}))})),w=[];for(x=0;x<=b;x++){for(var S=[],C=0;C<n.length;C++)S.push(_[C][x]);// Close
if(S[0]&&S.push(S[0].slice()),s)f[I(f,p,x)].push(new id({shape:{points:S}}));if(u&&w)v[I(v,h,x-1)].push(new ed({shape:{points:S.concat(w)}}));w=S.slice().reverse()}}var M=a.getLineStyle(),T=l.getAreaStyle();// Add splitArea before splitLine
Ge(v,(function(e,t){this.group.add(Jd(e,{style:Fe({stroke:"none",fill:h[t%h.length]},T),silent:!0}))}),this),Ge(f,(function(e,t){this.group.add(Jd(e,{style:Fe({fill:"none",stroke:p[t%p.length]},M),silent:!0}))}),this)}function I(e,t,n){var i=n%t.length;return e[i]=e[i]||[],i}},t.type="radar",t}(Jg),NI=EI,RI=/** @class */function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o.type="value",o.angle=0,o.name="",o}return de(t,e),t}(Mw),zI=RI,BI=/** @class */function(){function e(e,t,n){
/**
           *
           * Radar dimensions
           */
this.dimensions=[],this._model=e,this._indicatorAxes=We(e.getIndicatorModels(),(function(e,t){var n="indicator_"+t,i=new zI(n,new r_);return i.name=e.get("name"),// Inject model and axis
i.model=e,e.axis=i,this.dimensions.push(n),i}),this),this.resize(e,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},// TODO: API should be coordToPoint([coord, indicatorIndex])
e.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var o,r=Math.atan2(-n,t),a=1/0,l=-1,s=0// Find the closest angle
// FIXME index can calculated directly
;s<this._indicatorAxes.length;s++){var u=this._indicatorAxes[s],c=Math.abs(r-u.angle);c<a&&(o=u,l=s,a=c)}return[l,+(o&&o.coordToData(i))]},e.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),r=Math.min(i,o)/2;this.cx=Jr(n[0],i),this.cy=Jr(n[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;// radius may be single value like `20`, `'80%'`, or array like `[10, '80%']`
var a=e.get("radius");(Je(a)||et(a))&&(a=[0,a]),this.r0=Jr(a[0],r),this.r=Jr(a[1],r),Ge(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;// Normalize to [-PI, PI]
n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n}),this)},e.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;Ge(n,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,o){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===i){var r=t.getData();Ge(n,(function(e){e.scale.unionExtentFromData(r,r.mapDimension(e.dim))}))}}),this);var o=i.get("splitNumber"),r=new r_;r.setExtent(0,o),r.setInterval(1),// Force all the axis fixing the maxSplitNumber.
Ge(n,(function(e,t){VT(e.scale,e.model,r)}))},e.prototype.convertToPixel=function(e,t,n){return null},e.prototype.convertFromPixel=function(e,t,n){return null},e.prototype.containPoint=function(e){return!1},e.create=function(t,n){var i=[];return t.eachComponent("radar",(function(o){var r=new e(o,t,n);i.push(r),o.coordinateSystem=r})),t.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(// Inject coordinate system
// @ts-ignore
e.coordinateSystem=i[e.get("radarIndex")||0])})),i},
/**
         * Radar dimensions is based on the data
         */
e.dimensions=[],e}(),FI=BI;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function VI(e){e.registerCoordinateSystem("radar",FI),e.registerComponentModel(PI),e.registerComponentView(NI),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();// itemVisual symbol is for selected data
t.each((function(e){t.setItemVisual(e,"legendIcon","roundRect")})),// visual is for unselected data
t.setVisual("legendIcon","roundRect")}})}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var jI="\0_ec_interaction_mutex";function HI(e,t){return!!GI(e)[t]}function GI(e){return e[jI]||(e[jI]={})}
/**
       * payload: {
       *     type: 'takeGlobalCursor',
       *     key: 'dataZoomSelect', or 'brush', or ...,
       *         If no userKey, release global cursor.
       * }
       */
// TODO: SELF REGISTERED.
Xx({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Mt);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var WI=/** @class */function(e){function t(t){var n=e.call(this)||this;n._zr=t;// Avoid two roamController bind the same handler
var i=Xe(n._mousedownHandler,n),o=Xe(n._mousemoveHandler,n),r=Xe(n._mouseupHandler,n),a=Xe(n._mousewheelHandler,n),l=Xe(n._pinchHandler,n);
/**
           * Notice: only enable needed types. For example, if 'zoom'
           * is not needed, 'zoom' should not be enabled, otherwise
           * default mousewheel behaviour (scroll page) will be disabled.
           */return n.enable=function(e,n){// Disable previous first
this.disable(),this._opt=Fe(Ne(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,// By default, wheel do not trigger move.
moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",i),t.on("mousemove",o),t.on("mouseup",r)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",a),t.on("pinch",l))},n.disable=function(){t.off("mousedown",i),t.off("mousemove",o),t.off("mouseup",r),t.off("mousewheel",a),t.off("pinch",l)},n}return de(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!yn(e)){for(var t=e.target;t;){if(t.draggable)return;// check if host is draggable
t=t.__hostTarget||t.parent}var n=e.offsetX,i=e.offsetY;// Only check on mosedown, but not mousemove.
// Mouse can be out of target when mouse moving.
this.pointerChecker&&this.pointerChecker(e,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&YI("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!HI(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,o=this._y,r=t-i,a=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&gn(e.event),UI(this,"pan","moveOnMouseMove",e,{dx:r,dy:a,oldX:i,oldY:o,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){yn(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=YI("zoomOnMouseWheel",e,this._opt),n=YI("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,o=Math.abs(i),r=e.offsetX,a=e.offsetY;// wheelDelta maybe -0 in chrome mac.
if(0!==i&&(t||n)){// If both `shouldZoom` and `shouldMove` is true, trigger
// their event both, and the final behavior is determined
// by event listener themselves.
if(t){// Convenience:
// Mac and VM Windows on Mac: scroll up: zoom out.
// Windows: scroll up: zoom in.
// FIXME: Should do more test in different environment.
// wheelDelta is too complicated in difference nvironment
// (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),
// although it has been normallized by zrender.
// wheelDelta of mouse wheel is bigger than touch pad.
var l=o>3?1.4:o>1?1.2:1.1;KI(this,"zoom","zoomOnMouseWheel",e,{scale:i>0?l:1/l,originX:r,originY:a,isAvailableBehavior:null})}if(n){// FIXME: Should do more test in different environment.
var s=Math.abs(i);// wheelDelta of mouse wheel is bigger than touch pad.
KI(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(i>0?1:-1)*(s>3?.4:s>1?.15:.05),originX:r,originY:a,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){HI(this._zr,"globalPan")||KI(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(Zt);function KI(e,t,n,i,o){e.pointerChecker&&e.pointerChecker(i,o.originX,o.originY)&&(// When mouse is out of roamController rect,
// default befavoius should not be be disabled, otherwise
// page sliding is disabled, contrary to expectation.
gn(i.event),UI(e,t,n,i,o))}function UI(e,t,n,i,o){// Also provide behavior checker for event listener, for some case that
// multiple components share one listener.
o.isAvailableBehavior=Xe(YI,null,n,i),// TODO should not have type issue.
e.trigger(t,o)}// settings: {
//     zoomOnMouseWheel
//     moveOnMouseMove
//     moveOnMouseWheel
// }
// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.
function YI(e,t,n){var i=n[e];return!e||i&&(!Je(i)||t.event[i+"Key"])}var XI=WI;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * For geo and graph.
       */function qI(e,t,n){var i=e.target;i.x+=t,i.y+=n,i.dirty()}
/**
       * For geo and graph.
       */function ZI(e,t,n,i){var o=e.target,r=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,r){var l=r.min||0,s=r.max||1/0;a=Math.max(Math.min(s,a),l)}var u=a/e.zoom;e.zoom=a,// Keep the mouse center when scaling
o.x-=(n-o.x)*(u-1),o.y-=(i-o.y)*(u-1),o.scaleX*=u,o.scaleY*=u,o.dirty()}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var $I,JI={axisPointer:1,tooltip:1,brush:1};
/**
       * Avoid that: mouse click on a elements that is over geo or graph,
       * but roam is triggered.
       */function QI(e,t,n){var i=t.getComponentByElement(e.topTarget),o=i&&i.coordinateSystem;// If model is axisModel, it works only if it is injected with coordinateSystem.
return i&&i!==n&&!JI.hasOwnProperty(i.mainType)&&o&&o.model!==n}function ek(e){Je(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var tk={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},nk=Ye(tk),ik={"alignment-baseline":"textBaseline","stop-color":"stopColor"},ok=Ye(ik),rk=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var n=ek(e);this._defsUsePending=[];var i=new Kr;this._root=i;var o=[],r=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(l)&&(l=null),dk(n,i,null,!0,!1);for(var s,u,c=n.firstChild;c;)this._parseNode(c,i,o,null,!1,!1),c=c.nextSibling;if(function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i[0].style[i[1]]=e[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],r){var d=vk(r);d.length>=4&&(s={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(s&&null!=a&&null!=l&&(u=bk(s,{x:0,y:0,width:a,height:l}),!t.ignoreViewBox)){var p=i;(i=new Kr).add(p),p.scaleX=p.scaleY=u.scale,p.x=u.x,p.y=u.y}return t.ignoreRootClip||null==a||null==l||i.setClipPath(new Gs({shape:{x:0,y:0,width:a,height:l}})),{root:i,width:a,height:l,viewBoxRect:s,viewBoxTransform:u,named:o}},e.prototype._parseNode=function(e,t,n,i,o,r){var a,l=e.nodeName.toLowerCase(),s=i;if("defs"===l&&(o=!0),"text"===l&&(r=!0),"defs"===l||"switch"===l)a=t;else{if(!o){var u=$I[l];if(u&&Ct($I,l)){a=u.call(this,e,t);var c=e.getAttribute("name");if(c){var d={name:c,namedFrom:null,svgNodeTagLower:l,el:a};n.push(d),"g"===l&&(s=d)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:l,el:a});t.add(a)}}var p=ak[l];if(p&&Ct(ak,l)){var h=p.call(this,e),f=e.getAttribute("id");f&&(this._defs[f]=h)}}if(a&&a.isGroup)for(var v=e.firstChild;v;)1===v.nodeType?this._parseNode(v,a,n,s,o,r):3===v.nodeType&&r&&this._parseText(v,a),v=v.nextSibling},e.prototype._parseText=function(e,t){var n=new Os({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});uk(t,n),dk(e,n,this._defsUsePending,!1,!1),function(e,t){var n=t.__selfStyle;if(n){var i=n.textBaseline,o=i;i&&"auto"!==i?"baseline"===i?o="alphabetic":"before-edge"===i||"text-before-edge"===i?o="top":"after-edge"===i||"text-after-edge"===i?o="bottom":"central"!==i&&"mathematical"!==i||(o="middle"):o="alphabetic",e.style.textBaseline=o}var r=t.__inheritedStyle;if(r){var a=r.textAlign,l=a;a&&("middle"===a&&(l="center"),e.style.textAlign=l)}}(n,t);var i=n.style,o=i.fontSize;o&&o<9&&(i.fontSize=9,n.scaleX*=o/9,n.scaleY*=o/9);var r=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=r;var a=n.getBoundingRect();return this._textX+=a.width,t.add(n),n},e.internalField=void($I={g:function(e,t){var n=new Kr;return uk(t,n),dk(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new Gs;return uk(t,n),dk(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new kc;return uk(t,n),dk(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new ld;return uk(t,n),dk(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new Oc;return uk(t,n),dk(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n,i=e.getAttribute("points");i&&(n=ck(i));var o=new ed({shape:{points:n||[]},silent:!0});return uk(t,o),dk(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var n,i=e.getAttribute("points");i&&(n=ck(i));var o=new id({shape:{points:n||[]},silent:!0});return uk(t,o),dk(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var n=new Ns;return uk(t,n),dk(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",r=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(r);var a=new Kr;return uk(t,a),dk(e,a,this._defsUsePending,!1,!0),a},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var o=e.getAttribute("dx")||"0",r=e.getAttribute("dy")||"0",a=new Kr;return uk(t,a),dk(e,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(r),a},path:function(e,t){var n=Cc(e.getAttribute("d")||"");return uk(t,n),dk(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),e}(),ak={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),i=parseInt(e.getAttribute("x2")||"10",10),o=parseInt(e.getAttribute("y2")||"0",10),r=new _d(t,n,i,o);return lk(e,r),sk(e,r),r},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),i=parseInt(e.getAttribute("r")||"0",10),o=new Sd(t,n,i);return lk(e,o),sk(e,o),o}};function lk(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function sk(e,t){for(var n=e.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute("offset"),o=void 0;o=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var r={};xk(n,r,r);var a=r.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:o,color:a})}n=n.nextSibling}}function uk(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Fe(t.__inheritedStyle,e.__inheritedStyle))}function ck(e){for(var t=vk(e),n=[],i=0;i<t.length;i+=2){var o=parseFloat(t[i]),r=parseFloat(t[i+1]);n.push([o,r])}return n}function dk(e,t,n,i,o){var r=t,a=r.__inheritedStyle=r.__inheritedStyle||{},l={};1===e.nodeType&&(function(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=[],o=null;n.replace(gk,(function(e,t,n){return i.push(t,n),""}));for(var r=i.length-1;r>0;r-=2){var a=i[r],l=i[r-1],s=vk(a);switch(o=o||[1,0,0,1,0,0],l){case"translate":Cn(o,o,[parseFloat(s[0]),parseFloat(s[1]||"0")]);break;case"scale":Tn(o,o,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":Mn(o,o,-parseFloat(s[0])*yk);break;case"skewX":Sn(o,[1,0,Math.tan(parseFloat(s[0])*yk),1,0,0],o);break;case"skewY":Sn(o,[1,Math.tan(parseFloat(s[0])*yk),0,1,0,0],o);break;case"matrix":o[0]=parseFloat(s[0]),o[1]=parseFloat(s[1]),o[2]=parseFloat(s[2]),o[3]=parseFloat(s[3]),o[4]=parseFloat(s[4]),o[5]=parseFloat(s[5])}}t.setLocalTransform(o)}}(e,t),xk(e,a,l),i||function(e,t,n){for(var i=0;i<nk.length;i++){var o=nk[i];null!=(r=e.getAttribute(o))&&(t[tk[o]]=r)}for(i=0;i<ok.length;i++){var r;o=ok[i];null!=(r=e.getAttribute(o))&&(n[ik[o]]=r)}}(e,a,l)),r.style=r.style||{},null!=a.fill&&(r.style.fill=hk(r,"fill",a.fill,n)),null!=a.stroke&&(r.style.stroke=hk(r,"stroke",a.stroke,n)),Ge(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=a[e]&&(r.style[e]=parseFloat(a[e]))})),Ge(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=a[e]&&(r.style[e]=a[e])})),o&&(r.__selfStyle=l),a.lineDash&&(r.style.lineDash=We(vk(a.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(r.invisible=!0),"none"===a.display&&(r.ignore=!0)}var pk=/^url\(\s*#(.*?)\)/;function hk(e,t,n,i){var o=n&&n.match(pk);if(!o)return"none"===n&&(n=null),n;var r=ht(o[1]);i.push([e,t,r])}var fk=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function vk(e){return e.match(fk)||[]}var gk=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,yk=Math.PI/180;var mk=/([^\s:;]+)\s*:\s*([^:;]+)/g;function xk(e,t,n){var i,o=e.getAttribute("style");if(o)for(mk.lastIndex=0;null!=(i=mk.exec(o));){var r=i[1],a=Ct(tk,r)?tk[r]:null;a&&(t[a]=i[2]);var l=Ct(ik,r)?ik[r]:null;l&&(n[l]=i[2])}}function bk(e,t){var n=t.width/e.width,i=t.height/e.height,o=Math.min(n,i);return{scale:o,x:-(e.x+e.width/2)*o+(t.x+t.width/2),y:-(e.y+e.height/2)*o+(t.y+t.height/2)}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * "region available" means that: enable users to set attribute `name="xxx"` on those tags
       * to make it be a region.
       * 1. region styles and its label styles can be defined in echarts opton:
       * ```js
       * geo: {
       *     regions: [{
       *         name: 'xxx',
       *         itemStyle: { ... },
       *         label: { ... }
       *     }, {
       *         ...
       *     },
       *     ...]
       * };
       * ```
       * 2. name can be duplicated in different SVG tag. All of the tags with the same name share
       * a region option. For exampel if there are two <path> representing two lung lobes. They have
       * no common parents but both of them need to display label "lung" inside.
       */
var _k=bt(["rect","circle","line","ellipse","polygon","polyline","path",// <text> <tspan> are also enabled because some SVG might paint text itself,
// but still need to trigger events or tooltip.
"text","tspan",// <g> is also enabled because this case: if multiple tags share one name
// and need label displayed, every tags will display the name, which is not
// expected. So we can put them into a <g name="xxx">. Thereby only one label
// displayed and located based on the bounding rect of the <g>.
"g"]),wk=/** @class */function(){function e(e,t){this.type="geoSVG",// All used graphics. key: hostKey, value: root
this._usedGraphicMap=bt(),// All unused graphics.
this._freedGraphics=[],this._mapName=e,// Only perform parse to XML object here, which might be time
// consiming for large SVG.
// Although convert XML to zrender element is also time consiming,
// if we do it here, the clone of zrender elements has to be
// required. So we do it once for each geo instance, util real
// performance issues call for optimizing it.
this._parsedXML=ek(t)}return e.prototype.load=function(){// In the "load" stage, graphic need to be built to
// get boundingRect for geo coordinate system.
var e=this._firstGraphic;// Create the return data structure only when first graphic created.
// Because they will be used in geo coordinate system update stage,
// and `regions` will be mounted at `geo` coordinate system,
// in which there is no "view" info, so that it should better not to
// make references to graphic elements.
if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();// PENDING: `nameMap` will not be supported until some real requirement come.
// if (nameMap) {
//     named = applyNameMap(named, nameMap);
// }
var t=function(e){var t=[],n=bt();// Create resions only for the first graphic.
return Ge(e,(function(e){// Region has feature to calculate center for tooltip or other features.
// If there is a <g name="xxx">, the center should be the center of the
// bounding rect of the g.
if(null==e.namedFrom){var i=new uw(e.name,e.el);// PENDING: if `nameMap` supported, this region can not be mounted on
// `this`, but can only be created each time `load()` called.
t.push(i),// PENDING: if multiple tag named with the same name, only one will be
// found by `_regionsMap`. `_regionsMap` is used to find a coordinate
// by name. We use `region.getCenter()` as the coordinate.
n.set(e.name,i)}})),{regions:t,regionsMap:n}}// PENDING: `nameMap` will not be supported until some real requirement come.
// /**
//  * Use the alias in geoNameMap.
//  * The input `named` must not be modified.
//  */
// function applyNameMap(
//     named: GeoSVGGraphicRecord['named'],
//     nameMap: NameMap
// ): GeoSVGGraphicRecord['named'] {
//     const result = [] as GeoSVGGraphicRecord['named'];
//     for (let i = 0; i < named.length; i++) {
//         let regionGraphic = named[i];
//         const name = regionGraphic.name;
//         if (nameMap && nameMap.hasOwnProperty(name)) {
//             regionGraphic = extend({}, regionGraphic);
//             regionGraphic.name = name;
//         }
//         result.push(regionGraphic);
//     }
//     return result;
// }
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(e.named),n=t.regions,i=t.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,n,i,o;try{pt(null!=(n=(t=e&&(i=e,o={ignoreViewBox:!0,ignoreRootClip:!0},(new rk).parse(i,o))||{}).root))}catch(qX){throw new Error("Invalid svg format\n"+qX.message)}// Note: we keep the covenant that the root has no transform. So always add an extra root.
var r=new Kr;r.add(n),r.isGeoSVGGraphicRoot=!0;// [THE_RULE_OF_VIEWPORT_AND_VIEWBOX]
// Consider: `<svg width="..." height="..." viewBox="...">`
// - the `width/height` we call it `svgWidth/svgHeight` for short.
// - `(0, 0, svgWidth, svgHeight)` defines the viewport of the SVG, or say,
//   "viewport boundingRect", or `boundingRect` for short.
// - `viewBox` defines the transform from the real content ot the viewport.
//   `viewBox` has the same unit as the content of SVG.
//   If `viewBox` exists, a transform is defined, so the unit of `svgWidth/svgHeight` become
//   different from the content of SVG. Otherwise, they are the same.
// If both `svgWidth/svgHeight/viewBox` are specified in a SVG file, the transform rule will be:
// 0. `boundingRect` is `(0, 0, svgWidth, svgHeight)`. Set it to Geo['_rect'] (View['_rect']).
// 1. Make a transform from `viewBox` to `boundingRect`.
//    Note: only support `preserveAspectRatio 'xMidYMid'` here. That is, this transform will preserve
//    the aspect ratio.
// 2. Make a transform from boundingRect to Geo['_viewRect'] (View['_viewRect'])
//    (`Geo`/`View` will do this job).
//    Note: this transform might not preserve aspect radio, which depending on how users specify
//    viewRect in echarts option (e.g., `geo.left/top/width/height` will not preserve aspect ratio,
//    but `geo.layoutCenter/layoutSize` will preserve aspect ratio).
// If `svgWidth/svgHeight` not specified, we use `viewBox` as the `boundingRect` to make the SVG
// layout look good.
// If neither `svgWidth/svgHeight` nor `viewBox` are not specified, we calculate the boundingRect
// of the SVG content and use them to make SVG layout look good.
var a=t.width,l=t.height,s=t.viewBoxRect,u=this._boundingRect;if(!u){var c=void 0,d=void 0,p=void 0,h=void 0;// If both viewBox and svgWidth/svgHeight not specified,
// we have to determine how to layout those element to make them look good.
if(null!=a?(c=0,p=a):s&&(c=s.x,p=s.width),null!=l?(d=0,h=l):s&&(d=s.y,h=s.height),null==c||null==d){var f=n.getBoundingRect();null==c&&(c=f.x,p=f.width),null==d&&(d=f.y,h=f.height)}u=this._boundingRect=new Fn(c,d,p,h)}if(s){var v=bk(s,u);// Only support `preserveAspectRatio 'xMidYMid'`
n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}// SVG needs to clip based on `viewBox`. And some SVG files really rely on this feature.
// They do not strictly confine all of the content inside a display rect, but deliberately
// use a `viewBox` to define a displayable rect.
// PENDING:
// The drawback of the `setClipPath` here is: the region label (genereted by echarts) near the
// edge might also be clipped, because region labels are put as `textContent` of the SVG path.
r.setClipPath(new Gs({shape:u.plain()}));var g=[];return Ge(t.named,(function(e){var t;null!=_k.get(e.svgNodeTagLower)&&(g.push(e),// Only named element has silent: false, other elements should
// act as background and has no user interaction.
(t=e.el).silent=!1,// text|tspan will be converted to group.
t.isGroup&&t.traverse((function(e){e.silent=!1})))})),{root:r,boundingRect:u,named:g}},
/**
         * Consider:
         * (1) One graphic element can not be shared by different `geoView` running simultaneously.
         *     Notice, also need to consider multiple echarts instances share a `mapRecord`.
         * (2) Converting SVG to graphic elements is time consuming.
         * (3) In the current architecture, `load` should be called frequently to get boundingRect,
         *     and it is called without view info.
         * So we maintain graphic elements in this module, and enables `view` to use/return these
         * graphics from/to the pool with it's uid.
         */
e.prototype.useGraphic=function(e/* , nameMap: NameMap */){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},e}();for(var Sk=[126,25],Ck="南海诸岛",Mk=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Tk=0;Tk<Mk.length;Tk++)for(var Ik=0;Ik<Mk[Tk].length;Ik++)Mk[Tk][Ik][0]/=10.5,Mk[Tk][Ik][1]/=-14,Mk[Tk][Ik][0]+=Sk[0],Mk[Tk][Ik][1]+=Sk[1];
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var kk={"南海诸岛":[32,80],// 全国
"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],// '北京': [-10, 0],
"天津":[5,5]};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
// Fix for 钓鱼岛
// let Region = require('../Region');
// let zrUtil = require('zrender/lib/core/util');
// let geoCoord = [126, 25];
var Ak=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var Dk=/** @class */function(){function e(e,t,n){var i;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */this.type="geoJSON",this._parsedMap=bt(),this._mapName=e,this._specialAreas=n,// PENDING: delay the parse to the first usage to rapid up the FMP?
this._geoJSON=Je(i=t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(i):new Function("return ("+i+");")():i}
/**
         * @param nameMap can be null/undefined
         * @param nameProperty can be null/undefined
         */return e.prototype.load=function(e,t){t=t||"name";var n=this._parsedMap.get(t);if(!n){var i=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:i,boundingRect:Ok(i)})}var o=bt(),r=[];return Ge(n.regions,(function(t){var n=t.name;// Try use the alias in geoNameMap
e&&Ct(e,n)&&(t=t.cloneShallow(n=e[n])),r.push(t),o.set(n,t)})),{regions:r,boundingRect:n.boundingRect||new Fn(0,0,0,0),regionsMap:o}},e.prototype._parseToRegions=function(e){var t,n=this._mapName,i=this._geoJSON;// https://jsperf.com/try-catch-performance-overhead
try{t=i?pw(i,e):[]}catch(qX){throw new Error("Invalid geoJson format\n"+qX.message)}return function(e,t){if("china"===e){for(var n=0;n<t.length;n++)// Already exists.
if(t[n].name===Ck)return;t.push(new sw(Ck,We(Mk,(function(e){return{type:"polygon",exterior:e}})),Sk))}}(n,t),Ge(t,(function(e){var t=e.name;!function(e,t){if("china"===e){var n=kk[t.name];if(n){var i=t.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,t.setCenter(i)}}}(n,e),function(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:Ak[0]})}(n,e);// Some area like Alaska in USA map needs to be tansformed
// to look better
var i=this._specialAreas&&this._specialAreas[t];i&&e.transformTo(i.left,i.top,i.width,i.height)}),this),t},
/**
         * Only for exporting to users.
         * **MUST NOT** used internally.
         */
e.prototype.getMapForUser=function(){return{// For backward compatibility, use geoJson
// PENDING: it has been returning them without clone.
// do we need to avoid outsite modification?
geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function Ok(e){for(var t,n=0;n<e.length;n++){var i=e[n].getBoundingRect();(t=t||i.clone()).union(i)}return t}var Pk=bt(),Lk=function(e,t,n){if(t.svg){var i=new wk(e,t.svg);Pk.set(e,i)}else{// Recommend:
//     echarts.registerMap('eu', { geoJSON: xxx, specialAreas: xxx });
// Backward compatibility:
//     echarts.registerMap('eu', geoJSON, specialAreas);
//     echarts.registerMap('eu', { geoJson: xxx, specialAreas: xxx });
var o=t.geoJson||t.geoJSON;o&&!t.features?n=t.specialAreas:o=t;i=new Dk(e,o,n);Pk.set(e,i)}},Ek=function(e){return Pk.get(e)},Nk=function(e){var t=Pk.get(e);// Do not support return SVG until some real requirement come.
return t&&"geoJSON"===t.type&&t.getMapForUser()},Rk=function(e,t,n){var i=Pk.get(e);if(i)return i.load(t,n)},zk=["rect","circle","line","ellipse","polygon","polyline","path"],Bk=bt(zk),Fk=bt(zk.concat(["g"])),Vk=bt(zk.concat(["g"])),jk=Ea();function Hk(e){var t=e.getItemStyle(),n=e.get("areaColor");// If user want the color not to be changed when hover,
// they should both set areaColor and color to be null.
return null!=n&&(t.fill=n),t}// Only stroke can be used for line.
// Using fill in style if stroke not exits.
// TODO Not sure yet. Perhaps a separate `lineStyle`?
function Gk(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var Wk=/** @class */function(){function e(e){var t=new Kr;this.uid=Yp("ec_map_draw"),this._controller=new XI(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Kr),t.add(this._svgGroup=new Kr)}return e.prototype.draw=function(e,t,n,i,o){var r="geo"===e.mainType,a=e.getData&&e.getData();// Map series has data. GEO model that controlled by map series
// will be assigned with map data. Other GEO model has no data.
r&&t.eachComponent({mainType:"series",subType:"map"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())}));var l=e.coordinateSystem,s=this._regionsGroup,u=this.group,c=l.getTransformInfo(),d=c.raw,p=c.roam;!s.childAt(0)||o?(u.x=p.x,u.y=p.y,u.scaleX=p.scaleX,u.scaleY=p.scaleY,u.dirty()):Rd(u,p,e);var h=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,f={api:n,geo:l,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:h,isGeo:r,transformInfoRaw:d};"geoJSON"===l.resourceType?this._buildGeoJSON(f):"geoSVG"===l.resourceType&&this._buildSVG(f),this._updateController(e,t,n),this._updateMapSelectHandler(e,s,n,i)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=bt(),n=bt(),i=this._regionsGroup,o=e.transformInfoRaw,r=e.mapOrGeoModel,a=e.data,l=e.geo.projection,s=l&&l.stream;function u(e,t){return t&&(// projection may return null point.
e=t(e)),e&&[e[0]*o.scaleX+o.x,e[1]*o.scaleY+o.y]}function c(e){for(var t=[],n=!s&&l&&l.project,i=0// If projectionStream is provided. Use it instead of single point project.
;i<e.length;++i){var o=u(e[i],n);o&&t.push(o)}return t}function d(e){return{shape:{points:c(e)}}}i.removeAll(),// Only when the resource is GeoJSON, there is `geo.regions`.
Ge(e.geo.regions,(function(o){var c=o.name,p=t.get(c),h=n.get(c)||{},f=h.dataIdx,v=h.regionModel;// Consider in GeoJson properties.name may be duplicated, for example,
// there is multiple region named "United Kindom" or "France" (so many
// colonies). And it is not appropriate to merge them in geo, which
// will make them share the same label and bring trouble in label
// location calculation.
p||(p=t.set(c,new Kr),i.add(p),f=a?a.indexOfName(c):null,v=e.isGeo?r.getRegionModel(c):a?a.getItemModel(f):null,n.set(c,{dataIdx:f,regionModel:v}));var g=[],y=[];Ge(o.geometries,(function(e){// Polygon and MultiPolygon
if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);s&&(t=Zk(t,s)),Ge(t,(function(e){g.push(new ed(d(e)))}))}// LineString and MultiLineString
else{var n=e.points;s&&(n=Zk(n,s,!0)),Ge(n,(function(e){y.push(new id(d(e)))}))}}));var m=u(o.getCenter(),l&&l.project);function x(t,n){if(t.length){var i=new yd({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});p.add(i),Kk(e,i,f,v),Uk(e,i,c,v,r,f,m),n&&(Gk(i),Ge(i.states,Gk))}}x(g),x(y,!0)})),// Ensure children have been added to `regionGroup` before calling them.
t.each((function(t,i){var o=n.get(i),a=o.dataIdx,l=o.regionModel;Yk(e,t,i,l,r,a),Xk(e,t,i,l,r),qk(e,t,i,l,r)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=bt(),o=!1;Ge(this._svgGraphicRecord.named,(function(t){// Note that we also allow different elements have the same name.
// For example, a glyph of a city and the label of the city have
// the same name and their tooltip info can be defined in a single
// region option.
var n=t.name,r=e.mapOrGeoModel,a=e.data,l=t.svgNodeTagLower,s=t.el,u=a?a.indexOfName(n):null,c=r.getRegionModel(n);// If self named:
(null!=Bk.get(l)&&s instanceof Il&&Kk(e,s,u,c),s instanceof Il&&(s.culling=!0),// We do not know how the SVG like so we'd better not to change z2.
// Otherwise it might bring some unexpected result. For example,
// an area hovered that make some inner city can not be clicked.
s.z2EmphasisLift=0,t.namedFrom)||(// label should batter to be displayed based on the center of <g>
// if it is named rather than displayed on each child.
null!=Vk.get(l)&&Uk(e,s,n,c,r,u,null),Yk(e,s,n,c,r,u),Xk(e,s,n,c,r),null!=Fk.get(l)&&("self"===qk(e,s,n,c,r)&&(o=!0),(i.get(n)||i.set(n,[])).push(s)))}),this),this._enableBlurEntireSVG(o,e)},e.prototype._enableBlurEntireSVG=function(e,t){// It's a little complicated to support blurring the entire geoSVG in series-map.
// So do not suport it until some requirements come.
// At present, in series-map, only regions can be blurred.
if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;// Only suport `opacity` here. Because not sure that other props are suitable for
// all of the elements generated by SVG (especially for Text/TSpan/Image/... ).
this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){// PENDING: clear those settings to SVG elements when `_freeSVG`.
// (Currently it happen not to be needed.)
Eu(e);var t=e.ensureState("blur").style||{};// Do not overwrite the region style that already set from region option.
null==t.opacity&&null!=n&&(t.opacity=n),// If `ensureState('blur').style = {}`, there will be default opacity.
// Enable `stateTransition` (animation).
e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var n=t.coordinateSystem;if("geoJSON"===n.resourceType){var i=this._regionsGroupByName;if(i){var o=i.get(e);return o?[o]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=Ek(e);if(t&&"geoSVG"===t.type){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=Ek(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,n){var i=e.coordinateSystem,o=this._controller,r=this._controllerHost;// @ts-ignore FIXME:TS
r.zoomLimit=e.get("scaleLimit"),r.zoom=i.getZoom(),// roamType is will be set default true if it is null
// @ts-ignore FIXME:TS
o.enable(e.get("roam")||!1);var a=e.mainType;function l(){var t={type:"geoRoam",componentType:a};return t[a+"Id"]=e.id,t}o.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,qI(r,e.dx,e.dy),n.dispatchAction(Be(l(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),o.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,ZI(r,e.scale,e.originX,e.originY),n.dispatchAction(Be(l(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),o.setPointerChecker((function(t,o,r){return i.containPoint([o,r])&&!QI(t,n,e)}))},
/**
         * FIXME: this is a temporarily workaround.
         * When `geoRoam` the elements need to be reset in `MapView['render']`, because the props like
         * `ignore` might have been modified by `LabelManager`, and `LabelManager#addLabelsOfSeries`
         * will subsequently cache `defaultAttr` like `ignore`. If do not do this reset, the modified
         * props will have no chance to be restored.
         * Note: This reset should be after `clearStates` in `renderSeries` because `useStates` in
         * `renderSeries` will cache the modified `ignore` to `el._normalState`.
         * TODO:
         * Use clone/immutable in `LabelManager`?
         */
e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=jk(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,n,i){var o=this;t.off("mousedown"),t.off("click"),// @ts-ignore FIXME:TS resolve type conflict
e.get("selectedMode")&&(t.on("mousedown",(function(){o._mouseDownFlag=!0})),t.on("click",(function(e){o._mouseDownFlag&&(o._mouseDownFlag=!1)})))},e}();function Kk(e,t,n,i){// All of the path are using `itemStyle`, because
// (1) Some SVG also use fill on polyline (The different between
// polyline and polygon is "open" or "close" but not fill or not).
// (2) For the common props like opacity, if some use itemStyle
// and some use `lineStyle`, it might confuse users.
// (3) Most SVG use <path>, where can not detect wether draw a "line"
// or a filled shape, so use `itemStyle` for <path>.
var o=i.getModel("itemStyle"),r=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),l=i.getModel(["select","itemStyle"]),s=Hk(o),u=Hk(r),c=Hk(l),d=Hk(a),p=e.data;if(p){// Only visual color of each item will be used. It can be encoded by visualMap
// But visual color of series is used in symbol drawing
// Visual color for each series is for the symbol draw
var h=p.getItemVisual(n,"style"),f=p.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&h.fill&&(s.fill=h.fill),f&&(s.decal=Km(f,e.api))}// SVG text, tspan and image can be named but not supporeted
// to be styled by region option yet.
t.setStyle(s),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=d,// Enable blur
Eu(t)}function Uk(e,t,n,i,o,// Exist only if `viewBuildCtx.data` exists.
r,// If labelXY not provided, use `textConfig.position: 'inside'`
a){var l=e.data,s=e.isGeo,u=l&&isNaN(l.get(l.mapDimension("value"),r)),c=l&&l.getItemLayout(r);// In the following cases label will be drawn
// 1. In map series and data value is NaN
// 2. In geo component
// 3. Region has no series legendIcon, which will be add a showLabel flag in mapSymbolLayout
if(s||u||c&&c.showLabel){var d=s?n:r,p=void 0;// Consider dataIdx not found.
(!l||r>=0)&&(p=o);var h=a?{normal:{align:"center",verticalAlign:"middle"}}:null;// Caveat: must be called after `setDefaultStateProxy(el);` called.
// because textContent will be assign with `el.stateProxy` inside.
xp(t,bp(i),{labelFetcher:p,labelDataIndex:d,defaultText:n},h);var f=t.getTextContent();if(f&&(jk(f).ignore=f.ignore,t.textConfig&&a)){// Compute a relative offset based on the el bounding rect.
var v=t.getBoundingRect().clone();// Need to make sure the percent position base on the same rect in normal and
// emphasis state. Otherwise if using boundingRect of el, but the emphasis state
// has borderWidth (even 0.5px), the text position will be changed obviously
// if the position is very big like ['1234%', '1345%'].
t.textConfig.layoutRect=v,t.textConfig.position=[(a[0]-v.x)/v.width*100+"%",(a[1]-v.y)/v.height*100+"%"]}// PENDING:
// If labelLayout is enabled (test/label-layout.html), el.dataIndex should be specified.
// But el.dataIndex is also used to determine whether user event should be triggered,
// where el.seriesIndex or el.dataModel must be specified. At present for a single el
// there is not case that "only label layout enabled but user event disabled", so here
// we depends `resetEventTriggerForRegion` to do the job of setting `el.dataIndex`.
t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function Yk(e,t,n,i,o,// Exist only if `viewBuildCtx.data` exists.
r){// setItemGraphicEl, setHoverStyle after all polygons and labels
// are added to the regionGroup
e.data?// FIXME: when series-map use a SVG map, and there are duplicated name specified
// on different SVG elements, after `data.setItemGraphicEl(...)`:
// (1) all of them will be mounted with `dataIndex`, `seriesIndex`, so that tooltip
// can be triggered only mouse hover. That's correct.
// (2) only the last element will be kept in `data`, so that if trigger tooltip
// by `dispatchAction`, only the last one can be found and triggered. That might be
// not correct. We will fix it in future if anyone demanding that.
e.data.setItemGraphicEl(r,t):// Package custom mouse event for geo component
au(t).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:n,region:i&&i.option||{}}}function Xk(e,t,n,i,o){e.data||pp({el:t,componentModel:o,itemName:n,// @ts-ignore FIXME:TS fix the "compatible with each other"?
itemTooltipOption:i.get("tooltip")})}function qk(e,t,n,i,o){// @ts-ignore FIXME:TS fix the "compatible with each other"?
t.highDownSilentOnTouch=!!o.get("selectedMode");// @ts-ignore FIXME:TS fix the "compatible with each other"?
var r=i.getModel("emphasis"),a=r.get("focus");return $u(t,a,r.get("blurScope"),r.get("disabled")),e.isGeo&&function(e,t,n){var i=au(e);i.componentMainType=t.mainType,i.componentIndex=t.componentIndex,i.componentHighDownName=n}(t,o,n),a}function Zk(e,// Polygons include exterior and interiors. Or polylines.
t,n){var i,o=[];function r(){i=[]}function a(){i.length&&(o.push(i),i=[])}var l=t({polygonStart:r,polygonEnd:a,lineStart:r,lineEnd:a,point:function(e,t){// May have NaN values from stream.
isFinite(e)&&isFinite(t)&&i.push([e,t])},sphere:function(){}});return!n&&l.polygonStart(),Ge(e,(function(e){l.lineStart();for(var t=0;t<e.length;t++)l.point(e[t][0],e[t][1]);l.lineEnd()})),!n&&l.polygonEnd(),o}var $k=Wk,Jk=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n,i){// Not render if it is an toggleSelect action from self
if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){// Not update map if it is an roam action from self
if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(r=this._mapDraw)&&o.add(r.group);else if(e.needsDrawMap){var r=this._mapDraw||new $k(n);o.add(r.group),r.draw(e,t,n,this,i),this._mapDraw=r}else// Remove drawn map
this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),(function(t,n){if(!isNaN(t)){var r=i.getItemLayout(n);if(r&&r.point){var a=r.point,l=r.offset,s=new kc({style:{// Because the special of map draw.
// Which needs statistic of multiple series and draw on one map.
// And each series also need a symbol with legend color
// Layout and visual are put one the different data
// TODO
fill:e.getData().getVisual("style").fill},shape:{cx:a[0]+9*l,cy:a[1],r:3},silent:!0,// Do not overlap the first series, on which labels are displayed.
z2:8+(l?0:11)});// Only the series that has the first value on the same region is in charge of rendering the label.
// But consider the case:
// series: [
//     {id: 'X', type: 'map', map: 'm', {data: [{name: 'A', value: 11}, {name: 'B', {value: 22}]},
//     {id: 'Y', type: 'map', map: 'm', {data: [{name: 'A', value: 21}, {name: 'C', {value: 33}]}
// ]
// The offset `0` of item `A` is at series `X`, but of item `C` is at series `Y`.
// For backward compatibility, we follow the rule that render label `A` by the
// settings on series `X` but render label `C` by the settings on series `Y`.
if(!l){var u=e.mainSeries.getData(),c=i.getName(n),d=u.indexOfName(c),p=i.getItemModel(n),h=p.getModel("label"),f=u.getItemGraphicEl(d);// `getFormattedLabel` needs to use `getData` inside. Here
// `mapModel.getData()` is shallow cloned from `mainSeries.getData()`.
// FIXME
// If this is not the `mainSeries`, the item model (like label formatter)
// set on original data item will never get. But it has been working
// like that from the beginning, and this scenario is rarely encountered.
// So it won't be fixed until we have to.
xp(s,bp(p),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(d,n)}},defaultText:c}),s.disableLabelAnimation=!0,h.get("position")||s.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(e){Pu(s,e)}}o.add(s)}}}))},t.type="map",t}(sy),Qk=Jk,eA=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,// Only first map series of same mapType will drawMap.
n.needsDrawMap=!1,// Group of all map series with same mapType
n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.getCenter())}},n}return de(t,e),t.prototype.getInitialData=function(e){for(var t=aT(this,{coordDimensions:["value"],encodeDefaulter:qe(bf,this)}),n=bt(),i=[],o=0,r=t.count();o<r;o++){var a=t.getName(o);n.set(a,!0)}return Ge(Rk(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(e){var t=e.name;n.get(t)||i.push(t)})),// Complete data with missing regions. The consequent processes (like visual
// map and render) can not be performed without a "full data". For example,
// find `dataIndex` by name.
t.appendValues([],i),t},
/**
         * If no host geo model, return null, which means using a
         * inner exclusive geo model.
         */
t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},// _fillOption(option, mapName) {
// Shallow clone
// option = zrUtil.extend({}, option);
// option.data = geoCreator.getFilledRegions(option.data, mapName, option.nameMap);
// return option;
// }
t.prototype.getRawValue=function(e){// Use value stored in data instead because it is calculated from multiple series
// FIXME Provide all value of multiple series ?
var t=this.getData();return t.get(t.mapDimension("value"),e)},
/**
         * Get model of region
         */
t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},
/**
         * Map tooltip formatter
         */
t.prototype.formatTooltip=function(e,t,n){for(// FIXME orignalData and data is a bit confusing
var i=this.getData(),o=this.getRawValue(e),r=i.getName(e),a=this.seriesGroup,l=[],s=0;s<a.length;s++){var u=a[s].originalData.indexOfName(r),c=i.mapDimension("value");isNaN(a[s].originalData.get(c,u))||l.push(a[s].name)}return Tg("section",{header:l.join(", "),noHeader:!l.length,blocks:[Tg("nameValue",{name:r,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=mm(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),// Map do not use itemStyle.borderWidth as border width
n.style.stroke="none",// No rotation because no series visual symbol for map
t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={// 一级层叠
// zlevel: 0,
// 二级层叠
z:2,coordinateSystem:"geo",// map should be explicitly specified since ec3.
map:"",// If `geoIndex` is not specified, a exclusive geo will be
// created. Otherwise use the specified geo component, and
// `map` and `mapType` are ignored.
// geoIndex: 0,
// 'center' | 'left' | 'right' | 'x%' | {number}
left:"center",// 'center' | 'top' | 'bottom' | 'x%' | {number}
top:"center",// right
// bottom
// width:
// height
// Aspect is width / height. Inited to be geoJson bbox aspect
// This parameter is used for scale this aspect
// Default value:
// for geoSVG source: 1,
// for geoJSON source: 0.75.
aspectScale:null,// Layout with center and size
// If you want to put map in a fixed size box with right aspect ratio
// This two properties may be more convenient.
// layoutCenter: [50%, 50%]
// layoutSize: 100
showLegendSymbol:!0,// Define left-top, right-bottom coords to control view
// For example, [ [180, 90], [-180, -90] ],
// higher priority than center and zoom
boundingCoords:null,// Default on center of map
center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},// scaleLimit: null,
itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Zg),tA=eA;// @ts-ignore FIXME:TS fix the "compatible with each other"?
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function nA(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)})),Ge(t,(function(e,t){for(var n,i,o,r=(n=We(e,(function(e){return e.getData()})),i=e[0].get("mapValueCalculation"),o={},Ge(n,(function(e){e.each(e.mapDimension("value"),(function(t,n){// Add prefix to avoid conflict with Object.prototype.
var i="ec-"+e.getName(n);o[i]=o[i]||[],isNaN(t)||o[i].push(t)}))})),n[0].map(n[0].mapDimension("value"),(function(e,t){for(var r="ec-"+n[0].getName(t),a=0,l=1/0,s=-1/0,u=o[r].length,c=0;c<u;c++)l=Math.min(l,o[r][c]),s=Math.max(s,o[r][c]),a+=o[r][c];return 0===u?NaN:"min"===i?l:"max"===i?s:"average"===i?a/u:a}))),a=0;a<e.length;a++)e[a].originalData=e[a].getData();// FIXME Put where?
for(a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(r.cloneShallow()),e[a].mainSeries=e[0]}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function iA(e){var t={};e.eachSeriesByType("map",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var o={};Ge(n.seriesGroup,(function(t){var n=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&i.each(i.mapDimension("value"),(function(e,t){var r=i.getName(t),a=n.getRegion(r);// If input series.data is [11, 22, '-'/null/undefined, 44],
// it will be filled with NaN: [11, 22, NaN, 44] and NaN will
// not be drawn. So here must validate if value is NaN.
if(a&&!isNaN(e)){var l=o[r]||0,s=n.dataToPoint(a.getCenter());o[r]=l+1,i.setItemLayout(t,{point:s,offset:l})}}))}));// Show label of those region not has legendIcon (which is offset 0)
var r=n.getData();r.each((function(e){var t=r.getName(e),n=r.getItemLayout(e)||{};n.showLabel=!o[t],r.setItemLayout(e,n)})),t[i]=!0}}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var oA=Gt,rA=/** @class */function(e){function t(t){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],
/**
           * Represents the transform brought by roam/zoom.
           * If `View['_viewRect']` applies roam transform,
           * we can get the final displayed rect.
           */
n._roamTransformable=new Sr,
/**
           * Represents the transform from `View['_rect']` to `View['_viewRect']`.
           */
n._rawTransformable=new Sr,n.name=t,n}return de(t,e),t.prototype.setBoundingRect=function(e,t,n,i){return this._rect=new Fn(e,t,n,i),this._rect},
/**
         * @return {module:zrender/core/BoundingRect}
         */
t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,n,i){this._transformTo(e,t,n,i),this._viewRect=new Fn(e,t,n,i)},
/**
         * Transformed to particular position and size
         */
t.prototype._transformTo=function(e,t,n,i){var o=this.getBoundingRect(),r=this._rawTransformable;r.transform=o.calculateTransform(new Fn(e,t,n,i));var a=r.parent;r.parent=null,r.decomposeTransform(),r.parent=a,this._updateTransform()},
/**
         * Set center of view
         */
t.prototype.setCenter=function(e,t){e&&(this._center=[Jr(e[0],t.getWidth()),Jr(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},
/**
         * Get default center without roam
         */
t.prototype.getDefaultCenter=function(){// Rect before any transform
var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},
/**
         * Remove roam
         */
t.prototype._updateCenterAndZoom=function(){// Must update after view transform updated
var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=Gt([],i,e),n=Gt([],n,e),t.originX=i[0],t.originY=i[1],t.x=n[0]-i[0],t.y=n[1]-i[1],t.scaleX=t.scaleY=o,this._updateTransform()},
/**
         * Update transform props on `this` based on the current
         * `this._roamTransformable` and `this._rawTransformable`.
         */
t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),wn(this.transform||(this.transform=[]),t.transform||[1,0,0,1,0,0]),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],In(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,n=new Sr;return n.transform=t.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},
/**
         * Get view rect after roam transform
         */
t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},
/**
         * Convert a single (lon, lat) data item to (x, y) point.
         */
t.prototype.dataToPoint=function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?oA(n,e,i):Dt(n,e)},
/**
         * Convert a (x, y) point to (lon, lat) data
         */
t.prototype.pointToData=function(e){var t=this.invTransform;return t?oA([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,n){var i=aA(t);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var i=aA(t);return i===this?i.pointToData(n):null},
/**
         * @implements
         */
t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Sr);function aA(e){var t=e.seriesModel;return t?t.coordinateSystem:null;// e.g., graph.
}var lA=rA,sA={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},uA=["lng","lat"],cA=/** @class */function(e){function t(t,n,i){var o=e.call(this,t)||this;o.dimensions=uA,o.type="geo",// Only store specified name coord via `addGeoCoord`.
o._nameCoordMap=bt(),o.map=n;var r=i.projection,a=Rk(n,i.nameMap,i.nameProperty),l=Ek(n);o.resourceType=l?l.type:null;var s,u=o.regions=a.regions,c=sA[l.type];if(o._regionsMap=a.regionsMap,o.regions=a.regions,o.projection=r,r)// Can't reuse the raw bounding rect
for(var d=0;d<u.length;d++){var p=u[d].getBoundingRect(r);(s=s||p.clone()).union(p)}else s=a.boundingRect;return o.setBoundingRect(s.x,s.y,s.width,s.height),// aspectScale and invertLongitute actually is the parameters default raw projection.
// So we ignore them if projection is given.
// Ignore default aspect scale if projection exits.
o.aspectScale=r?1:st(i.aspectScale,c.aspectScale),// Not invert longitude if projection exits.
o._invertLongitute=!r&&c.invertLongitute,o}return de(t,e),t.prototype._transformTo=function(e,t,n,i){var o=this.getBoundingRect(),r=this._invertLongitute;o=o.clone(),r&&(// Longitude is inverted.
o.y=-o.y-o.height);var a=this._rawTransformable;a.transform=o.calculateTransform(new Fn(e,t,n,i));var l=a.parent;a.parent=null,a.decomposeTransform(),a.parent=l,r&&(a.scaleY=-a.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++){var i=t[n];if("geoJSON"===i.type&&i.contain(e))return t[n]}},
/**
         * Add geoCoord for indexing by name
         */
t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},
/**
         * Get geoCoord by name
         */
t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);// Calculate center only on demand.
return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,n){if(Je(e)&&(// Map area name to geoCoord
e=this.getGeoCoord(e)),e){var i=this.projection;return i&&(// projection may return null point.
e=i.project(e)),e&&this.projectedToPoint(e,t,n)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(// projection may return null point.
e=t.unproject(e)),e&&this.pointToProjected(e)},
/**
         * Point to projected data. Same with pointToData when projection is used.
         */
t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,n,i){return e.prototype.dataToPoint.call(this,t,n,i)},t.prototype.convertToPixel=function(e,t,n){var i=dA(t);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var i=dA(t);return i===this?i.pointToData(n):null},t}(lA);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function dA(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Ba).models[0]||{}).coordinateSystem:null}je(cA,lA);var pA=cA;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Resize method bound to the geo
       */function hA(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],o=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])){// Sample around the lng/lat rect and use projection to calculate actual bounding rect.
var r=this.projection;if(r){var a=i[0],l=i[1],s=o[0],u=o[1];i=[1/0,1/0],o=[-1/0,-1/0];// TODO better way?
var c=function(e,t,n,a){for(var l=n-e,s=a-t,u=0;u<=100;u++){var c=u/100,d=r.project([e+l*c,t+s*c]);Wt(i,i,d),Kt(o,o,d)}};// Top
c(a,l,s,l),// Right
c(s,l,s,u),// Bottom
c(s,u,a,u),// Left
c(a,u,s,l)}this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}else;}var d,p,h,f=this.getBoundingRect(),v=e.get("layoutCenter"),g=e.get("layoutSize"),y=t.getWidth(),m=t.getHeight(),x=f.width/f.height*this.aspectScale,b=!1;if(v&&g&&(d=[Jr(v[0],y),Jr(v[1],m)],p=Jr(g,Math.min(y,m)),isNaN(d[0])||isNaN(d[1])||isNaN(p)||(b=!0)),b)h={},x>1?(// Width is same with size
h.width=p,h.height=p/x):(h.height=p,h.width=p*x),h.y=d[1]-h.height/2,h.x=d[0]-h.width/2;else{// Use left/top/width/height
var _=e.getBoxLayoutParams();_.aspect=x,h=Yh(_,{width:y,height:m})}this.setViewRect(h.x,h.y,h.width,h.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}// Back compat for ECharts2, where the coord map is set on map series:
// {type: 'map', geoCoord: {'cityA': [116.46,39.92], 'cityA': [119.12,24.61]}},
var fA=/** @class */function(){function e(){// For deciding which dimensions to use when creating list data
this.dimensions=uA}return e.prototype.create=function(e,t){var n=[];function i(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}// FIXME Create each time may be slow
e.eachComponent("geo",(function(e,o){var r=e.get("map"),a=new pA(r+o,r,Be({nameMap:e.get("nameMap")},i(e)));a.zoomLimit=e.get("scaleLimit"),n.push(a),// setGeoCoords(geo, geoModel);
e.coordinateSystem=a,a.model=e,// Inject resize method
a.resize=hA,a.resize(e,t)})),e.eachSeries((function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=n[t]}}));// If has map series
var o={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();o[t]=o[t]||[],o[t].push(e)}})),Ge(o,(function(e,o){var r=We(e,(function(e){return e.get("nameMap")})),a=new pA(o,o,Be({nameMap:ze(r)},i(e[0])));a.zoomLimit=lt.apply(null,We(e,(function(e){return e.get("scaleLimit")}))),n.push(a),// Inject resize method
a.resize=hA,a.resize(e[0],t),Ge(e,(function(e){e.coordinateSystem=a,function(e,t){Ge(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}(a,e)}))})),n},
/**
         * Fill given regions array
         */
e.prototype.getFilledRegions=function(e,t,n,i){for(// Not use the original
var o=(e||[]).slice(),r=bt(),a=0;a<o.length;a++)r.set(o[a].name,o[a]);return Ge(Rk(t,n,i).regions,(function(e){var t=e.name;!r.get(t)&&o.push({name:t})})),o},e}(),vA=new fA,gA=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(e,t,n){var i=Ek(e.map);if(i&&"geoJSON"===i.type){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,n),// Default label emphasis `show`
Sa(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=vA.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var n={};this._optionModelMap=Ke(t.regions||[],(function(t,i){var o=i.name;return o&&(t.set(o,new Kp(i,e,e.ecModel)),i.selected&&(n[o]=!0)),t}),bt()),t.selectedMap||(t.selectedMap=n)},
/**
         * Get model of region.
         */
t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Kp(null,this,this.ecModel)},
/**
         * Format label
         * @param name Region name
         */
t.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),i="normal"===t?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),o={name:e};return $e(i)?(o.status=t,i(o)):Je(i)?i.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},// PENGING If selectedMode is null ?
t.prototype.select=function(e){var t=this.option,n=t.selectedMode;n&&("multiple"!==n&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={// zlevel: 0,
z:0,show:!0,left:"center",top:"center",// Default value:
// for geoSVG source: 1,
// for geoJSON source: 0.75.
aspectScale:null,// /// Layout with center and size
// If you want to put map in a fixed size box with right aspect ratio
// This two properties may be more convenient
// layoutCenter: [50%, 50%]
// layoutSize: 100
silent:!1,// Map type
map:"",// Define left-top, right-bottom coords to control view
// For example, [ [180, 90], [-180, -90] ]
boundingCoords:null,// Default on center of map
center:null,zoom:1,scaleLimit:null,// selectedMode: false
label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(tf),yA=gA;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function mA(e,t){// Use projected coord as center because it's linear.
return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function xA(e,t,n,i){var o=e.getZoom(),r=e.getCenter(),a=t.zoom,l=e.projectedToPoint?e.projectedToPoint(r):e.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(l[0]-=t.dx,l[1]-=t.dy,e.setCenter(mA(e,l),i)),null!=a){if(n){var s=n.min||0,u=n.max||1/0;a=Math.max(Math.min(o*a,u),s)/o}// Zoom on given point(originX, originY)
e.scaleX*=a,e.scaleY*=a;var c=(t.originX-e.x)*(a-1),d=(t.originY-e.y)*(a-1);e.x-=c,e.y-=d,e.updateTransform(),// Get the new center
e.setCenter(mA(e,l),i),e.setZoom(a*o)}return{center:e.getCenter(),zoom:e.getZoom()}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var bA=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return de(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,n,i){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new $k(n));var o=this._mapDraw;o.draw(e,t,n,this,i),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,t,n)},t.prototype._handleRegionClick=function(e){var t;rm(e.target,(function(e){return null!=(t=au(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,n){var i=this;this._mapDraw.group.traverse((function(e){var t=au(e).eventData;if(t)// No need to traverse children.
return i._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Jg),_A=bA;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function wA(e,t,n){Lk(e,t,n)}function SA(e){function t(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,(function(e,n){var i={},o=[];return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name),Ge(n.coordinateSystem.regions,(function(e){i[e.name]=n.isSelected(e.name)||!1}));// Notice: there might be duplicated name in different regions.
var r=[];Ge(i,(function(e,t){i[t]&&r.push(t)})),o.push({geoIndex:n.componentIndex,// Use singular, the same naming convention as the event `selectchanged`.
name:r})})),{selected:i,allSelected:o,name:e.name}}))}e.registerCoordinateSystem("geo",vA),e.registerComponentModel(yA),e.registerComponentView(_A),e.registerImpl("registerMap",wA),e.registerImpl("getMap",(function(e){return Nk(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),
/**
         * @payload
         * @property {string} [componentType=series]
         * @property {number} [dx]
         * @property {number} [dy]
         * @property {number} [zoom]
         * @property {number} [originX]
         * @property {number} [originY]
         */
e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t,n){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},(function(t){var o=t.coordinateSystem;if("geo"===o.type){var r=xA(o,e,t.get("scaleLimit"),n);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),// All map series with same `map` use the same geo coordinate system
// So the center and zoom must be in sync. Include the series not selected by legend
"series"===i&&Ge(t.seriesGroup,(function(e){e.setCenter(r.center),e.setZoom(r.zoom)}))}}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * The implementation of this function was originally copied from "d3.js"
       * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>
       * with some modifications made for this program.
       * See the license statement at the head of this file.
       *
       * Computes a preliminary x coordinate for node. Before that, this function is
       * applied recursively to the children of node, as well as the function
       * apportion(). After spacing out the children by calling executeShifts(), the
       * node is placed to the midpoint of its outermost children.
       */
function CA(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,o=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!
/**
       * All other shifts, applied to the smaller subtrees between w- and w+, are
       * performed by this function.
       *
       * The implementation of this function was originally copied from "d3.js"
       * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>
       * with some modifications made for this program.
       * See the license statement at the head of this file.
       */
function(e){var t=e.children,n=t.length,i=0,o=0;for(;--n>=0;){var r=t[n];r.hierNode.prelim+=i,r.hierNode.modifier+=i,o+=r.hierNode.change,i+=r.hierNode.shift+o}}
/**
       * The implementation of this function was originally copied from "d3.js"
       * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>
       * with some modifications made for this program.
       * See the license statement at the head of this file.
       *
       * The core of the algorithm. Here, a new subtree is combined with the
       * previous subtrees. Threads are used to traverse the inside and outside
       * contours of the left and right subtree up to the highest common level.
       * Whenever two nodes of the inside contours conflict, we compute the left
       * one of the greatest uncommon ancestors using the function nextAncestor()
       * and call moveSubtree() to shift the subtree and prepare the shifts of
       * smaller subtrees. Finally, we add a new thread (if necessary).
       */(e);var r=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-r):e.hierNode.prelim=r}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=function(e,t,n,i){if(t){for(var o=e,r=e,a=r.parentNode.children[0],l=t,s=o.hierNode.modifier,u=r.hierNode.modifier,c=a.hierNode.modifier,d=l.hierNode.modifier;l=kA(l),r=AA(r),l&&r;){o=kA(o),a=AA(a),o.hierNode.ancestor=e;var p=l.hierNode.prelim+d-r.hierNode.prelim-u+i(l,r);p>0&&(OA(DA(l,e,n),e,p),u+=p,s+=p),d+=l.hierNode.modifier,u+=r.hierNode.modifier,s+=o.hierNode.modifier,c+=a.hierNode.modifier}l&&!kA(o)&&(o.hierNode.thread=l,o.hierNode.modifier+=d-s),r&&!AA(a)&&(a.hierNode.thread=r,a.hierNode.modifier+=u-c,n=e)}return n}
/**
       * This function is used to traverse the right contour of a subtree.
       * It returns the rightmost child of node or the thread of node. The function
       * returns null if and only if node is on the highest depth of its subtree.
       */(e,o,e.parentNode.hierNode.defaultAncestor||i[0],t)}
/**
       * The implementation of this function was originally copied from "d3.js"
       * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>
       * with some modifications made for this program.
       * See the license statement at the head of this file.
       *
       * Computes all real x-coordinates by summing up the modifiers recursively.
       */function MA(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function TA(e){return arguments.length?e:PA}
/**
       * Transform the common coordinate to radial coordinate.
       */function IA(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}
/**
       * Get the layout position of the whole view.
       */function kA(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}
/**
       * This function is used to traverse the left contour of a subtree (or a subforest).
       * It returns the leftmost child of node or the thread of node. The function
       * returns null if and only if node is on the highest depth of its subtree.
       */function AA(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}
/**
       * If nodeInLeft’s ancestor is a sibling of node, returns nodeInLeft’s ancestor.
       * Otherwise, returns the specified ancestor.
       */function DA(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}
/**
       * The implementation of this function was originally copied from "d3.js"
       * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>
       * with some modifications made for this program.
       * See the license statement at the head of this file.
       *
       * Shifts the current subtree rooted at wr.
       * This is done by increasing prelim(w+) and modifier(w+) by shift.
       */function OA(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}
/**
       * The implementation of this function was originally copied from "d3.js"
       * <https://github.com/d3/d3-hierarchy/blob/4c1f038f2725d6eae2e49b61d01456400694bac4/src/tree.js>
       * with some modifications made for this program.
       * See the license statement at the head of this file.
       */function PA(e,t){return e.parentNode===t.parentNode?1:2}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var LA=function(){this.parentPoint=[],this.childPoints=[]},EA=/** @class */function(e){function t(t){return e.call(this,t)||this}return de(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new LA},t.prototype.buildPath=function(e,t){var n=t.childPoints,i=n.length,o=t.parentPoint,r=n[0],a=n[i-1];if(1===i)return e.moveTo(o[0],o[1]),void e.lineTo(r[0],r[1]);var l=t.orient,s="TB"===l||"BT"===l?0:1,u=1-s,c=Jr(t.forkPosition,1),d=[];d[s]=o[s],d[u]=o[u]+(a[u]-o[u])*c,e.moveTo(o[0],o[1]),e.lineTo(d[0],d[1]),e.moveTo(r[0],r[1]),d[s]=r[s],e.lineTo(d[0],d[1]),d[s]=a[s],e.lineTo(d[0],d[1]),e.lineTo(a[0],a[1]);for(var p=1;p<i-1;p++){var h=n[p];e.moveTo(h[0],h[1]),d[s]=h[s],e.lineTo(d[0],d[1])}},t}(ks),NA=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new Kr,n}return de(t,e),t.prototype.init=function(e,t){this._controller=new XI(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var i=e.getData(),o=e.layoutInfo,r=this._mainGroup;"radial"===e.get("layout")?(r.x=o.x+o.width/2,r.y=o.y+o.height/2):(r.x=o.x,r.y=o.y),this._updateViewCoordSys(e,n),this._updateController(e,t,n);var a=this._data;i.diff(a).add((function(t){RA(i,t)&&// Create node and edge
zA(i,t,null,r,e)})).update((function(t,n){var o=a.getItemGraphicEl(n);RA(i,t)?// Update node and edge
zA(i,t,o,r,e):o&&VA(a,n,o,r,e)})).remove((function(t){var n=a.getItemGraphicEl(t);// When remove a collapsed node of subtree, since the collapsed
// node haven't been initialized with a symbol element,
// you can't found it's symbol element through index.
// so if we want to remove the symbol element we should insure
// that the symbol element is not null.
n&&VA(a,t,n,r,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&i.eachItemGraphicEl((function(t,i){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})}))})),this._data=i},t.prototype._updateViewCoordSys=function(e,t){var n=e.getData(),i=[];n.each((function(e){var t=n.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||i.push([+t.x,+t.y])}));var o=[],r=[];Rl(i,o,r);// If don't Store min max when collapse the root node after roam,
// the root node will disappear.
var a=this._min,l=this._max;// If width or height is 0
r[0]-o[0]==0&&(o[0]=a?a[0]:o[0]-1,r[0]=l?l[0]:r[0]+1),r[1]-o[1]==0&&(o[1]=a?a[1]:o[1]-1,r[1]=l?l[1]:r[1]+1);var s=e.coordinateSystem=new lA;s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(o[0],o[1],r[0]-o[0],r[1]-o[1]),s.setCenter(e.get("center"),t),s.setZoom(e.get("zoom")),// Here we use viewCoordSys just for computing the 'position' and 'scale' of the group
this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=o,this._max=r},t.prototype._updateController=function(e,t,n){var i=this,o=this._controller,r=this._controllerHost,a=this.group;o.setPointerChecker((function(t,i,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(i,o)&&!QI(t,n,e)})),o.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){qI(r,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){ZI(r,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),i._updateNodeAndLinkScale(e),// Only update label layout on zoom
n.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scaleX||1;return((t.getZoom()-1)*n+1)/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(sy);function RA(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function zA(e,t,n,i,o){var r=!n,a=e.tree.getNodeByDataIndex(t),l=a.getModel(),s=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?s:"#fff",c=e.tree.root,d=a.parentNode===c?a:a.parentNode||a,p=e.getItemGraphicEl(d.dataIndex),h=d.getLayout(),f=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:h,v=a.getLayout();r?((n=new EC(e,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=f.x,n.y=f.y):n.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=v.rawX,n.__radialRawY=v.rawY,i.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,Rd(n,{x:v.x,y:v.y},o);var g=n.getSymbolPath();if("radial"===o.get("layout")){var y=c.children[0],m=y.getLayout(),x=y.children.length,b=void 0,_=void 0;if(v.x===m.x&&!0===a.isExpand&&y.children.length){var w={x:(y.children[0].getLayout().x+y.children[x-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[x-1].getLayout().y)/2};(b=Math.atan2(w.y-m.y,w.x-m.x))<0&&(b=2*Math.PI+b),(_=w.x<m.x)&&(b-=Math.PI)}else(b=Math.atan2(v.y-m.y,v.x-m.x))<0&&(b=2*Math.PI+b),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(_=v.x<m.x)&&(b-=Math.PI):(_=v.x>m.x)||(b-=Math.PI);var S=_?"left":"right",C=l.getModel("label"),M=C.get("rotate"),T=M*(Math.PI/180),I=g.getTextContent();I&&(g.setTextConfig({position:C.get("position")||S,rotation:null==M?-b:T,origin:"center"}),I.setStyle("verticalAlign","middle"))}// Handle status
var k=l.get(["emphasis","focus"]),A="relative"===k?_t(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===k?a.getAncestorsIndices():"descendant"===k?a.getDescendantIndices():null;A&&(// Modify the focus to data indices.
au(n).focus=A),function(e,t,n,i,o,r,a,l){var s=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),d=e.getOrient(),p=e.get(["lineStyle","curveness"]),h=e.get("edgeForkPosition"),f=s.getModel("lineStyle").getLineStyle(),v=i.__edge;// curve edge from node -> parent
// polyline edge from node -> children
if("curve"===u)t.parentNode&&t.parentNode!==n&&(v||(v=i.__edge=new pd({shape:jA(c,d,p,o,o)})),Rd(v,{shape:jA(c,d,p,r,a)},e));else if("polyline"===u&&"orthogonal"===c&&t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var g=t.children,y=[],m=0;m<g.length;m++){var x=g[m].getLayout();y.push([x.x,x.y])}v||(v=i.__edge=new EA({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:d,forkPosition:h}})),Rd(v,{shape:{parentPoint:[a.x,a.y],childPoints:y}},e)}// show all edge when edgeShape is 'curve', filter node `isExpand` is false when edgeShape is 'polyline'
v&&("polyline"!==u||t.isExpand)&&(v.useStyle(Fe({strokeNoScale:!0,fill:null},f)),tc(v,s,"lineStyle"),Eu(v),l.add(v))}(o,a,c,n,f,h,v,i),n.__edge&&(n.onHoverStateChange=function(t){if("blur"!==t){// NOTE: Ensure the parent elements will been blurred firstly.
// According to the return of getAncestorsIndices and getDescendantIndices
// TODO: A bit tricky.
var i=a.parentNode&&e.getItemGraphicEl(a.parentNode.dataIndex);i&&1===i.hoverState||Pu(n.__edge,t)}})}function BA(e,t,n,i,o){var r=FA(t.tree.root,e),a=r.source,l=r.sourceLayout,s=t.getItemGraphicEl(e.dataIndex);if(s){var u=t.getItemGraphicEl(a.dataIndex).__edge,c=s.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),d=i.get("edgeShape"),p=i.get("layout"),h=i.get("orient"),f=i.get(["lineStyle","curveness"]);c&&("curve"===d?Fd(c,{shape:jA(p,h,f,l,l),style:{opacity:0}},i,{cb:function(){n.remove(c)},removeOpt:o}):"polyline"===d&&"orthogonal"===i.get("layout")&&Fd(c,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){n.remove(c)},removeOpt:o}))}}function FA(e,t){for(var n,i=t.parentNode===e?t:t.parentNode||t;null==(n=i.getLayout());)i=i.parentNode===e?i:i.parentNode||i;return{source:i,sourceLayout:n}}function VA(e,t,n,i,o){var r=e.tree.getNodeByDataIndex(t),a=FA(e.tree.root,r).sourceLayout,l={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};Fd(n,{x:a.x+1,y:a.y+1},o,{cb:function(){i.remove(n),e.setItemGraphicEl(t,null)},removeOpt:l}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),// remove edge as parent node
r.children.forEach((function(t){BA(t,e,i,o,l)})),// remove edge as child node
BA(r,e,i,o,l)}function jA(e,t,n,i,o){var r,a,l,s,u,c,d,p;if("radial"===e){u=i.rawX,d=i.rawY,c=o.rawX,p=o.rawY;var h=IA(u,d),f=IA(u,d+(p-d)*n),v=IA(c,p+(d-p)*n),g=IA(c,p);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:v.x||0,cpy2:v.y||0}}return u=i.x,d=i.y,c=o.x,p=o.y,"LR"!==t&&"RL"!==t||(r=u+(c-u)*n,a=d,l=c+(u-c)*n,s=p),"TB"!==t&&"BT"!==t||(r=u,a=d+(p-d)*n,l=c,s=p+(d-p)*n),{x1:u,y1:d,x2:c,y2:p,cpx1:r,cpy1:a,cpx2:l,cpy2:s}}var HA=NA,GA=Ea();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function WA(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,ZA(t,n,e),// Porxy data original methods.
Ge(n,(function(n){Ge(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,qe(KA,e))}))})),// Beyond transfer, additional features should be added to `cloneShallow`.
t.wrapMethod("cloneShallow",qe(YA,e)),// Only mainData trigger change, because struct.update may trigger
// another changable methods, which may bring about dead lock.
Ge(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,qe(UA,e))})),// Make sure datas contains mainData.
pt(n[t.dataType]===t)}function KA(e,t){if(GA(i=this).mainData===i){// Transfer datas to new main data.
var n=Be({},GA(this).datas);n[this.dataType]=t,ZA(t,n,e)}else// Modify the reference in main data to point newData.
$A(t,this.dataType,GA(this).mainData,e);var i;return t}function UA(e,t){return e.struct&&e.struct.update(),t}function YA(e,t){// cloneShallow, which brings about some fragilities, may be inappropriate
// to be exposed as an API. So for implementation simplicity we can make
// the restriction that cloneShallow of not-mainData should not be invoked
// outside, but only be invoked here.
return Ge(GA(t).datas,(function(n,i){n!==t&&$A(n.cloneShallow(),i,t,e)})),t}
/**
       * Supplement method to List.
       *
       * @public
       * @param [dataType] If not specified, return mainData.
       */function XA(e){var t=GA(this).mainData;return null==e||null==t?t:GA(t).datas[e]}
/**
       * Get list of all linked data
       */function qA(){var e=GA(this).mainData;return null==e?[{data:e}]:We(Ye(GA(e).datas),(function(t){return{type:t,data:GA(e).datas[t]}}))}function ZA(e,t,n){GA(e).datas={},Ge(t,(function(t,i){$A(t,i,e,n)}))}function $A(e,t,n,i){GA(n).datas[t]=e,GA(e).mainData=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),// Supplement method.
e.getLinkedData=XA,e.getLinkedDataAll=qA}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var JA=/** @class */function(){function e(e,t){this.depth=0,this.height=0,
/**
           * Reference to list item.
           * Do not persistent dataIndex outside,
           * besause it may be changed by list.
           * If dataIndex -1,
           * this node is logical deleted (filtered) in list.
           */
this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}
/**
         * The node is removed.
         */return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){$e(e)&&(n=t,t=e,e=null),Je(e=e||{})&&(e={order:e});var i,o=e.order||"preorder",r=this[e.attr||"children"];"preorder"===o&&(i=t.call(n,this));for(var a=0;!i&&a<r.length;a++)r[a].eachNode(e,t,n);"postorder"===o&&t.call(n,this)},
/**
         * Update depth and height of this subtree.
         */
e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].getNodeById(e);if(o)return o}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var o=n[t].contains(e);if(o)return o}},
/**
         * @param includeSelf Default false.
         * @return order: [root, child, grandchild, ...]
         */
e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},
/**
         * @return {Object} layout
         */
e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},// @depcrecated
// getModel<T = unknown, S extends keyof T = keyof T>(path: S): Model<T[S]>
// eslint-disable-next-line @typescript-eslint/no-unused-vars
e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},// TODO: TYPE More specific model
e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},
/**
         * Get item visual
         * FIXME: make return type better
         */
e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},
/**
         * index in parent's children
         */
e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},
/**
         * if this is an ancestor of another node
         *
         * @param node another node
         * @return if is ancestor
         */
e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},
/**
         * if this is an descendant of another node
         *
         * @param node another node
         * @return if is descendant
         */
e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),QA=/** @class */function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},
/**
         * Update item available by list,
         * when list has been performed options like 'filterSelf' or 'map'.
         */
e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},
/**
         * Clear all layouts
         */
e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},
/**
         * data node format:
         * {
         *     name: ...
         *     value: ...
         *     children: [
         *         {
         *             name: ...
         *             value: ...
         *             children: ...
         *         },
         *         ...
         *     ]
         * }
         */
e.createTree=function(t,n,i){var o=new e(n),r=[],a=1;!function e(t,n){var i=t.value;a=Math.max(a,Ze(i)?i.length:1),r.push(t);var l=new JA(Da(t.name,""),o);n?
/**
       * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,
       * so this function is not ready and not necessary to be public.
       */
function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(l,n):o.root=l,o._nodes.push(l);var s=t.children;if(s)for(var u=0;u<s.length;u++)e(s[u],l)}(t),o.root.updateDepthAndHeight(0);var l=Pb(r,{coordDimensions:["value"],dimensionsCount:a}).dimensions,s=new Ob(l,n);return s.initData(r),i&&i(s),WA({mainData:s,struct:o,structAttr:"tree"}),o.update(),o},e}();var eD=QA;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function tD(e,t,n){if(e&&Ve(t,e.type)>=0){var i=n.getData().tree.root,o=e.targetNode;if(Je(o)&&(o=i.getNodeById(o)),o&&i.contains(o))return{node:o};var r=e.targetNodeId;if(null!=r&&(o=i.getNodeById(r)))return{node:o}}}// Not includes the given node at the last item.
function nD(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function iD(e,t){return Ve(nD(e),t)>=0}// From root to the input node (the input node will be included).
function oD(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var rD=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,// Do it self.
t.ignoreStyleOnData=!0,t}
/**
         * Init a tree data structure from data in option series
         */return de(t,e),t.prototype.getInitialData=function(e){// create a virtual root
var t={name:e.name,children:e.data},n=e.leaves||{},i=new Kp(n,this,this.ecModel),o=eD.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=o.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=i),e}))}));var r=0;o.eachNode("preorder",(function(e){e.depth>r&&(r=e.depth)}));var a=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:r;return o.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);// Add item.collapsed != null, because users can collapse node original in the series.data.
e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=a})),o.data},
/**
         * Make the configuration 'orient' backward compatibly, with 'horizontal = LR', 'vertical = TB'.
         * @returns {string} orient
         */
t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){for(var i=this.getData().tree,o=i.root.children[0],r=i.getNodeByDataIndex(e),a=r.getValue(),l=r.name;r&&r!==o;)l=r.parentNode.name+"."+l,r=r.parentNode;return Tg("nameValue",{name:l,value:a,noValue:isNaN(a)||null==a})},// Add tree path to tooltip param
t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=oD(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",// can support the position parameters 'left', 'top','right','bottom', 'width',
// 'height' in the setOption() with 'merge' mode normal.
t.layoutMode="box",t.defaultOption={// zlevel: 0,
z:2,coordinateSystem:"view",// the position of the whole view
left:"12%",top:"12%",right:"12%",bottom:"12%",// the layout of the tree, two value can be selected, 'orthogonal' or 'radial'
layout:"orthogonal",// value can be 'polyline'
edgeShape:"curve",edgeForkPosition:"50%",// true | false | 'move' | 'scale', see module:component/helper/RoamController.
roam:!1,// Symbol size scale ratio in roam
nodeScaleRatio:.4,// Default on center of graph
center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",// borderColor: '#c23531',
borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Zg),aD=rD;
/**
       * Traverse the tree from top to bottom and do something
       */
function lD(e,t){for(var n,i=[e];n=i.pop();)if(// jshint ignore:line
t(n),n.isExpand){var o=n.children;if(o.length)for(var r=o.length-1;r>=0;r--)i.push(o[r])}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function sD(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var n=function(e,t){return Yh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=n;var i=e.get("layout"),o=0,r=0,a=null;"radial"===i?(o=2*Math.PI,r=Math.min(n.height,n.width)/2,a=TA((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(o=n.width,r=n.height,a=TA());var l=e.getData().tree.root,s=l.children[0];if(s){!
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Initialize all computational message for following algorithm.
       */
function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,i,o=[t];n=o.pop();)if(// jshint ignore:line
i=n.children,n.isExpand&&i.length)for(var r=i.length-1;r>=0;r--){var a=i[r];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},o.push(a)}}(l),
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Traverse the tree from bottom to top and do something
       */
function(e,t,n){for(var i,o=[e],r=[];i=o.pop();)if(// jshint ignore:line
r.push(i),i.isExpand){var a=i.children;if(a.length)for(var l=0;l<a.length;l++)o.push(a[l])}for(;i=r.pop();)// jshint ignore:line
t(i,n)}(s,CA,a),l.hierNode.modifier=-s.hierNode.prelim,lD(s,MA);var u=s,c=s,d=s;lD(s,(function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>c.getLayout().x&&(c=e),e.depth>d.depth&&(d=e)}));var p=u===c?1:a(u,c)/2,h=p-u.getLayout().x,f=0,v=0,g=0,y=0;if("radial"===i)f=o/(c.getLayout().x+p+h),// here we use (node.depth - 1), bucause the real root's depth is 1
v=r/(d.depth-1||1),lD(s,(function(e){g=(e.getLayout().x+h)*f,y=(e.depth-1)*v;var t=IA(g,y);e.setLayout({x:t.x,y:t.y,rawX:g,rawY:y},!0)}));else{var m=e.getOrient();"RL"===m||"LR"===m?(v=r/(c.getLayout().x+p+h),f=o/(d.depth-1||1),lD(s,(function(e){y=(e.getLayout().x+h)*v,g="LR"===m?(e.depth-1)*f:o-(e.depth-1)*f,e.setLayout({x:g,y:y},!0)}))):"TB"!==m&&"BT"!==m||(f=o/(c.getLayout().x+p+h),v=r/(d.depth-1||1),lD(s,(function(e){g=(e.getLayout().x+h)*f,y="TB"===m?(e.depth-1)*v:r-(e.depth-1)*v,e.setLayout({x:g,y:y},!0)})))}}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(e,t)}))}function uD(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var n=e.getModel().getModel("itemStyle").getItemStyle();// TODO Optimize
Be(t.ensureUniqueItemVisual(e.dataIndex,"style"),n)}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var cD=["treemapZoomToNode","treemapRender","treemapMove"];
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function dD(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(// Use decal of level 1 node
var i=t;i&&i.depth>1;)i=i.parentNode;var o=Of(e.ecModel,i.name||i.dataIndex+"",n);t.setVisual("decal",o)}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var pD=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}
/**
         * @override
         */return de(t,e),t.prototype.getInitialData=function(e,t){// Create a virtual root.
var n={name:e.name,children:e.data};hD(n);var i=e.levels||[],o=this.designatedVisualItemStyle={},r=new Kp({itemStyle:o},this,t);// Used in "visual priority" in `treemapVisual.js`.
// This way is a little tricky, must satisfy the precondition:
//   1. There is no `treeNode.getModel('itemStyle.xxx')` used.
//   2. The `Model.prototype.getModel()` will not use any clone-like way.
i=e.levels=
/**
       * set default to level configuration
       */
function(e,t){var n,i,o=wa(t.get("color")),r=wa(t.get(["aria","decal","decals"]));if(!o)return;e=e||[],Ge(e,(function(e){var t=new Kp(e),o=t.get("color"),r=t.get("decal");(t.get(["itemStyle","color"])||o&&"none"!==o)&&(n=!0),(t.get(["itemStyle","decal"])||r&&"none"!==r)&&(i=!0)}));var a=e[0]||(e[0]={});n||(a.color=o.slice());!i&&r&&(a.decal=r.slice());return e}(i,t);var a=We(i||[],(function(e){return new Kp(e,r,t)}),this),l=eD.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=l.getNodeByDataIndex(t),i=n?a[n.depth]:null;// If no levelModel, we also need `designatedVisualModel`.
return e.parentModel=i||r,e}))}));// Make sure always a new tree is created when setOption,
// in TreemapView, we check whether oldTree === newTree
// to choose mappings approach among old shapes and new shapes.
return l.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},
/**
         * @override
         * @param {number} dataIndex
         * @param {boolean} [mutipleSeries=false]
         */
t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),o=this.getRawValue(e);return Tg("nameValue",{name:i.getName(e),value:o})},
/**
         * Add tree path to tooltip param
         *
         * @override
         * @param {number} dataIndex
         * @return {Object}
         */
t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=oD(i,this),// compatitable the previous code.
n.treePathInfo=n.treeAncestors,n},
/**
         * @public
         * @param {Object} layoutInfo {
         *                                x: containerGroup x
         *                                y: containerGroup y
         *                                width: containerGroup width
         *                                height: containerGroup height
         *                            }
         */
t.prototype.setLayoutInfo=function(e){
/**
           * @readOnly
           * @type {Object}
           */
this.layoutInfo=this.layoutInfo||{},Be(this.layoutInfo,e)},
/**
         * @param  {string} id
         * @return {number} index
         */
t.prototype.mapIdToIndex=function(e){// A feature is implemented:
// index is monotone increasing with the sequence of
// input id at the first time.
// This feature can make sure that each data item and its
// mapped color have the same index between data list and
// color list at the beginning, which is useful for user
// to adjust data-color mapping.
/**
           * @private
           * @type {Object}
           */
var t=this._idIndexMap;t||(t=this._idIndexMap=bt(),
/**
             * @private
             * @type {number}
             */
this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){dD(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={// Disable progressive rendering
progressive:0,// size: ['80%', '80%'],            // deprecated, compatible with ec2.
left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",// to align specialized icon. ▷▶❒❐▼✚
zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",// right
// bottom
emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,// Do not use textDistance, for ellipsis rect just the same as treemap node rect.
distance:0,padding:5,position:"inside",// formatter: null,
color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,// formatter: null,
// color: '#fff',
overflow:"truncate",// align: null,
verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],// level[n].color (if necessary).
// + Specify color list of each level. level[0].color would be global
// color list if not specified. (see method `setDefault`).
// + But set as a empty array to forbid fetch color from global palette
// when using nodeModel.get('color'), otherwise nodes on deep level
// will always has color palette set and are not able to inherit color
// from parent node.
// + TreemapSeries.color can not be set as 'none', otherwise effect
// legend color fetching (see seriesColor.js).
colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,// be rendered. Only works when sort is 'asc' or 'desc'.
childrenVisibleMin:null,// grandchildren will not show.
// Why grandchildren? If not grandchildren but children,
// some siblings show children and some not,
// the appearance may be mess and not consistent,
levels:[]},t}(Zg);
/**
       * @param {Object} dataNode
       */function hD(e){// Postorder travel tree.
// If value of none-leaf node is not set,
// calculate it by suming up the value of all children.
var t=0;Ge(e.children,(function(e){hD(e);var n=e.value;Ze(n)&&(n=n[0]),t+=n}));var n=e.value;Ze(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),// Value should not less than 0.
n<0&&(n=0),Ze(e.value)?e.value[0]=n:e.value=n}var fD=pD,vD=/** @class */function(){function e(e){this.group=new Kr,e.add(this.group)}return e.prototype.render=function(e,t,n,i){var o=e.getModel("breadcrumb"),r=this.group;if(r.removeAll(),o.get("show")&&n){var a=o.getModel("itemStyle"),l=o.getModel("emphasis"),s=a.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),c={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,c,s),this._renderContent(e,c,a,l,s,u,i),Xh(r,c.pos,c.box)}},
/**
         * Prepare render list and total width
         * @private
         */
e.prototype._prepare=function(e,t,n){for(var i=e;i;i=i.parentNode){var o=Da(i.getModel().get("name"),""),r=n.getTextRect(o),a=Math.max(r.width+16,t.emptyItemWidth);t.totalWidth+=a+8,t.renderList.push({node:i,text:o,width:a})}},
/**
         * @private
         */
e.prototype._renderContent=function(e,t,n,i,o,r,a){for(// Start rendering.
var l=0,s=t.emptyItemWidth,u=e.get(["breadcrumb","height"]),c=
/**
       * If x or x2 is not specified or 'center' 'left' 'right',
       * the width would be as long as possible.
       * If y or y2 is not specified or 'middle' 'top' 'bottom',
       * the height would be as long as possible.
       */
function(e,t,n){var i=t.width,o=t.height,r=Jr(e.left,i),a=Jr(e.top,o),l=Jr(e.right,i),s=Jr(e.bottom,o);return(isNaN(r)||isNaN(parseFloat(e.left)))&&(r=0),(isNaN(l)||isNaN(parseFloat(e.right)))&&(l=i),(isNaN(a)||isNaN(parseFloat(e.top)))&&(a=0),(isNaN(s)||isNaN(parseFloat(e.bottom)))&&(s=o),n=Nh(n||0),{width:Math.max(l-r-n[1]-n[3],0),height:Math.max(s-a-n[0]-n[2],0)}}(t.pos,t.box),d=t.totalWidth,p=t.renderList,h=i.getModel("itemStyle").getItemStyle(),f=p.length-1;f>=0;f--){var v=p[f],g=v.node,y=v.width,m=v.text;// Hdie text and shorten width if necessary.
d>c.width&&(d-=y-s,y=s,m=null);var x=new ed({shape:{points:gD(l,0,y,u,f===p.length-1,0===f)},style:Fe(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new ru({style:_p(o,{text:m})}),textConfig:{position:"inside"},z2:1e5,onclick:qe(a,g)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=_p(r,{text:m}),x.ensureState("emphasis").style=h,$u(x,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(x),yD(x,e,g),l+=y+8}},e.prototype.remove=function(){this.group.removeAll()},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function gD(e,t,n,i,o,r){var a=[[o?e:e-5,t],[e+n,t],[e+n,t+i],[o?e:e-5,t+i]];return!r&&a.splice(2,0,[e+n+5,t+i/2]),!o&&a.push([e,t+i/2]),a}// Package custom mouse event.
function yD(e,t,n){au(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&oD(n,t)}}var mD=vD,xD=/** @class */function(){function e(){this._storage=[],this._elExistsMap={}}
/**
         * Caution: a el can only be added once, otherwise 'done'
         * might not be called. This method checks this (by el.id),
         * suppresses adding and returns false when existing el found.
         *
         * @return Whether adding succeeded.
         */return e.prototype.add=function(e,t,n,i,o){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:i,easing:o}),!0)},
/**
         * Only execute when animation done/aborted.
         */
e.prototype.finished=function(e){return this._finishedCallback=e,this},
/**
         * Will stop exist animation firstly.
         */
e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(// Guard.
e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,o=this._storage.length;i<o;i++){var r=this._storage[i];r.el.animateTo(r.target,{duration:r.duration,delay:r.delay,easing:r.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Animate multiple elements with a single done-callback.
       *
       * @example
       *  animation
       *      .createWrap()
       *      .add(el1, {x: 10, y: 10})
       *      .add(el2, {shape: {width: 500}, style: {fill: 'red'}}, 400)
       *      .done(function () { // done })
       *      .start('cubicOut');
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var bD=Kr,_D=Gs,wD="label",SD="upperLabel",CD=Qa([["fill","color"],// `borderColor` and `borderWidth` has been occupied,
// so use `stroke` to indicate the stroke of the rect.
["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),MD=function(e){// Normal style props should include emphasis style props.
var t=CD(e);// Clear styles set by emphasis.
return t.stroke=t.fill=t.lineWidth=null,t},TD=Ea(),ID=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}
/**
         * @override
         */return de(t,e),t.prototype.render=function(e,t,n,i){if(!(Ve(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var o=tD(i,["treemapZoomToNode","treemapRootToNode"],e),r=i&&i.type,a=e.layoutInfo,l=!this._oldTree,s=this._storage,u="treemapRootToNode"===r&&o&&s?{rootNodeGroup:s.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,c=this._giveContainerGroup(a),d=e.get("animation"),p=this._doRender(c,e,u);!d||l||r&&"treemapZoomToNode"!==r&&"treemapRootToNode"!==r?p.renderFinally():this._doAnimation(c,p,e,u),this._resetController(n),this._renderBreadcrumb(e,n,o)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(// FIXME
// 加一层containerGroup是为了clip，但是现在clip功能并没有实现。
t=this._containerGroup=new bD,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var i=t.getData().tree,o=this._oldTree,r={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},l=this._storage,s=[];function u(e,i,o,u){
/**
       * @inner
       * @return Return undefined means do not travel further.
       */return function(e,t,n,i,o,r,a,l,s,u){// Whether under viewRoot.
if(!a)// Deleting nodes will be performed finally. This method just find
// element from old storage, or create new element, set them to new
// storage, and set styles.
return;// -------------------------------------------------------------------
// Start of closure variables available in "Procedures in renderNode".
var c=a.getLayout(),d=e.getData(),p=a.getModel();if(// Only for enabling highlight/downplay. Clear firstly.
// Because some node will not be rendered.
d.setItemGraphicEl(a.dataIndex,null),!c||!c.isInView)return;var h=c.width,f=c.height,v=c.borderWidth,g=c.invisible,y=a.getRawIndex(),m=l&&l.getRawIndex(),x=a.viewChildren,b=c.upperHeight,_=x&&x.length,w=p.getModel("itemStyle"),S=p.getModel(["emphasis","itemStyle"]),C=p.getModel(["blur","itemStyle"]),M=p.getModel(["select","itemStyle"]),T=w.get("borderRadius")||0,I=V("nodeGroup",bD);if(!I)return;if(s.add(I),// x,y are not set when el is above view root.
I.x=c.x||0,I.y=c.y||0,I.markRedraw(),TD(I).nodeWidth=h,TD(I).nodeHeight=f,c.isAboveViewRoot)return I;// Background
var k=V("background",_D,u,20);k&&N(I,k,_&&c.upperLabelHeight);var A=p.getModel("emphasis"),D=A.get("focus"),O=A.get("blurScope"),P=A.get("disabled"),L="ancestor"===D?a.getAncestorsIndices():"descendant"===D?a.getDescendantIndices():D;// No children, render content.
if(_)// Because of the implementation about "traverse" in graphic hover style, we
// can not set hover listener on the "group" of non-leaf node. Otherwise the
// hover event from the descendents will be listenered.
ic(I)&&nc(I,!1),k&&(nc(k,!P),// Only for enabling highlight/downplay.
d.setItemGraphicEl(a.dataIndex,k),Ju(k,L,O));else{var E=V("content",_D,u,30);E&&R(I,E),k.disableMorphing=!0,k&&ic(k)&&nc(k,!1),nc(I,!P),// Only for enabling highlight/downplay.
d.setItemGraphicEl(a.dataIndex,I),Ju(I,L,O)}return I;// ----------------------------
// | Procedures in renderNode |
// ----------------------------
function N(t,n,i){var o=au(n);// For tooltip.
if(o.dataIndex=a.dataIndex,o.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:h,height:f,r:T}),g)// If invisible, do not set visual, otherwise the element will
// change immediately before animation. We think it is OK to
// remain its origin color when moving out of the view window.
z(n);else{n.invisible=!1;var r=a.getVisual("style"),l=r.stroke,s=MD(w);s.fill=l;var u=CD(S);u.fill=S.get("borderColor");var c=CD(C);c.fill=C.get("borderColor");var d=CD(M);if(d.fill=M.get("borderColor"),i){var p=h-2*v;B(// PENDING: convert ZRColor to ColorString for text.
n,l,r.opacity,{x:v,y:0,width:p,height:b})}// For old bg.
else n.removeTextContent();n.setStyle(s),n.ensureState("emphasis").style=u,n.ensureState("blur").style=c,n.ensureState("select").style=d,Eu(n)}t.add(n)}function R(t,n){var i=au(n);// For tooltip.
i.dataIndex=a.dataIndex,i.seriesIndex=e.seriesIndex;var o=Math.max(h-2*v,0),r=Math.max(f-2*v,0);if(n.culling=!0,n.setShape({x:v,y:v,width:o,height:r,r:T}),g)// If invisible, do not set visual, otherwise the element will
// change immediately before animation. We think it is OK to
// remain its origin color when moving out of the view window.
z(n);else{n.invisible=!1;var l=a.getVisual("style"),s=l.fill,u=MD(w);u.fill=s,u.decal=l.decal;var c=CD(S),d=CD(C),p=CD(M);// PENDING: convert ZRColor to ColorString for text.
B(n,s,l.opacity,null),n.setStyle(u),n.ensureState("emphasis").style=c,n.ensureState("blur").style=d,n.ensureState("select").style=p,Eu(n)}t.add(n)}function z(e){// Delay invisible setting utill animation finished,
// avoid element vanish suddenly before animation.
!e.invisible&&r.push(e)}function B(t,n,i,// Can be null/undefined
o){var r=p.getModel(o?SD:wD),l=Da(p.get("name"),null),s=r.getShallow("show");xp(t,bp(p,o?SD:wD),{defaultText:s?l:null,inheritColor:n,defaultOpacity:i,labelFetcher:e,labelDataIndex:a.dataIndex});var u=t.getTextContent();if(u){var d=u.style,h=dt(d.padding||0);o&&(t.setTextConfig({layoutRect:o}),u.disableLabelLayout=!0),u.beforeUpdate=function(){var e=Math.max((o?o.width:t.shape.width)-h[1]-h[3],0),n=Math.max((o?o.height:t.shape.height)-h[0]-h[2],0);d.width===e&&d.height===n||u.setStyle({width:e,height:n})},d.truncateMinChar=2,d.lineOverflow="truncate",F(d,o,c);var f=u.getState("emphasis");F(f?f.style:null,o,c)}}function F(t,n,i){var o=t?t.text:null;if(!n&&i.isLeafRoot&&null!=o){var r=e.get("drillDownIcon",!0);t.text=r?r+" "+o:o}}function V(e,i,r,a){var l=null!=m&&n[e][m],s=o[e];// Set to thisStorage
return l?(// Remove from oldStorage
n[e][m]=null,j(s,l)):g||((l=new i)instanceof Il&&(l.z2=// We cannot set all background with the same z, because the behaviour of
// drill down and roll up differ background creation sequence from tree
// hierarchy sequence, which cause lower background elements to overlap
// upper ones. So we calculate z based on depth.
// Moreover, we try to shrink down z interval to [0, 1] to avoid that
// treemap with large z overlaps other components.
function(e,t){return 100*e+t}(r,a)),H(s,l)),t[e][y]=l}function j(e,t){var n=e[y]={};t instanceof bD?(n.oldX=t.x,n.oldY=t.y):n.oldShape=Be({},t.shape)}// If a element is new, we need to find the animation start point carefully,
// otherwise it will looks strange when 'zoomToNode'.
function H(e,t){var n=e[y]={},r=a.parentNode,l=t instanceof Kr;if(r&&(!i||"drillDown"===i.direction)){var s=0,u=0,c=o.background[r.getRawIndex()];!i&&c&&c.oldShape&&(s=c.oldShape.width,u=c.oldShape.height),// When no parent old shape found, its parent is new too,
// so we can just use {x:0, y:0}.
l?(n.oldX=0,n.oldY=u):n.oldShape={x:s,y:u,width:0,height:0}}// Fade in, user can be aware that these nodes are new.
n.fadein=!l}}(t,a,l,n,r,s,e,i,o,u)}// Notice: When thisTree and oldTree are the same tree (see list.cloneShallow),
// the oldTree is actually losted, so we cannot find all of the old graphic
// elements from tree. So we use this strategy: make element storage, move
// from old storage to new storage, clear old storage.
!function e(t,n,i,o,r){// When 'render' is triggered by action,
// 'this' and 'old' may be the same tree,
// we use rawIndex in that case.
o?(n=t,Ge(t,(function(e,t){!e.isRemoved()&&l(t,t)}))):new ab(n,t,a,a).add(l).update(l).remove(qe(l,null)).execute();function a(e){// Identify by name or raw index.
return e.getId()}function l(a,l){var s=null!=a?t[a]:null,c=null!=l?n[l]:null,d=u(s,c,i,r);d&&e(s&&s.viewChildren||[],c&&c.viewChildren||[],d,o,r+1)}}(i.root?[i.root]:[],o&&o.root?[o.root]:[],e,i===o||!o,0);// Process all removing.
var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&Ge(e,(function(e,n){var i=t[n];Ge(e,(function(e){e&&(i.push(e),TD(e).willDelete=!0)}))})),t}(l);return this._oldTree=i,this._storage=a,{lastsForAnimation:r,willDeleteEls:c,renderFinally:function(){Ge(c,(function(e){Ge(e,(function(e){e.parent&&e.parent.remove(e)}))})),Ge(s,(function(e){e.invisible=!0,// Setting invisible is for optimizing, so no need to set dirty,
// just mark as invisible.
e.dirty()}))}}},t.prototype._doAnimation=function(e,t,n,i){var o=n.get("animationDurationUpdate"),r=n.get("animationEasing"),a=($e(o)?0:o)||0,l=($e(r)?null:r)||"cubicOut",s=new xD;// Make delete animations.
Ge(t.willDeleteEls,(function(e,t){Ge(e,(function(e,n){if(!e.invisible){var o,r=e.parent,u=TD(r);// Always has parent, and parent is nodeGroup.
if(i&&"drillDown"===i.direction)o=r===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,d=0;u.willDelete||(// Let node animate to right-bottom corner, cooperating with fadeout,
// which is appropriate for user understanding.
// Divided by 2 for reRoot rolling up effect.
c=u.nodeWidth/2,d=u.nodeHeight/2),o="nodeGroup"===t?{x:c,y:d,style:{opacity:0}}:{shape:{x:c,y:d,width:0,height:0},style:{opacity:0}}}// TODO: do not support delay until necessary.
o&&s.add(e,o,a,0,l)}}))})),// Make other animations
Ge(this._storage,(function(e,n){Ge(e,(function(e,i){var o=t.lastsForAnimation[n][i],r={};o&&(e instanceof Kr?null!=o.oldX&&(r.x=e.x,r.y=e.y,e.x=o.oldX,e.y=o.oldY):(o.oldShape&&(r.shape=Be({},e.shape),e.setShape(o.oldShape)),o.fadein?(e.setStyle("opacity",0),r.style={opacity:1}):1!==e.style.opacity&&(r.style={opacity:1})),s.add(e,r,a,0,l))}))}),this),this._state="animating",s.finished(Xe((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;// Init controller.
t||((t=this._controller=new XI(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",Xe(this._onPan,this)),t.on("zoom",Xe(this._onZoom,this)));var n=new Fn(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,i){return n.contain(t,i)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){// These param must not be cached.
var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){// These param must not be cached.
var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var r=new Fn(o.x,o.y,o.width,o.height),a=this.seriesModel.layoutInfo,l=[1,0,0,1,0,0];Cn(l,l,[-(// Transform mouse coord from global to containerGroup.
t-=a.x),-(n-=a.y)]),Tn(l,l,[e.scale,e.scale]),Cn(l,l,[t,n]),r.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var i=t.findTarget(e.offsetX,e.offsetY);if(i){var o=i.node;if(o.getLayout().isLeafRoot)t._rootToNode(i);else if("zoomToNode"===n)t._zoomToNode(i);else if("link"===n){var r=o.hostTree.data.getItemModel(o.dataIndex),a=r.get("link",!0),l=r.get("target",!0)||"blank";a&&jh(a,l)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var i=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new mD(this.group))).render(e,t,n.node,(function(t){"animating"!==i._state&&(iD(e.getViewRoot(),t)?i._rootToNode({node:t}):i._zoomToNode({node:t}))}))},
/**
         * @override
         */
t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},
/**
         * @public
         * @param {number} x Global coord x.
         * @param {number} y Global coord y.
         * @return {Object} info If not found, return undefined;
         * @return {number} info.node Target node.
         * @return {number} info.offsetX x refer to target node.
         * @return {number} info.offsetY y refer to target node.
         */
t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){var o=this._storage.background[i.getRawIndex()];// If invisible, there might be no element.
if(o){var r=o.transformCoordToLocal(e,t),a=o.shape;// For performance consideration, don't use 'getBoundingRect'.
if(!(a.x<=r[0]&&r[0]<=a.x+a.width&&a.y<=r[1]&&r[1]<=a.y+a.height))return!1;// Suppress visit subtree.
n={node:i,offsetX:r[0],offsetY:r[1]}}}),this),n},t.type="treemap",t}(sy);var kD=ID,AD=Ge,DD=tt,OD=-1,PD=/** @class */function(){function e(t){var n=t.mappingMethod,i=t.type,o=this.option=Ne(t);this.type=i,this.mappingMethod=n,this._normalizeData=HD[n];var r=e.visualHandlers[i];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._normalizedToVisual=r._normalizedToVisual[n],"piecewise"===n?(LD(o),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,Ge(t,(function(t,n){t.originIndex=n,// piece.visual is "result visual value" but not
// a visual range, so it does not need to be normalized.
null!=t.visual&&(e.hasSpecialVisual=!0)}))}(o)):"category"===n?o.categories?function(e){// Hash categories.
var t=e.categories,n=e.categoryMap={},i=e.visual;// Process visual map input.
if(AD(t,(function(e,t){n[e]=t})),!Ze(i)){var o=[];tt(i)?AD(i,(function(e,t){var i=n[t];o[null!=i?i:OD]=e})):// Is primary type, represents default visual.
o[-1]=i,i=jD(e,o)}// Remove categories that has no visual,
// then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.
for(var r=t.length-1;r>=0;r--)null==i[r]&&(delete n[t[r]],t.pop())}(o):LD(o,!0):(// mappingMethod === 'linear' or 'fixed'
pt("linear"!==n||o.dataExtent),LD(o))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return Xe(this._normalizeData,this)},
/**
         * List available visual types.
         *
         * @public
         * @return {Array.<string>}
         */
e.listVisualTypes=function(){return Ye(e.visualHandlers)},// /**
//  * @public
//  */
// static addVisualHandler(name, handler) {
//     visualHandlers[name] = handler;
// }
/**
         * @public
         */
e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},
/**
         * Convenient method.
         * Visual can be Object or Array or primary type.
         */
e.eachVisual=function(e,t,n){tt(e)?Ge(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,i){var o,r=Ze(t)?[]:tt(t)?{}:(o=!0,null);return e.eachVisual(t,(function(e,t){var a=n.call(i,e,t);o?r=a:r[t]=a})),r},
/**
         * Retrieve visual properties from given object.
         */
e.retrieveVisuals=function(t){var n,i={};return t&&AD(e.visualHandlers,(function(e,o){t.hasOwnProperty(o)&&(i[o]=t[o],n=!0)})),n?i:null},
/**
         * Give order to visual types, considering colorSaturation, colorAlpha depends on color.
         *
         * @public
         * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}
         *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']
         * @return {Array.<string>} Sorted visual types.
         */
e.prepareVisualTypes=function(e){if(Ze(e))e=e.slice();else{if(!DD(e))return[];var t=[];AD(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){// color should be front of colorSaturation, colorAlpha, ...
// symbol and symbolSize do not matter.
return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},
/**
         * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.
         * Other visuals are only depends on themself.
         */
e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},
/**
         * @param value
         * @param pieceList [{value: ..., interval: [min, max]}, ...]
         *                         Always from small to big.
         * @param findClosestWhenOutside Default to be false
         * @return index
         */
e.findPieceIndex=function(e,t,n){// value has the higher priority.
for(var i,o=1/0,r=0,a=t.length;r<a;r++){var l=t[r].value;if(null!=l){if(l===e||Je(l)&&l===e+"")return r;n&&d(l,r)}}for(r=0,a=t.length;r<a;r++){var s=t[r],u=s.interval,c=s.close;if(u){if(u[0]===-1/0){if(GD(c[1],e,u[1]))return r}else if(u[1]===1/0){if(GD(c[0],u[0],e))return r}else if(GD(c[0],u[0],e)&&GD(c[1],e,u[1]))return r;n&&d(u[0],r),n&&d(u[1],r)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function d(t,n){var r=Math.abs(t-e);r<o&&(o=r,i=n)}},e.visualHandlers={color:{applyVisual:RD("color"),getColorMapper:function(){var e=this.option;return Xe("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),zD.call(this,e)}:function(t,n,i){// If output rgb array
// which will be much faster and useful in pixel manipulation
var o=!!i;return!n&&(t=this._normalizeData(t)),i=ro(t,e.parsedVisual,i),o?i:so(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return so(ro(e,this.option.parsedVisual),"rgba")},category:zD,piecewise:function(e,t){var n=VD.call(this,t);return null==n&&(n=so(ro(e,this.option.parsedVisual),"rgba")),n},fixed:BD}},colorHue:ED((function(e,t){return ao(e,t)})),colorSaturation:ED((function(e,t){return ao(e,null,t)})),colorLightness:ED((function(e,t){return ao(e,null,null,t)})),colorAlpha:ED((function(e,t){return lo(e,t)})),decal:{applyVisual:RD("decal"),_normalizedToVisual:{linear:null,category:zD,piecewise:null,fixed:null}},opacity:{applyVisual:RD("opacity"),_normalizedToVisual:FD([0,1])},liftZ:{applyVisual:RD("liftZ"),_normalizedToVisual:{linear:BD,category:BD,piecewise:BD,fixed:BD}},symbol:{applyVisual:function(e,t,n){n("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:ND,category:zD,piecewise:function(e,t){var n=VD.call(this,t);return null==n&&(n=ND.call(this,e)),n},fixed:BD}},symbolSize:{applyVisual:RD("symbolSize"),_normalizedToVisual:FD([0,1])}},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function LD(e,t){var n=e.visual,i=[];tt(n)?AD(n,(function(e){i.push(e)})):null!=n&&i.push(n);t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(// Do not care visualArr.length === 0, which is illegal.
i[1]=i[0]),jD(e,i)}function ED(e){return{applyVisual:function(t,n,i){// Only used in HSL
var o=this.mapValueToVisual(t);// Must not be array value
i("color",e(n("color"),o))},_normalizedToVisual:FD([0,1])}}function ND(e){var t=this.option.visual;return t[Math.round($r(e,[0,1],[0,t.length-1],!0))]||{};// TODO {}?
}function RD(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function zD(e){var t=this.option.visual;return t[this.option.loop&&e!==OD?e%t.length:e]}function BD(){// visual will be convert to array.
return this.option.visual[0]}
/**
       * Create mapped to numeric visual
       */function FD(e){return{linear:function(t){return $r(t,e,this.option.visual,!0)},category:zD,piecewise:function(t,n){var i=VD.call(this,n);return null==i&&(i=$r(t,e,this.option.visual,!0)),i},fixed:BD}}function VD(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[PD.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function jD(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=We(t,(function(e){var t=no(e);return t||[0,0,0,1]}))),t}
/**
       * Normalizers by mapping methods.
       */var HD={linear:function(e){return $r(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=PD.findPieceIndex(e,t,!0);if(null!=n)return $r(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;// ordinal value
return null==t?OD:t},fixed:Mt};function GD(e,t,n){return e?t<=n:t<n}var WD=PD,KD=Ea(),UD={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||YD(t,// Visual should calculate from tree root but not view root.
{},e.getViewRoot().getAncestors(),e)}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function YD(e,t,n,i){var o=e.getModel(),r=e.getLayout(),a=e.hostTree.data;// Optimize
if(r&&!r.invisible&&r.isInView){var l,s=o.getModel("itemStyle"),u=function(e,t,n){var i=Be({},t),o=n.designatedVisualItemStyle;return Ge(["color","colorAlpha","colorSaturation"],(function(n){// Priority: thisNode > thisLevel > parentNodeDesignated > seriesModel
o[n]=t[n];var r=e.get(n);o[n]=null,null!=r&&(i[n]=r)})),i}(s,t,i),c=a.ensureUniqueItemVisual(e.dataIndex,"style"),d=s.get("borderColor"),p=s.get("borderColorSaturation");null!=p&&(d=function(e,t){return null!=t?ao(t,null,null,e):null}(p,// For performance, do not always execute 'calculateColor'.
l=XD(u))),c.stroke=d;var h=e.viewChildren;if(h&&h.length){var f=function(e,t,n,i,o,r){if(!r||!r.length)return;var a=ZD(t,"color")||null!=o.color&&"none"!==o.color&&(ZD(t,"colorAlpha")||ZD(t,"colorSaturation"));if(!a)return;var l=t.get("visualMin"),s=t.get("visualMax"),u=n.dataExtent.slice();null!=l&&l<u[0]&&(u[0]=l),null!=s&&s>u[1]&&(u[1]=s);var c=t.get("colorMappingBy"),d={type:a.name,dataExtent:u,visual:a.range};"color"!==d.type||"index"!==c&&"id"!==c?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0);var p=new WD(d);return KD(p).drColorMappingBy=c,p}// Notice: If we don't have the attribute 'colorRange', but only use
// attribute 'color' to represent both concepts of 'colorRange' and 'color',
// (It means 'colorRange' when 'color' is Array, means 'color' when not array),
// this problem will be encountered:
// If a level-1 node doesn't have children, and its siblings have children,
// and colorRange is set on level-1, then the node cannot be colored.
// So we separate 'colorRange' and 'color' to different attributes.
(0,o,r,0,u,h);// Designate visual to children.
Ge(h,(function(e,t){// If higher than viewRoot, only ancestors of viewRoot is needed to visit.
if(e.depth>=n.length||e===n[e.depth]){var r=function(e,t,n,i,o,r){var a=Be({},t);if(o){// Only support color, colorAlpha, colorSaturation.
var l=o.type,s="color"===l&&KD(o).drColorMappingBy,u="index"===s?i:"id"===s?r.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));a[l]=o.mapValueToVisual(u)}return a}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(o,u,e,t,f,i);YD(e,r,n,i)}}))}else l=XD(u),// Apply visual to this node.
c.fill=l}}function XD(e){var t=qD(e,"color");if(t){var n=qD(e,"colorAlpha"),i=qD(e,"colorSaturation");return i&&(t=ao(t,null,null,i)),n&&(t=lo(t,n)),t}}function qD(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function ZD(e,t){// 'colorRange', 'colorARange', 'colorSRange'.
// If not exists on this node, fetch from levels and series.
var n=e.get(t);return Ze(n)&&n.length?{name:t,range:n}:null}var $D=Math.max,JD=Math.min,QD=lt,eO=Ge,tO=["itemStyle","borderWidth"],nO=["itemStyle","gapWidth"],iO=["upperLabel","show"],oO=["upperLabel","height"],rO={seriesType:"treemap",reset:function(e,t,n,i){// Layout result in each node:
// {x, y, width, height, area, borderWidth}
var o=n.getWidth(),r=n.getHeight(),a=e.option,l=Yh(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),s=a.size||[],u=Jr(QD(l.width,s[0]),o),c=Jr(QD(l.height,s[1]),r),d=i&&i.type,p=tD(i,["treemapZoomToNode","treemapRootToNode"],e),h="treemapRender"===d||"treemapMove"===d?i.rootRect:null,f=e.getViewRoot(),v=nD(f);if("treemapMove"!==d){var g="treemapZoomToNode"===d?// Return [containerWidth, containerHeight] as default.
function(e,t,n,i,o){// If targetInfo.node exists, we zoom to the node,
// so estimate whole width and height by target node.
var r,a=(t||{}).node,l=[i,o];if(!a||a===n)return l;var s=i*o,u=s*e.option.zoomToNodeRatio;for(;r=a.parentNode;){for(// jshint ignore:line
var c=0,d=r.children,p=0,h=d.length;p<h;p++)c+=d[p].getValue();var f=a.getValue();if(0===f)return l;u*=c/f;// Considering border, suppose aspect ratio is 1.
var v=r.getModel(),g=v.get(tO);(u+=4*g*g+(3*g+Math.max(g,cO(v)))*Math.pow(u,.5))>oa&&(u=oa),a=r}u<s&&(u=s);var y=Math.pow(u/s,.5);return[i*y,o*y]}// Root position based on coord of containerGroup
(e,p,f,u,c):h?[h.width,h.height]:[u,c],y=a.sort;y&&"asc"!==y&&"desc"!==y&&(// Default to be desc order.
y="desc");var m={squareRatio:a.squareRatio,sort:y,leafDepth:a.leafDepth};// layout should be cleared because using updateView but not update.
f.hostTree.clearLayouts();// TODO
// optimize: if out of view clip, do not layout.
// But take care that if do not render node out of view clip,
// how to calculate start po
var x={x:0,y:0,width:g[0],height:g[1],area:g[0]*g[1]};f.setLayout(x),aO(f,m,!1,0),// Supplement layout.
x=f.getLayout(),eO(v,(function(e,t){var n=(v[t+1]||f).getValue();e.setLayout(Be({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))}))}var b=e.getData().tree.root;b.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;// If targetInfo is fetched by 'retrieveTargetInfo',
// old tree and new tree are the same tree,
// so the node still exists and we can visit it.
var o=n.node,r=o.getLayout();if(!r)return i;// Transform coord from local to container.
var a=[r.width/2,r.height/2],l=o;for(;l;){var s=l.getLayout();a[0]+=s.x,a[1]+=s.y,l=l.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}// Mark nodes visible for prunning when visual coding and rendering.
// Prunning depends on layout and root position, so we have to do it after layout.
(l,h,p),!0),e.setLayoutInfo(l),// FIXME
// 现在没有clip功能，暂时取ec高宽。
uO(b,// Transform to base element coordinate system.
new Fn(-l.x,-l.y,o,r),v,f,0)}};
/**
       * Layout treemap with squarify algorithm.
       * The original presentation of this algorithm
       * was made by Mark Bruls, Kees Huizing, and Jarke J. van Wijk
       * <https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf>.
       * The implementation of this algorithm was originally copied from "d3.js"
       * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/layout/treemap.js>
       * with some modifications made for this program.
       * See the license statement at the head of this file.
       *
       * @protected
       * @param {module:echarts/data/Tree~TreeNode} node
       * @param {Object} options
       * @param {string} options.sort 'asc' or 'desc'
       * @param {number} options.squareRatio
       * @param {boolean} hideChildren
       * @param {number} depth
       */
function aO(e,t,n,i){var o,r;if(!e.isRemoved()){var a=e.getLayout();o=a.width,r=a.height;// Considering border and gap
var l=e.getModel(),s=l.get(tO),u=l.get(nO)/2,c=cO(l),d=Math.max(s,c),p=s-u,h=d-u;e.setLayout({borderWidth:s,upperHeight:d,upperLabelHeight:c},!0);var f=(o=$D(o-2*p,0))*(r=$D(r-p-h,0)),v=
/**
       * Set area to each child, and calculate data extent for visual coding.
       */
function(e,t,n,i,o,r){var a=e.children||[],l=i.sort;"asc"!==l&&"desc"!==l&&(l=null);var s=null!=i.leafDepth&&i.leafDepth<=r;// leafDepth has higher priority.
if(o&&!s)return e.viewChildren=[];// Sort children, order by desc.
a=Ue(a,(function(e){return!e.isRemoved()})),
/**
       * Sort
       */
function(e,t){t&&e.sort((function(e,n){var i="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===i?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i}))}
/**
       * Statistic
       */(a,l);var u=function(e,t,n){for(// Calculate sum.
var i=0,o=0,r=t.length;o<r;o++)i+=t[o].getValue();// Statistic data extent for latter visual coding.
// Notice: data extent should be calculate based on raw children
// but not filtered view children, otherwise visual mapping will not
// be stable when zoom (where children is filtered by visibleMin).
var a,l=e.get("visualDimension");// The same as area dimension.
t&&t.length?"value"===l&&n?(a=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],eO(t,(function(e){var t=e.getValue(l);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)}))):a=[NaN,NaN];return{sum:i,dataExtent:a}}
/**
       * Computes the score for the specified row,
       * as the worst aspect ratio.
       */(t,a,l);if(0===u.sum)return e.viewChildren=[];if(u.sum=
/**
       * Consider 'visibleMin'. Modify viewChildren and get new sum.
       */
function(e,t,n,i,o){// visibleMin is not supported yet when no option.sort.
if(!i)return n;// Always travel from little value to big value.
for(var r=e.get("visibleMin"),a=o.length,l=a,s=a-1;s>=0;s--){var u=o["asc"===i?a-s-1:s].getValue();u/n*t<r&&(l=s,n-=u)}return"asc"===i?o.splice(0,a-l):o.splice(l,a-l),n}(t,n,u.sum,l,a),0===u.sum)return e.viewChildren=[];// Set area to each child.
for(var c=0,d=a.length;c<d;c++){var p=a[c].getValue()/u.sum*n;// Do not use setLayout({...}, true), because it is needed to clear last layout.
a[c].setLayout({area:p})}s&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0);return e.viewChildren=a,e.setLayout({dataExtent:u.dataExtent},!0),a}(e,l,f,t,n,i);if(v.length){var g={x:p,y:h,width:o,height:r},y=JD(o,r),m=1/0,x=[];x.area=0;for(var b=0,_=v.length;b<_;){var w=v[b];x.push(w),x.area+=w.getLayout().area;var S=lO(x,y,t.squareRatio);// continue with this orientation
S<=m?(b++,m=S):(x.area-=x.pop().getLayout().area,sO(x,y,g,u,!1),y=JD(g.width,g.height),x.length=x.area=0,m=1/0)}if(x.length&&sO(x,y,g,u,!0),!n){var C=l.get("childrenVisibleMin");null!=C&&f<C&&(n=!0)}for(b=0,_=v.length;b<_;b++)aO(v[b],t,n,i+1)}}}function lO(e,t,n){for(var i=0,o=1/0,r=0,a=void 0,l=e.length;r<l;r++)(a=e[r].getLayout().area)&&(a<o&&(o=a),a>i&&(i=a));var s=e.area*e.area,u=t*t*n;return s?$D(u*i/s,s/(u*o)):1/0}
/**
       * Positions the specified row of nodes. Modifies `rect`.
       */function sO(e,t,n,i,o){// When rowFixedLength === rect.width,
// it is horizontal subdivision,
// rowFixedLength is the width of the subdivision,
// rowOtherLength is the height of the subdivision,
// and nodes will be positioned from left to right.
// wh[idx0WhenH] means: when horizontal,
//      wh[idx0WhenH] => wh[0] => 'width'.
//      xy[idx1WhenH] => xy[1] => 'y'.
var r=t===n.width?0:1,a=1-r,l=["x","y"],s=["width","height"],u=n[l[r]],c=t?e.area/t:0;(o||c>n[s[a]])&&(c=n[s[a]]);for(var d=0,p=e.length;d<p;d++){var h=e[d],f={},v=c?h.getLayout().area/c:0,g=f[s[a]]=$D(c-2*i,0),y=n[l[r]]+n[s[r]]-u,m=d===p-1||y<v?y:v,x=f[s[r]]=$D(m-2*i,0);f[l[a]]=n[l[a]]+JD(i,g/2),f[l[r]]=u+JD(i,x/2),u+=m,h.setLayout(f,!0)}n[l[a]]+=c,n[s[a]]-=c}function uO(e,t,n,i,o){var r=e.getLayout(),a=n[o],l=a&&a===e;if(!(a&&!l||o===n.length&&e!==i)){e.setLayout({// isInView means: viewRoot sub tree + viewAbovePath
isInView:!0,// invisible only means: outside view clip so that the node can not
// see but still layout for animation preparation but not render.
invisible:!l&&!t.intersect(r),isAboveViewRoot:l},!0);// Transform to child coordinate.
var s=new Fn(t.x-r.x,t.y-r.y,t.width,t.height);eO(e.viewChildren||[],(function(e){uO(e,s,n,i,o+1)}))}}function cO(e){return e.get(iO)?e.get(oO):0}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function dO(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),i=e.getGraph().data,o=n.mapArray(n.getName);i.filterSelf((function(e){var n=i.getItemModel(e).getShallow("category");if(null!=n){et(n)&&(n=o[n]);// If in any legend component the status is not selected.
for(var r=0;r<t.length;r++)if(!t[r].isSelected(n))return!1}return!0}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function pO(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),i=e.getData(),o={};n.each((function(i){var r=n.getName(i);// Add prefix to avoid conflict with Object.prototype.
o["ec-"+r]=i;var a=n.getItemModel(i),l=a.getModel("itemStyle").getItemStyle();l.fill||(// Get color from palette.
l.fill=e.getColorFromPalette(r,t)),n.setItemVisual(i,"style",l);for(var s=["symbol","symbolSize","symbolKeepAspect"],u=0;u<s.length;u++){var c=a.getShallow(s[u],!0);null!=c&&n.setItemVisual(i,s[u],c)}})),// Assign category color to visual
n.count()&&i.each((function(e){var t=i.getItemModel(e).getShallow("category");if(null!=t){Je(t)&&(t=o["ec-"+t]);var r=n.getItemVisual(t,"style");Be(i.ensureUniqueItemVisual(e,"style"),r);for(var a=["symbol","symbolSize","symbolKeepAspect"],l=0;l<a.length;l++)i.setItemVisual(e,a[l],n.getItemVisual(t,a[l]))}}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function hO(e){return e instanceof Array||(e=[e,e]),e}function fO(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),i=hO(e.get("edgeSymbol")),o=hO(e.get("edgeSymbolSize"));// const colorQuery = ['lineStyle', 'color'] as const;
// const opacityQuery = ['lineStyle', 'opacity'] as const;
n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each((function(e){var i=n.getItemModel(e),o=t.getEdgeByIndex(e),r=hO(i.getShallow("symbol",!0)),a=hO(i.getShallow("symbolSize",!0)),l=i.getModel("lineStyle").getLineStyle(),s=n.ensureUniqueItemVisual(e,"style");switch(Be(s,l),s.stroke){case"source":var u=o.node1.getVisual("style");s.stroke=u&&u.fill;break;case"target":u=o.node2.getVisual("style");s.stroke=u&&u.fill}r[0]&&o.setVisual("fromSymbol",r[0]),r[1]&&o.setVisual("toSymbol",r[1]),a[0]&&o.setVisual("fromSymbolSize",a[0]),a[1]&&o.setVisual("toSymbolSize",a[1])}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var vO="--\x3e",gO=function(e){return e.get("autoCurveness")||null},yO=function(e,t){var n=gO(e),i=20,o=[];// handler the function set
if(et(n))i=n;else if(Ze(n))return void(e.__curvenessList=n);// append length
t>i&&(i=t);// make sure the length is even
var r=i%2?i+2:i+3;o=[];for(var a=0;a<r;a++)o.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=o},mO=function(e,t,n){var i=[e.id,e.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[n.uid,i,o].join(vO)},xO=function(e){var t=e.split(vO);return[t[0],t[2],t[1]].join(vO)},bO=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};
/**
       * params handler
       * @param {module:echarts/model/SeriesModel} seriesModel
       * @returns {*}
       */
/**
       * get curvature for edge
       * @param edge
       * @param {module:echarts/model/SeriesModel} seriesModel
       * @param index
       */
function _O(e,t,n,i){var o=gO(t),r=Ze(o);if(!o)return null;var a=function(e,t){var n=mO(e.node1,e.node2,t);return t.__edgeMap[n]}(e,t);if(!a)return null;for(var l=-1,s=0;s<a.length;s++)if(a[s]===n){l=s;break}// if totalLen is Longer createCurveness
var u=function(e,t){return bO(mO(e.node1,e.node2,t),t)+bO(mO(e.node2,e.node1,t),t)}(e,t);yO(t,u),e.lineStyle=e.lineStyle||{};// if is opposite edge, must set curvenss to opposite number
var c=mO(e.node1,e.node2,t),d=t.__curvenessList,p=r||u%2?0:1;if(a.isForward)return d[p+l];// the opposite edge show outside
var h=xO(c),f=bO(h,t),v=d[l+f+p];// isNeedReverse, simple, force type need reverse the curveness in the junction of the forword and the opposite
return i?// set as array may make the parity handle with the len of opposite
r?o&&0===o[0]?(f+p)%2?v:-v:((f%2?0:1)+p)%2?v:-v:(f+p)%2?v:-v:d[l+f+p]}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function wO(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),SO(n,e)}}function SO(e,t){e.eachEdge((function(e,n){var i=ut(e.getModel().get(["lineStyle","curveness"]),-_O(e,t,n,!0),0),o=Ot(e.node1.getLayout()),r=Ot(e.node2.getLayout()),a=[o,r];+i&&a.push([(o[0]+r[0])/2-(o[1]-r[1])*i,(o[1]+r[1])/2-(r[0]-o[0])*i]),e.setLayout(a)}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function CO(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var i=e.getData(),o=[];Ge(n.dimensions,(function(e){o=o.concat(i.mapDimensionsAll(e))}));for(var r=0;r<i.count();r++){for(var a=[],l=!1,s=0;s<o.length;s++){var u=i.get(o[s],r);isNaN(u)||(l=!0),a.push(u)}l?i.setItemLayout(r,n.dataToPoint(a)):// Also {Array.<number>}, not undefined to avoid if...else... statement
i.setItemLayout(r,[NaN,NaN])}SO(i.graph,e)}else t&&"none"!==t||wO(e)}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function MO(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,i=t.scaleX;return((t.getZoom()-1)*n+1)/i}function TO(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var IO=Math.PI,kO=[];
/**
       * `basedOn` can be:
       * 'value':
       *     This layout is not accurate and have same bad case. For example,
       *     if the min value is very smaller than the max value, the nodes
       *     with the min value probably overlap even though there is enough
       *     space to layout them. So we only use this approach in the as the
       *     init layout of the force layout.
       *     FIXME
       *     Probably we do not need this method any more but use
       *     `basedOn: 'symbolSize'` in force layout if
       *     delay its init operations to GraphView.
       * 'symbolSize':
       *     This approach work only if all of the symbol size calculated.
       *     That is, the progressive rendering is not applied to graph.
       *     FIXME
       *     If progressive rendering is applied to graph some day,
       *     probably we have to use `basedOn: 'value'`.
       */
function AO(e,t,n,i){var o=e.coordinateSystem;if(!o||"view"===o.type){var r=o.getBoundingRect(),a=e.getData(),l=a.graph,s=r.width/2+r.x,u=r.height/2+r.y,c=Math.min(r.width,r.height)/2,d=a.count();if(a.setLayout({cx:s,cy:u}),d){if(n){var p=o.pointToData(i),h=p[0],f=p[1],v=[h-s,f-u];Bt(v,v),zt(v,v,c),n.setLayout([s+v[0],u+v[1]],!0),OO(n,e.get(["circular","rotateLabel"]),s,u)}DO[t](e,l,a,c,s,u,d),l.eachEdge((function(t,n){var i,o=ut(t.getModel().get(["lineStyle","curveness"]),_O(t,e,n),0),r=Ot(t.node1.getLayout()),a=Ot(t.node2.getLayout()),l=(r[0]+a[0])/2,c=(r[1]+a[1])/2;+o&&(i=[s*(o*=3)+l*(1-o),u*o+c*(1-o)]),t.setLayout([r,a,i])}))}}}var DO={value:function(e,t,n,i,o,r,a){var l=0,s=n.getSum("value"),u=2*Math.PI/(s||a);t.eachNode((function(e){var t=e.getValue("value"),n=u*(s?t:1)/2;l+=n,e.setLayout([i*Math.cos(l)+o,i*Math.sin(l)+r]),l+=n}))},symbolSize:function(e,t,n,i,o,r,a){var l=0;kO.length=a;var s=MO(e);t.eachNode((function(e){var t=TO(e);// Normally this case will not happen, but we still add
// some the defensive code (2px is an arbitrary value).
isNaN(t)&&(t=2),t<0&&(t=0),t*=s;var n=Math.asin(t/2/i);// when `symbolSize / 2` is bigger than `r`.
isNaN(n)&&(n=IO/2),kO[e.dataIndex]=n,l+=2*n}));var u=(2*IO-l)/a/2,c=0;t.eachNode((function(e){var t=u+kO[e.dataIndex];c+=t,// init circular layout for
// 1. layout undefined node
// 2. not fixed node
(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([i*Math.cos(c)+o,i*Math.sin(c)+r]),c+=t}))}};function OO(e,t,n,i){var o=e.getGraphicEl();// need to check if el exists. '-' value may not create node element.
if(o){var r=e.getModel().get(["label","rotate"])||0,a=o.getSymbolPath();if(t){var l=e.getLayout(),s=Math.atan2(l[1]-i,l[0]-n);s<0&&(s=2*Math.PI+s);var u=l[0]<n;u&&(s-=Math.PI);var c=u?"left":"right";a.setTextConfig({rotation:-s,position:c,origin:"center"});var d=a.ensureState("emphasis");Be(d.textConfig||(d.textConfig={}),{position:c})}else a.setTextConfig({rotation:r*=Math.PI/180})}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function PO(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&AO(e,"symbolSize")}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var LO=Et;// function adjacentNode(n, e) {
//     return e.n1 === n ? e.n2 : e.n1;
// }
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function EO(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},i=e.getGraph(),o=i.data,r=i.edgeData,a=e.getModel("force"),l=a.get("initLayout");e.preservedPoints?o.each((function(e){var t=o.getId(e);o.setItemLayout(e,n[t]||[NaN,NaN])})):l&&"none"!==l?"circular"===l&&AO(e,"value"):wO(e);var s=o.getDataExtent("value"),u=r.getDataExtent("value"),c=a.get("repulsion"),d=a.get("edgeLength"),p=Ze(c)?c:[c,c],h=Ze(d)?d:[d,d];// Larger value has smaller length
h=[h[1],h[0]];var f=o.mapArray("value",(function(e,t){var n=o.getItemLayout(t),i=$r(e,s,p);return isNaN(i)&&(i=(p[0]+p[1])/2),{w:i,rep:i,fixed:o.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),v=r.mapArray("value",(function(t,n){var o=i.getEdgeByIndex(n),r=$r(t,u,h);isNaN(r)&&(r=(h[0]+h[1])/2);var a=o.getModel(),l=ut(o.getModel().get(["lineStyle","curveness"]),-_O(o,e,n,!0),0);return{n1:f[o.node1.dataIndex],n2:f[o.node2.dataIndex],d:r,curveness:l,ignoreForceLayout:a.get("ignoreForceLayout")}})),g=t.getBoundingRect(),y=function(e,t,n){// for (let i = 0; i < edges.length; i++) {
//     let e = edges[i];
//     let n1 = e.n1;
//     let n2 = e.n2;
//     n1.edges = n1.edges || [];
//     n2.edges = n2.edges || [];
//     n1.edges.push(e);
//     n2.edges.push(e);
// }
// Init position
for(var i=e,o=t,r=n.rect,a=r.width,l=r.height,s=[r.x+a/2,r.y+l/2],u=null==n.gravity?.1:n.gravity,c=0;c<i.length;c++){var d=i[c];d.p||(d.p=At(a*(Math.random()-.5)+s[0],l*(Math.random()-.5)+s[1])),d.pp=Ot(d.p),d.edges=null}// Formula in 'Graph Drawing by Force-directed Placement'
// let k = scale * Math.sqrt(width * height / nodes.length);
// let k2 = k * k;
var p,h,f=null==n.friction?.6:n.friction,v=f;return{warmUp:function(){v=.8*f},setFixed:function(e){i[e].fixed=!0},setUnfixed:function(e){i[e].fixed=!1},
/**
           * Before step hook
           */
beforeStep:function(e){p=e},
/**
           * After step hook
           */
afterStep:function(e){h=e},
/**
           * Some formulas were originally copied from "d3.js"
           * https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/layout/force.js
           * with some modifications made for this project.
           * See the license statement at the head of this file.
           */
step:function(e){p&&p(i,o);for(var t=[],n=i.length,r=0;r<o.length;r++){var a=o[r];if(!a.ignoreForceLayout){var l=a.n1;Nt(t,(g=a.n2).p,l.p);var c=Rt(t)-a.d,d=g.w/(l.w+g.w);isNaN(d)&&(d=0),Bt(t,t),!l.fixed&&LO(l.p,l.p,t,d*c*v),!g.fixed&&LO(g.p,g.p,t,-(1-d)*c*v)}}// Gravity
for(r=0;r<n;r++)(x=i[r]).fixed||(Nt(t,s,x.p),// let d = vec2.len(v12);
// vec2.scale(v12, v12, 1 / d);
// let gravityFactor = gravity;
LO(x.p,x.p,t,u*v));// Repulsive
// PENDING
for(r=0;r<n;r++){l=i[r];for(var f=r+1;f<n;f++){var g;Nt(t,(g=i[f]).p,l.p),0===(c=Rt(t))&&(// Random repulse
Pt(t,Math.random()-.5,Math.random()-.5),c=1);var y=(l.rep+g.rep)/c/c;!l.fixed&&LO(l.pp,l.pp,t,y),!g.fixed&&LO(g.pp,g.pp,t,-y)}}var m=[];for(r=0;r<n;r++){var x;(x=i[r]).fixed||(Nt(m,x.p,x.pp),LO(x.p,x.p,m,v),Dt(x.pp,x.p))}var b=(v*=.992)<.01;h&&h(i,o,b),e&&e(b)}}}(f,v,{rect:g,gravity:a.get("gravity"),friction:a.get("friction")});y.beforeStep((function(e,t){for(var n=0,o=e.length;n<o;n++)e[n].fixed&&// Write back to layout instance
Dt(e[n].p,i.getNodeByIndex(n).getLayout())})),y.afterStep((function(e,t,r){for(var a=0,l=e.length;a<l;a++)e[a].fixed||i.getNodeByIndex(a).setLayout(e[a].p),n[o.getId(a)]=e[a].p;for(a=0,l=t.length;a<l;a++){var s=t[a],u=i.getEdgeByIndex(a),c=s.n1.p,d=s.n2.p,p=u.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],Dt(p[0],c),Dt(p[1],d),+s.curveness&&(p[2]=[(c[0]+d[0])/2-(c[1]-d[1])*s.curveness,(c[1]+d[1])/2-(d[0]-c[0])*s.curveness]),u.setLayout(p)}})),e.forceLayout=y,e.preservedPoints=n,// Step to get the layout
y.step()}else// Remove prev injected forceLayout instance
e.forceLayout=null}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function NO(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var i=e.get("coordinateSystem");if(!i||"view"===i){var o=e.getData(),r=[],a=[];Rl(o.mapArray((function(e){var t=o.getItemModel(e);return[+t.get("x"),+t.get("y")]})),r,a),// If width or height is 0
a[0]-r[0]==0&&(a[0]+=1,r[0]-=1),a[1]-r[1]==0&&(a[1]+=1,r[1]-=1);var l=(a[0]-r[0])/(a[1]-r[1]),s=function(e,t,n){return Yh(Be(e.getBoxLayoutParams(),{aspect:n}),{width:t.getWidth(),height:t.getHeight()})}(e,t,l);// FIXME If get view rect after data processed?
// Position may be NaN, use view rect instead
isNaN(l)&&(r=[s.x,s.y],a=[s.x+s.width,s.y+s.height]);var u=a[0]-r[0],c=a[1]-r[1],d=s.width,p=s.height,h=e.coordinateSystem=new lA;h.zoomLimit=e.get("scaleLimit"),h.setBoundingRect(r[0],r[1],u,c),h.setViewRect(s.x,s.y,d,p),// Update roam info
h.setCenter(e.get("center"),t),h.setZoom(e.get("zoom")),n.push(h)}})),n}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var RO=ld.prototype,zO=pd.prototype,BO=function(){// Start point
this.x1=0,this.y1=0,// End point
this.x2=0,this.y2=0,this.percent=1};function FO(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}/** @class */!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}de(t,e)}(BO);var VO=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return de(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new BO},t.prototype.buildPath=function(e,t){FO(t)?RO.buildPath.call(this,e,t):zO.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return FO(this.shape)?RO.pointAt.call(this,e):zO.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=FO(t)?[t.x2-t.x1,t.y2-t.y1]:zO.tangentAt.call(this,e);return Bt(n,n)},t}(ks),jO=VO,HO=["fromSymbol","toSymbol"];function GO(e){return"_"+e+"Type"}
/**
       * @inner
       */function WO(e,t,n){var i=t.getItemVisual(n,e);if(i&&"none"!==i){var o=t.getItemVisual(n,e+"Size"),r=t.getItemVisual(n,e+"Rotate"),a=t.getItemVisual(n,e+"Offset"),l=t.getItemVisual(n,e+"KeepAspect"),s=xm(o),u=bm(a||0,s),c=mm(i,-s[0]/2+u[0],-s[1]/2+u[1],s[0],s[1],null,l);return c.__specifiedRotation=null==r||isNaN(r)?void 0:+r*Math.PI/180||0,c.name=e,c}}function KO(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var UO=/** @class */function(e){function t(t,n,i){var o=e.call(this)||this;return o._createLine(t,n,i),o}return de(t,e),t.prototype._createLine=function(e,t,n){var i=e.hostModel,o=function(e){var t=new jO({name:"line",subPixelOptimize:!0});return KO(t.shape,e),t}(e.getItemLayout(t));o.shape.percent=0,zd(o,{shape:{percent:1}},i,t),this.add(o),Ge(HO,(function(n){var i=WO(n,e,t);// symbols must added after line to make sure
// it will be updated after line#update.
// Or symbol position and rotation update in line#beforeUpdate will be one frame slow
this.add(i),this[GO(n)]=e.getItemVisual(t,n)}),this),this._updateCommonStl(e,t,n)},// TODO More strict on the List type in parameters?
t.prototype.updateData=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),r=e.getItemLayout(t),a={shape:{}};KO(a.shape,r),Rd(o,a,i,t),Ge(HO,(function(n){var i=e.getItemVisual(t,n),o=GO(n);// Symbol changed
if(this[o]!==i){this.remove(this.childOfName(n));var r=WO(n,e,t);this.add(r)}this[o]=i}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var i=e.hostModel,o=this.childOfName("line"),r=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,l=n&&n.selectLineStyle,s=n&&n.labelStatesModels,u=n&&n.emphasisDisabled,c=n&&n.focus,d=n&&n.blurScope;// Optimization for large dataset
if(!n||e.hasItemOption){var p=e.getItemModel(t),h=p.getModel("emphasis");r=h.getModel("lineStyle").getLineStyle(),a=p.getModel(["blur","lineStyle"]).getLineStyle(),l=p.getModel(["select","lineStyle"]).getLineStyle(),u=h.get("disabled"),c=h.get("focus"),d=h.get("blurScope"),s=bp(p)}var f=e.getItemVisual(t,"style"),v=f.stroke;o.useStyle(f),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=r,o.ensureState("blur").style=a,o.ensureState("select").style=l,// Update symbol
Ge(HO,(function(e){var t=this.childOfName(e);if(t){// Share opacity and color with line.
t.setColor(v),t.style.opacity=f.opacity;for(var n=0;n<pu.length;n++){var i=pu[n],r=o.getState(i);if(r){var a=r.style||{},l=t.ensureState(i),s=l.style||(l.style={});null!=a.stroke&&(s[t.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(s.opacity=a.opacity)}}t.markRedraw()}}),this);var g=i.getRawValue(t);xp(this,s,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return i.getFormattedLabel(t,n,e.dataType)}},inheritColor:v||"#000",defaultOpacity:f.opacity,defaultText:(null==g?e.getName(t):isFinite(g)?Qr(g):g)+""});var y=this.getTextContent();// Always set `textStyle` even if `normalStyle.text` is null, because default
// values have to be set on `normalStyle`.
if(y){var m=s.normal;y.__align=y.style.align,y.__verticalAlign=y.style.verticalAlign,// 'start', 'middle', 'end'
y.__position=m.get("position")||"middle";var x=m.get("distance");Ze(x)||(x=[x,x]),y.__labelDistance=x}this.setTextConfig({position:null,local:!0,inside:!1}),$u(this,c,d,u)},t.prototype.highlight=function(){zu(this)},t.prototype.downplay=function(){Bu(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");KO(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),i=e.getTextContent();// Quick reject
if(t||n||i&&!i.ignore){for(var o=1,r=this.parent;r;)r.scaleX&&(o/=r.scaleX),r=r.parent;var a=e.childOfName("line");// If line not changed
// FIXME Parent scale changed
if(this.__dirty||a.__dirty){var l=a.shape.percent,s=a.pointAt(0),u=a.pointAt(l),c=Nt([],u,s);if(Bt(c,c),t&&(t.setPosition(s),S(t,0),t.scaleX=t.scaleY=o*l,t.markRedraw()),n&&(n.setPosition(u),S(n,1),n.scaleX=n.scaleY=o*l,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var d=void 0,p=void 0,h=i.__labelDistance,f=h[0]*o,v=h[1]*o,g=l/2,y=a.tangentAt(g),m=[y[1],-y[0]],x=a.pointAt(g);m[1]>0&&(m[0]=-m[0],m[1]=-m[1]);var b=y[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var _=-Math.atan2(y[1],y[0]);u[0]<s[0]&&(_=Math.PI+_),i.rotation=_}var w=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-v,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=v,p="top";break;default:w=0,p="middle"}switch(i.__position){case"end":i.x=c[0]*f+u[0],i.y=c[1]*v+u[1],d=c[0]>.8?"left":c[0]<-.8?"right":"center",p=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":i.x=-c[0]*f+s[0],i.y=-c[1]*v+s[1],d=c[0]>.8?"right":c[0]<-.8?"left":"center",p=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=f*b+s[0],i.y=s[1]+w,d=y[0]<0?"right":"left",i.originX=-f*b,i.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=x[0],i.y=x[1]+w,d="center",i.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-f*b+u[0],i.y=u[1]+w,d=y[0]>=0?"right":"left",i.originX=f*b,i.originY=-w}i.scaleX=i.scaleY=o,i.setStyle({// Use the user specified text align and baseline first
verticalAlign:i.__verticalAlign||p,align:i.__align||d})}}}function S(e,t){// Fix #12388
// when symbol is set to be 'arrow' in markLine,
// symbolRotate value will be ignored, and compulsively use tangent angle.
// rotate by default if symbol rotation is not specified
var n=e.__specifiedRotation;if(null==n){var i=a.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else e.attr("rotation",n)}},t}(Kr),YO=UO;function XO(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:bp(t)}}function qO(e){return isNaN(e[0])||isNaN(e[1])}function ZO(e){return e&&!qO(e[0])&&!qO(e[1])}var $O=/** @class */function(){function e(e){this.group=new Kr,this._LineCtor=e||YO}return e.prototype.updateData=function(e){var t=this;// Remove progressive els.
this._progressiveEls=null;var n=this,i=n.group,o=n._lineData;n._lineData=e,// There is no oldLineData only when first rendering or switching from
// stream mode to normal mode, where previous elements should be removed.
o||i.removeAll();var r=XO(e);e.diff(o).add((function(n){t._doAdd(e,n,r)})).update((function(n,i){t._doUpdate(o,e,i,n,r)})).remove((function(e){i.remove(o.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;// Do not support update layout in incremental mode.
e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=XO(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=e.start;i<e.end;i++){if(ZO(t.getItemLayout(i))){var o=new this._LineCtor(t,i,this._seriesScope);o.traverse(n),this.group.add(o),t.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){fp(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,n){if(ZO(e.getItemLayout(t))){var i=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,i),this.group.add(i)}},e.prototype._doUpdate=function(e,t,n,i,o){var r=e.getItemGraphicEl(n);ZO(t.getItemLayout(i))?(r?r.updateData(t,i,o):r=new this._LineCtor(t,i,o),t.setItemGraphicEl(i,r),this.group.add(r)):this.group.remove(r)},e}(),JO=[],QO=[],eP=[],tP=Di,nP=jt,iP=Math.abs;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function oP(e,t,n){for(var i,o=e[0],r=e[1],a=e[2],l=1/0,s=n*n,u=.1,c=.1;c<=.9;c+=.1){JO[0]=tP(o[0],r[0],a[0],c),JO[1]=tP(o[1],r[1],a[1],c),(h=iP(nP(JO,t)-s))<l&&(l=h,i=c)}// Assume the segment is monotone，Find root through Bisection method
// At most 32 iteration
for(var d=0;d<32;d++){// let prev = t - interval;
var p=i+u;// v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);
// v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);
QO[0]=tP(o[0],r[0],a[0],i),QO[1]=tP(o[1],r[1],a[1],i),eP[0]=tP(o[0],r[0],a[0],p),eP[1]=tP(o[1],r[1],a[1],p);var h=nP(QO,t)-s;if(iP(h)<.01)break;// let prevDiff = v2DistSquare(v1, center) - radiusSquare;
var f=nP(eP,t)-s;u/=2,h<0?f>=0?i+=u:i-=u:f>=0?i-=u:i+=u}return i}// Adjust edge to avoid
function rP(e,t){var n=[],i=Li,o=[[],[],[]],r=[[],[]],a=[];t/=2,e.eachEdge((function(e,l){var s=e.getLayout(),u=e.getVisual("fromSymbol"),c=e.getVisual("toSymbol");s.__original||(s.__original=[Ot(s[0]),Ot(s[1])],s[2]&&s.__original.push(Ot(s[2])));var d=s.__original;// Quadratic curve
if(null!=s[2]){if(Dt(o[0],d[0]),Dt(o[1],d[2]),Dt(o[2],d[1]),u&&"none"!==u){var p=TO(e.node1),h=oP(o,d[0],p*t);// Subdivide and get the second
i(o[0][0],o[1][0],o[2][0],h,n),o[0][0]=n[3],o[1][0]=n[4],i(o[0][1],o[1][1],o[2][1],h,n),o[0][1]=n[3],o[1][1]=n[4]}if(c&&"none"!==c){p=TO(e.node2),h=oP(o,d[1],p*t);// Subdivide and get the first
i(o[0][0],o[1][0],o[2][0],h,n),o[1][0]=n[1],o[2][0]=n[2],i(o[0][1],o[1][1],o[2][1],h,n),o[1][1]=n[1],o[2][1]=n[2]}// Copy back to layout
Dt(s[0],o[0]),Dt(s[1],o[2]),Dt(s[2],o[1])}// Line
else{if(Dt(r[0],d[0]),Dt(r[1],d[1]),Nt(a,r[1],r[0]),Bt(a,a),u&&"none"!==u){p=TO(e.node1);Et(r[0],r[0],a,p*t)}if(c&&"none"!==c){p=TO(e.node2);Et(r[1],r[1],a,-p*t)}Dt(s[0],r[0]),Dt(s[1],r[1])}}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function aP(e){return"view"===e.type}var lP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(e,t){var n=new FC,i=new $O,o=this.group;this._controller=new XI(t.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},t.prototype.render=function(e,t,n){var i=this,o=e.coordinateSystem;this._model=e;var r=this._symbolDraw,a=this._lineDraw,l=this.group;if(aP(o)){var s={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?l.attr(s):Rd(l,s,e)}// Fix edge contact point with node
rP(e.getGraph(),MO(e));var u=e.getData();r.updateData(u);var c=e.getEdgeData();// TODO: TYPE
a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,p=e.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,p);var h=e.get("layout");u.graph.eachNode((function(t){var n=t.dataIndex,o=t.getGraphicEl(),r=t.getModel();if(o){// Update draggable
o.off("drag").off("dragend");var a=r.get("draggable");a&&o.on("drag",(function(r){switch(h){case"force":d.warmUp(),!i._layouting&&i._startForceLayoutIteration(d,p),d.setFixed(n),// Write position back to layout
u.setItemLayout(n,[o.x,o.y]);break;case"circular":u.setItemLayout(n,[o.x,o.y]),// mark node fixed
t.setLayout({fixed:!0},!0),// recalculate circular layout
AO(e,"symbolSize",t,[r.offsetX,r.offsetY]),i.updateLayout(e);break;default:u.setItemLayout(n,[o.x,o.y]),// update edge
SO(e.getGraph(),e),i.updateLayout(e)}})).on("dragend",(function(){d&&d.setUnfixed(n)})),o.setDraggable(a,!!r.get("cursor")),"adjacency"===r.get(["emphasis","focus"])&&(au(o).focus=t.getAdjacentDataIndices())}})),u.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&(au(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var f="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),v=u.getLayout("cx"),g=u.getLayout("cy");u.graph.eachNode((function(e){OO(e,f,v,g)})),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function i(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(i,16):i())}))}()},t.prototype._updateController=function(e,t,n){var i=this,o=this._controller,r=this._controllerHost,a=this.group;o.setPointerChecker((function(t,i,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(i,o)&&!QI(t,n,e)})),aP(e.coordinateSystem)?(o.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){qI(r,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){ZI(r,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),i._updateNodeAndLinkScale(),rP(e.getGraph(),MO(e)),i._lineDraw.updateLayout(),// Only update label layout on zoom
n.updateLabelLayout()}))):o.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=MO(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){rP(e.getGraph(),MO(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(sy),sP=lP;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function uP(e){return"_EC_"+e}var cP=/** @class */function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},
/**
           * @type {Object.<string, module:echarts/data/Graph.Edge>}
           * @private
           */
this._edgesMap={},this._directed=e||!1}
/**
         * If is directed graph
         */return e.prototype.isDirected=function(){return this._directed},
/**
         * Add a new node
         */
e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[uP(e)]){var i=new dP(e,t);return i.hostGraph=this,this.nodes.push(i),n[uP(e)]=i,i}},
/**
         * Get node by data index
         */
e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},
/**
         * Get node by id
         */
e.prototype.getNodeById=function(e){return this._nodesMap[uP(e)]},
/**
         * Add a new edge
         */
e.prototype.addEdge=function(e,t,n){var i=this._nodesMap,o=this._edgesMap;if(// PNEDING
et(e)&&(e=this.nodes[e]),et(t)&&(t=this.nodes[t]),e instanceof dP||(e=i[uP(e)]),t instanceof dP||(t=i[uP(t)]),e&&t){var r=e.id+"-"+t.id,a=new pP(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),o[r]=a,a}},
/**
         * Get edge by data index
         */
e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},
/**
         * Get edge by two linked nodes
         */
e.prototype.getEdge=function(e,t){e instanceof dP&&(e=e.id),t instanceof dP&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},
/**
         * Iterate all nodes
         */
e.prototype.eachNode=function(e,t){for(var n=this.nodes,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&e.call(t,n[o],o)},
/**
         * Iterate all edges
         */
e.prototype.eachEdge=function(e,t){for(var n=this.edges,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&e.call(t,n[o],o)},
/**
         * Breadth first traverse
         * Return true to stop traversing
         */
e.prototype.breadthFirstTraverse=function(e,t,n,i){if(t instanceof dP||(t=this._nodesMap[uP(t)]),t){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!e.call(i,t,null))for(var a=[t];a.length;){var l=a.shift(),s=l[o];for(r=0;r<s.length;r++){var u=s[r],c=u.node1===l?u.node2:u.node1;if(!c.__visited){if(e.call(i,c,l))// Stop traversing
return;a.push(c),c.__visited=!0}}}}},// depthFirstTraverse(
//     cb, startNode, direction, context
// ) {
// };
// Filter update
e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,o=0,r=n.length;o<r;o++)n[o].dataIndex=-1;for(o=0,r=e.count();o<r;o++)n[e.getRawIndex(o)].dataIndex=o;t.filterSelf((function(e){var n=i[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));// Update edge
for(o=0,r=i.length;o<r;o++)i[o].dataIndex=-1;for(o=0,r=t.count();o<r;o++)i[t.getRawIndex(o)].dataIndex=o},
/**
         * @return {module:echarts/data/Graph}
         */
e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,i=this.edges,o=0;o<n.length;o++)t.addNode(n[o].id,n[o].dataIndex);for(o=0;o<i.length;o++){var r=i[o];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},e}(),dP=/** @class */function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}
/**
         * @return {number}
         */return e.prototype.degree=function(){return this.edges.length},
/**
         * @return {number}
         */
e.prototype.inDegree=function(){return this.inEdges.length},
/**
        * @return {number}
        */
e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e}(),pP=/** @class */function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}// eslint-disable-next-line @typescript-eslint/no-unused-vars
return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e}();function hP(e,t){return{
/**
           * @param Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.
           */
getValue:function(n){var i=this[e][t];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},// TODO: TYPE stricter type.
setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}je(dP,hP("hostGraph","data")),je(pP,hP("hostGraph","edgeData"));var fP=cP;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function vP(e,t,n,i,o){for(// ??? TODO
// support dataset?
var r=new fP(i),a=0;a<e.length;a++)r.addNode(lt(// Id, name, dataIndex
e[a].id,e[a].name,a),a);var l=[],s=[],u=0;for(a=0;a<t.length;a++){var c=t[a],d=c.source,p=c.target;// addEdge may fail when source or target not exists
r.addEdge(d,p,u)&&(s.push(c),l.push(lt(Da(c.id,null),d+" > "+p)),u++)}var h,f=n.get("coordinateSystem");if("cartesian2d"===f||"polar"===f)h=Vb(e,n);else{var v=Gf.get(f),g=v&&v.dimensions||[];// FIXME: Some geo do not need `value` dimenson, whereas `calendar` needs
// `value` dimension, but graph need `value` dimension. It's better to
// uniform this behavior.
Ve(g,"value")<0&&g.concat(["value"]);var y=Pb(e,{coordDimensions:g,encodeDefine:n.getEncode()}).dimensions;(h=new Ob(y,n)).initData(e)}var m=new Ob(["value"],n);return m.initData(s,l),o&&o(h,m),WA({mainData:h,struct:r,structAttr:"graph",datas:{node:h,edge:m},datasAttr:{node:"data",edge:"edgeData"}}),// Update dataIndex of nodes and edges because invalid edge may be removed
r.update(),r}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var gP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return de(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}// Provide data for legend select
this.legendVisualProvider=new sT(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Sa(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n,i=e.edges||e.links||[],o=e.data||e.nodes||[],r=this;if(o&&i){gO(// auto curveness
n=this)&&(n.__curvenessList=[],n.__edgeMap={},// calc the array of curveness List
yO(n));var a=vP(o,i,this,!0,(function(e,t){// Overwrite nodeData.getItemModel to
e.wrapMethod("getItemModel",(function(e){var t=r._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));// TODO Inherit resolveParentPath by default in Model#getModel?
var n=Kp.prototype.getModel;function i(e,t){var i=n.call(this,e,t);return i.resolveParentPath=o,i}function o(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=o,e.getModel=i,e}))}));return Ge(a.edges,(function(e){!
/**
       * set edgeMap with key
       * @param {number|string|module:echarts/data/Graph.Node} n1
       * @param {number|string|module:echarts/data/Graph.Node} n2
       * @param {module:echarts/model/SeriesModel} seriesModel
       * @param {number} index
       */
function(e,t,n,i){if(gO(n)){var o=mO(e,t,n),r=n.__edgeMap,a=r[xO(o)];// set direction
r[o]&&!a?r[o].isForward=!0:a&&r[o]&&(a.isForward=!0,r[o].isForward=!1),r[o]=r[o]||[],r[o].push(i)}}(e.node1,e.node2,this,e.dataIndex)}),this),a.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var i=this.getData(),o=this.getDataParams(e,n),r=i.graph.getEdgeByIndex(e),a=i.getName(r.node1.dataIndex),l=i.getName(r.node2.dataIndex),s=[];return null!=a&&s.push(a),null!=l&&s.push(l),Tg("nameValue",{name:s.join(" > "),value:o.value,noValue:null==o.value})}// dataType === 'node' or empty
return Bg({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=We(this.option.categories||[],(function(e){// Data must has value
return null!=e.value?e:Be({value:0},e)})),t=new Ob(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={// zlevel: 0,
z:2,coordinateSystem:"view",// Default option for all coordinate systems
// xAxisIndex: 0,
// yAxisIndex: 0,
// polarIndex: 0,
// geoIndex: 0,
legendHoverLink:!0,layout:null,// Configuration of circular layout
circular:{rotateLabel:!1},// Configuration of force directed layout
force:{initLayout:null,// Node repulsion. Can be an array to represent range.
repulsion:[0,50],gravity:.1,// Initial friction
friction:.6,// Edge length. Can be an array to represent range.
edgeLength:30,layoutAnimation:!0},left:"center",top:"center",// right: null,
// bottom: null,
// width: '80%',
// height: '80%',
symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,// Default on center of graph
center:null,zoom:1,// Symbol size scale ratio in roam
nodeScaleRatio:.6,// cursor: null,
// categories: [],
// data: []
// Or
// nodes: []
// links: []
// Or
// edges: []
label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Zg),yP=gP,mP={type:"graphRoam",event:"graphRoam",update:"none"};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var xP=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},bP=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return de(t,e),t.prototype.getDefaultShape=function(){return new xP},t.prototype.buildPath=function(e,t){var n=Math.cos,i=Math.sin,o=t.r,r=t.width,a=t.angle,l=t.x-n(a)*r*(r>=o/3?1:2),s=t.y-i(a)*r*(r>=o/3?1:2);a=t.angle-Math.PI/2,e.moveTo(l,s),e.lineTo(t.x+n(a)*r,t.y+i(a)*r),e.lineTo(t.x+n(t.angle)*o,t.y+i(t.angle)*o),e.lineTo(t.x-n(a)*r,t.y-i(a)*r),e.lineTo(l,s)},t}(ks),_P=bP;function wP(e,t){var n=null==e?"":e+"";return t&&(Je(t)?n=t.replace("{value}",n):$e(t)&&(n=t(e))),n}var SP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var i=e.get(["axisLine","lineStyle","color"]),o=
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e,t){var n=e.get("center"),i=t.getWidth(),o=t.getHeight(),r=Math.min(i,o);return{cx:Jr(n[0],t.getWidth()),cy:Jr(n[1],t.getHeight()),r:Jr(e.get("radius"),r/2)}}(e,n);this._renderMain(e,t,n,i,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,i,o){var r=this.group,a=e.get("clockwise"),l=-e.get("startAngle")/180*Math.PI,s=-e.get("endAngle")/180*Math.PI,u=e.getModel("axisLine"),c=u.get("roundCap")?SM:Yc,d=u.get("show"),p=u.getModel("lineStyle"),h=p.get("width"),f=[l,s];as(f,!a);for(var v=(s=f[1])-(l=f[0]),g=l,y=[],m=0;d&&m<i.length;m++){// Clamp
var x=new c({shape:{startAngle:g,endAngle:s=l+v*Math.min(Math.max(i[m][0],0),1),cx:o.cx,cy:o.cy,clockwise:a,r0:o.r-h,r:o.r},silent:!0});x.setStyle({fill:i[m][1]}),x.setStyle(p.getLineStyle(// Because we use sector to simulate arc
// so the properties for stroking are useless
["color","width"])),y.push(x),g=s}y.reverse(),Ge(y,(function(e){return r.add(e)}));var b=function(e){// Less than 0
if(e<=0)return i[0][1];var t;for(t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];// More than 1
return i[t-1][1]};this._renderTicks(e,t,n,b,o,l,s,a,h),this._renderTitleAndDetail(e,t,n,b,o),this._renderAnchor(e,o),this._renderPointer(e,t,n,b,o,l,s,a,h)},t.prototype._renderTicks=function(e,t,n,i,o,r,a,l,s){for(var u,c,d=this.group,p=o.cx,h=o.cy,f=o.r,v=+e.get("min"),g=+e.get("max"),y=e.getModel("splitLine"),m=e.getModel("axisTick"),x=e.getModel("axisLabel"),b=e.get("splitNumber"),_=m.get("splitNumber"),w=Jr(y.get("length"),f),S=Jr(m.get("length"),f),C=r,M=(a-r)/b,T=M/_,I=y.getModel("lineStyle").getLineStyle(),k=m.getModel("lineStyle").getLineStyle(),A=y.get("distance"),D=0;D<=b;D++){// Split line
if(u=Math.cos(C),c=Math.sin(C),y.get("show")){var O=new ld({shape:{x1:u*(f-(P=A?A+s:s))+p,y1:c*(f-P)+h,x2:u*(f-w-P)+p,y2:c*(f-w-P)+h},style:I,silent:!0});"auto"===I.stroke&&O.setStyle({stroke:i(D/b)}),d.add(O)}// Label
if(x.get("show")){var P=x.get("distance")+A,L=wP(Qr(D/b*(g-v)+v),x.get("formatter")),E=i(D/b),N=u*(f-w-P)+p,R=c*(f-w-P)+h,z=x.get("rotate"),B=0;"radial"===z?(B=-C+2*Math.PI)>Math.PI/2&&(B+=Math.PI):"tangential"===z?B=-C-Math.PI/2:et(z)&&(B=z*Math.PI/180),0===B?d.add(new ru({style:_p(x,{text:L,x:N,y:R,verticalAlign:c<-.8?"top":c>.8?"bottom":"middle",align:u<-.4?"left":u>.4?"right":"center"},{inheritColor:E}),silent:!0})):d.add(new ru({style:_p(x,{text:L,x:N,y:R,verticalAlign:"middle",align:"center"},{inheritColor:E}),silent:!0,originX:N,originY:R,rotation:B}))}// Axis tick
if(m.get("show")&&D!==b){P=(P=m.get("distance"))?P+s:s;for(var F=0;F<=_;F++){u=Math.cos(C),c=Math.sin(C);var V=new ld({shape:{x1:u*(f-P)+p,y1:c*(f-P)+h,x2:u*(f-S-P)+p,y2:c*(f-S-P)+h},silent:!0,style:k});"auto"===k.stroke&&V.setStyle({stroke:i((D+F/_)/b)}),d.add(V),C+=T}C-=T}else C+=M}},t.prototype._renderPointer=function(e,t,n,i,o,r,a,l,s){var u=this.group,c=this._data,d=this._progressEls,p=[],h=e.get(["pointer","show"]),f=e.getModel("progress"),v=f.get("show"),g=e.getData(),y=g.mapDimension("value"),m=+e.get("min"),x=+e.get("max"),b=[m,x],_=[r,a];function w(t,n){var i,r=g.getItemModel(t).getModel("pointer"),a=Jr(r.get("width"),o.r),l=Jr(r.get("length"),o.r),s=e.get(["pointer","icon"]),u=r.get("offsetCenter"),c=Jr(u[0],o.r),d=Jr(u[1],o.r),p=r.get("keepAspect");// not exist icon type will be set 'rect'
return(i=s?mm(s,c-a/2,d-l,a,l,null,p):new _P({shape:{angle:-Math.PI/2,width:a,r:l,x:c,y:d}})).rotation=-(n+Math.PI/2),i.x=o.cx,i.y=o.cy,i}function S(e,t){var n=f.get("roundCap")?SM:Yc,i=f.get("overlap"),a=i?f.get("width"):s/g.count(),u=i?o.r-a:o.r-(e+1)*a,c=i?o.r:o.r-e*a,d=new n({shape:{startAngle:r,endAngle:t,cx:o.cx,cy:o.cy,clockwise:l,r0:u,r:c}});return i&&(d.z2=x-g.get(y,e)%x),d}(v||h)&&(g.diff(c).add((function(t){var n=g.get(y,t);if(h){var i=w(t,r);// TODO hide pointer on NaN value?
zd(i,{rotation:-((isNaN(+n)?_[0]:$r(n,b,_,!0))+Math.PI/2)},e),u.add(i),g.setItemGraphicEl(t,i)}if(v){var o=S(t,r),a=f.get("clip");zd(o,{shape:{endAngle:$r(n,b,_,a)}},e),u.add(o),// Add data index and series index for indexing the data by element
// Useful in tooltip
lu(e.seriesIndex,g.dataType,t,o),p[t]=o}})).update((function(t,n){var i=g.get(y,t);if(h){var o=c.getItemGraphicEl(n),a=o?o.rotation:r,l=w(t,a);l.rotation=a,Rd(l,{rotation:-((isNaN(+i)?_[0]:$r(i,b,_,!0))+Math.PI/2)},e),u.add(l),g.setItemGraphicEl(t,l)}if(v){var s=d[n],m=S(t,s?s.shape.endAngle:r),x=f.get("clip");Rd(m,{shape:{endAngle:$r(i,b,_,x)}},e),u.add(m),// Add data index and series index for indexing the data by element
// Useful in tooltip
lu(e.seriesIndex,g.dataType,t,m),p[t]=m}})).execute(),g.each((function(e){var t=g.getItemModel(e),n=t.getModel("emphasis"),o=n.get("focus"),r=n.get("blurScope"),a=n.get("disabled");if(h){var l=g.getItemGraphicEl(e),s=g.getItemVisual(e,"style"),u=s.fill;if(l instanceof Ns){var c=l.style;l.useStyle(Be({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},s))}else l.useStyle(s),"pointer"!==l.type&&l.setColor(u);l.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===l.style.fill&&l.setStyle("fill",i($r(g.get(y,e),b,[0,1],!0))),l.z2EmphasisLift=0,tc(l,t),$u(l,o,r,a)}if(v){var d=p[e];d.useStyle(g.getItemVisual(e,"style")),d.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),d.z2EmphasisLift=0,tc(d,t),$u(d,o,r,a)}})),this._progressEls=p)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");if(n.get("show")){var i=n.get("size"),o=n.get("icon"),r=n.get("offsetCenter"),a=n.get("keepAspect"),l=mm(o,t.cx-i/2+Jr(r[0],t.r),t.cy-i/2+Jr(r[1],t.r),i,i,null,a);l.z2=n.get("showAbove")?1:0,l.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(l)}},t.prototype._renderTitleAndDetail=function(e,t,n,i,o){var r=this,a=e.getData(),l=a.mapDimension("value"),s=+e.get("min"),u=+e.get("max"),c=new Kr,d=[],p=[],h=e.isAnimationEnabled(),f=e.get(["pointer","showAbove"]);a.diff(this._data).add((function(e){d[e]=new ru({silent:!0}),p[e]=new ru({silent:!0})})).update((function(e,t){d[e]=r._titleEls[t],p[e]=r._detailEls[t]})).execute(),a.each((function(t){var n=a.getItemModel(t),r=a.get(l,t),v=new Kr,g=i($r(r,[s,u],[0,1],!0)),y=n.getModel("title");if(y.get("show")){var m=y.get("offsetCenter"),x=o.cx+Jr(m[0],o.r),b=o.cy+Jr(m[1],o.r);(k=d[t]).attr({z2:f?0:2,style:_p(y,{x:x,y:b,text:a.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:g})}),v.add(k)}var _=n.getModel("detail");if(_.get("show")){var w=_.get("offsetCenter"),S=o.cx+Jr(w[0],o.r),C=o.cy+Jr(w[1],o.r),M=Jr(_.get("width"),o.r),T=Jr(_.get("height"),o.r),I=e.get(["progress","show"])?a.getItemVisual(t,"style").fill:g,k=p[t],A=_.get("formatter");k.attr({z2:f?0:2,style:_p(_,{x:S,y:C,text:wP(r,A),width:isNaN(M)?null:M,height:isNaN(T)?null:T,align:"center",verticalAlign:"middle"},{inheritColor:I})}),Ap(k,{normal:_},r,(function(e){return wP(e,A)})),h&&Dp(k,t,a,e,{getFormattedLabel:function(e,t,n,i,o,a){return wP(a?a.interpolatedValue:r,A)}}),v.add(k)}c.add(v)})),this.group.add(c),this._titleEls=d,this._detailEls=p},t.type="gauge",t}(sy),CP=SP,MP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return de(t,e),t.prototype.getInitialData=function(e,t){return aT(this,["value"])},t.type="series.gauge",t.defaultOption={// zlevel: 0,
z:2,colorBy:"data",// 默认全局居中
center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,// 最小值
min:0,// 最大值
max:100,// 分割段数，默认为10
splitNumber:10,// 坐标轴线
axisLine:{// 默认显示，属性show控制显示与否
show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},// 坐标轴线
progress:{// 默认显示，属性show控制显示与否
show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},// 分隔线
splitLine:{// 默认显示，属性show控制显示与否
show:!0,// 属性length控制线长
length:10,distance:10,// 属性lineStyle（详见lineStyle）控制线条样式
lineStyle:{color:"#63677A",width:3,type:"solid"}},// 坐标轴小标记
axisTick:{// 属性show控制显示与否，默认不显示
show:!0,// 每份split细分多少段
splitNumber:5,// 属性length控制线长
length:6,distance:10,// 属性lineStyle控制线条样式
lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,// formatter: null,
color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,// x, y，单位px
offsetCenter:[0,"20%"],// 其余属性默认使用全局文本样式，详见TEXTSTYLE
color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],// x, y，单位px
offsetCenter:[0,"40%"],// formatter: null,
// 其余属性默认使用全局文本样式，详见TEXTSTYLE
color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Zg),TP=MP;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var IP=["itemStyle","opacity"],kP=/** @class */function(e){function t(t,n){var i=e.call(this)||this,o=i,r=new id,a=new ru;return o.setTextContent(a),i.setTextGuideLine(r),i.updateData(t,n,!0),i}return de(t,e),t.prototype.updateData=function(e,t,n){var i=this,o=e.hostModel,r=e.getItemModel(t),a=e.getItemLayout(t),l=r.getModel("emphasis"),s=r.get(IP);s=null==s?1:s,n||Hd(i),// Update common style
i.useStyle(e.getItemVisual(t,"style")),i.style.lineJoin="round",n?(i.setShape({points:a.points}),i.style.opacity=0,zd(i,{style:{opacity:s}},o,t)):Rd(i,{style:{opacity:s},shape:{points:a.points}},o,t),tc(i,r),this._updateLabel(e,t),$u(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))},t.prototype._updateLabel=function(e,t){var n=this,i=this.getTextGuideLine(),o=n.getTextContent(),r=e.hostModel,a=e.getItemModel(t),l=e.getItemLayout(t).label,s=e.getItemVisual(t,"style"),u=s.fill;xp(// position will not be used in setLabelStyle
o,bp(a),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:s.opacity,defaultText:e.getName(t)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}}),n.setTextConfig({local:!0,inside:!!l.inside,insideStroke:u,// insideFill: 'auto',
outsideFill:u});var c=l.linePoints;i.setShape({points:c}),n.textGuideLineConfig={anchor:c?new An(c[0][0],c[0][1]):null},// Make sure update style on labelText after setLabelStyle.
// Because setLabelStyle will replace a new style on it.
Rd(o,{style:{x:l.x,y:l.y}},r,t),o.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10}),Xw(n,qw(a),{// Default use item visual color
stroke:u})},t}(ed),AP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return de(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),o=this._data,r=this.group;i.diff(o).add((function(e){var t=new kP(i,e);i.setItemGraphicEl(e,t),r.add(t)})).update((function(e,t){var n=o.getItemGraphicEl(t);n.updateData(i,e),r.add(n),i.setItemGraphicEl(e,n)})).remove((function(t){jd(o.getItemGraphicEl(t),e,t)})).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(sy),DP=AP,OP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),// Enable legend selection for each data item
// Use a function instead of direct access because data reference may changed
this.legendVisualProvider=new sT(Xe(this.getData,this),Xe(this.getRawData,this)),// Extend labelLine emphasis
this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return aT(this,{coordDimensions:["value"],encodeDefaulter:qe(bf,this)})},t.prototype._defaultLabelLine=function(e){// Extend labelLine emphasis
Sa(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;// Not show label line if `label.normal.show = false`
t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},// Overwrite
t.prototype.getDataParams=function(t){var n=this.getData(),i=e.prototype.getDataParams.call(this,t),o=n.mapDimension("value"),r=n.getSum(o);// Percent is 0 if sum is 0
return i.percent=r?+(n.get(o,t)/r*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={// zlevel: 0,                  // 一级层叠
z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,// width: {totalWidth} - left - right,
// height: {totalHeight} - top - bottom,
// 默认取数据最小最大值
// min: 0,
// max: 100,
minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{// color: 各异,
width:1}},itemStyle:{// color: 各异,
borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Zg),PP=OP;
/**
       * Piece of pie including Sector, Label, LabelLine
       */function LP(e,t){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),i=n.mapDimension("value"),o=e.get("sort"),r=
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e,t){return Yh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),a=e.get("orient"),l=r.width,s=r.height,u=function(e,t){for(var n=e.mapDimension("value"),i=e.mapArray(n,(function(e){return e})),o=[],r="ascending"===t,a=0,l=e.count();a<l;a++)o[a]=a;// Add custom sortable function & none sortable opetion by "options.sort"
return $e(t)?o.sort(t):"none"!==t&&o.sort((function(e,t){return r?i[e]-i[t]:i[t]-i[e]})),o}(n,o),c=r.x,d=r.y,p="horizontal"===a?[Jr(e.get("minSize"),s),Jr(e.get("maxSize"),s)]:[Jr(e.get("minSize"),l),Jr(e.get("maxSize"),l)],h=n.getDataExtent(i),f=e.get("min"),v=e.get("max");null==f&&(f=Math.min(h[0],0)),null==v&&(v=h[1]);var g=e.get("funnelAlign"),y=e.get("gap"),m=(("horizontal"===a?l:s)-y*(n.count()-1))/n.count(),x=function(e,t){// End point index is data.count() and we assign it 0
if("horizontal"===a){var o=$r(n.get(i,e)||0,[f,v],p,!0),r=void 0;switch(g){case"top":r=d;break;case"center":r=d+(s-o)/2;break;case"bottom":r=d+(s-o)}return[[t,r],[t,r+o]]}var u,h=$r(n.get(i,e)||0,[f,v],p,!0);switch(g){case"left":u=c;break;case"center":u=c+(l-h)/2;break;case"right":u=c+l-h}return[[u,t],[u+h,t]]};"ascending"===o&&(// From bottom to top
m=-m,y=-y,"horizontal"===a?c+=l:d+=s,u=u.reverse());for(var b=0;b<u.length;b++){var _=u[b],w=u[b+1],S=n.getItemModel(_);if("horizontal"===a){var C=S.get(["itemStyle","width"]);null==C?C=m:(C=Jr(C,l),"ascending"===o&&(C=-C));var M=x(_,c),T=x(w,c+C);c+=C+y,n.setItemLayout(_,{points:M.concat(T.slice().reverse())})}else{var I=S.get(["itemStyle","height"]);null==I?I=m:(I=Jr(I,s),"ascending"===o&&(I=-I));M=x(_,d),T=x(w,d+I);d+=I+y,n.setItemLayout(_,{points:M.concat(T.slice().reverse())})}}!function(e){var t=e.hostModel.get("orient");e.each((function(n){var i,o,r,a,l=e.getItemModel(n),s=l.getModel("label").get("position"),u=l.getModel("labelLine"),c=e.getItemLayout(n),d=c.points,p="inner"===s||"inside"===s||"center"===s||"insideLeft"===s||"insideRight"===s;if(p)"insideLeft"===s?(o=(d[0][0]+d[3][0])/2+5,r=(d[0][1]+d[3][1])/2,i="left"):"insideRight"===s?(o=(d[1][0]+d[2][0])/2-5,r=(d[1][1]+d[2][1])/2,i="right"):(o=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,r=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,i="center"),a=[[o,r],[o,r]];else{var h=void 0,f=void 0,v=void 0,g=void 0,y=u.get("length");"left"===s?(// Left side
h=(d[3][0]+d[0][0])/2,f=(d[3][1]+d[0][1])/2,o=(v=h-y)-5,i="right"):"right"===s?(// Right side
h=(d[1][0]+d[2][0])/2,f=(d[1][1]+d[2][1])/2,o=(v=h+y)+5,i="left"):"top"===s?(// Top side
h=(d[3][0]+d[0][0])/2,r=(g=(f=(d[3][1]+d[0][1])/2)-y)-5,i="center"):"bottom"===s?(// Bottom side
h=(d[1][0]+d[2][0])/2,r=(g=(f=(d[1][1]+d[2][1])/2)+y)+5,i="center"):"rightTop"===s?(// RightTop side
h="horizontal"===t?d[3][0]:d[1][0],f="horizontal"===t?d[3][1]:d[1][1],"horizontal"===t?(r=(g=f-y)-5,i="center"):(o=(v=h+y)+5,i="top")):"rightBottom"===s?(// RightBottom side
h=d[2][0],f=d[2][1],"horizontal"===t?(r=(g=f+y)+5,i="center"):(o=(v=h+y)+5,i="bottom")):"leftTop"===s?(// LeftTop side
h=d[0][0],f="horizontal"===t?d[0][1]:d[1][1],"horizontal"===t?(r=(g=f-y)-5,i="center"):(o=(v=h-y)-5,i="right")):"leftBottom"===s?(// LeftBottom side
h="horizontal"===t?d[1][0]:d[3][0],f="horizontal"===t?d[1][1]:d[2][1],"horizontal"===t?(r=(g=f+y)+5,i="center"):(o=(v=h-y)-5,i="right")):(// Right side or Bottom side
h=(d[1][0]+d[2][0])/2,f=(d[1][1]+d[2][1])/2,"horizontal"===t?(r=(g=f+y)+5,i="center"):(o=(v=h+y)+5,i="left")),"horizontal"===t?o=v=h:r=g=f,a=[[h,f],[v,g]]}c.label={linePoints:a,x:o,y:r,verticalAlign:"middle",textAlign:i,inside:p}}))}(n)}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var EP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new Kr,n._initialized=!1,n}return de(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},
/**
         * @override
         */
t.prototype.render=function(e,t,n,i){// Clear previously rendered progressive elements.
this._progressiveEls=null;var o=this._dataGroup,r=e.getData(),a=this._data,l=e.coordinateSystem,s=l.dimensions,u=zP(e);// First create
if(r.diff(a).add((function(e){BP(RP(r,o,e,s,l),r,e,u)})).update((function(t,n){var i=a.getItemGraphicEl(n),o=NP(r,t,s,l);r.setItemGraphicEl(t,i),Rd(i,{shape:{points:o}},e,t),Hd(i),BP(i,r,t,u)})).remove((function(e){var t=a.getItemGraphicEl(e);o.remove(t)})).execute(),!this._initialized){this._initialized=!0;var c=function(e,t,n){var i=e.model,o=e.getRect(),r=new Gs({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),a="horizontal"===i.get("layout")?"width":"height";return r.setShape(a,0),zd(r,{shape:{width:o.width,height:o.height}},t,n),r}(l,e,(function(){// Callback will be invoked immediately if there is no animation
setTimeout((function(){o.removeClipPath()}))}));o.setClipPath(c)}this._data=r},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var i=t.getData(),o=t.coordinateSystem,r=o.dimensions,a=zP(t),l=this._progressiveEls=[],s=e.start;s<e.end;s++){var u=RP(i,this._dataGroup,s,r,o);u.incremental=!0,BP(u,i,s,a),l.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(sy);function NP(e,t,n,i){for(var o,r=[],a=0;a<n.length;a++){var l=n[a],s=e.get(e.mapDimension(l),t);o=s,("category"===i.getAxis(l).type?null==o:null==o||isNaN(o))||r.push(i.dataToPoint(s,l))}return r}function RP(e,t,n,i,o){var r=NP(e,n,i,o),a=new id({shape:{points:r},// silent: true,
z2:10});return t.add(a),e.setItemGraphicEl(n,a),a}function zP(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),at(t=ha(t))&&(t=0),{smooth:t}}function BP(e,t,n,i){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",i.smooth);var o=t.getItemModel(n),r=o.getModel("emphasis");tc(e,o,"lineStyle"),$u(e,r.get("focus"),r.get("blurScope"),r.get("disabled"))}// function simpleDiff(oldData, newData, dimensions) {
//     let oldLen;
//     if (!oldData
//         || !oldData.__plProgressive
//         || (oldLen = oldData.count()) !== newData.count()
//     ) {
//         return true;
//     }
//     let dimLen = dimensions.length;
//     for (let i = 0; i < oldLen; i++) {
//         for (let j = 0; j < dimLen; j++) {
//             if (oldData.get(dimensions[j], i) !== newData.get(dimensions[j], i)) {
//                 return true;
//             }
//         }
//     }
//     return false;
// }
// FIXME put in common util?
var FP=EP,VP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return de(t,e),t.prototype.getInitialData=function(e,t){return Vb(null,this,{useEncodeDefaulter:Xe(jP,null,this)})},
/**
         * User can get data raw indices on 'axisAreaSelected' event received.
         *
         * @return Raw indices
         */
t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,(function(t,o){e===t&&i.push(n.getRawIndex(o))})),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={// zlevel: 0,
z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Zg);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function jP(e){// The mapping of parallelAxis dimension to data dimension can
// be specified in parallelAxis.option.dim. For example, if
// parallelAxis.option.dim is 'dim3', it mapping to the third
// dimension of data. But `data.encode` has higher priority.
// Moreover, parallelModel.dimension should not be regarded as data
// dimensions. Consider dimensions = ['dim4', 'dim2', 'dim6'];
var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return Ge(t.dimensions,(function(e){var t=+e.replace("dim","");n[e]=t})),n}}var HP=VP,GP=["lineStyle","opacity"],WP={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,i={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var o=i[e];if("normal"===e&&t.hasItemOption){var r=t.getItemModel(n).get(GP,!0);null!=r&&(o=r)}t.ensureUniqueItemVisual(n,"style").opacity=o}),e.start,e.end)}}}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function KP(e){!
/**
       * Create a parallel coordinate if not exists.
       * @inner
       */
function(e){if(e.parallel)return;var t=!1;Ge(e.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}
/**
       * Merge aixs definition from parallel option (if exists) to axis option.
       * @inner
       */(e),function(e){var t=wa(e.parallelAxis);Ge(t,(function(t){if(tt(t)){var n=t.parallelIndex||0,i=wa(e.parallel)[n];i&&i.parallelAxisDefault&&Re(t,i.parallelAxisDefault,!1)}}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(e)}var UP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},Ge(YP,(function(e,t){n.getZr().on(t,this._handlers[t]=Xe(e,this))}),this)),hy(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){fy(this,"_throttledDispatchExpand"),Ge(this._handlers,(function(e,n){t.getZr().off(n,e)})),this._handlers=null},
/**
         * @internal
         * @param {Object} [opt] If null, cancel the last action triggering for debounce.
         */
t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},
/**
         * @internal
         */
t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Be({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Jg),YP={mousedown:function(e){XP(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(XP(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){// Should do nothing when brushing.
if(!this._mouseDownPoint&&XP(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,// Jumping uses animation, and sliding suppresses animation.
animation:"jump"===i?null:{duration:0}})}}};// > 4
function XP(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var qP=UP,ZP=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&Re(t,e,!0),this._initDimensions()},
/**
         * Whether series or axis is in this coordinate system.
         */
t.prototype.contains=function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},t.prototype.setAxisExpand=function(e){Ge(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(// @ts-ignore FIXME: why "never" inferred in this.option[name]?
this.option[t]=e[t])}),this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];Ge(Ue(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){// Can not use this.contains here, because
// initialization has not been completed yet.
return(e.get("parallelIndex")||0)===this.componentIndex}),this),(function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)}))},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={// zlevel: 0,
z:0,left:80,top:60,right:80,bottom:60,// width: {totalWidth} - left - right,
// height: {totalHeight} - top - bottom,
layout:"horizontal",// FIXME
// naming?
axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,// [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.
// Do not doc to user until necessary.
axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(tf),$P=ZP,JP=/** @class */function(e){function t(t,n,i,o,r){var a=e.call(this,t,n,i)||this;return a.type=o||"value",a.axisIndex=r,a}return de(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Mw),QP=JP;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Calculate slider move result.
       * Usage:
       * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as
       * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.
       * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.
       *
       * @param delta Move length.
       * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].
       *              handleEnds will be modified in this method.
       * @param extent handleEnds is restricted by extent.
       *              extent[0] should less or equals than extent[1].
       * @param handleIndex Can be 'all', means that both move the two handleEnds.
       * @param minSpan The range of dataZoom can not be smaller than that.
       *              If not set, handle0 and cross handle1. If set as a non-negative
       *              number (including `0`), handles will push each other when reaching
       *              the minSpan.
       * @param maxSpan The range of dataZoom can not be larger than that.
       * @return The input handleEnds.
       */
function eL(e,t,n,i,o,r){e=e||0;var a=n[1]-n[0];// Notice maxSpan and minSpan can be null/undefined.
if(null!=o&&(o=nL(o,[0,a])),null!=r&&(r=Math.max(r,null!=o?o:0)),"all"===i){var l=Math.abs(t[1]-t[0]);l=nL(l,[0,a]),o=r=nL(l,[o,r]),i=0}t[0]=nL(t[0],n),t[1]=nL(t[1],n);var s=tL(t,i);t[i]+=e;// Restrict in extent.
var u,c=o||0,d=n.slice();return s.sign<0?d[0]+=c:d[1]-=c,t[i]=nL(t[i],d),u=tL(t,i),null!=o&&(u.sign!==s.sign||u.span<o)&&(// If minSpan exists, 'cross' is forbidden.
t[1-i]=t[i]+s.sign*o),// Shrink span.
u=tL(t,i),null!=r&&u.span>r&&(t[1-i]=t[i]+u.sign*r),t}function tL(e,t){var n=e[t]-e[1-t];// If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]
// is at left of handleEnds[1] for non-cross case.
return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function nL(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var iL=Ge,oL=Math.min,rL=Math.max,aL=Math.floor,lL=Math.ceil,sL=Qr,uL=Math.PI,cL=/** @class */function(){function e(e,t,n){this.type="parallel",
/**
           * key: dimension
           */
this._axesMap=bt(),
/**
           * key: dimension
           * value: {position: [], rotation, }
           */
this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var i=e.dimensions,o=e.parallelAxisIndex;iL(i,(function(e,n){var i=o[n],r=t.getComponent("parallelAxis",i),a=this._axesMap.set(e,new QP(e,U_(r),[0,0],r.get("type"),i)),l="category"===a.type;a.onBand=l&&r.get("boundaryGap"),a.inverse=r.get("inverse"),// Injection
r.axis=a,a.model=r,a.coordinateSystem=r.coordinateSystem=this}),this)},
/**
         * Update axis scale after data processed
         */
e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,o=t.pixelDimIndex,r=e[1-o],a=e[o];return r>=n&&r<=n+t.axisLength&&a>=i&&a<=i+t.layoutLength},e.prototype.getModel=function(){return this._model},
/**
         * Update properties from series
         */
e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(n){if(e.contains(n,t)){var i=n.getData();iL(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(i,i.mapDimension(e)),K_(t.scale,t.model)}),this)}}),this)},
/**
         * Resize the parallel coordinate system.
         */
e.prototype.resize=function(e,t){this._rect=Yh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,n=this._rect,i=["x","y"],o=["width","height"],r=t.get("layout"),a="horizontal"===r?0:1,l=n[o[a]],s=[0,l],u=this.dimensions.length,c=dL(t.get("axisExpandWidth"),s),d=dL(t.get("axisExpandCount")||0,[0,u]),p=t.get("axisExpandable")&&u>3&&u>d&&d>1&&c>0&&l>0,h=t.get("axisExpandWindow");h?(e=dL(h[1]-h[0],s),h[1]=h[0]+e):(e=dL(c*(d-1),s),(h=[c*(t.get("axisExpandCenter")||aL(u/2))-e/2])[1]=h[0]+e);var f=(l-e)/(u-d);// Avoid axisCollapseWidth is too small.
f<3&&(f=0);// Find the first and last indices > ewin[0] and < ewin[1].
var v=[aL(sL(h[0]/c,1))+1,lL(sL(h[1]/c,1))-1],g=f/c*h[0];// Pos in ec coordinates.
return{layout:r,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:l,axisBase:n[i[1-a]],axisLength:n[o[1-a]],axisExpandable:p,axisExpandWidth:c,axisCollapseWidth:f,axisExpandWindow:h,axisCount:u,winInnerIndices:v,axisExpandWindow0Pos:g}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;t.each((function(e){var t=[0,i.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])})),iL(n,(function(t,n){var r=(i.axisExpandable?hL:pL)(n,i),a={horizontal:{x:r.position,y:i.axisLength},vertical:{x:0,y:r.position}},l={horizontal:uL/2,vertical:0},s=[a[o].x+e.x,a[o].y+e.y],u=l[o],c=[1,0,0,1,0,0];Mn(c,c,u),Cn(c,c,s),// TODO
// tick layout info
// TODO
// update dimensions info based on axis order.
this._axesLayout[t]={position:s,rotation:u,transform:c,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},
/**
         * Get axis by dim.
         */
e.prototype.getAxis=function(e){return this._axesMap.get(e)},
/**
         * Convert a dim value of a single item of series data to Point.
         */
e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},
/**
         * Travel data for one time, get activeState of each data item.
         * @param start the start dataIndex that travel from.
         * @param end the next dataIndex of the last dataIndex will be travel.
         */
e.prototype.eachActiveState=function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var o=this._axesMap,r=this.dimensions,a=[],l=[];Ge(r,(function(t){a.push(e.mapDimension(t)),l.push(o.get(t).model)}));for(var s=this.hasAxisBrushed(),u=n;u<i;u++){var c=void 0;if(s){c="active";for(var d=e.getValues(a,u),p=0,h=r.length;p<h;p++){if("inactive"===l[p].getActiveState(d[p])){c="inactive";break}}}else c="normal";t(c,u)}},
/**
         * Whether has any activeSet.
         */
e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,o=e.length;i<o;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},
/**
         * Convert coords of each axis to Point.
         *  Return point. For example: [10, 20]
         */
e.prototype.axisCoordToPoint=function(e,t){return ip([e,0],this._axesLayout[t].transform)},
/**
         * Get axis layout.
         */
e.prototype.getAxisLayout=function(e){return Ne(this._axesLayout[e])},
/**
         * @return {Object} {axisExpandWindow, delta, behavior: 'jump' | 'slide' | 'none'}.
         */
e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),o=i[1]-i[0],r=[0,t.axisExpandWidth*(t.axisCount-1)];// Out of the area of coordinate system.
if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};// Convert the point from global to expand coordinates.
var a,l=e[n]-t.layoutBase-t.axisExpandWindow0Pos,s="slide",u=t.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),d=null!=c[0];// For dragging operation convenience, the window should not be
// slided when mouse is the center area of the window.
if(u)d&&u&&l<o*c[0]?(s="jump",a=l-o*c[2]):d&&u&&l>o*(1-c[0])?(s="jump",a=l-o*(1-c[2])):(a=l-o*c[1])>=0&&(a=l-o*(1-c[1]))<=0&&(a=0),(a*=t.axisExpandWidth/u)?eL(a,i,r,"all"):s="none";else{var p=i[1]-i[0];(i=[rL(0,r[1]*l/p-p/2)])[1]=oL(r[1],i[0]+p),i[0]=i[1]-p}return{axisExpandWindow:i,behavior:s}},e}();function dL(e,t){return oL(rL(e,t[0]),t[1])}function pL(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function hL(e,t){var n,i,o=t.layoutLength,r=t.axisExpandWidth,a=t.axisCount,l=t.axisCollapseWidth,s=t.winInnerIndices,u=l,c=!1;return e<s[0]?(n=e*l,i=l):e<=s[1]?(n=t.axisExpandWindow0Pos+e*r-t.axisExpandWindow[0],u=r,c=!0):(n=o-(a-1-e)*l,i=l),{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:i}}var fL=cL;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var vL={create:function(e,t){var n=[];return e.eachComponent("parallel",(function(i,o){var r=new fL(i,e,t);r.name="parallel_"+o,r.resize(i,t),i.coordinateSystem=r,r.model=i,n.push(r)})),// Inject the coordinateSystems into seriesModel
e.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",Ba).models[0];e.coordinateSystem=t.coordinateSystem}})),n}},gL=vL,yL=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,
/**
           * @readOnly
           */
n.activeIntervals=[],n}return de(t,e),t.prototype.getAreaSelectStyle=function(){return Qa([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},
/**
         * The code of this feature is put on AxisModel but not ParallelAxis,
         * because axisModel can be alive after echarts updating but instance of
         * ParallelAxis having been disposed. this._activeInterval should be kept
         * when action dispatched (i.e. legend click).
         *
         * @param intervals `interval.length === 0` means set all active.
         */
t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=Ne(e);// Normalize
if(t)for(var n=t.length-1;n>=0;n--)ea(t[n])},
/**
         * @param value When only attempting detect whether 'no activeIntervals set',
         *        `value` is not needed to be input.
         */
t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";// Simple optimization
if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,o=t.length;i<o;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"},t}(tf);je(yL,Q_);var mL=yL,xL=!0,bL=Math.min,_L=Math.max,wL=Math.pow,SL="globalPan",CL={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ML={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},TL={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},IL=0,kL=/** @class */function(e){function t(t){var n=e.call(this)||this;
/**
           * @internal
           */return n._track=[],
/**
           * @internal
           */
n._covers=[],n._handlers={},n._zr=t,n.group=new Kr,n._uid="brushController_"+IL++,Ge(tE,(function(e,t){this._handlers[t]=Xe(e,this)}),n),n}
/**
         * If set to `false`, select disabled.
         */return de(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;// Consider roam, which takes globalPan too.
this._enableGlobalPan||function(e,t,n){GI(e)[t]=n}(t,SL,this._uid),Ge(this._handlers,(function(e,n){t.on(n,e)})),this._brushType=e.brushType,this._brushOption=Re(Ne(TL),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;!function(e,t,n){var i=GI(e);i[t]===n&&(i[t]=null)}(e,SL,this._uid),Ge(this._handlers,(function(t,n){e.off(n,t)})),this._brushType=this._brushOption=null},
/**
         * @param panelOpts If not pass, it is global brush.
         */
t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};Ge(e,(function(e){t[e.panelId]=Ne(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},// eachCover(cb, context): void {
//     each(this._covers, cb, context);
// }
/**
         * Update covers.
         * @param coverConfigList
         *        If coverConfigList is null/undefined, all covers removed.
         */
t.prototype.updateCovers=function(e){e=We(e,(function(e){return Re(Ne(TL),e,!0)}));var t=this._covers,n=this._covers=[],i=this,o=this._creatingCover;return new ab(t,e,(function(e,t){return r(e.__brushOption,t)}),r).add(a).update(a).remove((function(e){t[e]!==o&&i.group.remove(t[e])})).execute(),this;function r(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function a(r,a){var l=e[r];// Consider setOption in event listener of brushSelect,
// where updating cover when creating should be forbiden.
if(null!=a&&t[a]===o)n[r]=t[a];else{var s=n[r]=null!=a?(t[a].__brushOption=l,t[a]):DL(i,AL(i,l));LL(i,s)}}},t.prototype.unmount=function(){return this.enableBrush(!1),// container may 'removeAll' outside.
zL(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Zt);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function AL(e,t){var n=iE[t.brushType].createCover(e,t);return n.__brushOption=t,PL(n,t),e.group.add(n),n}function DL(e,t){var n=EL(t);return n.endCreating&&(n.endCreating(e,t),PL(t,t.__brushOption)),t}function OL(e,t){var n=t.__brushOption;EL(t).updateCoverShape(e,t,n.range,n)}function PL(e,t){var n=t.z;null==n&&(n=1e4),e.traverse((function(e){e.z=n,e.z2=n}))}function LL(e,t){EL(t).updateCommon(e,t),OL(e,t)}function EL(e){return iE[e.__brushOption.brushType]}// return target panel or `true` (means global panel)
function NL(e,t,n){var i,o=e._panels;if(!o)return xL;// Global panel
var r=e._transform;return Ge(o,(function(e){e.isTargetByCursor(t,n,r)&&(i=e)})),i}// Return a panel or true
function RL(e,t){var n=e._panels;if(!n)return xL;// Global panel
var i=t.__brushOption.panelId;// User may give cover without coord sys info,
// which is then treated as global panel.
return null!=i?n[i]:xL}function zL(e){var t=e._covers,n=t.length;return Ge(t,(function(t){e.group.remove(t)}),e),t.length=0,!!n}function BL(e,t){var n=We(e._covers,(function(e){var t=e.__brushOption,n=Ne(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function FL(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function VL(e,t,n,i){var o=new Kr;return o.add(new Gs({name:"main",style:WL(n),silent:!0,draggable:!0,cursor:"move",drift:qe(YL,e,t,o,["n","s","w","e"]),ondragend:qe(BL,t,{isEnd:!0})})),Ge(i,(function(n){o.add(new Gs({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:qe(YL,e,t,o,n),ondragend:qe(BL,t,{isEnd:!0})}))})),o}function jL(e,t,n,i){var o=i.brushStyle.lineWidth||0,r=_L(o,6),a=n[0][0],l=n[1][0],s=a-o/2,u=l-o/2,c=n[0][1],d=n[1][1],p=c-r+o/2,h=d-r+o/2,f=c-a,v=d-l,g=f+o,y=v+o;GL(e,t,"main",a,l,f,v),i.transformable&&(GL(e,t,"w",s,u,r,y),GL(e,t,"e",p,u,r,y),GL(e,t,"n",s,u,g,r),GL(e,t,"s",s,h,g,r),GL(e,t,"nw",s,u,r,r),GL(e,t,"ne",p,u,r,r),GL(e,t,"sw",s,h,r,r),GL(e,t,"se",p,h,r,r))}function HL(e,t){var n=t.__brushOption,i=n.transformable,o=t.childAt(0);o.useStyle(WL(n)),o.attr({silent:!i,cursor:i?"move":"default"}),Ge([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var o=t.childOfName(n.join("")),r=1===n.length?UL(e,n[0]):function(e,t){var n=[UL(e,t[0]),UL(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(e,n);o&&o.attr({silent:!i,invisible:!i,cursor:i?ML[r]+"-resize":null})}))}function GL(e,t,n,i,o,r,a){var l=t.childOfName(n);l&&l.setShape(function(e){var t=bL(e[0][0],e[1][0]),n=bL(e[0][1],e[1][1]),i=_L(e[0][0],e[1][0]),o=_L(e[0][1],e[1][1]);return{x:t,y:n,width:i-t,height:o-n}}(ZL(e,t,[[i,o],[i+r,o+a]])))}function WL(e){return Fe({strokeNoScale:!0},e.brushStyle)}function KL(e,t,n,i){var o=[bL(e,n),bL(t,i)],r=[_L(e,n),_L(t,i)];return[[o[0],r[0]],[o[1],r[1]]]}function UL(e,t){var n=op({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return np(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function YL(e,t,n,i,o,r){var a=n.__brushOption,l=e.toRectRange(a.range),s=qL(t,o,r);Ge(i,(function(e){var t=CL[e];l[t[0]][t[1]]+=s[t[0]]})),a.range=e.fromRectRange(KL(l[0][0],l[1][0],l[0][1],l[1][1])),LL(t,n),BL(t,{isEnd:!1})}function XL(e,t,n,i){var o=t.__brushOption.range,r=qL(e,n,i);Ge(o,(function(e){e[0]+=r[0],e[1]+=r[1]})),LL(e,t),BL(e,{isEnd:!1})}function qL(e,t,n){var i=e.group,o=i.transformCoordToLocal(t,n),r=i.transformCoordToLocal(0,0);return[o[0]-r[0],o[1]-r[1]]}function ZL(e,t,n){var i=RL(e,t);return i&&i!==xL?i.clipPath(n,e._transform):Ne(n)}function $L(e){var t=e.event;t.preventDefault&&t.preventDefault()}function JL(e,t,n){return e.childOfName("main").contain(t,n)}function QL(e,t,n,i){var o,r=e._creatingCover,a=e._creatingPanel,l=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],o=n[0]-i[0],r=n[1]-i[1];return wL(o*o+r*r,.5)>6}(e)||r){if(a&&!r){"single"===l.brushMode&&zL(e);var s=Ne(l);s.brushType=eE(s.brushType,a),s.panelId=a===xL?null:a.panelId,r=e._creatingCover=AL(e,s),e._covers.push(r)}if(r){var u=iE[eE(e._brushType,a)];r.__brushOption.range=u.getCreatingRange(ZL(e,r,e._track)),i&&(DL(e,r),u.updateCommon(e,r)),OL(e,r),o={isEnd:i}}}else i&&"single"===l.brushMode&&l.removeOnClick&&NL(e,t,n)&&zL(e)&&(o={isEnd:i,removeOnClick:!0});return o}function eE(e,t){return"auto"===e?t.defaultBrushType:e}var tE={mousedown:function(e){if(this._dragging)// In case some browser do not support globalOut,
// and release mouse out side the browser.
nE(this,e);else if(!e.target||!e.target.draggable){$L(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=NL(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,i=this.group.transformCoordToLocal(t,n);if(function(e,t,n){if(// Check active
e._brushType&&!function(e,t,n){var i=e._zr;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}
/**
       * key: brushType
       */(e,t.offsetX,t.offsetY)){var i=e._zr,o=e._covers,r=NL(e,t,n);// Check whether in covers.
if(!e._dragging)for(var a=0;a<o.length;a++){var l=o[a].__brushOption;if(r&&(r===xL||l.panelId===r.panelId)&&iE[l.brushType].contain(o[a],n[0],n[1]))// Use cursor style set on cover.
return}r&&i.setCursorStyle("crosshair")}}(this,e,i),this._dragging){$L(e);var o=QL(this,e,i,!1);o&&BL(this,o)}},mouseup:function(e){nE(this,e)}};function nE(e,t){if(e._dragging){$L(t);var n=t.offsetX,i=t.offsetY,o=e.group.transformCoordToLocal(n,i),r=QL(e,t,o,!0);e._dragging=!1,e._track=[],e._creatingCover=null,// trigger event shoule be at final, after procedure will be nested.
r&&BL(e,r)}}var iE={lineX:oE(0),lineY:oE(1),rect:{createCover:function(e,t){function n(e){return e}return VL({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=FL(e);return KL(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){jL(e,t,n,i)},updateCommon:HL,contain:JL},polygon:{createCover:function(e,t){var n=new Kr;// Do not use graphic.Polygon because graphic.Polyline do not close the
// border of the shape when drawing, which is a better experience for user.
return n.add(new id({name:"main",style:WL(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),// Use graphic.Polygon close the shape.
t.add(new ed({name:"main",draggable:!0,drift:qe(XL,e,t),ondragend:qe(BL,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:ZL(e,t,n)})},updateCommon:HL,contain:JL}};function oE(e){return{createCover:function(t,n){return VL({toRectRange:function(t){var n=[t,[0,100]];return e&&n.reverse(),n},fromRectRange:function(t){return t[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=FL(t);return[bL(n[0][e],n[1][e]),_L(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,o){var r,a=RL(t,n);// If brushWidth not specified, fit the panel.
if(a!==xL&&a.getLinearBrushOtherExtent)r=a.getLinearBrushOtherExtent(e);else{var l=t._zr;r=[0,[l.getWidth(),l.getHeight()][1-e]]}var s=[i,r];e&&s.reverse(),jL(t,n,s,o)},updateCommon:HL,contain:JL}}var rE=kL;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function aE(e){return e=uE(e),function(t){return lp(t,e)}}function lE(e,t){return e=uE(e),function(n){var i=null!=t?t:n,o=i?e.width:e.height,r=i?e.x:e.y;return[r,r+(o||0)]}}function sE(e,t,n){var i=uE(e);return function(e,o){return i.contain(o[0],o[1])&&!QI(e,t,n)}}// Consider width/height is negative.
function uE(e){return Fn.create(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var cE=["axisLine","axisTickLabel","axisName"],dE=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(t,n){e.prototype.init.apply(this,arguments),(this._brushController=new rE(n.getZr())).on("brush",Xe(this._onBrush,this))},t.prototype.render=function(e,t,n,i){if(!function(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,i)){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Kr,this.group.add(this._axisGroup),e.get("show")){var r=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),a=r.coordinateSystem,l=e.getAreaSelectStyle(),s=l.width,u=e.axis.dim,c=Be({strokeContainThreshold:s},a.getAxisLayout(u)),d=new QT(e,c);Ge(cE,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(c,l,e,r,s,n),ap(o,this._axisGroup,e)}}},// /**
//  * @override
//  */
// updateVisual(axisModel, ecModel, api, payload) {
//     this._brushController && this._brushController
//         .updateCovers(getCoverInfoList(axisModel));
// }
t.prototype._refreshBrushController=function(e,t,n,i,o,r){// After filtering, axis may change, select area needs to be update.
var a=n.axis.getExtent(),l=a[1]-a[0],s=Math.min(30,.1*Math.abs(l)),u=Fn.create({x:a[0],y:-o/2,width:l,height:o});u.x-=s,u.width+=2*s,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:aE(u),isTargetByCursor:sE(u,r,i),getLinearBrushOtherExtent:lE(u,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return We(e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}(n))},t.prototype._onBrush=function(e){var t=e.areas,n=this.axisModel,i=n.axis,o=We(t,(function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]}));// Do not cache these object, because the mey be changed.
// If realtime is true, action is not dispatched on drag end, because
// the drag end emits the same params with the last drag move event,
// and may have some delay when using touch pad.
(!n.option.realtime===e.isEnd||e.removeOnClick)&&// jshint ignore:line
this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Jg);var pE=dE,hE={type:"axisAreaSelect",event:"axisAreaSelected"};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var fE={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function vE(e){e.registerComponentView(qP),e.registerComponentModel($P),e.registerCoordinateSystem("parallel",gL),e.registerPreprocessor(KP),e.registerComponentModel(mL),e.registerComponentView(pE),kT(e,"parallel",mL,fE),function(e){e.registerAction(hE,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),
/**
         * @payload
         */
e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var gE=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},yE=/** @class */function(e){function t(t){return e.call(this,t)||this}return de(t,e),t.prototype.getDefaultShape=function(){return new gE},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){zu(this)},t.prototype.downplay=function(){Bu(this)},t}(ks),mE=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return de(t,e),t.prototype.render=function(e,t,n){var i=this,o=e.getGraph(),r=this.group,a=e.layoutInfo,l=a.width,s=a.height,u=e.getData(),c=e.getData("edge"),d=e.get("orient");this._model=e,r.removeAll(),r.x=a.x,r.y=a.y,// generate a bezire Curve for each edge
o.eachEdge((function(t){var n=new yE,i=au(n);i.dataIndex=t.dataIndex,i.seriesIndex=e.seriesIndex,i.dataType="edge";var o,a,u,p,h,f,v,g,y=t.getModel(),m=y.getModel("lineStyle"),x=m.get("curveness"),b=t.node1.getLayout(),_=t.node1.getModel(),w=_.get("localX"),S=_.get("localY"),C=t.node2.getLayout(),M=t.node2.getModel(),T=M.get("localX"),I=M.get("localY"),k=t.getLayout();// Special color, use source node color or target node color
switch(n.shape.extent=Math.max(1,k.dy),n.shape.orient=d,"vertical"===d?(o=(null!=w?w*l:b.x)+k.sy,a=(null!=S?S*s:b.y)+b.dy,u=(null!=T?T*l:C.x)+k.ty,h=o,f=a*(1-x)+(p=null!=I?I*s:C.y)*x,v=u,g=a*x+p*(1-x)):(o=(null!=w?w*l:b.x)+b.dx,a=(null!=S?S*s:b.y)+k.sy,h=o*(1-x)+(u=null!=T?T*l:C.x)*x,f=a,v=o*x+u*(1-x),g=p=(null!=I?I*s:C.y)+k.ty),n.setShape({x1:o,y1:a,x2:u,y2:p,cpx1:h,cpy1:f,cpx2:v,cpy2:g}),n.useStyle(m.getItemStyle()),n.style.fill){case"source":n.style.fill=t.node1.getVisual("color"),n.style.decal=t.node1.getVisual("style").decal;break;case"target":n.style.fill=t.node2.getVisual("color"),n.style.decal=t.node2.getVisual("style").decal;break;case"gradient":var A=t.node1.getVisual("color"),D=t.node2.getVisual("color");Je(A)&&Je(D)&&(n.style.fill=new _d(0,0,+("horizontal"===d),+("vertical"===d),[{color:A,offset:0},{color:D,offset:1}]))}xp(n,bp(y,"edgeLabel"),{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:""+y.get("value")}),n.setTextConfig({position:"inside"});var O=y.getModel("emphasis");tc(n,y,"lineStyle",(function(e){return e.getItemStyle()})),r.add(n),c.setItemGraphicEl(t.dataIndex,n);var P=O.get("focus");$u(n,"adjacency"===P?t.getAdjacentDataIndices():P,O.get("blurScope"),O.get("disabled")),au(n).dataType="edge"})),// Generate a rect for each node
o.eachNode((function(t){var n=t.getLayout(),i=t.getModel(),o=i.get("localX"),a=i.get("localY"),c=i.getModel("emphasis"),d=new Gs({shape:{x:null!=o?o*l:n.x,y:null!=a?a*s:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle(),z2:10});xp(d,bp(i),{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id}),d.disableLabelAnimation=!0,d.setStyle("fill",t.getVisual("color")),d.setStyle("decal",t.getVisual("style").decal),tc(d,i),r.add(d),u.setItemGraphicEl(t.dataIndex,d),au(d).dataType="node";var p=c.get("focus");$u(d,"adjacency"===p?t.getAdjacentDataIndices():p,c.get("blurScope"),c.get("disabled"))})),u.eachItemGraphicEl((function(t,o){u.getItemModel(o).get("draggable")&&(t.drift=function(t,r){i._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=r,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:u.getRawIndex(o),localX:this.shape.x/l,localY:this.shape.y/s})},t.ondragend=function(){i._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&r.setClipPath(// Add animation to the view
function(e,t,n){var i=new Gs({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return zd(i,{shape:{width:e.width+20}},t,n),i}(r.getBoundingRect(),e,(function(){r.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(sy);var xE=mE,bE=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}
/**
         * Init a graph data structure from data in option series
         */return de(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links,i=e.data||e.nodes,o=e.levels;this.levelModels=[];for(var r=this.levelModels,a=0;a<o.length;a++)null!=o[a].depth&&o[a].depth>=0&&(r[o[a].depth]=new Kp(o[a],this,t));if(i&&n){var l=vP(i,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,i=n.getData().getItemLayout(t);if(i){var o=i.depth,r=n.levelModels[o];r&&(e.parentModel=r)}return e})),t.wrapMethod("getItemModel",(function(e,t){var n=e.parentModel,i=n.getGraph().getEdgeByIndex(t).node1.getLayout();if(i){var o=i.depth,r=n.levelModels[o];r&&(e.parentModel=r)}return e}))}));return l.data}},t.prototype.setNodePosition=function(e,t){var n=(this.option.data||this.option.nodes)[e];n.localX=t[0],n.localY=t[1]},
/**
         * Return the graphic data structure
         *
         * @return graphic data structure
         */
t.prototype.getGraph=function(){return this.getData().graph},
/**
         * Get edge data of graphic data structure
         *
         * @return data structure of list
         */
t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function i(e){return isNaN(e)||null==e}// dataType === 'node' or empty do not show tooltip by default
if("edge"===n){var o=this.getDataParams(e,n),r=o.data,a=o.value;return Tg("nameValue",{name:r.source+" -- "+r.target,value:a,noValue:i(a)})}// dataType === 'node'
var l=this.getGraph().getNodeByIndex(e).getLayout().value,s=this.getDataParams(e,n).data.name;return Tg("nameValue",{name:null!=s?s+"":null,value:l,noValue:i(l)})},t.prototype.optionUpdated=function(){},// Override Series.getDataParams()
t.prototype.getDataParams=function(t,n){var i=e.prototype.getDataParams.call(this,t,n);if(null==i.value&&"node"===n){var o=this.getGraph().getNodeByIndex(t).getLayout().value;i.value=o}return i},t.type="series.sankey",t.defaultOption={// zlevel: 0,
z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Zg),_E=bE;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function wE(e,t){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),o=
/**
       * Get the layout position of the whole view
       */
function(e,t){return Yh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=o;var r=o.width,a=o.height,l=e.getGraph(),s=l.nodes,u=l.edges;!
/**
       * Compute the value of each node by summing the associated edge's value
       */
function(e){Ge(e,(function(e){var t=PE(e.outEdges,OE),n=PE(e.inEdges,OE),i=e.getValue()||0,o=Math.max(t,n,i);e.setLayout({value:o},!0)}))}
/**
       * Compute the x-position for each node.
       *
       * Here we use Kahn algorithm to detect cycle when we traverse
       * the node to computer the initial x position.
       */(s),function(e,t,n,i,o,r,a,l,s){(function(e,t,n,i,o,r,a){// let kx = 0;
for(// Used to mark whether the edge is deleted. if it is deleted,
// the value is 0, otherwise it is 1.
var l=[],s=[],u=[],c=[],d=0,p=0// Storage each node's indegree.
;p<t.length;p++)l[p]=1;for(p=0;p<e.length;p++)s[p]=e[p].inEdges.length,0===s[p]&&u.push(e[p]);var h=-1;// Traversing nodes using topological sorting to calculate the
// horizontal(if orient === 'horizontal') or vertical(if orient === 'vertical')
// position of the nodes.
for(;u.length;){for(var f=0;f<u.length;f++){var v=u[f],g=v.hostGraph.data.getRawDataItem(v.dataIndex),y=null!=g.depth&&g.depth>=0;y&&g.depth>h&&(h=g.depth),v.setLayout({depth:y?g.depth:d},!0),"vertical"===r?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var m=0;m<v.outEdges.length;m++){var x=v.outEdges[m];l[t.indexOf(x)]=0;var b=x.node2;0==--s[e.indexOf(b)]&&c.indexOf(b)<0&&c.push(b)}}++d,u=c,c=[]}for(p=0;p<l.length;p++)if(1===l[p])throw new Error("Sankey is a DAG, the original data has cycle!");var _=h>d-1?h:d-1;a&&"left"!==a&&function(e,t,n,i){if("right"===t){for(var o=[],r=e,a=0;r.length;){for(var l=0;l<r.length;l++){var s=r[l];s.setLayout({skNodeHeight:a},!0);for(var u=0;u<s.inEdges.length;u++){var c=s.inEdges[u];o.indexOf(c.node1)<0&&o.push(c.node1)}}r=o,o=[],++a}Ge(e,(function(e){SE(e)||e.setLayout({depth:Math.max(0,i-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&
/**
       * All the node without outEgdes are assigned maximum x-position and
       *     be aligned in the last column.
       *
       * @param nodes.  node of sankey view.
       * @param maxDepth.  use to assign to node without outEdges as x-position.
       */
function(e,t){Ge(e,(function(e){SE(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}
/**
       * Scale node x-position to the width
       *
       * @param nodes  node of sankey view
       * @param kx   multiple used to scale nodes
       */(e,i)}(e,a,0,_);var w="vertical"===r?(o-n)/_:(i-n)/_;!function(e,t,n){Ge(e,(function(e){var i=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:i},!0):e.setLayout({x:i},!0)}))}
/**
       * Using Gauss-Seidel iterations method to compute the node depth(y-position)
       *
       * @param nodes  node of sankey view
       * @param edges  edge of sankey view
       * @param height  the whole height of the area to draw the view
       * @param nodeGap  the vertical distance between two nodes
       *     in the same column.
       * @param iterations  the number of iterations for the algorithm
       */(e,w,r)})(e,t,n,o,r,l,s),function(e,t,n,i,o,r,a){var l=function(e,t){var n=[],i="vertical"===t?"y":"x",o=Ha(e,(function(e){return e.getLayout()[i]}));return o.keys.sort((function(e,t){return e-t})),Ge(o.keys,(function(e){n.push(o.buckets.get(e))})),n}
/**
       * Compute the original y-position for each node
       */(e,a);(function(e,t,n,i,o,r){var a=1/0;Ge(e,(function(e){var t=e.length,l=0;Ge(e,(function(e){l+=e.getLayout().value}));var s="vertical"===r?(i-(t-1)*o)/l:(n-(t-1)*o)/l;s<a&&(a=s)})),Ge(e,(function(e){Ge(e,(function(e,t){var n=e.getLayout().value*a;"vertical"===r?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),Ge(t,(function(e){var t=+e.getValue()*a;e.setLayout({dy:t},!0)}))}
/**
       * Resolve the collision of initialized depth (y-position)
       */)(l,t,n,i,o,a),CE(l,o,n,i,a);for(var s=1;r>0;r--)// 0.99 is a experience parameter, ensure that each iterations of
// changes as small as possible.
ME(l,s*=.99,a),CE(l,o,n,i,a),LE(l,s,a),CE(l,o,n,i,a)}(e,t,r,o,i,a,l),
/**
       * Compute the depth(y-position) of each edge
       */
function(e,t){var n="vertical"===t?"x":"y";Ge(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),Ge(e,(function(e){var t=0,n=0;Ge(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),Ge(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(e,l)}(s,u,n,i,r,a,0!==Ue(s,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function SE(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function CE(e,t,n,i,o){var r="vertical"===o?"x":"y";Ge(e,(function(e){var a,l,s;e.sort((function(e,t){return e.getLayout()[r]-t.getLayout()[r]}));for(var u=0,c=e.length,d="vertical"===o?"dx":"dy",p=0;p<c;p++)(s=u-(l=e[p]).getLayout()[r])>0&&(a=l.getLayout()[r]+s,"vertical"===o?l.setLayout({x:a},!0):l.setLayout({y:a},!0)),u=l.getLayout()[r]+l.getLayout()[d]+t;if((// If the bottommost node goes outside the bounds, push it back up
s=u-t-("vertical"===o?i:n))>0){a=l.getLayout()[r]-s,"vertical"===o?l.setLayout({x:a},!0):l.setLayout({y:a},!0),u=a;for(p=c-2;p>=0;--p)(s=(l=e[p]).getLayout()[r]+l.getLayout()[d]+t-u)>0&&(a=l.getLayout()[r]-s,"vertical"===o?l.setLayout({x:a},!0):l.setLayout({y:a},!0)),u=l.getLayout()[r]}}))}
/**
       * Change the y-position of the nodes, except most the right side nodes
       * @param nodesByBreadth
       * @param alpha  parameter used to adjust the nodes y-position
       */function ME(e,t,n){Ge(e.slice().reverse(),(function(e){Ge(e,(function(e){if(e.outEdges.length){var i=PE(e.outEdges,TE,n)/PE(e.outEdges,OE);if(isNaN(i)){var o=e.outEdges.length;i=o?PE(e.outEdges,IE,n)/o:0}if("vertical"===n){var r=e.getLayout().x+(i-DE(e,n))*t;e.setLayout({x:r},!0)}else{var a=e.getLayout().y+(i-DE(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function TE(e,t){return DE(e.node2,t)*e.getValue()}function IE(e,t){return DE(e.node2,t)}function kE(e,t){return DE(e.node1,t)*e.getValue()}function AE(e,t){return DE(e.node1,t)}function DE(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function OE(e){return e.getValue()}function PE(e,t,n){for(var i=0,o=e.length,r=-1;++r<o;){var a=+t(e[r],n);isNaN(a)||(i+=a)}return i}
/**
       * Change the y-position of the nodes, except most the left side nodes
       */function LE(e,t,n){Ge(e,(function(e){Ge(e,(function(e){if(e.inEdges.length){var i=PE(e.inEdges,kE,n)/PE(e.inEdges,OE);if(isNaN(i)){var o=e.inEdges.length;i=o?PE(e.inEdges,AE,n)/o:0}if("vertical"===n){var r=e.getLayout().x+(i-DE(e,n))*t;e.setLayout({x:r},!0)}else{var a=e.getLayout().y+(i-DE(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function EE(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),n=t.nodes,i=t.edges;if(n.length){var o=1/0,r=-1/0;Ge(n,(function(e){var t=e.getLayout().value;t<o&&(o=t),t>r&&(r=t)})),Ge(n,(function(t){var n=new WD({type:"color",mappingMethod:"linear",dataExtent:[o,r],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),i=t.getModel().get(["itemStyle","color"]);null!=i?(t.setVisual("color",i),t.setVisual("style",{fill:i})):(t.setVisual("color",n),t.setVisual("style",{fill:n}))}))}i.length&&Ge(i,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var NE=/** @class */function(){function e(){}
/**
         * @override
         */return e.prototype.getInitialData=function(e,t){// When both types of xAxis and yAxis are 'value', layout is
// needed to be specified by user. Otherwise, layout can be
// judged by which axis is category.
var n,i,o=t.getComponent("xAxis",this.get("xAxisIndex")),r=t.getComponent("yAxis",this.get("yAxisIndex")),a=o.get("type"),l=r.get("type");// FIXME
// Consider time axis.
"category"===a?(e.layout="horizontal",n=o.getOrdinalMeta(),i=!0):"category"===l?(e.layout="vertical",n=r.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var s=["x","y"],u="horizontal"===e.layout?0:1,c=this._baseAxisDim=s[u],d=s[1-u],p=[o,r],h=p[u].get("type"),f=p[1-u].get("type"),v=e.data;// Clone a new data for next setOption({}) usage.
// Avoid modifying current data will affect further update.
if(v&&i){var g=[];Ge(v,(function(e,t){var n;Ze(e)?(n=e.slice(),// Modify current using data.
e.unshift(t)):Ze(e.value)?((n=Be({},e)).value=n.value.slice(),// Modify current using data.
e.value.unshift(t)):n=e,g.push(n)})),e.data=g}var y=this.defaultValueDimensions,m=[{name:c,type:ub(h),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:ub(f),dimsDef:y.slice()}];return aT(this,{coordDimensions:m,dimensionsCount:y.length+1,encodeDefaulter:qe(xf,m,this)})},
/**
         * If horizontal, base axis is x, otherwise y.
         * @override
         */
e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),RE=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,// TODO
// box width represents group size, so dimension should have 'size'.
/**
           * @see <https://en.wikipedia.org/wiki/Box_plot>
           * The meanings of 'min' and 'max' depend on user,
           * and echarts do not need to know it.
           * @readOnly
           */
n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return de(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={// zlevel: 0,
z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Zg);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */je(RE,NE,!0);var zE=RE,BE=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),o=this.group,r=this._data;// There is no old data only when first rendering or switching from
// stream mode to normal mode, where previous elements should be removed.
this._data||o.removeAll();var a="horizontal"===e.get("layout")?1:0;i.diff(r).add((function(e){if(i.hasValue(e)){var t=jE(i.getItemLayout(e),i,e,a,!0);i.setItemGraphicEl(e,t),o.add(t)}})).update((function(e,t){var n=r.getItemGraphicEl(t);// Empty data
if(i.hasValue(e)){var l=i.getItemLayout(e);n?(Hd(n),HE(l,n,i,e)):n=jE(l,i,e,a),o.add(n),i.setItemGraphicEl(e,n)}else o.remove(n)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&o.remove(t)})).execute(),this._data=i},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(sy),FE=function(){},VE=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return de(t,e),t.prototype.getDefaultShape=function(){return new FE},t.prototype.buildPath=function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])},t}(ks);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function jE(e,t,n,i,o){var r=e.ends,a=new VE({shape:{points:o?GE(r,i,e):r}});return HE(e,a,t,n,o),a}function HE(e,t,n,i,o){var r=n.hostModel;(0,vp[o?"initProps":"updateProps"])(t,{shape:{points:e.ends}},r,i),t.useStyle(n.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=n.getItemModel(i),l=a.getModel("emphasis");tc(t,a),$u(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function GE(e,t,n){return We(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}var WE=BE,KE=Ge;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function UE(e){var t=
/**
       * Group series by axis.
       */
function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var i=e.getBaseAxis(),o=Ve(n,i);o<0&&(o=n.length,n[o]=i,t[o]={axis:i,seriesModels:[]}),t[o].seriesModels.push(e)})),t}
/**
       * Calculate offset and box width for each series.
       */(e);KE(t,(function(e){var t=e.seriesModels;t.length&&(!function(e){var t,n=e.axis,i=e.seriesModels,o=i.length,r=e.boxWidthList=[],a=e.boxOffsetList=[],l=[];if("category"===n.type)t=n.getBandWidth();else{var s=0;KE(i,(function(e){s=Math.max(s,e.getData().count())}));var u=n.getExtent();t=Math.abs(u[1]-u[0])/s}KE(i,(function(e){var n=e.get("boxWidth");Ze(n)||(n=[n,n]),l.push([Jr(n[0],t)||0,Jr(n[1],t)||0])}));var c=.8*t-2,d=c/o*.3,p=(c-d*(o-1))/o,h=p/2-c/2;KE(i,(function(e,t){a.push(h),h+=d+p,r.push(Math.min(Math.max(p,l[t][0]),l[t][1]))}))}
/**
       * Calculate points location for each series.
       */(e),KE(t,(function(t,n){!function(e,t,n){var i=e.coordinateSystem,o=e.getData(),r=n/2,a="horizontal"===e.get("layout")?0:1,l=1-a,s=["x","y"],u=o.mapDimension(s[a]),c=o.mapDimensionsAll(s[l]);if(null==u||c.length<5)return;for(var d=0;d<o.count();d++){var p=o.get(u,d),h=x(p,c[2],d),f=x(p,c[0],d),v=x(p,c[1],d),g=x(p,c[3],d),y=x(p,c[4],d),m=[];b(m,v,!1),b(m,g,!0),m.push(f,v,y,g),_(m,f),_(m,y),_(m,h),o.setItemLayout(d,{initBaseline:h[l],ends:m})}function x(e,n,r){var s,u=o.get(n,r),c=[];return c[a]=e,c[l]=u,isNaN(e)||isNaN(u)?s=[NaN,NaN]:(s=i.dataToPoint(c))[a]+=t,s}function b(e,t,n){var i=t.slice(),o=t.slice();i[a]+=r,o[a]-=r,n?e.push(i,o):e.push(o,i)}function _(e,t){var n=t.slice(),i=t.slice();n[a]-=r,i[a]+=r,e.push(n,i)}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * See:
       *  <https://en.wikipedia.org/wiki/Box_plot#cite_note-frigge_hoaglin_iglewicz-2>
       *  <http://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/boxplot.stats.html>
       *
       * Helper method for preparing data.
       *
       * @param rawData like
       *        [
       *            [12,232,443], (raw data set for the first box)
       *            [3843,5545,1232], (raw data set for the second box)
       *            ...
       *        ]
       * @param opt.boundIQR=1.5 Data less than min bound is outlier.
       *      default 1.5, means Q1 - 1.5 * (Q3 - Q1).
       *      If 'none'/0 passed, min bound will not be used.
       */(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var YE={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==sf){ma("")}var n=function(e,t){for(var n=[],i=[],o=(t=t||{}).boundIQR,r="none"===o||0===o,a=0;a<e.length;a++){var l=ea(e[a].slice()),s=da(l,.25),u=da(l,.5),c=da(l,.75),d=l[0],p=l[l.length-1],h=(null==o?1.5:o)*(c-s),f=r?d:Math.max(d,s-h),v=r?p:Math.min(p,c+h),g=t.itemNameFormatter,y=$e(g)?g({value:a}):Je(g)?g.replace("{value}",a+""):a+"";n.push([y,f,s,u,c,v]);for(var m=0;m<l.length;m++){var x=l[m];if(x<f||x>v){var b=[y,x];i.push(b)}}}return{boxData:n,outliers:i}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var XE=["color","borderColor"],qE=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){// If there is clipPath created in large mode. Remove it.
this.group.removeClipPath(),// Clear previously rendered progressive elements.
this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){fp(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,i=this.group,o=t.getLayout("isSimpleBox"),r=e.get("clip",!0),a=e.coordinateSystem,l=a.getArea&&a.getArea();// There is no old data only when first rendering or switching from
// stream mode to normal mode, where previous elements should be removed.
this._data||i.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var a=t.getItemLayout(n);if(r&&QE(l,a))return;var s=JE(a,n,!0);zd(s,{shape:{points:a.ends}},e,n),eN(s,t,n,o),i.add(s),t.setItemGraphicEl(n,s)}})).update((function(a,s){var u=n.getItemGraphicEl(s);// Empty data
if(t.hasValue(a)){var c=t.getItemLayout(a);r&&QE(l,c)?i.remove(u):(u?(Rd(u,{shape:{points:c.ends}},e,a),Hd(u)):u=JE(c),eN(u,t,a,o),i.add(u),t.setItemGraphicEl(a,u))}else i.remove(u)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),oN(e,this.group);var t=e.get("clip",!0)?JC(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,i=t.getData(),o=i.getLayout("isSimpleBox");null!=(n=e.next());){var r=JE(i.getItemLayout(n));eN(r,i,n,o),r.incremental=!0,this.group.add(r),this._progressiveEls.push(r)}},t.prototype._incrementalRenderLarge=function(e,t){oN(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(sy),ZE=function(){},$E=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return de(t,e),t.prototype.getDefaultShape=function(){return new ZE},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(ks);function JE(e,t,n){var i=e.ends;return new $E({shape:{points:n?tN(i,e):i},z2:100})}function QE(e,t){for(var n=!0,i=0;i<t.ends.length;i++)// If any point are in the region.
if(e.contain(t.ends[i][0],t.ends[i][1])){n=!1;break}return n}function eN(e,t,n,i){var o=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=i,tc(e,o)}function tN(e,t){return We(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var nN=function(){},iN=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return de(t,e),t.prototype.getDefaultShape=function(){return new nN},t.prototype.buildPath=function(e,t){for(// Drawing lines is more efficient than drawing
// a whole line or drawing rects.
var n=t.points,i=0;i<n.length;)if(this.__sign===n[i++]){var o=n[i++];e.moveTo(o,n[i++]),e.lineTo(o,n[i++])}else i+=3},t}(ks);function oN(e,t,n,i){var o=e.getData().getLayout("largePoints"),r=new iN({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});t.add(r);var a=new iN({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});t.add(a);var l=new iN({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});t.add(l),rN(1,r,e),rN(-1,a,e),rN(0,l,e),i&&(r.incremental=!0,a.incremental=!0),n&&n.push(r,a)}function rN(e,t,n,i){// TODO put in visual?
var o=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]);0===e&&(o=n.get(["itemStyle","borderColorDoji"]));// Color must be excluded.
// Because symbol provide setColor individually to set fill and stroke
var r=n.getModel("itemStyle").getItemStyle(XE);t.useStyle(r),t.style.fill=null,t.style.stroke=o}var aN=qE,lN=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}
/**
         * Get dimension for shadow in dataZoom
         * @return dimension name
         */return de(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var i=t.getItemLayout(e);return i&&n.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={// zlevel: 0,
z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,// xAxisIndex: 0,
// yAxisIndex: 0,
layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,// borderColor: '#d24040',
// borderColor0: '#398f4f',
borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Zg);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */je(lN,NE,!0);var sN=lN;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function uN(e){e&&Ze(e.series)&&// Translate 'k' to 'candlestick'.
Ge(e.series,(function(e){tt(e)&&"k"===e.type&&(e.type="candlestick")}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var cN=["itemStyle","borderColor"],dN=["itemStyle","borderColor0"],pN=["itemStyle","borderColorDoji"],hN=["itemStyle","color"],fN=["itemStyle","color0"],vN={seriesType:"candlestick",plan:Qg(),// For legend.
performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?hN:fN)}function i(e,t){return t.get(0===e?pN:e>0?cN:dN)}// Only visible series has each data be visual encoded
if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var o;null!=(o=e.next());){var r=t.getItemModel(o),a=t.getItemLayout(o).sign,l=r.getItemStyle();l.fill=n(a,r),l.stroke=i(a,r)||l.fill,Be(t.ensureUniqueItemVisual(o,"style"),l)}}}}},gN={seriesType:"candlestick",plan:Qg(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),i=function(e,t){var n,i=e.getBaseAxis(),o="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count()),r=Jr(st(e.get("barMaxWidth"),o),o),a=Jr(st(e.get("barMinWidth"),1),o),l=e.get("barWidth");return null!=l?Jr(l,o):Math.max(Math.min(o/2,r),a)}(e,n),o=["x","y"],r=n.getDimensionIndex(n.mapDimension(o[0])),a=We(n.mapDimensionsAll(o[1]),n.getDimensionIndex,n),l=a[0],s=a[1],u=a[2],c=a[3];if(n.setLayout({candleWidth:i,// The value is experimented visually.
isSimpleBox:i<=1.3}),!(r<0||a.length<4))return{progress:e.pipelineContext.large?function(n,i){// Structure: [sign, x, yhigh, ylow, sign, x, yhigh, ylow, ...]
var o,a,d=s_(4*n.count),p=0,h=[],f=[],v=i.getStore(),g=!!e.get(["itemStyle","borderColorDoji"]);for(;null!=(a=n.next());){var y=v.get(r,a),m=v.get(l,a),x=v.get(s,a),b=v.get(u,a),_=v.get(c,a);isNaN(y)||isNaN(b)||isNaN(_)?(d[p++]=NaN,p+=3):(d[p++]=yN(v,a,m,x,s,g),h[0]=y,h[1]=b,o=t.dataToPoint(h,null,f),d[p++]=o?o[0]:NaN,d[p++]=o?o[1]:NaN,h[1]=_,o=t.dataToPoint(h,null,f),d[p++]=o?o[1]:NaN)}i.setLayout("largePoints",d)}:function(e,n){var o,a=n.getStore();for(;null!=(o=e.next());){var d=a.get(r,o),p=a.get(l,o),h=a.get(s,o),f=a.get(u,o),v=a.get(c,o),g=Math.min(p,h),y=Math.max(p,h),m=C(g,d),x=C(y,d),b=C(f,d),_=C(v,d),w=[];M(w,x,0),M(w,m,1),w.push(I(_),I(x),I(b),I(m));var S=!!n.getItemModel(o).get(["itemStyle","borderColorDoji"]);n.setItemLayout(o,{sign:yN(a,o,p,h,s,S),initBaseline:p>h?x[1]:m[1],ends:w,brushRect:T(f,v,d)})}function C(e,n){var i=[];return i[0]=n,i[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(i)}function M(e,t,n){var o=t.slice(),r=t.slice();o[0]=tp(o[0]+i/2,1,!1),r[0]=tp(r[0]-i/2,1,!0),n?e.push(o,r):e.push(r,o)}function T(e,t,n){var o=C(e,n),r=C(t,n);return o[0]-=i/2,r[0]-=i/2,{x:o[0],y:o[1],width:i,height:r[1]-o[1]}}function I(e){return e[0]=tp(e[0],1),e}}}}};
/**
       * Get the sign of a single data.
       *
       * @returns 0 for doji with hasDojiColor: true,
       *          1 for positive,
       *          -1 for negative.
       */
function yN(e,t,n,i,o,r){return n>i?-1:n<i?1:r?0:t>0?e.get(o,t-1)<=i?1:-1:// No record of previous, set to be positive
1}var mN=gN;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function xN(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}var bN=/** @class */function(e){function t(t,n){var i=e.call(this)||this,o=new EC(t,n),r=new Kr;return i.add(o),i.add(r),i.updateData(t,n),i}return de(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=e.rippleNumber,o=this.childAt(1),r=0;r<i;r++){// If width/height are set too small (e.g., set to 1) on ios10
// and macOS Sierra, a circle stroke become a rect, no matter what
// the scale is set. So we set width/height as 2. See #4136.
var a=mm(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var l=-r/i*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(l).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(l).start(),o.add(a)}xN(o,e)},
/**
         * Update effect symbol
         */
t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],o=0;o<i.length;o++){var r=i[o];if(t[r]!==e[r])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}xN(n,e)},
/**
         * Highlight symbol
         */
t.prototype.highlight=function(){zu(this)},
/**
         * Downplay symbol
         */
t.prototype.downplay=function(){Bu(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},
/**
         * Update symbol properties
         */
t.prototype.updateData=function(e,t){var n=this,i=e.hostModel;this.childAt(0).updateData(e,t);var o=this.childAt(1),r=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),l=xm(e.getItemVisual(t,"symbolSize")),s=e.getItemVisual(t,"style"),u=s&&s.fill,c=r.getModel("emphasis");o.setScale(l),o.traverse((function(e){e.setStyle("fill",u)}));var d=bm(e.getItemVisual(t,"symbolOffset"),l);d&&(o.x=d[0],o.y=d[1]);var p=e.getItemVisual(t,"symbolRotate");o.rotation=(p||0)*Math.PI/180||0;var h={};h.showEffectOn=i.get("showEffectOn"),h.rippleScale=r.get(["rippleEffect","scale"]),h.brushType=r.get(["rippleEffect","brushType"]),h.period=1e3*r.get(["rippleEffect","period"]),h.effectOffset=t/e.count(),h.z=i.getShallow("z")||0,h.zlevel=i.getShallow("zlevel")||0,h.symbolType=a,h.color=u,h.rippleEffectColor=r.get(["rippleEffect","color"]),h.rippleNumber=r.get(["rippleEffect","number"]),"render"===h.showEffectOn?(this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h):(// Not keep old effect config
this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==h.showEffectOn&&n.startEffectAnimation(h):"normal"===e&&"render"!==h.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=h,$u(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Kr),_N=bN,wN=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(){this._symbolDraw=new FC(_N)},t.prototype.render=function(e,t,n){var i=e.getData(),o=this._symbolDraw;o.updateData(i,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var i=e.getData();this.group.dirty();var o=hM("").reset(e,t,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=function(e){var t=[1,0,0,1,0,0];return wn(t,e),t}(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(sy),SN=wN,CN=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return de(t,e),t.prototype.getInitialData=function(e,t){return Vb(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",// zlevel: 0,
z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,// When to show the effect, option: 'render'|'emphasis'
showEffectOn:"render",clip:!0,// Ripple effect config
rippleEffect:{period:4,// Scale of ripple
scale:2.5,// Brush type can be fill or stroke
brushType:"fill",// Ripple number
number:3},universalTransition:{divideShape:"clone"},// Cartesian coordinate system
// xAxisIndex: 0,
// yAxisIndex: 0,
// Polar coordinate system
// polarIndex: 0,
// Geo coordinate system
// geoIndex: 0,
// symbol: null,        // 图形类型
symbolSize:10},t}(Zg),MN=CN;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var TN=/** @class */function(e){function t(t,n,i){var o=e.call(this)||this;return o.add(o.createLine(t,n,i)),o._updateEffectSymbol(t,n),o}return de(t,e),t.prototype.createLine=function(e,t,n){return new YO(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),o=n.get("symbol");Ze(i)||(i=[i,i]);var r=e.getItemVisual(t,"style"),a=n.get("color")||r&&r.stroke,l=this.childAt(1);this._symbolType!==o&&(// Remove previous
this.remove(l),(l=mm(o,-.5,-.5,1,1,a)).z2=100,l.culling=!0,this.add(l)),// Symbol may be removed if loop is false
l&&(// Shadow color is same with color in default
l.setStyle("shadowColor",a),l.setStyle(n.getItemStyle(["color"])),l.scaleX=i[0],l.scaleY=i[1],l.setColor(a),this._symbolType=o,this._symbolScale=i,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var o=e.getItemLayout(n),r=1e3*t.get("period"),a=t.get("loop"),l=t.get("roundTrip"),s=t.get("constantSpeed"),u=lt(t.get("delay"),(function(t){return t/e.count()*r/3}));if(// Ignore when updating
i.ignore=!0,this._updateAnimationPoints(i,o),s>0&&(r=this._getLineLength(i)/s*1e3),r!==this._period||a!==this._loop||l!==this._roundTrip){i.stopAnimation();var c=void 0;c=$e(u)?u(n):u,i.__t>0&&(c=-r*i.__t),this._animateSymbol(i,r,c,a,l)}this._period=r,this._loop=a,this._roundTrip=l}},t.prototype._animateSymbol=function(e,t,n,i,o){if(t>0){e.__t=0;var r=this,a=e.animate("",i).when(o?2*t:t,{__t:o?2:1}).delay(n).during((function(){r._updateSymbolPosition(e)}));i||a.done((function(){r.remove(e)})),a.start()}},t.prototype._getLineLength=function(e){// Not so accurate
return Vt(e.__p1,e.__cp1)+Vt(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,o=e.__t<1?e.__t:2-e.__t,r=[e.x,e.y],a=r.slice(),l=Di,s=Oi;r[0]=l(t[0],i[0],n[0],o),r[1]=l(t[1],i[1],n[1],o);// Tangent
var u=e.__t<1?s(t[0],i[0],n[0],o):s(n[0],i[0],t[0],1-o),c=e.__t<1?s(t[1],i[1],n[1],o):s(n[1],i[1],t[1],1-o);e.rotation=-Math.atan2(c,u)-Math.PI/2,// enable continuity trail for 'line', 'rect', 'roundRect' symbolType
"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Vt(a,r),// make sure the last segment render within endPoint
1===o&&(r[0]=a[0]+(r[0]-a[0])/2,r[1]=a[1]+(r[1]-a[1])/2)):1===e.__lastT?// After first loop, symbol.__t does NOT start with 0, so connect p1 to pos directly.
e.scaleY=2*Vt(t,r):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=r[0],e.y=r[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(Kr),IN=TN,kN=/** @class */function(e){function t(t,n,i){var o=e.call(this)||this;return o._createPolyline(t,n,i),o}return de(t,e),t.prototype._createPolyline=function(e,t,n){// let seriesModel = lineData.hostModel;
var i=e.getItemLayout(t),o=new id({shape:{points:i}});this.add(o),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var i=e.hostModel;Rd(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var i=this.childAt(0),o=e.getItemModel(t),r=n&&n.emphasisLineStyle,a=n&&n.focus,l=n&&n.blurScope,s=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var u=o.getModel("emphasis");r=u.getModel("lineStyle").getLineStyle(),s=u.get("disabled"),a=u.get("focus"),l=u.get("blurScope")}i.useStyle(e.getItemVisual(t,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=r,$u(this,a,l,s)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(Kr),AN=kN,DN=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}// Override
return de(t,e),t.prototype.createLine=function(e,t,n){return new AN(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,o=1;o<t.length;o++){var r=t[o-1],a=t[o];i+=Vt(r,a),n.push(i)}if(0!==i){for(o=0;o<n.length;o++)n[o]/=i;this._offsets=n,this._length=i}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,n=this._points,i=this._offsets,o=n.length;if(i){var r,a=this._lastFrame;if(t<this._lastFramePercent){for(r=Math.min(a+1,o-1);r>=0&&!(i[r]<=t);r--);// PENDING really need to do this ?
r=Math.min(r,o-2)}else{for(r=a;r<o&&!(i[r]>t);r++);r=Math.min(r-1,o-2)}var l=(t-i[r])/(i[r+1]-i[r]),s=n[r],u=n[r+1];e.x=s[0]*(1-l)+l*u[0],e.y=s[1]*(1-l)+l*u[1];var c=e.__t<1?u[0]-s[0]:s[0]-u[0],d=e.__t<1?u[1]-s[1]:s[1]-u[1];e.rotation=-Math.atan2(d,c)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=t,e.ignore=!1}},t}(IN),ON=DN,PN=function(){this.polyline=!1,this.curveness=0,this.segs=[]},LN=/** @class */function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return de(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new PN},t.prototype.buildPath=function(e,t){var n,i=t.segs,o=t.curveness;if(t.polyline)for(n=this._off;n<i.length;){var r=i[n++];if(r>0){e.moveTo(i[n++],i[n++]);for(var a=1;a<r;a++)e.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var l=i[n++],s=i[n++],u=i[n++],c=i[n++];if(e.moveTo(l,s),o>0){var d=(l+u)/2-(s-c)*o,p=(s+c)/2-(u-l)*o;e.quadraticCurveTo(d,p,u,c)}else e.lineTo(u,c)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,i=n.segs,o=n.curveness,r=this.style.lineWidth;if(n.polyline)for(var a=0,l=0;l<i.length;){var s=i[l++];if(s>0)for(var u=i[l++],c=i[l++],d=1;d<s;d++){if(ss(u,c,p=i[l++],h=i[l++],r,e,t))return a}a++}else for(a=0,l=0;l<i.length;){u=i[l++],c=i[l++];var p=i[l++],h=i[l++];if(o>0){if(cs(u,c,(u+p)/2-(c-h)*o,(c+h)/2-(p-u)*o,p,h,r,e,t))return a}else if(ss(u,c,p,h,r,e,t))return a;a++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return e=n[0],t=n[1],i.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){// Ignore stroke for large symbol draw.
var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,i=1/0,o=-1/0,r=-1/0,a=0;a<t.length;){var l=t[a++],s=t[a++];n=Math.min(l,n),o=Math.max(l,o),i=Math.min(s,i),r=Math.max(s,r)}e=this._rect=new Fn(n,i,o,r)}return e},t}(ks),EN=/** @class */function(){function e(){this.group=new Kr}
/**
         * Update symbols draw by new data
         */return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},
/**
         * @override
         */
e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},
/**
         * @override
         */
e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],i=t.getLayout("linesPoints"),o=n&&n.shape.segs;// Merging the exists. Each element has 1e4 points.
// Consider the performance balance between too much elements and too much points in one shape(may affect hover optimization)
if(o&&o.length<2e4){var r=o.length,a=new Float32Array(r+i.length);// Concat two array
a.set(o),a.set(i,r),n.setShape({segs:a})}else{// Clear
this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,t),l.__startIndex=e.start}},
/**
         * @override
         */
e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new LN({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null);var r=au(e);// Enable tooltip
// PENDING May have performance issue when path is extremely large
r.seriesIndex=i.seriesIndex,e.on("mousemove",(function(t){r.dataIndex=null;var n=e.hoverDataIdx;n>0&&(// Provide dataIndex for tooltip
r.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),NN={seriesType:"lines",plan:Qg(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(o,r){var a=[];if(i){var l=void 0,s=o.end-o.start;if(n){for(var u=0,c=o.start;c<o.end;c++)u+=e.getLineCoordsCount(c);l=new Float32Array(s+2*u)}else l=new Float32Array(4*s);var d=0,p=[];for(c=o.start;c<o.end;c++){var h=e.getLineCoords(c,a);n&&(l[d++]=h);for(var f=0;f<h;f++)p=t.dataToPoint(a[f],!1,p),l[d++]=p[0],l[d++]=p[1]}r.setLayout("linesPoints",l)}else for(c=o.start;c<o.end;c++){var v=r.getItemModel(c),g=(h=e.getLineCoords(c,a),[]);if(n)for(var y=0;y<h;y++)g.push(t.dataToPoint(a[y]));else{g[0]=t.dataToPoint(a[0]),g[1]=t.dataToPoint(a[1]);var m=v.get(["lineStyle","curveness"]);+m&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*m,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*m])}r.setItemLayout(c,g)}}}}}},RN=NN,zN=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),o=this._updateLineDraw(i,e),r=e.get("zlevel"),a=e.get(["effect","trailLength"]),l=n.getZr(),s="svg"===l.painter.getType();s||l.painter.getLayer(r).clear(!0),// Config layer with motion blur
null==this._lastZlevel||s||l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&a>0&&(s||l.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),o.updateData(i);var u=e.get("clip",!0)&&JC(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,n){var i=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)// TODO Don't have to do update in large mode. Only do it when there are millions of data.
return{update:!0};// TODO Use same logic with ScatterView.
// Manually update layout
var r=RN.reset(e,t,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),// Not in large mode
this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,i=this._showEffect(t),o=!!t.get("polyline"),r=t.pipelineContext.large;return n&&i===this._hasEffet&&o===this._isPolyline&&r===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=r?new EN:new $O(o?i?ON:AN:i?IN:YO),this._hasEffet=i,this._isPolyline=o,this._isLargeDraw=r),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){// Not use motion when dragging or zooming
var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,// Clear motion when lineDraw is removed
this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(sy),BN=zN,FN="undefined"==typeof Uint32Array?Array:Uint32Array,VN="undefined"==typeof Float64Array?Array:Float64Array;function jN(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=We(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),ze([t,e[0],e[1]])})))}var HN=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return de(t,e),t.prototype.init=function(t){// The input data may be null/undefined.
t.data=t.data||[],// Not using preprocessor because mergeOption may not have series.type
jN(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(jN(t),t.data){// Only update when have option data to merge.
var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=_t(this._flatCoords,t.flatCoords),this._flatCoordsOffset=_t(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],o=0;o<i;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[n+2*o],t[o][1]=this._flatCoords[n+2*o+1];return i}var r=this._getCoordsFromItemModel(e);for(o=0;o<r.length;o++)t[o]=t[o]||[],t[o][0]=r[o][0],t[o][1]=r[o][1];return r.length},t.prototype._processFlatCoordsArray=function(e){var t=0;// Stored as a typed array. In format
// Points Count(2) | x | y | x | y | Points Count(3) | x |  y | x | y | x | y |
if(this._flatCoords&&(t=this._flatCoords.length),et(e[0])){for(var n=e.length,i=new FN(n),o=new VN(n),r=0,a=0,l=0,s=0// Store offset and len of each segment
;s<n;){l++;var u=e[s++];// Offset
i[a++]=r+t,// Len
i[a++]=u;for(var c=0;c<u;c++){var d=e[s++],p=e[s++];o[r++]=d,o[r++]=p}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:o,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new Ob(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,i,o){// dataItem is simply coords
if(e instanceof Array)return NaN;n.hasItemOption=!0;var r=e.value;return null!=r?r instanceof Array?r[o]:r:void 0})),n},t.prototype.formatTooltip=function(e,t,n){var i=this.getData().getItemModel(e),o=i.get("name");if(o)return o;var r=i.get("fromName"),a=i.get("toName"),l=[];return null!=r&&l.push(r),null!=a&&l.push(a),Tg("nameValue",{name:l.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",// zlevel: 0,
z:2,legendHoverLink:!0,// Cartesian coordinate system
xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],// Geo coordinate system
geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,// Available when large is true
largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Zg),GN=HN;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function WN(e){return e instanceof Array||(e=[e,e]),e}var KN={seriesType:"lines",reset:function(e){var t=WN(e.get("symbol")),n=WN(e.get("symbolSize")),i=e.getData();return i.setVisual("fromSymbol",t&&t[0]),i.setVisual("toSymbol",t&&t[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),{dataEach:i.hasItemOption?function(e,t){var n=e.getItemModel(t),i=WN(n.getShallow("symbol",!0)),o=WN(n.getShallow("symbolSize",!0));i[0]&&e.setItemVisual(t,"fromSymbol",i[0]),i[1]&&e.setItemVisual(t,"toSymbol",i[1]),o[0]&&e.setItemVisual(t,"fromSymbolSize",o[0]),o[1]&&e.setItemVisual(t,"toSymbolSize",o[1])}:null}}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var UN=/** @class */function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=be.createCanvas();this.canvas=e}
/**
         * Renders Heatmap and returns the rendered canvas
         * @param data array of data, each has x, y, value
         * @param width canvas width
         * @param height canvas height
         */return e.prototype.update=function(e,t,n,i,o,r){var a=this._getBrush(),l=this._getGradient(o,"inRange"),s=this._getGradient(o,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,d=c.getContext("2d"),p=e.length;c.width=t,c.height=n;for(var h=0;h<p;++h){var f=e[h],v=f[0],g=f[1],y=i(f[2]);// draw with the circle brush with alpha
d.globalAlpha=y,d.drawImage(a,v-u,g-u)}if(!c.width||!c.height)// Avoid "Uncaught DOMException: Failed to execute 'getImageData' on
// 'CanvasRenderingContext2D': The source height is 0."
return c;// colorize the canvas using alpha value and set with gradient
for(var m=d.getImageData(0,0,c.width,c.height),x=m.data,b=0,_=x.length,w=this.minOpacity,S=this.maxOpacity-w;b<_;){y=x[b+3]/256;var C=4*Math.floor(255*y);// Simple optimize to ignore the empty data
if(y>0){var M=r(y)?l:s;// Any alpha > 0 will be mapped to [minOpacity, maxOpacity]
y>0&&(y=y*S+w),x[b++]=M[C],x[b++]=M[C+1],x[b++]=M[C+2],x[b++]=M[C+3]*y*256}else b+=4}return d.putImageData(m,0,0),c},
/**
         * get canvas of a black circle brush used for canvas to draw later
         */
e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=be.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;// set brush size
e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),// in order to render shadow without the distinct circle,
// draw the distinct circle in an invisible place,
// and use shadowOffset to draw shadow in the center of the canvas
i.shadowOffsetX=n,i.shadowBlur=this.blurSize,// draw the shadow in black, and use alpha and shadow blur to generate
// color in color map
i.shadowColor="#000",// draw circle in the left to the canvas
i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},
/**
         * get gradient color map
         * @private
         */
e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,i=n[t]||(n[t]=new Uint8ClampedArray(1024)),o=[0,0,0,0],r=0,a=0;a<256;a++)e[t](a/255,!0,o),i[r++]=o[0],i[r++]=o[1],i[r++]=o[2],i[r++]=o[3];return i},e}(),YN=UN;function XN(e){var t=e.dimensions;// Not use coordSys.type === 'geo' because coordSys maybe extended
return"lng"===t[0]&&"lat"===t[1]}var qN=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){var i;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(i=t)}))})),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):XN(o)&&this._renderOnGeo(o,e,i,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,i){var o=t.coordinateSystem;o&&(// geo does not support incremental rendering?
XN(o)?this.render(t,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){fp(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,i,o){var r,a,l,s,u=e.coordinateSystem,c=QC(u,"cartesian2d");if(c){var d=u.getAxis("x"),p=u.getAxis("y");r=d.getBandWidth()+.5,a=p.getBandWidth()+.5,l=d.scale.getExtent(),s=p.scale.getExtent()}for(var h=this.group,f=e.getData(),v=e.getModel(["emphasis","itemStyle"]).getItemStyle(),g=e.getModel(["blur","itemStyle"]).getItemStyle(),y=e.getModel(["select","itemStyle"]).getItemStyle(),m=e.get(["itemStyle","borderRadius"]),x=bp(e),b=e.getModel("emphasis"),_=b.get("focus"),w=b.get("blurScope"),S=b.get("disabled"),C=c?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],M=n;M<i;M++){var T=void 0,I=f.getItemVisual(M,"style");if(c){var k=f.get(C[0],M),A=f.get(C[1],M);// Ignore empty data and out of extent data
if(isNaN(f.get(C[2],M))||isNaN(k)||isNaN(A)||k<l[0]||k>l[1]||A<s[0]||A>s[1])continue;var D=u.dataToPoint([k,A]);T=new Gs({shape:{x:D[0]-r/2,y:D[1]-a/2,width:r,height:a},style:I})}else{// Ignore empty data
if(isNaN(f.get(C[1],M)))continue;T=new Gs({z2:1,shape:u.dataToRect([f.get(C[0],M)]).contentShape,style:I})}// Optimization for large dataset
if(f.hasItemOption){var O=f.getItemModel(M),P=O.getModel("emphasis");v=P.getModel("itemStyle").getItemStyle(),g=O.getModel(["blur","itemStyle"]).getItemStyle(),y=O.getModel(["select","itemStyle"]).getItemStyle(),// Each item value struct in the data would be firstly
// {
//     itemStyle: { borderRadius: [30, 30] },
//     value: [2022, 02, 22]
// }
m=O.get(["itemStyle","borderRadius"]),_=P.get("focus"),w=P.get("blurScope"),S=P.get("disabled"),x=bp(O)}T.shape.r=m;var L=e.getRawValue(M),E="-";L&&null!=L[2]&&(E=L[2]+""),xp(T,x,{labelFetcher:e,labelDataIndex:M,defaultOpacity:I.opacity,defaultText:E}),T.ensureState("emphasis").style=v,T.ensureState("blur").style=g,T.ensureState("select").style=y,$u(T,_,w,S),T.incremental=o,// PENDING
o&&(// Rect must use hover layer if it's incremental.
T.states.emphasis.hoverLayer=!0),h.add(T),f.setItemGraphicEl(M,T),this._progressiveEls&&this._progressiveEls.push(T)}},t.prototype._renderOnGeo=function(e,t,n,i){var o=n.targetVisuals.inRange,r=n.targetVisuals.outOfRange,a=t.getData(),l=this._hmLayer||this._hmLayer||new YN;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var s=e.getViewRect().clone(),u=e.getRoamTransform();s.applyTransform(u);// Clamp on viewport
var c=Math.max(s.x,0),d=Math.max(s.y,0),p=Math.min(s.width+s.x,i.getWidth()),h=Math.min(s.height+s.y,i.getHeight()),f=p-c,v=h-d,g=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],y=a.mapArray(g,(function(t,n,i){var o=e.dataToPoint([t,n]);return o[0]-=c,o[1]-=d,o.push(i),o})),m=n.getExtent(),x="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(m,n.option.range):
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e,t,n){var i=e[1]-e[0],o=(t=We(t,(function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}}))).length,r=0;return function(e){var i;// Try to find in the location of the last found
for(i=r;i<o;i++)if((a=t[i].interval)[0]<=e&&e<=a[1]){r=i;break}if(i===o)// Not found, back interation
for(i=r-1;i>=0;i--){var a;if((a=t[i].interval)[0]<=e&&e<=a[1]){r=i;break}}return i>=0&&i<o&&n[i]}}(m,n.getPieceList(),n.option.selected);l.update(y,f,v,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:r.color.getColorMapper()},x);var b=new Ns({style:{width:f,height:v,x:c,y:d,image:l.canvas},silent:!0});this.group.add(b)},t.type="heatmap",t}(sy),ZN=qN,$N=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.getInitialData=function(e,t){return Vb(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Gf.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",// zlevel: 0,
z:2,// Cartesian coordinate system
// xAxisIndex: 0,
// yAxisIndex: 0,
// Geo coordinate system
geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Zg),JN=$N;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var QN=["itemStyle","borderWidth"],eR=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],tR=new kc,nR=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){var i=this.group,o=e.getData(),r=this._data,a=e.coordinateSystem,l=a.getBaseAxis().isHorizontal(),s=a.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[s.x,s.x+s.width],[s.y,s.y+s.height]],isHorizontal:l,valueDim:eR[+l],categoryDim:eR[1-+l]};return o.diff(r).add((function(e){if(o.hasValue(e)){var t=cR(o,e),n=iR(o,e,t,u),r=hR(o,u,n);o.setItemGraphicEl(e,r),i.add(r),mR(r,u,n)}})).update((function(e,t){var n=r.getItemGraphicEl(t);if(o.hasValue(e)){var a=cR(o,e),l=iR(o,e,a,u),s=vR(o,l);n&&s!==n.__pictorialShapeStr&&(i.remove(n),o.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var i=n.animationModel,o=n.dataIndex,r=e.__pictorialBundle;Rd(r,{x:n.bundlePosition[0],y:n.bundlePosition[1]},i,o),n.symbolRepeat?aR(e,t,n,!0):lR(e,t,n,!0);sR(e,n,!0),uR(e,t,n,!0)}(n,u,l):n=hR(o,u,l,!0),o.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=l,// Add back
i.add(n),mR(n,u,l)}else i.remove(n)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&fR(r,e,t.__pictorialSymbolMeta.animationModel,t)})).execute(),this._data=o,this.group},t.prototype.remove=function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl((function(t){fR(i,au(t).dataIndex,e,t)})):n.removeAll()},t.type="pictorialBar",t}(sy);// index: +isHorizontal
// Set or calculate default value about symbol, and calculate layout info.
function iR(e,t,n,i){var o=e.getItemLayout(t),r=n.get("symbolRepeat"),a=n.get("symbolClip"),l=n.get("symbolPosition")||"start",s=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),d={dataIndex:t,layout:o,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:r,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:s,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!// bar length can be negative.
function(e,t,n,i,o){var r,a=i.valueDim,l=e.get("symbolBoundingData"),s=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=s.toGlobalCoord(s.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(Ze(l)){var d=[oR(s,l[0])-u,oR(s,l[1])-u];d[1]<d[0]&&d.reverse(),r=d[c]}else r=null!=l?oR(s,l)-u:t?i.coordSysExtent[a.index][c]-u:n[a.wh];o.boundingLength=r,t&&(o.repeatCutLength=n[a.wh]);// if 'pxSign' means sign of pixel,  it can't be zero, or symbolScale will be zero
// and when borderWidth be settled, the actual linewidth will be NaN
o.pxSign=r>0?1:-1}(n,r,o,i,d),// Support ['100%', '100%']
function(e,t,n,i,o,r,a,l,s,u){var c,d=s.valueDim,p=s.categoryDim,h=Math.abs(n[p.wh]),f=e.getItemVisual(t,"symbolSize");c=Ze(f)?f.slice():null==f?["100%","100%"]:[f,f];// Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is
// to complicated to calculate real percent value if considering scaled lineWidth.
// So the actual size will bigger than layout size if lineWidth is bigger than zero,
// which can be tolerated in pictorial chart.
c[p.index]=Jr(c[p.index],h),c[d.index]=Jr(c[d.index],i?h:Math.abs(r)),u.symbolSize=c;// If x or y is less than zero, show reversed shape.
var v=u.symbolScale=[c[0]/l,c[1]/l];// Follow convention, 'right' and 'top' is the normal scale.
v[d.index]*=(s.isHorizontal?-1:1)*a}(e,t,o,r,0,d.boundingLength,d.pxSign,u,i,d),function(e,t,n,i,o){// In symbols are drawn with scale, so do not need to care about the case that width
// or height are too small. But symbol use strokeNoScale, where acture lineWidth should
// be calculated.
var r=e.get(QN)||0;r&&(tR.attr({scaleX:t[0],scaleY:t[1],rotation:n}),tR.updateTransform(),r/=tR.getLineScale(),r*=t[i.valueDim.index]);o.valueLineWidth=r||0}(n,d.symbolScale,s,i,d);var p=d.symbolSize,h=bm(n.get("symbolOffset"),p);return function(e,t,n,i,o,r,a,l,s,u,c,d){var p=c.categoryDim,h=c.valueDim,f=d.pxSign,v=Math.max(t[h.index]+l,0),g=v;// Note: rotation will not effect the layout of symbols, because user may
// want symbols to rotate on its center, which should not be translated
// when rotating.
if(i){var y=Math.abs(s),m=lt(e.get("symbolMargin"),"15%")+"",x=!1;m.lastIndexOf("!")===m.length-1&&(x=!0,m=m.slice(0,m.length-1));var b=Jr(m,t[h.index]),_=Math.max(v+2*b,0),w=x?0:2*b,S=fa(i),C=S?i:xR((y+w)/_);_=v+2*(b=(y-C*v)/2/(x?C:Math.max(C-1,1))),w=x?0:2*b,// Update repeatTimes when not all symbol will be shown.
S||"fixed"===i||(C=u?xR((Math.abs(u)+w)/_):0),g=C*_-w,d.repeatTimes=C,d.symbolMargin=b}var M=f*(g/2),T=d.pathPosition=[];// 'center'
T[p.index]=n[p.wh]/2,T[h.index]="start"===a?M:"end"===a?s-M:s/2,r&&(T[0]+=r[0],T[1]+=r[1]);var I=d.bundlePosition=[];I[p.index]=n[p.xy],I[h.index]=n[h.xy];var k=d.barRectShape=Be({},n);k[h.wh]=f*Math.max(Math.abs(n[h.wh]),Math.abs(T[h.index]+M)),k[p.wh]=n[p.wh];var A=d.clipShape={};// Consider that symbol may be overflow layout rect.
A[p.xy]=-n[p.xy],A[p.wh]=c.ecSize[p.wh],A[h.xy]=0,A[h.wh]=n[h.wh]}(n,p,o,r,0,h,l,d.valueLineWidth,d.boundingLength,d.repeatCutLength,i,d),d}function oR(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function rR(e){var t=e.symbolPatternSize,n=mm(// Consider texture img, make a big size.
e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function aR(e,t,n,i){var o=e.__pictorialBundle,r=n.symbolSize,a=n.valueLineWidth,l=n.pathPosition,s=t.valueDim,u=n.repeatTimes||0,c=0,d=r[t.valueDim.index]+a+2*n.symbolMargin;for(gR(e,(function(e){e.__pictorialAnimationIndex=c,e.__pictorialRepeatTimes=u,c<u?yR(e,null,f(c),n,i):yR(e,null,{scaleX:0,scaleY:0},n,i,(function(){o.remove(e)})),// updateHoverAnimation(path, symbolMeta);
c++}));c<u;c++){var p=rR(n);p.__pictorialAnimationIndex=c,p.__pictorialRepeatTimes=u,o.add(p);var h=f(c);yR(p,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},n,i)}function f(e){var t=l.slice(),i=n.pxSign,o=e;// (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index
// Otherwise: i = index;
return("start"===n.symbolRepeatDirection?i>0:i<0)&&(o=u-1-e),t[s.index]=d*(o-u/2+.5)+l[s.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function lR(e,t,n,i){var o=e.__pictorialBundle,r=e.__pictorialMainPath;r?yR(r,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(r=e.__pictorialMainPath=rR(n),o.add(r),yR(r,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}// bar rect is used for label.
function sR(e,t,n){var i=Be({},t.barRectShape),o=e.__pictorialBarRect;o?yR(o,null,{shape:i},t,n):((o=e.__pictorialBarRect=new Gs({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(o))}function uR(e,t,n,i){// If not clip, symbol will be remove and rebuilt.
if(n.symbolClip){var o=e.__pictorialClipPath,r=Be({},n.clipShape),a=t.valueDim,l=n.animationModel,s=n.dataIndex;if(o)Rd(o,{shape:r},l,s);else{r[a.wh]=0,o=new Gs({shape:r}),e.__pictorialBundle.setClipPath(o),e.__pictorialClipPath=o;var u={};u[a.wh]=n.clipShape[a.wh],vp[i?"updateProps":"initProps"](o,{shape:u},l,s)}}}function cR(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=dR,n.isAnimationEnabled=pR,n}function dR(e){// The order is the same as the z-order, see `symbolRepeatDiretion`.
return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function pR(){// `animation` prop can be set on itemModel in pictorial bar chart.
return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function hR(e,t,n,i){// bar is the main element for each data.
var o=new Kr,r=new Kr;// bundle is used for location and clip.
return o.add(r),o.__pictorialBundle=r,r.x=n.bundlePosition[0],r.y=n.bundlePosition[1],n.symbolRepeat?aR(o,t,n):lR(o,0,n),sR(o,n,i),uR(o,t,n,i),o.__pictorialShapeStr=vR(e,n),o.__pictorialSymbolMeta=n,o}function fR(e,t,n,i){// Not show text when animating
var o=i.__pictorialBarRect;o&&o.removeTextContent();var r=[];gR(i,(function(e){r.push(e)})),i.__pictorialMainPath&&r.push(i.__pictorialMainPath),// I do not find proper remove animation for clip yet.
i.__pictorialClipPath&&(n=null),Ge(r,(function(e){Fd(e,{scaleX:0,scaleY:0},n,t,(function(){i.parent&&i.parent.remove(i)}))})),e.setItemGraphicEl(t,null)}function vR(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function gR(e,t,n){// Do not use Group#eachChild, because it do not support remove.
Ge(e.__pictorialBundle.children(),(function(i){i!==e.__pictorialBarRect&&t.call(n,i)}))}function yR(e,t,n,i,o,r){t&&e.attr(t),// when symbolCip used, only clip path has init animation, otherwise it would be weird effect.
i.symbolClip&&!o?n&&e.attr(n):n&&vp[o?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,r)}function mR(e,t,n){var i=n.dataIndex,o=n.itemModel,r=o.getModel("emphasis"),a=r.getModel("itemStyle").getItemStyle(),l=o.getModel(["blur","itemStyle"]).getItemStyle(),s=o.getModel(["select","itemStyle"]).getItemStyle(),u=o.getShallow("cursor"),c=r.get("focus"),d=r.get("blurScope"),p=r.get("scale");gR(e,(function(e){if(e instanceof Ns){var t=e.style;e.useStyle(Be({// TODO other properties like dx, dy ?
image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var i=e.ensureState("emphasis");i.style=a,p&&(// NOTE: Must after scale is set after updateAttr
i.scaleX=1.1*e.scaleX,i.scaleY=1.1*e.scaleY),e.ensureState("blur").style=l,e.ensureState("select").style=s,u&&(e.cursor=u),e.z2=n.z2}));var h=t.valueDim.posDesc[+(n.boundingLength>0)];xp(e.__pictorialBarRect,bp(o),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:DC(t.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:h}),$u(e,c,d,r.get("disabled"))}function xR(e){var t=Math.round(e);// Escapse accurate error
return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var bR=nR,_R=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return de(t,e),t.prototype.getInitialData=function(t){// Disable stack.
return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Xp(mM.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",// z can be set in data item, which is z2 actually.
// Disable progressive
progressive:0,emphasis:{// By default pictorialBar do not hover scale. Hover scale is not suitable
// for the case that both has foreground and background.
scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(mM),wR=_R;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var SR=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return de(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),o=this,r=this.group,a=e.getLayerSeries(),l=i.getLayout("layoutInfo"),s=l.rect,u=l.boundaryGap;function c(e){return e.name}r.x=0,r.y=s.y+u[0];var d=new ab(this._layersSeries||[],a,c,c),p=[];function h(t,n,l){var s=o._layers;if("remove"!==t){for(var u,c,d=[],h=[],f=a[n].indices,v=0;v<f.length;v++){var g=i.getItemLayout(f[v]),y=g.x,m=g.y0,x=g.y;d.push(y,m),h.push(y,m+x),u=i.getItemVisual(f[v],"style")}var b=i.getItemLayout(f[0]),_=e.getModel("label").get("margin"),w=e.getModel("emphasis");if("add"===t){var S=p[n]=new Kr;c=new qC({shape:{points:d,stackedOnPoints:h,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(c),r.add(S),e.isAnimationEnabled()&&c.setClipPath(function(e,t,n){var i=new Gs({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return zd(i,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),i}(c.getBoundingRect(),e,(function(){c.removeClipPath()})))}else{S=s[l];c=S.childAt(0),r.add(S),p[n]=S,Rd(c,{shape:{points:d,stackedOnPoints:h}},e),Hd(c)}xp(c,bp(e),{labelDataIndex:f[v-1],defaultText:i.getName(f[v-1]),inheritColor:u.fill},{normal:{verticalAlign:"middle"}}),c.setTextConfig({position:null,local:!0});var C=c.getTextContent();// TODO More label position options.
C&&(C.x=b.x-_,C.y=b.y0+b.y/2),c.useStyle(u),i.setItemGraphicEl(n,c),tc(c,e),$u(c,w.get("focus"),w.get("blurScope"),w.get("disabled"))}else r.remove(s[n])}d.add(Xe(h,this,"add")).update(Xe(h,this,"update")).remove(Xe(h,this,"remove")).execute(),this._layersSeries=a,this._layers=p},t.type="themeRiver",t}(sy);var CR=SR,MR=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}
/**
         * @override
         */return de(t,e),t.prototype.init=function(t){// eslint-disable-next-line
e.prototype.init.apply(this,arguments),// Put this function here is for the sake of consistency of code style.
// Enable legend selection for each data item
// Use a function instead of direct access because data reference may changed
this.legendVisualProvider=new sT(Xe(this.getData,this),Xe(this.getRawData,this))},
/**
         * If there is no value of a certain point in the time for some event,set it value to 0.
         *
         * @param {Array} data  initial data in the option
         * @return {Array}
         */
t.prototype.fixData=function(e){var t=e.length,n={},i=Ha(e,(function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]})),o=[];
/**
           * Make sure every layer data get the same keys.
           * The value index tells which layer has visited.
           * {
           *  2014/01/01: -1
           * }
           */i.buckets.each((function(e,t){o.push({name:t,dataList:e})}));for(var r=o.length,a=0;a<r;++a){for(var l=o[a].name,s=0;s<o[a].dataList.length;++s){var u=o[a].dataList[s][0]+"";n[u]=a}for(var u in n)n.hasOwnProperty(u)&&n[u]!==a&&(n[u]=a,e[t]=[u,0,l],t++)}return e},
/**
         * @override
         * @param  option  the initial option that user gave
         * @param  ecModel  the model object for themeRiver option
         */
t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",Ba).models[0].get("type"),i=Ue(e.data,(function(e){return void 0!==e[2]})),o=this.fixData(i||[]),r=[],a=this.nameMap=bt(),l=0,s=0;s<o.length;++s)r.push(o[s][2]),a.get(o[s][2])||(a.set(o[s][2],l),l++);var u=Pb(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ub(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,c=new Ob(u,this);return c.initData(o),c},
/**
         * The raw data is divided into multiple layers and each layer
         *     has same name.
         */
t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;var o=e.mapDimension("single"),r=Ha(n,(function(t){return e.get("name",t)})),a=[];// data group by name
return r.buckets.each((function(t,n){t.sort((function(t,n){return e.get(o,t)-e.get(o,n)})),a.push({name:n,indices:t})})),a},
/**
         * Get data indices for show tooltip content
         */
t.prototype.getAxisTooltipData=function(e,t,n){Ze(e)||(e=e?[e]:[]);for(var i,o=this.getData(),r=this.getLayerSeries(),a=[],l=r.length,s=0;s<l;++s){for(var u=Number.MAX_VALUE,c=-1,d=r[s].indices.length,p=0;p<d;++p){var h=o.get(e[0],r[s].indices[p]),f=Math.abs(h-t);f<=u&&(i=h,u=f,c=r[s].indices[p])}a.push(c)}return{dataIndices:a,nestestValue:i}},t.prototype.formatTooltip=function(e,t,n){var i=this.getData();return Tg("nameValue",{name:i.getName(e),value:i.get(i.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={// zlevel: 0,
z:2,colorBy:"data",coordinateSystem:"singleAxis",// gap in axis's orthogonal orientation
boundaryGap:["10%","10%"],// legendHoverLink: true,
singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Zg),TR=MR;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function IR(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.coordinateSystem,i={},o=n.getRect();i.rect=o;var r=e.get("boundaryGap"),a=n.getAxis();(i.boundaryGap=r,"horizontal"===a.orient)?(r[0]=Jr(r[0],o.height),r[1]=Jr(r[1],o.height),kR(t,e,o.height-r[0]-r[1])):(r[0]=Jr(r[0],o.width),r[1]=Jr(r[1],o.width),kR(t,e,o.width-r[0]-r[1]));t.setLayout("layoutInfo",i)}))}
/**
       * The layout information about themeriver
       *
       * @param data  data in the series
       * @param seriesModel  the model object of themeRiver series
       * @param height  value used to compute every series height
       */function kR(e,t,n){if(e.count())for(var i,o=t.coordinateSystem,r=t.getLayerSeries(),a=e.mapDimension("single"),l=e.mapDimension("value"),s=We(r,(function(t){return We(t.indices,(function(t){var n=o.dataToPoint(e.get(a,t));return n[1]=e.get(l,t),n}))})),u=
/**
       * Compute the baseLine of the rawdata
       * Inspired by Lee Byron's paper Stacked Graphs - Geometry & Aesthetics
       *
       * @param  data  the points in each layer
       */
function(e){for(var t=e.length,n=e[0].length,i=[],o=[],r=0,a=0;a<n;++a){for(var l=0,s=0;s<t;++s)l+=e[s][a][1];l>r&&(r=l),i.push(l)}for(var u=0;u<n;++u)o[u]=(r-i[u])/2;r=0;for(var c=0;c<n;++c){var d=i[c]+o[c];d>r&&(r=d)}return{y0:o,max:r}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(s),c=u.y0,d=n/u.max,p=r.length,h=r[0].indices.length,f=0// the data in each layer are organized into a series.
;f<h;++f){i=c[f]*d,e.setItemLayout(r[0].indices[f],{layerIndex:0,x:s[0][f][0],y0:i,y:s[0][f][1]*d});for(var v=1;v<p;++v)i+=s[v-1][f][1]*d,e.setItemLayout(r[v].indices[f],{layerIndex:v,x:s[v][f][0],y0:i,y:s[v][f][1]*d})}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var AR=/** @class */function(e){function t(t,n,i,o){var r=e.call(this)||this;r.z2=2,r.textConfig={inside:!0},au(r).seriesIndex=n.seriesIndex;var a=new ru({z2:4,silent:t.getModel().get(["label","silent"])});return r.setTextContent(a),r.updateData(!0,t,n,i,o),r}return de(t,e),t.prototype.updateData=function(e,t,// state: 'emphasis' | 'normal' | 'highlight' | 'downplay',
n,i,o){this.node=t,t.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var r=this;au(r).dataIndex=t.dataIndex;var a=t.getModel(),l=a.getModel("emphasis"),s=t.getLayout(),u=Be({},s);u.label=null;var c=t.getVisual("style");c.lineJoin="bevel";var d=t.getVisual("decal");d&&(c.decal=Km(d,o));var p=nT(a.getModel("itemStyle"),u,!0);Be(u,p),Ge(pu,(function(e){var t=r.ensureState(e),n=a.getModel([e,"itemStyle"]);t.style=n.getItemStyle();// border radius
var i=nT(n,u);i&&(t.shape=i)})),e?(r.setShape(u),r.shape.r=s.r0,Rd(r,{shape:{r:s.r}},n,t.dataIndex)):(// Disable animation for gradient since no interpolation method
// is supported for gradient
Rd(r,{shape:u},n),Hd(r)),r.useStyle(c),this._updateLabel(n);var h=a.getShallow("cursor");h&&r.attr("cursor",h),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var f=l.get("focus");$u(this,"ancestor"===f?t.getAncestorsIndices():"descendant"===f?t.getDescendantIndices():f,l.get("blurScope"),l.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),i=n.getModel("label"),o=this.node.getLayout(),r=o.endAngle-o.startAngle,a=(o.startAngle+o.endAngle)/2,l=Math.cos(a),s=Math.sin(a),u=this,c=u.getTextContent(),d=this.node.dataIndex,p=i.get("minAngle")/180*Math.PI,h=i.get("show")&&!(null!=p&&Math.abs(r)<p);function f(e,t){var n=e.get(t);return null==n?i.get(t):n}c.ignore=!h,// TODO use setLabelStyle
Ge(hu,(function(i){var p="normal"===i?n.getModel("label"):n.getModel([i,"label"]),h="normal"===i,v=h?c:c.ensureState(i),g=e.getFormattedLabel(d,i);h&&(g=g||t.node.name),v.style=_p(p,{},null,"normal"!==i,!0),g&&(v.style.text=g);// Not displaying text when angle is too small
var y=p.get("show");null==y||h||(v.ignore=!y);var m,x=f(p,"position"),b=h?u:u.states[i],_=b.style.fill;b.textConfig={outsideFill:"inherit"===p.get("color")?_:null,inside:"outside"!==x};var w=f(p,"distance")||0,S=f(p,"align");"outside"===x?(m=o.r+w,S=a>Math.PI/2?"right":"left"):S&&"center"!==S?"left"===S?(m=o.r0+w,a>Math.PI/2&&(S="right")):"right"===S&&(m=o.r-w,a>Math.PI/2&&(S="left")):(// Put label in the center if it's a circle
m=r===2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,S="center"),v.style.align=S,v.style.verticalAlign=f(p,"verticalAlign")||"middle",v.x=m*l+o.cx,v.y=m*s+o.cy;var C=f(p,"rotate"),M=0;"radial"===C?(M=-a)<-Math.PI/2&&(M+=Math.PI):"tangential"===C?(M=Math.PI/2-a)>Math.PI/2?M-=Math.PI:M<-Math.PI/2&&(M+=Math.PI):et(C)&&(M=C*Math.PI/180),v.rotation=M})),c.dirtyStyle()},t}(Yc),DR=AR,OR="sunburstRootToNode",PR="sunburstHighlight";
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var LR=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n,// @ts-ignore
i){var o=this;this.seriesModel=e,this.api=n,this.ecModel=t;var r=e.getData(),a=r.tree.root,l=e.getViewRoot(),s=this.group,u=e.get("renderLabelForZeroData"),c=[];l.eachNode((function(e){c.push(e)}));var d=this._oldChildren||[];!function(i,o){if(0===i.length&&0===o.length)return;function l(e){return e.getId()}function c(l,c){!function(i,o){u||!i||i.getValue()||(// Not render data with value 0
i=null);if(i!==a&&o!==a)if(o&&o.piece)i?(// Update
o.piece.updateData(!1,i,e,t,n),// For tooltip
r.setItemGraphicEl(i.dataIndex,o.piece)):// Remove
function(e){if(!e)return;e.piece&&(s.remove(e.piece),e.piece=null)}(o);else if(i){// Add
var l=new DR(i,e,t,n);s.add(l),// For tooltip
r.setItemGraphicEl(i.dataIndex,l)}}(null==l?null:i[l],null==c?null:o[c])}new ab(o,i,l,l).add(c).update(c).remove(qe(c,null)).execute()}(c,d),function(i,r){r.depth>0?(// Render
o.virtualPiece?// Update
o.virtualPiece.updateData(!1,i,e,t,n):(// Add
o.virtualPiece=new DR(i,e,t,n),s.add(o.virtualPiece)),// TODO event scope
r.piece.off("click"),o.virtualPiece.on("click",(function(e){o._rootToNode(r.parentNode)}))):o.virtualPiece&&(// Remove
s.remove(o.virtualPiece),o.virtualPiece=null)}(a,l),this._initEvents(),this._oldChildren=c},
/**
         * @private
         */
t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(i){if(!n&&i.piece&&i.piece===t.target){var o=i.getModel().get("nodeClick");if("rootToNode"===o)e._rootToNode(i);else if("link"===o){var r=i.getModel(),a=r.get("link");if(a)jh(a,r.get("target",!0)||"_blank")}n=!0}}))}))},
/**
         * @private
         */
t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:OR,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},
/**
         * @implement
         */
t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,o=e[1]-n.cy,r=Math.sqrt(i*i+o*o);return r<=n.r&&r>=n.r0}},t.type="sunburst",t}(sy),ER=LR,NR=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return de(t,e),t.prototype.getInitialData=function(e,t){// Create a virtual root.
var n={name:e.name,children:e.data};RR(n);var i=this._levelModels=We(e.levels||[],(function(e){return new Kp(e,this,t)}),this),o=eD.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=o.getNodeByDataIndex(t),r=i[n.depth];return r&&(e.parentModel=r),e}))}));// Make sure always a new tree is created when setOption,
// in TreemapView, we check whether oldTree === newTree
// to choose mappings approach among old shapes and new shapes.
return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},
/*
         * @override
         */
t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=oD(i,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){dD(this)},t.type="series.sunburst",t.defaultOption={// zlevel: 0,
z:2,// 默认全局居中
center:["50%","50%"],radius:[0,"75%"],// 默认顺时针
clockwise:!0,startAngle:90,// 最小角度改为0
minAngle:0,// If still show when all data zero.
stillShowZeroSum:!0,// 'rootToNode', 'link', or false
nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{// could be: 'radial', 'tangential', or 'none'
rotate:"radial",show:!0,opacity:1,// 'left' is for inner side of inside, and 'right' is for outer
// side for inside
align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},// Animation type can be expansion, scale.
animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],
/**
           * Sort order.
           *
           * Valid values: 'desc', 'asc', null, or callback function.
           * 'desc' and 'asc' for descend and ascendant order;
           * null for not sorting;
           * example of callback function:
           * function(nodeA, nodeB) {
           *     return nodeA.getValue() - nodeB.getValue();
           * }
           */
sort:"desc"},t}(Zg);function RR(e){// Postorder travel tree.
// If value of none-leaf node is not set,
// calculate it by suming up the value of all children.
var t=0;Ge(e.children,(function(e){RR(e);var n=e.value;// TODO First value of array must be a number
Ze(n)&&(n=n[0]),t+=n}));var n=e.value;Ze(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),// Value should not less than 0.
n<0&&(n=0),Ze(e.value)?e.value[0]=n:e.value=n}var zR=NR,BR=Math.PI/180;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function FR(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get("center"),i=e.get("radius");Ze(i)||(i=[0,i]),Ze(t)||(t=[t,t]);var o=n.getWidth(),r=n.getHeight(),a=Math.min(o,r),l=Jr(t[0],o),s=Jr(t[1],r),u=Jr(i[0],a/2),c=Jr(i[1],a/2),d=-e.get("startAngle")*BR,p=e.get("minAngle")*BR,h=e.getData().tree.root,f=e.getViewRoot(),v=f.depth,g=e.get("sort");null!=g&&VR(f,g);var y=0;Ge(f.children,(function(e){!isNaN(e.getValue())&&y++}));var m=f.getValue(),x=Math.PI/(m||y)*2,b=f.depth>0,_=f.height-(b?-1:1),w=(c-u)/(_||1),S=e.get("clockwise"),C=e.get("stillShowZeroSum"),M=S?1:-1;// Sum may be 0
// Virtual root node for roll up
if(b){var T=u,I=u+w,k=2*Math.PI;h.setLayout({angle:k,startAngle:d,endAngle:d+k,clockwise:S,cx:l,cy:s,r0:T,r:I})}!function t(n,i){if(n){var o=i;// Render self
if(n!==h){// Tree node is virtual, so it doesn't need to be drawn
var r=n.getValue(),c=0===m&&C?x:r*x;c<p&&(c=p),// else {
//     valueSumLargerThanMinAngle += value;
// }
o=i+M*c;var d=n.depth-v-(b?-1:1),f=u+w*d,g=u+w*(d+1),y=e.getLevelModel(n);if(y){var _=y.get("r0",!0),T=y.get("r",!0),I=y.get("radius",!0);null!=I&&(_=I[0],T=I[1]),null!=_&&(f=Jr(_,a/2)),null!=T&&(g=Jr(T,a/2))}n.setLayout({angle:c,startAngle:i,endAngle:o,clockwise:S,cx:l,cy:s,r0:f,r:g})}// Render children
if(n.children&&n.children.length){// currentAngle = startAngle;
var k=0;Ge(n.children,(function(e){k+=t(e,i+k)}))}return o-i}}(f,d)}))}
/**
       * Init node children by order and update visual
       */function VR(e,t){var n=e.children||[];e.children=
/**
       * Sort children nodes
       *
       * @param {TreeNode[]}               children children of node to be sorted
       * @param {string | function | null} sort sort method
       *                                   See SunburstSeries.js for details.
       */
function(e,t){if($e(t)){var n=We(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}));return n.sort((function(e,n){return t(e.params,n.params)})),We(n,(function(t){return e[t.index]}))}var i="asc"===t;return e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(i?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(i?-1:1):n}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(n,t),// Init children recursively
n.length&&Ge(e.children,(function(e){VR(e,t)}))}function jR(e){var t={};// Default color strategy
e.eachSeriesByType("sunburst",(function(e){var n=e.getData(),i=n.tree;i.eachNode((function(o){var r=o.getModel().getModel("itemStyle").getItemStyle();r.fill||(r.fill=function(e,n,i){for(// Choose color from palette based on the first level.
var o=e;o&&o.depth>1;)o=o.parentNode;var r=n.getColorFromPalette(o.name||o.dataIndex+"",t);return e.depth>1&&Je(r)&&(// Lighter on the deeper level.
r=oo(r,(e.depth-1)/(i-1)*.5)),r}(o,e,i.root.height)),Be(n.ensureUniqueItemVisual(o.dataIndex,"style"),r)}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
// `visual('color') visual('borderColor')` is supported.
var HR={color:"fill",borderColor:"stroke"},GR={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},WR=Ea(),KR=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return Vb(null,this)},t.prototype.getDataParams=function(t,n,i){var o=e.prototype.getDataParams.call(this,t,n);return i&&(o.info=WR(i).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",// zlevel: 0,
z:2,legendHoverLink:!0,// Custom series will not clip by default.
// Some case will use custom series to draw label
// For example https://echarts.apache.org/examples/en/editor.html?c=custom-gantt-flight
clip:!1},t}(Zg),UR=KR;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function YR(e,t){// dataItem is necessary in log axis.
return t=t||[0,0],We(["x","y"],(function(n,i){var o=this.getAxis(n),r=t[i],a=e[i]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(r-a)-o.dataToCoord(r+a))}),this)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function XR(e,t){return t=t||[0,0],We([0,1],(function(n){var i=t[n],o=e[n]/2,r=[],a=[];return r[n]=i-o,a[n]=i+o,r[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(r)[n]-this.dataToPoint(a)[n])}),this)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function qR(e,t){// dataItem is necessary in log axis.
var n=this.getAxis(),i=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-o)-n.dataToCoord(i+o))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function ZR(e,t){// dataItem is necessary in log axis.
return t=t||[0,0],We(["Radius","Angle"],(function(n,i){var o=this["get"+n+"Axis"](),r=t[i],a=e[i]/2,l="category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(r-a)-o.dataToCoord(r+a));// TODO: TYPE Check Angle Axis
return"Angle"===n&&(l=l*Math.PI/180),l}),this)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Whether need to call `convertEC4CompatibleStyle`.
       */
function $R(e,t,n,i){// Since echarts5, `RectText` is separated from its host element and style.text
// does not exist any more. The compat work brings some extra burden on performance.
// So we provide:
// `legacy: true` force make compat.
// `legacy: false`, force do not compat.
// `legacy` not set: auto detect whether legacy.
//     But in this case we do not compat (difficult to detect and rare case):
//     Becuse custom series and graphic component support "merge", users may firstly
//     only set `textStrokeWidth` style or secondly only set `text`.
return e&&(e.legacy||!1!==e.legacy&&!n&&!i&&"tspan"!==t&&("text"===t||Ct(e,"text")))}
/**
       * `EC4CompatibleStyle` is style that might be in echarts4 format or echarts5 format.
       * @param hostStyle The properties might be modified.
       * @return If be text el, `textContentStyle` and `textConfig` will not be returned.
       *         Otherwise a `textContentStyle` and `textConfig` will be created, whose props area
       *         retried from the `hostStyle`.
       */function JR(e,t,n){var i,o,r,a=e;if("text"===t)r=a;else{r={},Ct(a,"text")&&(r.text=a.text),Ct(a,"rich")&&(r.rich=a.rich),Ct(a,"textFill")&&(r.fill=a.textFill),Ct(a,"textStroke")&&(r.stroke=a.textStroke),Ct(a,"fontFamily")&&(r.fontFamily=a.fontFamily),Ct(a,"fontSize")&&(r.fontSize=a.fontSize),Ct(a,"fontStyle")&&(r.fontStyle=a.fontStyle),Ct(a,"fontWeight")&&(r.fontWeight=a.fontWeight),o={type:"text",style:r,// ec4 does not support rectText trigger.
// And when text position is different in normal and emphasis
// => hover text trigger emphasis;
// => text position changed, leave mouse pointer immediately;
// That might cause incorrect state.
silent:!0},i={};var l=Ct(a,"textPosition");n?i.position=l?a.textPosition:"inside":l&&(i.position=a.textPosition),Ct(a,"textPosition")&&(i.position=a.textPosition),Ct(a,"textOffset")&&(i.offset=a.textOffset),Ct(a,"textRotation")&&(i.rotation=a.textRotation),Ct(a,"textDistance")&&(i.distance=a.textDistance)}return QR(r,e),Ge(r.rich,(function(e){QR(e,e)})),{textConfig:i,textContent:o}}
/**
       * The result will be set to `out`.
       */function QR(e,t){t&&(// (1) For simplicity, make textXXX properties (deprecated since ec5) has
// higher priority. For example, consider in ec4 `borderColor: 5, textBorderColor: 10`
// on a rect means `borderColor: 4` on the rect and `borderColor: 10` on an attached
// richText in ec5.
// (2) `out === richItem` if and only if `out` is text el or rich item.
// So we can overwrite existing props in `out` since textXXX has higher priority.
t.font=t.textFont||t.font,Ct(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Ct(t,"textAlign")&&(e.align=t.textAlign),Ct(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Ct(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Ct(t,"textWidth")&&(e.width=t.textWidth),Ct(t,"textHeight")&&(e.height=t.textHeight),Ct(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Ct(t,"textPadding")&&(e.padding=t.textPadding),Ct(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Ct(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Ct(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Ct(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Ct(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Ct(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Ct(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}
/**
       * Convert to pure echarts4 format style.
       * `itemStyle` will be modified, added with ec4 style properties from
       * `textStyle` and `textConfig`.
       *
       * [Caveat]: For simplicity, `insideRollback` in ec4 does not compat, where
       * `styleEmphasis: {textFill: 'red'}` will remove the normal auto added stroke.
       */function ez(e,t,n){var i=e;// See `custom.ts`, a trick to set extra `textPosition` firstly.
i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var o=i.textPosition.indexOf("inside")>=0,r=e.fill||"#000";tz(i,t);var a=null==i.textFill;return o?a&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=r),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=e.fill||n.outsideFill||"#000"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=t.text,i.rich=t.rich,Ge(t.rich,(function(e){tz(e,e)})),i}function tz(e,t){t&&(Ct(t,"fill")&&(e.textFill=t.fill),Ct(t,"stroke")&&(e.textStroke=t.fill),Ct(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Ct(t,"font")&&(e.font=t.font),Ct(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Ct(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Ct(t,"fontSize")&&(e.fontSize=t.fontSize),Ct(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Ct(t,"align")&&(e.textAlign=t.align),Ct(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Ct(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Ct(t,"width")&&(e.textWidth=t.width),Ct(t,"height")&&(e.textHeight=t.height),Ct(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Ct(t,"padding")&&(e.textPadding=t.padding),Ct(t,"borderColor")&&(e.textBorderColor=t.borderColor),Ct(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Ct(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Ct(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Ct(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Ct(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Ct(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Ct(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Ct(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Ct(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Ct(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var nz={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},iz=Ye(nz);Ke(_r,(function(e,t){return e[t]=1,e}),{}),_r.join(", ");// '' means root
var oz=["","style","shape","extra"],rz=Ea();function az(e,t,n,i,o){var r=e+"Animation",a=Ed(e,i,o)||{},l=rz(t).userDuring;// Only set when duration is > 0 and it's need to be animated.
return a.duration>0&&(// For simplicity, if during not specified, the previous during will not work any more.
a.during=l?Xe(hz,{el:t,userDuring:l}):null,a.setToFinal=!0,a.scope=e),Be(a,n[r]),a}function lz(e,t,n,i){var o=(i=i||{}).dataIndex,r=i.isInit,a=i.clearStyle,l=n.isAnimationEnabled(),s=rz(e),u=t.style;s.userDuring=t.during;var c={},d={};if(function(e,t,n){for(var i=0;i<iz.length;i++){var o=iz[i],r=nz[o],a=t[o];a&&(n[r[0]]=a[0],n[r[1]]=a[1])}for(i=0;i<_r.length;i++){var l=_r[i];null!=t[l]&&(n[l]=t[l])}}(0,t,d),vz("shape",t,d),vz("extra",t,d),!r&&l&&(function(e,t,n){for(var i=t.transition,o=cz(i)?_r:wa(i||[]),r=0;r<o.length;r++){var a=o[r];if("style"!==a&&"shape"!==a&&"extra"!==a){var l=e[a];n[a]=l}}}(e,t,c),fz("shape",e,t,c),fz("extra",e,t,c),function(e,t,n,i){if(!n)return;var o,r=e.style;if(r){var a=n.transition,l=t.transition;if(a&&!cz(a)){var s=wa(a);!o&&(o=i.style={});for(var u=0;u<s.length;u++){var c=r[f=s[u]];// Do not clone, see `checkNonStyleTansitionRefer`.
o[f]=c}}else if(e.getAnimationStyleProps&&(cz(l)||cz(a)||Ve(l,"style")>=0)){var d=e.getAnimationStyleProps(),p=d?d.style:null;if(p){!o&&(o=i.style={});var h=Ye(n);for(u=0;u<h.length;u++){var f;if(p[f=h[u]]){c=r[f];o[f]=c}}}}}}(e,t,u,c)),d.style=u,function(e,// Can be null/undefined
t,n){var i=t.style;if(!e.isGroup&&i){if(n){e.useStyle({});for(// When style object changed, how to trade the existing animation?
// It is probably complicated and not needed to cover all the cases.
// But still need consider the case:
// (1) When using init animation on `style.opacity`, and before the animation
//     ended users triggers an update by mousewhel. At that time the init
//     animation should better be continued rather than terminated.
//     So after `useStyle` called, we should change the animation target manually
//     to continue the effect of the init animation.
// (2) PENDING: If the previous animation targeted at a `val1`, and currently we need
//     to update the value to `val2` and no animation declared, should be terminate
//     the previous animation or just modify the target of the animation?
//     Therotically That will happen not only on `style` but also on `shape` and
//     `transfrom` props. But we haven't handle this case at present yet.
// (3) PENDING: Is it proper to visit `animators` and `targetName`?
var o=e.animators,r=0;r<o.length;r++){var a=o[r];// targetName is the "topKey".
"style"===a.targetName&&a.changeTarget(e.style)}}e.setStyle(i)}t&&(// Not set style here.
t.style=null,// Set el to the final state firstly.
t&&e.attr(t),t.style=i)}(e,d,a),function(e,t){// Merge by default.
Ct(t,"silent")&&(e.silent=t.silent),Ct(t,"ignore")&&(e.ignore=t.ignore),e instanceof Il&&Ct(t,"invisible")&&(e.invisible=t.invisible);e instanceof ks&&Ct(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}// Use it to avoid it be exposed to user.
(e,t),l)if(r){var p={};Ge(oz,(function(e){var n=e?t[e]:t;n&&n.enterFrom&&(e&&(p[e]=p[e]||{}),Be(e?p[e]:p,n.enterFrom))}));var h=az("enter",e,t,n,o);h.duration>0&&e.animateFrom(p,h)}else!function(e,t,n,i,// Can be null/undefined
o){if(o){var r=az("update",e,t,i,n);r.duration>0&&e.animateFrom(o,r)}}(e,t,o||0,n,c);// Store leave to be used in leave transition.
sz(e,t),u?e.dirty():e.markRedraw()}function sz(e,t){for(// Try merge to previous set leaveTo
var n=rz(e).leaveToProps,i=0;i<oz.length;i++){var o=oz[i],r=o?t[o]:t;r&&r.leaveTo&&(n||(n=rz(e).leaveToProps={}),o&&(n[o]=n[o]||{}),Be(o?n[o]:n,r.leaveTo))}}function uz(e,t,n,i){if(e){var o=e.parent,r=rz(e).leaveToProps;if(r){// TODO TODO use leave after leaveAnimation in series is introduced
// TODO Data index?
var a=az("update",e,t,n,0);a.done=function(){o.remove(e),i&&i()},e.animateTo(r,a)}else o.remove(e),i&&i()}}function cz(e){return"all"===e}var dz={},pz={// Usually other props do not need to be changed in animation during.
setTransform:function(e,t){return dz.el[e]=t,this},getTransform:function(e){return dz.el[e]},setShape:function(e,t){var n=dz.el;return(n.shape||(n.shape={}))[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=dz.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=dz.el,i=n.style;return i&&(i[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=dz.el.style;if(t)return t[e]},setExtra:function(e,t){return(dz.el.extra||(dz.el.extra={}))[e]=t,this},getExtra:function(e){var t=dz.el.extra;if(t)return t[e]}};function hz(){// Do not provide "percent" until some requirements come.
// Because consider thies case:
// enterFrom: {x: 100, y: 30}, transition: 'x'.
// And enter duration is different from update duration.
// Thus it might be confused about the meaning of "percent" in during callback.
var e=this,t=e.el;if(t){// If el is remove from zr by reason like legend, during still need to called,
// because el will be added back to zr and the prop value should not be incorrect.
var n=rz(t).userDuring,i=e.userDuring;// Ensured a during is only called once in each animation frame.
// If a during is called multiple times in one frame, maybe some users' calculation logic
// might be wrong (not sure whether this usage exists).
// The case of a during might be called twice can be: by default there is a animator for
// 'x', 'y' when init. Before the init animation finished, call `setOption` to start
// another animators for 'style'/'shape'/'extra'.
n===i?(dz.el=t,// Give no `this` to user in "during" calling.
i(pz)):// release
e.el=e.userDuring=null}}function fz(e,t,n,i){var o=n[e];if(o){var r,a=t[e];if(a){var l=n.transition,s=o.transition;if(s)if(!r&&(r=i[e]={}),cz(s))Be(r,a);else for(var u=wa(s),c=0;c<u.length;c++){var d=a[h=u[c]];r[h]=d}else if(cz(l)||Ve(l,e)>=0){!r&&(r=i[e]={});var p=Ye(a);for(c=0;c<p.length;c++){var h;d=a[h=p[c]];gz(o[h],d)&&(r[h]=d)}}}}}function vz(e,t,n){var i=t[e];if(i)for(var o=n[e]={},r=Ye(i),a=0;a<r.length;a++){var l=r[a];// To avoid share one object with different element, and
// to avoid user modify the object inexpectedly, have to clone.
o[l]=Eo(i[l])}}function gz(e,t){// The same as `checkNonStyleTansitionRefer`.
return He(e)?e!==t:null!=e&&isFinite(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var yz=Ea(),mz=["percent","easing","shape","style","extra"];
/**
       * Stop previous keyframe animation and restore the attributes.
       * Avoid new keyframe animation starts with wrong internal state when the percent: 0 is not set.
       */
function xz(e){// Stop previous keyframe animation.
e.stopAnimation("keyframe"),// Restore
e.attr(yz(e))}function bz(e,t,n){if(n.isAnimationEnabled()&&t)if(Ze(t))Ge(t,(function(t){bz(e,t,n)}));else{var i=t.keyframes,o=t.duration;if(n&&null==o){// Default to use duration of config.
// NOTE: animation config from payload will be ignored because they are mainly for transitions.
var r=Ed("enter",n,0);o=r&&r.duration}if(i&&o){var a=yz(e);Ge(oz,(function(n){var r;n&&!e[n]||(i.sort((function(e,t){return e.percent-t.percent})),Ge(i,(function(i){// Stop current animation.
var l=e.animators,s=n?i[n]:i;if(s){var u=Ye(s);if(n||(// PENDING performance?
u=Ue(u,(function(e){return Ve(mz,e)<0}))),u.length){r||((r=e.animate(n,t.loop,!0)).scope="keyframe");for(var c=0;c<l.length;c++)// Stop all other animation that is not keyframe.
l[c]!==r&&l[c].targetName===r.targetName&&l[c].stopTracks(u);n&&(a[n]=a[n]||{});var d=n?a[n]:a;Ge(u,(function(t){// Save original value.
d[t]=((n?e[n]:e)||{})[t]})),r.whenWithKeys(o*i.percent,s,u,i.easing)}}})),r&&r.delay(t.delay||0).duration(o).start(t.easing))}))}}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var _z="emphasis",wz="normal",Sz="blur",Cz="select",Mz=[wz,_z,Sz,Cz],Tz={normal:["itemStyle"],emphasis:[_z,"itemStyle"],blur:[Sz,"itemStyle"],select:[Cz,"itemStyle"]},Iz={normal:["label"],emphasis:[_z,"label"],blur:[Sz,"label"],select:[Cz,"label"]},kz=["x","y"],Az={normal:{},emphasis:{},blur:{},select:{}},Dz={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{// The name exposed to user is always 'cartesian2d' but not 'grid'.
type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){// do not provide "out" param
return e.dataToPoint(t)},size:Xe(YR,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){// do not provide "out" and noRoam param,
// Compatible with this usage:
// echarts.util.map(item.points, api.coord)
return e.dataToPoint(t)},size:Xe(XR,e)}}},single:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){// do not provide "out" param
return e.dataToPoint(t)},size:Xe(qR,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:function(i){var o=t.dataToRadius(i[0]),r=n.dataToAngle(i[1]),a=e.coordToPoint([o,r]);return a.push(o,r*Math.PI/180),a},size:Xe(ZR,e)}}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */,calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};function Oz(e){return e instanceof ks}function Pz(e){return e instanceof Il}var Lz=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n,i){// Clear previously rendered progressive elements.
this._progressiveEls=null;var o=this._data,r=e.getData(),a=this.group,l=Fz(e,r,t,n);o||// Previous render is incremental render or first render.
// Needs remove the incremental rendered elements.
a.removeAll(),r.diff(o).add((function(t){jz(n,null,t,l(t,i),e,a,r)})).remove((function(t){var n=o.getItemGraphicEl(t);n&&uz(n,WR(n).option,e)})).update((function(t,s){var u=o.getItemGraphicEl(s);jz(n,u,t,l(t,i),e,a,r)})).execute();// Do clipping
var s=e.get("clip",!0)?JC(e.coordinateSystem,!1,e):null;s?a.setClipPath(s):a.removeClipPath(),this._data=r},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,i,o){var r=t.getData(),a=Fz(t,r,n,i),l=this._progressiveEls=[];function s(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var c=jz(null,null,u,a(u,o),t,this.group,r);c&&(c.traverse(s),l.push(c))}},t.prototype.eachRendered=function(e){fp(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,i){var o=t.element;if(null==o||n.name===o)return!0;// Enable to give a name on a group made by `renderItem`, and listen
// events that are triggered by its descendents.
for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===o)return!0;return!1},t.type="custom",t}(sy),Ez=Lz;function Nz(e){var t,n=e.type;// Those graphic elements are not shapes. They should not be
// overwritten by users, so do them first.
if("path"===n){var i=e.shape,o=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,r=$z(i);// Using pathRect brings convenience to users sacle svg path.
// Path is also used for icon, so layout 'center' by default.
t=qd(r,null,o,i.layout||"center"),WR(t).customPathData=r}else if("image"===n)t=new Ns({}),WR(t).customImagePath=e.style.image;else if("text"===n)t=new ru({});// customInnerStore(el).customText = (elOption.style as TextStyleProps).text;
else if("group"===n)t=new Kr;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var a=Xd(n);if(!a){ma("")}t=new a}return WR(t).customGraphicType=n,t.name=e.name,// Compat ec4: the default z2 lift is 1. If changing the number,
// some cases probably be broken: hierarchy layout along z, like circle packing,
// where emphasis only intending to modify color/border rather than lift z2.
t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Rz(// Can be null/undefined
e,t,n,i,o,r,a){// Stop and restore before update any other attributes.
xz(t);var l=o&&o.normal.cfg;l&&// PENDING: whether use user object directly rather than clone?
// TODO:5.0 textConfig transition animation?
t.setTextConfig(l),// Default transition ['x', 'y']
i&&null==i.transition&&(i.transition=kz);// Do some normalization on style.
var s=i&&i.style;if(s){if("text"===t.type){var u=s;// Compatible with ec4: if `textFill` or `textStroke` exists use them.
Ct(u,"textFill")&&(u.fill=u.textFill),Ct(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,d=Oz(t)?s.decal:null;e&&d&&(d.dirty=!0,c=Km(d,e)),// Always overwrite in case user specify this prop.
s.__decalPattern=c}Pz(t)&&(s&&(c=s.__decalPattern)&&(s.decal=c));lz(t,i,r,{dataIndex:n,isInit:a,clearStyle:!0}),bz(t,i.keyframeAnimation,r)}function zz(e,t,n,i,o){var r=t.isGroup?null:t,a=o&&o[e].cfg;// PENDING:5.0 support customize scale change and transition animation?
if(r){// By default support auto lift color when hover whether `emphasis` specified.
var l=r.ensureState(e);if(!1===i){var s=r.getState(e);s&&(s.style=null)}else// style is needed to enable default emphasis.
l.style=i||null;// If `elOption.styleEmphasis` or `elOption.emphasis.style` is `false`,
// remove hover style.
// If `elOption.textConfig` or `elOption.emphasis.textConfig` is null/undefined, it does not
// make sense. So for simplicity, we do not ditinguish `hasOwnProperty` and null/undefined.
a&&(l.textConfig=a),Eu(r)}}function Bz(e,t,n){var i=n===wz,o=i?t:Kz(t,n),r=o?o.z2:null;null!=r&&((i?e:e.ensureState(n)).z2=r||0)}function Fz(e,t,n,i){var o=e.get("renderItem"),r=e.coordinateSystem,a={};r&&(a=r.prepareCustoms?r.prepareCustoms(r):Dz[r.type](r));for(var l,s,u=Fe({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:
/**
         * @public
         * @param dim by default 0.
         * @param dataIndexInside by default `currDataIndexInside`.
         */
function(e,n){return null==n&&(n=l),t.getStore().get(t.getDimensionIndex(e||0),n)}
/**
         * @public
         * @param dim by default 0.
         * @param dataIndexInside by default `currDataIndexInside`.
         */,style:
/**
         * @deprecated The original intention of `api.style` is enable to set itemStyle
         * like other series. But it is not necessary and not easy to give a strict definition
         * of what it returns. And since echarts5 it needs to be make compat work. So
         * deprecates it since echarts5.
         *
         * By default, `visual` is applied to style (to support visualMap).
         * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,
         * it can be implemented as:
         * `api.style({stroke: api.visual('color'), fill: null})`;
         *
         * [Compat]: since ec5, RectText has been separated from its hosts el.
         * so `api.style()` will only return the style from `itemStyle` but not handle `label`
         * any more. But `series.label` config is never published in doc.
         * We still compat it in `api.style()`. But not encourage to use it and will still not
         * to pulish it to doc.
         * @public
         * @param dataIndexInside by default `currDataIndexInside`.
         */
function(n,i){null==i&&(i=l);var o=t.getItemVisual(i,"style"),r=o&&o.fill,a=o&&o.opacity,s=m(i,wz).getItemStyle();null!=r&&(s.fill=r),null!=a&&(s.opacity=a);var u={inheritColor:Je(r)?r:"#000"},c=x(i,wz),d=_p(c,null,u,!1,!0);d.text=c.getShallow("show")?st(e.getFormattedLabel(i,wz),DC(t,i)):null;var p=wp(c,u,!1);return _(n,s),s=ez(s,d,p),n&&b(s,n),s.legacy=!0,s}
/**
         * @deprecated The reason see `api.style()`
         * @public
         * @param dataIndexInside by default `currDataIndexInside`.
         */,ordinalRawValue:function(e,n){null==n&&(n=l),e=e||0;var i=t.getDimensionInfo(e);if(!i){var o=t.getDimensionIndex(e);return o>=0?t.getStore().get(o,n):void 0}var r=t.get(i.name,n),a=i&&i.ordinalMeta;return a?a.categories[r]:r},styleEmphasis:function(n,i){null==i&&(i=l);var o=m(i,_z).getItemStyle(),r=x(i,_z),a=_p(r,null,null,!0,!0);a.text=r.getShallow("show")?ut(e.getFormattedLabel(i,_z),e.getFormattedLabel(i,wz),DC(t,i)):null;var s=wp(r,null,!0);return _(n,o),o=ez(o,a,s),n&&b(o,n),o.legacy=!0,o},visual:
/**
         * @public
         * @param dataIndexInside by default `currDataIndexInside`.
         */
function(e,n){if(null==n&&(n=l),Ct(HR,e)){var i=t.getItemVisual(n,"style");return i?i[HR[e]]:null}// Only support these visuals. Other visual might be inner tricky
// for performance (like `style`), do not expose to users.
if(Ct(GR,e))return t.getItemVisual(n,e)}
/**
         * @public
         * @return If not support, return undefined.
         */,barLayout:function(e){if("cartesian2d"===r.type){return function(e){var t=[],n=e.axis,i="axis0";if("category"===n.type){for(var o=n.getBandWidth(),r=0;r<e.count;r++)t.push(Fe({bandWidth:o,axisKey:i,stackId:u_+r},e));var a=f_(t),l=[];for(r=0;r<e.count;r++){var s=a[i][u_+r];s.offsetCenter=s.offset+s.width/2,l.push(s)}return l}}(Fe({axis:r.getBaseAxis()},e))}}
/**
         * @public
         */,currentSeriesIndices:function(){return n.getCurrentSeriesIndices()}
/**
         * @public
         * @return font string
         */,font:function(e){return Ip(e,n)}},a.api||{}),c={// The life cycle of context: current round of rendering.
// The global life cycle is probably not necessary, because
// user can store global status by themselves.
context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:Vz(e.getData())},d={},p={},h={},f={},v=0;v<Mz.length;v++){var g=Mz[v];h[g]=e.getModel(Tz[g]),f[g]=e.getModel(Iz[g])}function y(e){return e===l?s||(s=t.getItemModel(e)):t.getItemModel(e)}function m(e,n){return t.hasItemOption?e===l?d[n]||(d[n]=y(e).getModel(Tz[n])):y(e).getModel(Tz[n]):h[n]}function x(e,n){return t.hasItemOption?e===l?p[n]||(p[n]=y(e).getModel(Iz[n])):y(e).getModel(Iz[n]):f[n]}return function(e,n){return l=e,s=null,d={},p={},o&&o(Fe({dataIndexInside:e,dataIndex:t.getRawIndex(e),// Can be used for optimization when zoom or roam.
actionType:n?n.type:null},c),u)};function b(e,t){for(var n in t)Ct(t,n)&&(e[n]=t[n])}function _(e,t){// A trick to retrieve those props firstly, which are used to
// apply auto inside fill/stroke in `convertToEC4StyleForCustomSerise`.
// (It's not reasonable but only for a degree of compat)
e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function Vz(e){var t={};return Ge(e.dimensions,(function(n){var i=e.getDimensionInfo(n);if(!i.isExtraCoord){var o=i.coordDim;(t[o]=t[o]||[])[i.coordDimIndex]=e.getDimensionIndex(n)}})),t}function jz(e,t,n,i,o,r,a){// [Rule]
// If `renderItem` returns `null`/`undefined`/`false`, remove the previous el if existing.
//     (It seems that violate the "merge" principle, but most of users probably intuitively
//     regard "return;" as "show nothing element whatever", so make a exception to meet the
//     most cases.)
// The rule or "merge" see [STRATEGY_MERGE].
// If `elOption` is `null`/`undefined`/`false` (when `renderItem` returns nothing).
if(i){var l=Hz(e,t,n,i,o,r);return l&&a.setItemGraphicEl(n,l),l&&$u(l,i.focus,i.blurScope,i.emphasisDisabled),l}r.remove(t)}function Hz(e,t,n,i,o,r){var a=-1,l=t;t&&Gz(t,i,o)&&(// Should keep at the original index, otherwise "merge by index" will be incorrect.
a=Ve(r.childrenRef(),t),t=null);var s,u,c=!t,d=t;d?// FIMXE:NEXT unified clearState?
// If in some case the performance issue arised, consider
// do not clearState but update cached normal state directly.
d.clearStates():(d=Nz(i),l&&(s=l,(u=d).copyTransform(s),Pz(u)&&Pz(s)&&(u.setStyle(s.style),u.z=s.z,u.z2=s.z2,u.zlevel=s.zlevel,u.invisible=s.invisible,u.ignore=s.ignore,Oz(u)&&Oz(s)&&u.setShape(s.shape)))),// Need to set morph: false explictly to disable automatically morphing.
!1===i.morph?d.disableMorphing=!0:d.disableMorphing&&(d.disableMorphing=!1),Az.normal.cfg=Az.normal.conOpt=Az.emphasis.cfg=Az.emphasis.conOpt=Az.blur.cfg=Az.blur.conOpt=Az.select.cfg=Az.select.conOpt=null,Az.isLegacy=!1,function(e,t,n,i,o,r){// Group does not support textContent temporarily until necessary.
if(e.isGroup)return;// Normal must be called before emphasis, for `isLegacy` detection.
Wz(n,null,r),Wz(n,_z,r);// If `elOption.textConfig` or `elOption.textContent` is null/undefined, it does not make sense.
// So for simplicity, if "elOption hasOwnProperty of them but be null/undefined", we do not
// trade them as set to null to el.
// Especially:
// `elOption.textContent: false` means remove textContent.
// `elOption.textContent.emphasis.style: false` means remove the style from emphasis state.
var a=r.normal.conOpt,l=r.emphasis.conOpt,s=r.blur.conOpt,u=r.select.conOpt;if(null!=a||null!=l||null!=u||null!=s){var c=e.getTextContent();if(!1===a)c&&e.removeTextContent();else{a=r.normal.conOpt=a||{type:"text"},c?// If in some case the performance issue arised, consider
// do not clearState but update cached normal state directly.
c.clearStates():(c=Nz(a),e.setTextContent(c)),Rz(null,c,t,a,null,i,o);for(var d=a&&a.style,p=0;p<Mz.length;p++){var h=Mz[p];if(h!==wz){var f=r[h].conOpt;zz(h,c,0,Uz(a,f,h),null)}}d?c.dirty():c.markRedraw()}}}(d,n,i,o,c,Az),function(e,t,n,i,o){// Based on the "merge" principle, if no clipPath provided,
// do nothing. The exists clip will be totally removed only if
// `el.clipPath` is `false`. Otherwise it will be merged/replaced.
var r=n.clipPath;if(!1===r)e&&e.getClipPath()&&e.removeClipPath();else if(r){var a=e.getClipPath();a&&Gz(a,r,i)&&(a=null),a||(a=Nz(r),e.setClipPath(a)),Rz(null,a,t,r,null,i,o)}// If not define `clipPath` in option, do nothing unnecessary.
}(d,n,i,o,c),Rz(e,d,n,i,Az,o,c),// `elOption.info` enables user to mount some info on
// elements and use them in event handlers.
// Update them only when user specified, otherwise, remain.
Ct(i,"info")&&(WR(d).info=i.info);for(var p=0;p<Mz.length;p++){var h=Mz[p];if(h!==wz){var f=Kz(i,h);zz(h,d,0,Uz(i,f,h),Az)}}return function(e,t,n){// Group not support textContent and not support z yet.
if(!e.isGroup){var i=e,o=n.currentZ,r=n.currentZLevel;// Always erase.
i.z=o,i.zlevel=r;// z2 must not be null/undefined, otherwise sort error may occur.
var a=t.z2;null!=a&&(i.z2=a||0);for(var l=0;l<Mz.length;l++)Bz(i,t,Mz[l])}}(d,i,o),"group"===i.type&&// Usage:
// (1) By default, `elOption.$mergeChildren` is `'byIndex'`, which indicates
//     that the existing children will not be removed, and enables the feature
//     that update some of the props of some of the children simply by construct
//     the returned children of `renderItem` like:
//     `var children = group.children = []; children[3] = {opacity: 0.5};`
// (2) If `elOption.$mergeChildren` is `'byName'`, add/update/remove children
//     by child.name. But that might be lower performance.
// (3) If `elOption.$mergeChildren` is `false`, the existing children will be
//     replaced totally.
// (4) If `!elOption.children`, following the "merge" principle, nothing will
//     happen.
// (5) If `elOption.$mergeChildren` is not `false` neither `'byName'` and the
//     `el` is a group, and if any of the new child is null, it means to remove
//     the element at the same index, if exists. On the other hand, if the new
//     child is and empty object `{}`, it means to keep the element not changed.
// For implementation simpleness, do not provide a direct way to remove single
// child (otherwise the total indices of the children array have to be modified).
// User can remove a single child by setting its `ignore` to `true`.
function(e,t,n,i,o){var r=i.children,a=r?r.length:0,l=i.$mergeChildren,s="byName"===l||i.diffChildrenByName,u=!1===l;// For better performance on roam update, only enter if necessary.
if(!a&&!s&&!u)return;if(s)return c={api:e,oldChildren:t.children()||[],newChildren:r||[],dataIndex:n,seriesModel:o,group:t},void new ab(c.oldChildren,c.newChildren,Xz,Xz,c).add(qz).update(qz).remove(Zz).execute();var c;u&&t.removeAll();for(// Mapping children of a group simply by index, which
// might be better performance.
var d=0;d<a;d++){var p=r[d],h=t.childAt(d);p?(null==p.ignore&&(// The old child is set to be ignored if null (see comments
// below). So we need to set ignore to be false back.
p.ignore=!1),Hz(e,h,n,p,o,t)):// element. But we cannot really remove the element from the group
// directly, because the element order may not be stable when this
// element is added back. So we set the element to be ignored.
h.ignore=!0}for(var f=t.childCount()-1;f>=d;f--){var v=t.childAt(f);Yz(t,v,o)}}(e,d,n,i,o),a>=0?r.replaceAt(d,a):r.add(d),d}// `el` must not be null/undefined.
function Gz(e,t,n){var i,o=WR(e),r=t.type,a=t.shape,l=t.style;// Always create new if universal transition is enabled.
// Because we do transition after render. It needs to know what old element is. Replacement will loose it.
return n.isUniversalTransitionEnabled()||null!=r&&r!==o.customGraphicType||"path"===r&&((i=a)&&(Ct(i,"pathData")||Ct(i,"d")))&&$z(a)!==o.customPathData||"image"===r&&Ct(l,"image")&&l.image!==o.customImagePath}function Wz(e,t,n){var i=t?Kz(e,t):e,o=t?Uz(e,i,_z):e.style,r=e.type,a=i?i.textConfig:null,l=e.textContent,s=l?t?Kz(l,t):l:null;if(o&&(// Because emphasis style has little info to detect legacy,
// if normal is legacy, emphasis is trade as legacy.
n.isLegacy||$R(o,r,!!a,!!s))){n.isLegacy=!0;var u=JR(o,r,!t);// Explicitly specified `textConfig` and `textContent` has higher priority than
// the ones generated by legacy style. Otherwise if users use them and `api.style`
// at the same time, they not both work and hardly to known why.
!a&&u.textConfig&&(a=u.textConfig),!s&&u.textContent&&(s=u.textContent)}if(!t&&s){var c=s;// `textContent: {type: 'text'}`, the "type" is easy to be missing. So we tolerate it.
!c.type&&(c.type="text")}var d=t?n[t]:n.normal;d.cfg=a,d.conOpt=s}function Kz(e,t){return t?e?e[t]:null:e}function Uz(e,t,n){var i=t&&t.style;return null==i&&n===_z&&e&&(i=e.styleEmphasis),i}function Yz(e,t,n){// Do not support leave elements that are not mentioned in the latest
// `renderItem` return. Otherwise users may not have a clear and simple
// concept that how to control all of the elements.
t&&uz(t,WR(e).option,n)}function Xz(e,t){var n=e&&e.name;return null!=n?n:"e\0\0"+t}function qz(e,t){var n=this.context,i=null!=e?n.newChildren[e]:null,o=null!=t?n.oldChildren[t]:null;Hz(n.api,o,n.dataIndex,i,n.seriesModel,n.group)}function Zz(e){var t=this.context,n=t.oldChildren[e];n&&uz(n,WR(n).option,t.seriesModel)}
/**
       * @return SVG Path data.
       */function $z(e){// "d" follows the SVG convention.
return e&&(e.pathData||e.d)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var Jz=Ea(),Qz=Ne,eB=Xe,tB=/** @class */function(){function e(){this._dragging=!1,
/**
           * In px, arbitrary value. Do not set too small,
           * no animation is ok for most cases.
           */
this.animationThreshold=15}
/**
         * @implement
         */return e.prototype.render=function(e,t,n,i){var o=t.get("value"),r=t.get("status");// Optimize: `render` will be called repeatly during mouse move.
// So it is power consuming if performing `render` each time,
// especially on mobile device.
if(// Bind them to `this`, not in closure, otherwise they will not
// be replaced when user calling setOption in not merge mode.
this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==o||this._lastStatus!==r){this._lastValue=o,this._lastStatus=r;var a=this._group,l=this._handle;if(!r||"hide"===r)// Do not clear here, for animation better.
return a&&a.hide(),void(l&&l.hide());a&&a.show(),l&&l.show();// Otherwise status is 'show'
var s={};this.makeElOption(s,o,e,t,n);// Enable change axis pointer type.
var u=s.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(e,t);if(a){var d=qe(nB,t,c);this.updatePointerEl(a,s,d),this.updateLabelEl(a,s,d,t)}else a=this._group=new Kr,this.createPointerEl(a,s,e,t),this.createLabelEl(a,s,e,t),n.getZr().add(a);aB(a,t,!0),this._renderHandle(o)}},
/**
         * @implement
         */
e.prototype.remove=function(e){this.clear(e)},
/**
         * @implement
         */
e.prototype.dispose=function(e){this.clear(e)},
/**
         * @protected
         */
e.prototype.determineAnimation=function(e,t){var n=t.get("animation"),i=e.axis,o="category"===i.type,r=t.get("snap");// Value axis without snap always do not snap.
if(!r&&!o)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(o&&i.getBandWidth()>a)return!0;// It is important to auto animation when snap used. Consider if there is
// a dataZoom, animation will be disabled when too many points exist, while
// it will be enabled for better visual effect when little points exist.
if(r){var l=iI(e).seriesDataCount,s=i.getExtent();// Approximate band width
return Math.abs(s[0]-s[1])/l>a}return!1}return!0===n},
/**
         * add {pointer, label, graphicKey} to elOption
         * @protected
         */
e.prototype.makeElOption=function(e,t,n,i,o){// Shoule be implemenented by sub-class.
},
/**
         * @protected
         */
e.prototype.createPointerEl=function(e,t,n,i){var o=t.pointer;if(o){var r=Jz(e).pointerEl=new vp[o.type](Qz(t.pointer));e.add(r)}},
/**
         * @protected
         */
e.prototype.createLabelEl=function(e,t,n,i){if(t.label){var o=Jz(e).labelEl=new ru(Qz(t.label));e.add(o),oB(o,i)}},
/**
         * @protected
         */
e.prototype.updatePointerEl=function(e,t,n){var i=Jz(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},
/**
         * @protected
         */
e.prototype.updateLabelEl=function(e,t,n,i){var o=Jz(e).labelEl;o&&(o.setStyle(t.label.style),n(o,{// Consider text length change in vertical axis, animation should
// be used on shape, otherwise the effect will be weird.
// TODOTODO
// shape: elOption.label.shape,
x:t.label.x,y:t.label.y}),oB(o,i))},
/**
         * @private
         */
e.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),o=this._handle,r=n.getModel("handle"),a=n.get("status");if(!r.get("show")||!a||"hide"===a)return o&&i.remove(o),void(this._handle=null);this._handle||(t=!0,o=this._handle=sp(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){// Fot mobile devicem, prevent screen slider on the button.
gn(e.event)},onmousedown:eB(this._onHandleDragMove,this,0,0),drift:eB(this._onHandleDragMove,this),ondragend:eB(this._onHandleDragEnd,this)}),i.add(o)),aB(o,n,!1),// update style
o.setStyle(r.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));// update position
var l=r.get("size");Ze(l)||(l=[l,l]),o.scaleX=l[0]/2,o.scaleY=l[1]/2,hy(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},e.prototype._moveHandleToValue=function(e,t){nB(this._axisPointerModel,!t&&this._moveAnimation,this._handle,rB(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;// Persistent for throttle.
var i=this.updateHandleTransform(rB(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(rB(i)),Jz(n).lastProp=null,this._doDispatchAxisPointer()}},
/**
         * Throttled method.
         */
e.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");// Consider snap or categroy axis, handle may be not consistent with
// axisPointer. So move handle to align the exact value position when
// drag ended.
this._moveHandleToValue(e),// For the effect: tooltip will be shown when finger holding on handle
// button, and will be hidden after finger left handle button.
this._api.dispatchAction({type:"hideTip"})}},
/**
         * @private
         */
e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),fy(this,"_doDispatchAxisPointer")},
/**
         * @protected
         */
e.prototype.doClear=function(){// Implemented by sub-class if necessary.
},e.prototype.buildLabel=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},e}();function nB(e,t,n,i){// Animation optimize.
iB(Jz(n).lastProp,i)||(Jz(n).lastProp=i,t?Rd(n,i,e):(n.stopAnimation(),n.attr(i)))}function iB(e,t){if(tt(e)&&tt(t)){var n=!0;return Ge(t,(function(t,i){n=n&&iB(e[i],t)})),!!n}return e===t}function oB(e,t){e[t.get(["label","show"])?"show":"hide"]()}function rB(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function aB(e,t,n){var i=t.get("z"),o=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=o&&(e.zlevel=o),e.silent=n)}))}var lB=tB;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function sB(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t}
/**
       * @param {Function} labelPos {align, verticalAlign, position}
       */function uB(e,t,n,i,o){var r=cB(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),l=Nh(a.get("padding")||0),s=a.getFont(),u=Ir(r,s),c=o.position,d=u.width+l[1]+l[3],p=u.height+l[0]+l[2],h=o.align;"right"===h&&(c[0]-=d),"center"===h&&(c[0]-=d/2);var f=o.verticalAlign;"bottom"===f&&(c[1]-=p),"middle"===f&&(c[1]-=p/2),// Not overflow ec container
// Do not overflow ec container
function(e,t,n,i){var o=i.getWidth(),r=i.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+n,r)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(c,d,p,i);var v=a.get("backgroundColor");v&&"auto"!==v||(v=t.get(["axisLine","lineStyle","color"])),e.label={// shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},
x:c[0],y:c[1],style:_p(a,{text:r,font:s,fill:a.getTextColor(),padding:l,backgroundColor:v}),// Lable should be over axisPointer.
z2:10}}function cB(e,t,n,i,o){e=t.scale.parse(e);var r=t.scale.getLabel({value:e},{// If `precision` is set, width can be fixed (like '12.00500'), which
// helps to debounce when when moving label.
precision:o.precision}),a=o.formatter;if(a){var l={value:X_(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Ge(i,(function(e){var t=n.getSeriesByIndex(e.seriesIndex),i=e.dataIndexInside,o=t&&t.getDataParams(i);o&&l.seriesData.push(o)})),Je(a)?r=a.replace("{value}",r):$e(a)&&(r=a(l))}return r}function dB(e,t,n){var i=[1,0,0,1,0,0];return Mn(i,i,n.rotation),Cn(i,i,n.position),ip([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function pB(e,t,n,i,o,r){// @ts-ignore
var a=QT.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get(["label","margin"]),uB(t,i,o,r,{position:dB(i.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function hB(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function fB(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function vB(e,t,n,i,o,r){return{cx:e,cy:t,r0:n,r:i,startAngle:o,endAngle:r,clockwise:!0}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var gB=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}
/**
         * @override
         */return de(t,e),t.prototype.makeElOption=function(e,t,n,i,o){var r=n.axis,a=r.grid,l=i.get("type"),s=yB(a,r).getOtherAxis(r).getGlobalExtent(),u=r.toGlobalCoord(r.dataToCoord(t,!0));if(l&&"none"!==l){var c=sB(i),d=mB[l](r,u,s);d.style=c,e.graphicKey=d.type,e.pointer=d}pB(// @ts-ignore
t,e,RT(a.model,n),n,i,o)},
/**
         * @override
         */
t.prototype.getHandleTransform=function(e,t,n){var i=RT(t.axis.grid.model,t,{labelInside:!1});// @ts-ignore
i.labelMargin=n.get(["handle","margin"]);var o=dB(t.axis,e,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},
/**
         * @override
         */
t.prototype.updateHandleTransform=function(e,t,n,i){var o=n.axis,r=o.grid,a=o.getGlobalExtent(!0),l=yB(r,o).getOtherAxis(o).getGlobalExtent(),s="x"===o.dim?0:1,u=[e.x,e.y];u[s]+=t[s],u[s]=Math.min(a[1],u[s]),u[s]=Math.max(a[0],u[s]);var c=(l[1]+l[0])/2,d=[c,c];d[s]=u[s];return{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][s]}},t}(lB);function yB(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var mB={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:hB([t,n[0]],[t,n[1]],xB(e))}},shadow:function(e,t,n){var i=Math.max(1,e.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:fB([t-i/2,n[0]],[i,o],xB(e))}}};function xB(e){return"x"===e.dim?0:1}var bB=gB,_B=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="axisPointer",t.defaultOption={// 'auto' means that show when triggered by tooltip or handle.
show:"auto",// zlevel: 0,
z:50,type:"line",// axispointer triggered by tootip determine snap automatically,
// see `modelHelper`.
snap:!1,triggerTooltip:!0,value:null,status:null,link:[],// Do not set 'auto' here, otherwise global animation: false
// will not effect at this axispointer.
animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,// eslint-disable-next-line
icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,// handle margin is from symbol center to axis, which is stable when circular move.
margin:50,// color: '#1b8bbd'
// color: '#2f4554'
color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,// For mobile performance
throttle:40}},t}(tf),wB=_B,SB=Ea(),CB=Ge;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * @param {string} key
       * @param {module:echarts/ExtensionAPI} api
       * @param {Function} handler
       *      param: {string} currTrigger
       *      param: {Array.<number>} point
       */
function MB(e,t,n){if(!fe.node){var i=t.getZr();SB(i).records||(SB(i).records={}),function(e,t){if(SB(e).initialized)return;function n(n,i){e.on(n,(function(n){var o=function(e){var t={showTip:[],hideTip:[]},n=function n(i){var o=t[i.type];o?o.push(i):(i.dispatchAction=n,e.dispatchAction(i))};// FIXME
// better approach?
// 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,
// which may be conflict, (axisPointer call showTip but tooltip call hideTip);
// So we have to add "final stage" to merge those dispatched actions.
return{dispatchAction:n,pendings:t}}(t);CB(SB(e).records,(function(e){e&&i(e,n,o.dispatchAction)})),function(e,t){var n,i=e.showTip.length,o=e.hideTip.length;i?n=e.showTip[i-1]:o&&(n=e.hideTip[o-1]);n&&(n.dispatchAction=null,t.dispatchAction(n))}(o.pendings,t)}))}SB(e).initialized=!0,n("click",qe(IB,"click")),n("mousemove",qe(IB,"mousemove")),// useHandler('mouseout', onLeave);
n("globalout",TB)}(i,t),(SB(i).records[e]||(SB(i).records[e]={})).handler=n}}function TB(e,t,n){e.handler("leave",null,n)}function IB(e,t,n,i){t.handler(e,n,i)}function kB(e,t){if(!fe.node){var n=t.getZr();(SB(n).records||{})[e]&&(SB(n).records[e]=null)}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var AB=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){var i=t.getComponent("tooltip"),o=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";// Register global listener in AxisPointerView to enable
// AxisPointerView to be independent to Tooltip.
MB("axisPointer",n,(function(e,t,n){// If 'none', it is not controlled by mouse totally.
"none"!==o&&("leave"===e||o.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},t.prototype.remove=function(e,t){kB("axisPointer",t)},t.prototype.dispose=function(e,t){kB("axisPointer",t)},t.type="axisPointer",t}(Jg),DB=AB;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * @param finder contains {seriesIndex, dataIndex, dataIndexInside}
       * @param ecModel
       * @return  {point: [x, y], el: ...} point Will not be null.
       */
function OB(e,t){var n,i=[],o=e.seriesIndex;if(null==o||!(n=t.getSeriesByIndex(o)))return{point:[]};var r=n.getData(),a=La(r,e);if(null==a||a<0||Ze(a))return{point:[]};var l=r.getItemGraphicEl(a),s=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(s&&s.dataToPoint)if(e.isStacked){var u=s.getBaseAxis(),c=s.getOtherAxis(u).dim,d=u.dim,p="x"===c||"radius"===c?1:0,h=r.mapDimension(d),f=[];f[p]=r.get(h,a),f[1-p]=r.get(r.getCalculationInfo("stackResultDimension"),a),i=s.dataToPoint(f)||[]}else i=s.dataToPoint(r.getValues(We(s.dimensions,(function(e){return r.mapDimension(e)})),a))||[];else if(l){// Use graphic bounding rect
var v=l.getBoundingRect().clone();v.applyTransform(l.transform),i=[v.x+v.width/2,v.y+v.height/2]}return{point:i,el:l}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var PB=Ea();
/**
       * Basic logic: check all axis, if they do not demand show/highlight,
       * then hide/downplay them.
       *
       * @return content of event obj for echarts.connect.
       */function LB(e,t,n){var i=e.currTrigger,o=[e.x,e.y],r=e,a=e.dispatchAction||Xe(n.dispatchAction,n),l=t.getComponent("axisPointer").coordSysAxesInfo;// Pending
// See #6121. But we are not able to reproduce it yet.
if(l){BB(o)&&(// Used in the default behavior of `connection`: use the sample seriesIndex
// and dataIndex. And also used in the tooltipView trigger.
o=OB({seriesIndex:r.seriesIndex,// Do not use dataIndexInside from other ec instance.
// FIXME: auto detect it?
dataIndex:r.dataIndex},t).point);var s=BB(o),u=r.axesInfo,c=l.axesInfo,d="leave"===i||BB(o),p={},h={},f={list:[],map:{}},v={showPointer:qe(NB,h),showTooltip:qe(RB,f)};// Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).
// Notice: In this case, it is difficult to get the `point` (which is necessary to show
// tooltip, so if point is not given, we just use the point found by sample seriesIndex
// and dataIndex.
// Process for triggered axes.
Ge(l.coordSysMap,(function(e,t){// If a point given, it must be contained by the coordinate system.
var n=s||e.containPoint(o);Ge(l.coordSysAxesInfo[t],(function(e,t){var i=e.axis,r=function(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}(u,e);// If no inputAxesInfo, no axis is restricted.
if(!d&&n&&(!u||r)){var a=r&&r.value;null!=a||s||(a=i.pointToData(o)),null!=a&&EB(e,a,v,!1,p)}}))}));// Process for linked axes.
var g={};return Ge(c,(function(e,t){var n=e.linkGroup;// If axis has been triggered in the previous stage, it should not be triggered by link.
n&&!h[t]&&Ge(n.axesInfo,(function(t,i){var o=h[i];// If srcValItem exist, source axis is triggered, so link to target axis.
if(t!==e&&o){var r=o.value;n.mapper&&(r=e.axis.scale.parse(n.mapper(r,zB(t),zB(e)))),g[e.key]=r}}))})),Ge(g,(function(e,t){EB(c[t],e,v,!0,p)})),function(e,t,n){var i=n.axesInfo=[];// Basic logic: If no 'show' required, 'hide' this axisPointer.
Ge(t,(function(t,n){var o=t.axisPointerModel.option,r=e[n];r?(!t.useHandle&&(o.status="show"),o.value=r.value,// For label formatter param and highlight.
o.seriesDataIndices=(r.payloadBatch||[]).slice()):// If hide, value still need to be set, consider
// click legend to toggle axis blank.
!t.useHandle&&(o.status="hide"),// If status is 'hide', should be no info in payload.
"show"===o.status&&i.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:o.value})}))}(h,c,p),function(e,t,n,i){// Basic logic: If no showTip required, hideTip will be dispatched.
if(BB(t)||!e.list.length)return void i({type:"hideTip"});// In most case only one axis (or event one series is used). It is
// convinient to fetch payload.seriesIndex and payload.dataIndex
// dirtectly. So put the first seriesIndex and dataIndex of the first
// axis on the payload.
var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}(f,o,e,a),function(e,t,n){// FIXME
// highlight status modification shoule be a stage of main process?
// (Consider confilct (e.g., legend and axisPointer) and setOption)
var i=n.getZr(),o="axisPointerLastHighlights",r=PB(i)[o]||{},a=PB(i)[o]={};// Update highlight/downplay status according to axisPointer model.
// Build hash map and remove duplicate incidentally.
Ge(e,(function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&Ge(n.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;a[t]=e}))}));// Diff.
var l=[],s=[];Ge(r,(function(e,t){!a[t]&&s.push(e)})),Ge(a,(function(e,t){!r[t]&&l.push(e)})),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,// Not blur others when highlight in axisPointer.
notBlur:!0,batch:s}),l.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,// Not blur others when highlight in axisPointer.
notBlur:!0,batch:l})}(c,0,n),p}}function EB(e,t,n,i,o){var r=e.axis;if(!r.scale.isBlank()&&r.containData(t))if(e.involveSeries){// Heavy calculation. So put it after axis.containData checking.
var a=function(e,t){var n=t.axis,i=n.dim,o=e,r=[],a=Number.MAX_VALUE,l=-1;return Ge(t.seriesModels,(function(t,s){var u,c,d=t.getData().mapDimensionsAll(i);if(t.getAxisTooltipData){var p=t.getAxisTooltipData(d,e,n);c=p.dataIndices,u=p.nestestValue}else{if(!(c=t.getData().indicesOfNearest(d[0],e,// Add a threshold to avoid find the wrong dataIndex
// when data length is not same.
// false,
"category"===n.type?.5:null)).length)return;u=t.getData().get(d[0],c[0])}if(null!=u&&isFinite(u)){var h=e-u,f=Math.abs(h);// Consider category case
f<=a&&((f<a||h>=0&&l<0)&&(a=f,l=h,o=u,r.length=0),Ge(c,(function(e){r.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:r,snapToValue:o}}(t,e),l=a.payloadBatch,s=a.snapToValue;// Fill content of event obj for echarts.connect.
// By default use the first involved series data as a sample to connect.
l[0]&&null==o.seriesIndex&&Be(o,l[0]),// If no linkSource input, this process is for collecting link
// target, where snap should not be accepted.
!i&&e.snap&&r.containData(s)&&null!=s&&(t=s),n.showPointer(e,t,l),// Tooltip should always be snapToValue, otherwise there will be
// incorrect "axis value ~ series value" mapping displayed in tooltip.
n.showTooltip(e,a,s)}else n.showPointer(e,t)}function NB(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function RB(e,t,n,i){var o=n.payloadBatch,r=t.axis,a=r.model,l=t.axisPointerModel;// If no data, do not create anything in dataByCoordSys,
// whose length will be used to judge whether dispatch action.
if(t.triggerTooltip&&o.length){var s=t.coordSys.model,u=rI(s),c=e.map[u];c||(c=e.map[u]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:r.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,// Caustion: viewHelper.getValueLabel is actually on "view stage", which
// depends that all models have been updated. So it should not be performed
// here. Considering axisPointerModel used here is volatile, which is hard
// to be retrieve in TooltipView, we prepare parameters here.
valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function zB(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function BB(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function FB(e){// CartesianAxisPointer is not supposed to be required here. But consider
// echarts.simple.js and online build tooltip, which only require gridSimple,
// CartesianAxisPointer should be able to required somewhere.
sI.registerAxisPointerClass("CartesianAxisPointer",bB),e.registerComponentModel(wB),e.registerComponentView(DB),e.registerPreprocessor((function(e){// Always has a global axisPointerModel for default setting.
if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;// Normalize to array to avoid object mergin. But if link
// is not set, remain null/undefined, otherwise it will
// override existent link setting.
t&&!Ze(t)&&(e.axisPointer.link=[t])}})),// This process should proformed after coordinate systems created
// and series data processed. So put it on statistic processing stage.
e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){// Build axisPointerModel, mergin tooltip.axisPointer model for each axis.
// allAxesInfo should be updated when setOption performed.
e.getComponent("axisPointer").coordSysAxesInfo=eI(e,t)})),// Broadcast to all views.
e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},LB)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var VB=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}
/**
         * @override
         */return de(t,e),t.prototype.makeElOption=function(e,t,n,i,o){var r=n.axis;"angle"===r.dim&&(this.animationThreshold=Math.PI/18);var a=r.polar,l=a.getOtherAxis(r).getExtent(),s=r.dataToCoord(t),u=i.get("type");if(u&&"none"!==u){var c=sB(i),d=jB[u](r,a,s,l);d.style=c,e.graphicKey=d.type,e.pointer=d}var p=function(e,t,n,i,o){var r=t.axis,a=r.dataToCoord(e),l=i.getAngleAxis().getExtent()[0];l=l/180*Math.PI;var s,u,c,d=i.getRadiusAxis().getExtent();if("radius"===r.dim){var p=[1,0,0,1,0,0];Mn(p,p,l),Cn(p,p,[i.cx,i.cy]),s=ip([a,-o],p);var h=t.getModel("axisLabel").get("rotate")||0,f=QT.innerTextLayout(l,h*Math.PI/180,-1);// @ts-ignore
u=f.textAlign,c=f.textVerticalAlign}else{// angle axis
var v=d[1];s=i.coordToPoint([v+o,a]);var g=i.cx,y=i.cy;u=Math.abs(s[0]-g)/v<.3?"center":s[0]>g?"left":"right",c=Math.abs(s[1]-y)/v<.3?"middle":s[1]>y?"top":"bottom"}return{position:s,align:u,verticalAlign:c}}(t,n,0,a,i.get(["label","margin"]));uB(e,n,i,o,p)},t}(lB);var jB={line:function(e,t,n,i){return"angle"===e.dim?{type:"Line",shape:hB(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i){var o=Math.max(1,e.getBandWidth()),r=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:vB(t.cx,t.cy,i[0],i[1],// In ECharts y is negative if angle is positive
(-n-o/2)*r,(o/2-n)*r)}:{type:"Sector",shape:vB(t.cx,t.cy,n-o/2,n+o/2,0,2*Math.PI)}}},HB=VB,GB=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={// zlevel: 0,
z:0,center:["50%","50%"],radius:"80%"},t}(tf),WB=GB,KB=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Ba).models[0]},t.type="polarAxis",t}(tf);je(KB,Q_);var UB=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="angleAxis",t}(KB),YB=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="radiusAxis",t}(KB),XB=/** @class */function(e){function t(t,n){return e.call(this,"radius",t,n)||this}return de(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t}(Mw);XB.prototype.dataToRadius=Mw.prototype.dataToCoord,XB.prototype.radiusToData=Mw.prototype.coordToData;var qB=XB,ZB=Ea(),$B=/** @class */function(e){function t(t,n){return e.call(this,"angle",t,n||[0,360])||this}return de(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},
/**
         * Only be called in category axis.
         * Angle axis uses text height to decide interval
         *
         * @override
         * @return {number} Auto interval for cateogry axis tick and label
         */
t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),n=e.scale,i=n.getExtent(),o=n.count();if(i[1]-i[0]<1)return 0;var r=i[0],a=e.dataToCoord(r+1)-e.dataToCoord(r),l=Math.abs(a),s=Ir(null==r?"":r+"",t.getFont(),"center","top"),u=Math.max(s.height,7)/l;// 0/0 is NaN, 1/0 is Infinity.
isNaN(u)&&(u=1/0);var c=Math.max(0,Math.floor(u)),d=ZB(e.model),p=d.lastAutoInterval,h=d.lastTickCount;// Use cache to keep interval stable while moving zoom window,
// otherwise the calculated interval might jitter when the zoom
// window size is close to the interval-changing size.
return null!=p&&null!=h&&Math.abs(p-c)<=1&&Math.abs(h-o)<=1&&p>c?c=p:(d.lastTickCount=o,d.lastAutoInterval=c),c},t}(Mw);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */$B.prototype.dataToAngle=Mw.prototype.dataToCoord,$B.prototype.angleToData=Mw.prototype.coordToData;var JB=$B,QB=["radius","angle"],eF=/** @class */function(){function e(e){this.dimensions=QB,this.type="polar",
/**
           * x of polar center
           */
this.cx=0,
/**
           * y of polar center
           */
this.cy=0,this._radiusAxis=new qB,this._angleAxis=new JB,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}
/**
         * If contain coord
         */return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},
/**
         * If contain data
         */
e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){return this["_"+e+"Axis"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},
/**
         * Get axes by type of scale
         */
e.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},
/**
         * Base axis will be used on stacking.
         *
         */
e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},
/**
         * Convert a single data item to (x, y) point.
         * Parameter data is an array which the first element is radius and the second is angle
         */
e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},
/**
         * Convert a (x, y) point to data
         */
e.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},
/**
         * Convert a (x, y) point to (radius, angle) coord
         */
e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),r=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);// Fix fixed extent in polarCreator
// FIXME
i.inverse?r=a-360:a=r+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var s=Math.atan2(-n,t)/Math.PI*180,u=s<r?1:-1// move to angleExtent
;s<r||s>a;)s+=360*u;return[l,s]},
/**
         * Convert a (radius, angle) coord to (x, y) point
         */
e.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},
/**
         * Get ring area of cartesian.
         * Area will have a contain function to determine if a point is in the coordinate system.
         */
e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:e.inverse,contain:function(e,t){// It's a ring shape.
// Start angle and end angle don't matter
var n=e-this.cx,i=t-this.cy,o=n*n+i*i-1e-4,r=this.r,a=this.r0;return o<=r*r&&o>=a*a}}},e.prototype.convertToPixel=function(e,t,n){return tF(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return tF(t)===this?this.pointToData(n):null},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function tF(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var nF=eF;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Resize method bound to the polar
       */
/**
       * Update polar
       */
function iF(e,t){var n=this,i=n.getAngleAxis(),o=n.getRadiusAxis();// Fix extent of category angle axis
if(// Reset scale
i.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===n){var t=e.getData();Ge(J_(t,"radius"),(function(e){o.scale.unionExtentFromData(t,e)})),Ge(J_(t,"angle"),(function(e){i.scale.unionExtentFromData(t,e)}))}})),K_(i.scale,i.model),K_(o.scale,o.model),"category"===i.type&&!i.onBand){var r=i.getExtent(),a=360/i.scale.count();i.inverse?r[1]+=a:r[1]-=a,i.setExtent(r[0],r[1])}}
/**
       * Set common axis properties
       */
function oF(e,t){if(e.type=t.get("type"),e.scale=U_(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),function(e){return"angleAxis"===e.mainType}(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}// Inject axis instance
t.axis=e,e.model=t}var rF={dimensions:QB,create:function(e,t){var n=[];return e.eachComponent("polar",(function(e,i){var o=new nF(i+"");// Inject resize and update method
o.update=iF;var r=o.getRadiusAxis(),a=o.getAngleAxis(),l=e.findAxisModel("radiusAxis"),s=e.findAxisModel("angleAxis");oF(r,l),oF(a,s),function(e,t,n){var i=t.get("center"),o=n.getWidth(),r=n.getHeight();e.cx=Jr(i[0],o),e.cy=Jr(i[1],r);var a=e.getRadiusAxis(),l=Math.min(o,r)/2,s=t.get("radius");null==s?s=[0,"100%"]:Ze(s)||(// r0 = 0
s=[0,s]);var u=[Jr(s[0],l),Jr(s[1],l)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}(o,e,t),n.push(o),e.coordinateSystem=o,o.model=e})),// Inject coordinateSystem to series
e.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",Ba).models[0];e.coordinateSystem=t.coordinateSystem}})),n}},aF=rF,lF=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function sF(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),o=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:o[0],y2:o[1]}}function uF(e){return e.getRadiusAxis().inverse?0:1}// Remove the last tick which will overlap the first tick
function cF(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var dF=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return de(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,o=i.getRadiusAxis().getExtent(),r=n.getTicksCoords(),a=n.getMinorTicksCoords(),l=We(n.getViewLabels(),(function(e){e=Ne(e);var t=n.scale,i="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=n.dataToCoord(i),e}));cF(l),cF(r),Ge(lF,(function(t){!e.get([t,"show"])||n.scale.isBlank()&&"axisLine"!==t||pF[t](this.group,e,i,r,a,o,l)}),this)}},t.type="angleAxis",t}(sI),pF={axisLine:function(e,t,n,i,o,r){var a,l=t.getModel(["axisLine","lineStyle"]),s=uF(n),u=s?0:1;// extent id of the axis radius (r0 and r)
(a=0===r[u]?new kc({shape:{cx:n.cx,cy:n.cy,r:r[s]},style:l.getLineStyle(),z2:1,silent:!0}):new Zc({shape:{cx:n.cx,cy:n.cy,r:r[s],r0:r[u]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(a)},axisTick:function(e,t,n,i,o,r){var a=t.getModel("axisTick"),l=(a.get("inside")?-1:1)*a.get("length"),s=r[uF(n)],u=We(i,(function(e){return new ld({shape:sF(n,[s,s+l],e.coord)})}));e.add(Jd(u,{style:Fe(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,i,o,r){if(o.length){for(var a=t.getModel("axisTick"),l=t.getModel("minorTick"),s=(a.get("inside")?-1:1)*l.get("length"),u=r[uF(n)],c=[],d=0;d<o.length;d++)for(var p=0;p<o[d].length;p++)c.push(new ld({shape:sF(n,[u,u+s],o[d][p].coord)}));e.add(Jd(c,{style:Fe(l.getModel("lineStyle").getLineStyle(),Fe(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,i,o,r,a){var l=t.getCategories(!0),s=t.getModel("axisLabel"),u=s.get("margin"),c=t.get("triggerEvent");// Use length of ticksAngles because it may remove the last tick to avoid overlapping
Ge(a,(function(i,o){var a=s,d=i.tickValue,p=r[uF(n)],h=n.coordToPoint([p+u,i.coord]),f=n.cx,v=n.cy,g=Math.abs(h[0]-f)/p<.3?"center":h[0]>f?"left":"right",y=Math.abs(h[1]-v)/p<.3?"middle":h[1]>v?"top":"bottom";if(l&&l[d]){var m=l[d];tt(m)&&m.textStyle&&(a=new Kp(m.textStyle,s,s.ecModel))}var x=new ru({silent:QT.isLabelSilent(t),style:_p(a,{x:h[0],y:h[1],fill:a.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:g,verticalAlign:y})});// Pack data for mouse event
if(e.add(x),c){var b=QT.makeAxisEventDataBase(t);b.targetType="axisLabel",b.value=i.rawLabel,au(x).eventData=b}}),this)},splitLine:function(e,t,n,i,o,r){var a=t.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),s=0;l=l instanceof Array?l:[l];for(var u=[],c=0;c<i.length;c++){var d=s++%l.length;u[d]=u[d]||[],u[d].push(new ld({shape:sF(n,r,i[c].coord)}))}// Simple optimization
// Batching the lines if color are the same
for(c=0;c<u.length;c++)e.add(Jd(u[c],{style:Fe({stroke:l[c%l.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,i,o,r){if(o.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],s=0;s<o.length;s++)for(var u=0;u<o[s].length;u++)l.push(new ld({shape:sF(n,r,o[s][u].coord)}));e.add(Jd(l,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,i,o,r){if(i.length){var a=t.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),s=0;l=l instanceof Array?l:[l];for(var u=[],c=Math.PI/180,d=-i[0].coord*c,p=Math.min(r[0],r[1]),h=Math.max(r[0],r[1]),f=t.get("clockwise"),v=1,g=i.length;v<=g;v++){var y=v===g?i[0].coord:i[v].coord,m=s++%l.length;u[m]=u[m]||[],u[m].push(new Yc({shape:{cx:n.cx,cy:n.cy,r0:p,r:h,startAngle:d,endAngle:-y*c,clockwise:f},silent:!0})),d=-y*c}// Simple optimization
// Batching the lines if color are the same
for(v=0;v<u.length;v++)e.add(Jd(u[v],{style:Fe({fill:l[v%l.length]},a.getAreaStyle()),silent:!0}))}}},hF=dF,fF=["axisLine","axisTickLabel","axisName"],vF=["splitLine","splitArea","minorSplitLine"],gF=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return de(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=this._axisGroup,i=this._axisGroup=new Kr;this.group.add(i);var o=e.axis,r=o.polar,a=r.getAngleAxis(),l=o.getTicksCoords(),s=o.getMinorTicksCoords(),u=a.getExtent()[0],c=o.getExtent(),d=
/**
       * @inner
       */
function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),// Over splitLine and splitArea
z2:1}}(r,e,u),p=new QT(e,d);Ge(fF,p.add,p),i.add(p.getGroup()),ap(n,i,e),Ge(vF,(function(t){e.get([t,"show"])&&!o.scale.isBlank()&&yF[t](this.group,e,r,u,c,l,s)}),this)}},t.type="radiusAxis",t}(sI),yF={splitLine:function(e,t,n,i,o,r){var a=t.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),s=0;l=l instanceof Array?l:[l];for(var u=[],c=0;c<r.length;c++){var d=s++%l.length;u[d]=u[d]||[],u[d].push(new kc({shape:{cx:n.cx,cy:n.cy,// ensure circle radius >= 0
r:Math.max(r[c].coord,0)}}))}// Simple optimization
// Batching the lines if color are the same
for(c=0;c<u.length;c++)e.add(Jd(u[c],{style:Fe({stroke:l[c%l.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,i,o,r,a){if(a.length){for(var l=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],u=0;u<a.length;u++)for(var c=0;c<a[u].length;c++)s.push(new kc({shape:{cx:n.cx,cy:n.cy,r:a[u][c].coord}}));e.add(Jd(s,{style:Fe({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,i,o,r){if(r.length){var a=t.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),s=0;l=l instanceof Array?l:[l];for(var u=[],c=r[0].coord,d=1;d<r.length;d++){var p=s++%l.length;u[p]=u[p]||[],u[p].push(new Yc({shape:{cx:n.cx,cy:n.cy,r0:c,r:r[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),c=r[d].coord}// Simple optimization
// Batching the lines if color are the same
for(d=0;d<u.length;d++)e.add(Jd(u[d],{style:Fe({fill:l[d%l.length]},a.getAreaStyle()),silent:!0}))}}};var mF=gF;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function xF(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function bF(e,t){return t.dim+e.model.componentIndex}function _F(e,t,n){var i={},o=
/**
       * Calculate bar width and offset for radial bar charts
       */
function(e){// Columns info on each category axis. Key is polar name
var t={};Ge(e,(function(e,n){var i=e.getData(),o=e.coordinateSystem,r=o.getBaseAxis(),a=bF(o,r),l=r.getExtent(),s="category"===r.type?r.getBandWidth():Math.abs(l[1]-l[0])/i.count(),u=t[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=u.stacks;t[a]=u;var d=xF(e);c[d]||u.autoWidthCount++,c[d]=c[d]||{width:0,maxWidth:0};var p=Jr(e.get("barWidth"),s),h=Jr(e.get("barMaxWidth"),s),f=e.get("barGap"),v=e.get("barCategoryGap");p&&!c[d].width&&(p=Math.min(u.remainedWidth,p),c[d].width=p,u.remainedWidth-=p),h&&(c[d].maxWidth=h),null!=f&&(u.gap=f),null!=v&&(u.categoryGap=v)}));var n={};return Ge(t,(function(e,t){n[t]={};var i=e.stacks,o=e.bandWidth,r=Jr(e.categoryGap,o),a=Jr(e.gap,1),l=e.remainedWidth,s=e.autoWidthCount,u=(l-r)/(s+(s-1)*a);u=Math.max(u,0),// Find if any auto calculated bar exceeded maxBarWidth
Ge(i,(function(e,t){var n=e.maxWidth;n&&n<u&&(n=Math.min(n,l),e.width&&(n=Math.min(n,e.width)),l-=n,e.width=n,s--)})),// Recalculate width again
u=(l-r)/(s+(s-1)*a),u=Math.max(u,0);var c,d=0;Ge(i,(function(e,t){e.width||(e.width=u),c=e,d+=e.width*(1+a)})),c&&(d-=c.width*a);var p=-d/2;Ge(i,(function(e,i){n[t][i]=n[t][i]||{offset:p,width:e.width},p+=e.width*(1+a)}))})),n}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(Ue(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){// Check series coordinate, do layout for polar only
if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,r=n.getBaseAxis(),a=bF(n,r),l=xF(e),s=o[a][l],u=s.offset,c=s.width,d=n.getOtherAxis(r),p=e.coordinateSystem.cx,h=e.coordinateSystem.cy,f=e.get("barMinHeight")||0,v=e.get("barMinAngle")||0;i[l]=i[l]||[];for(var g=t.mapDimension(d.dim),y=t.mapDimension(r.dim),m=Bb(t,g/* , baseDim */),x="radius"!==r.dim||!e.get("roundCap",!0),b=d.dataToCoord(0),_=0,w=t.count();_<w;_++){var S=t.get(g,_),C=t.get(y,_),M=S>=0?"p":"n",T=b;// Because of the barMinHeight, we can not use the value in
// stackResultDimension directly.
// Only ordinal axis can be stacked.
m&&(i[l][C]||(i[l][C]={p:b,n:b}),// Should also consider #4243
T=i[l][C][M]);var I=void 0,k=void 0,A=void 0,D=void 0;// radial sector
if("radius"===d.dim){var O=d.dataToCoord(S)-b,P=r.dataToCoord(C);Math.abs(O)<f&&(O=(O<0?-1:1)*f),I=T,k=T+O,D=(A=P-u)-c,m&&(i[l][C][M]=k)}// tangential sector
else{var L=d.dataToCoord(S,x)-b,E=r.dataToCoord(C);Math.abs(L)<v&&(L=(L<0?-1:1)*v),k=(I=E+u)+c,A=T,D=T+L,// if the previous stack is at the end of the ring,
// add a round to differentiate it from origin
// let extent = angleAxis.getExtent();
// let stackCoord = angle;
// if (stackCoord === extent[0] && value > 0) {
//     stackCoord = extent[1];
// }
// else if (stackCoord === extent[1] && value < 0) {
//     stackCoord = extent[0];
// }
m&&(i[l][C][M]=D)}t.setItemLayout(_,{cx:p,cy:h,r0:I,r:k,// Consider that positive angle is anti-clockwise,
// while positive radian of sector is clockwise
startAngle:-A*Math.PI/180,endAngle:-D*Math.PI/180,
/**
               * Keep the same logic with bar in catesion: use end value to
               * control direction. Notice that if clockwise is true (by
               * default), the sector will always draw clockwisely, no matter
               * whether endAngle is greater or less than startAngle.
               */
clockwise:A>=D})}}}))}var wF={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},SF={splitNumber:5},CF=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="polar",t}(Jg);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function MF(e,t){t=t||{};var n=e.coordinateSystem,i=e.axis,o={},r=i.position,a=i.orient,l=n.getRect(),s=[l.x,l.x+l.width,l.y,l.y+l.height],u={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};o.position=["vertical"===a?u.vertical[r]:s[0],"horizontal"===a?u.horizontal[r]:s[3]];o.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[r],e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),lt(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var c=t.rotate;return null==c&&(c=e.get(["axisLabel","rotate"])),o.labelRotation="top"===r?-c:c,o.z2=1,o}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var TF=["axisLine","axisTickLabel","axisName"],IF=["splitArea","splitLine"],kF=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return de(t,e),t.prototype.render=function(t,n,i,o){var r=this.group;r.removeAll();var a=this._axisGroup;this._axisGroup=new Kr;var l=MF(t),s=new QT(t,l);Ge(TF,s.add,s),r.add(this._axisGroup),r.add(s.getGroup()),Ge(IF,(function(e){t.get([e,"show"])&&AF[e](this,this.group,this._axisGroup,t)}),this),ap(a,this._axisGroup,t),e.prototype.render.call(this,t,n,i,o)},t.prototype.remove=function(){dI(this)},t.type="singleAxis",t}(sI),AF={splitLine:function(e,t,n,i){var o=i.axis;if(!o.scale.isBlank()){var r=i.getModel("splitLine"),a=r.getModel("lineStyle"),l=a.get("color");l=l instanceof Array?l:[l];for(var s=a.get("width"),u=i.coordinateSystem.getRect(),c=o.isHorizontal(),d=[],p=0,h=o.getTicksCoords({tickModel:r}),f=[],v=[],g=0;g<h.length;++g){var y=o.toGlobalCoord(h[g].coord);c?(f[0]=y,f[1]=u.y,v[0]=y,v[1]=u.y+u.height):(f[0]=u.x,f[1]=y,v[0]=u.x+u.width,v[1]=y);var m=new ld({shape:{x1:f[0],y1:f[1],x2:v[0],y2:v[1]},silent:!0});ep(m.shape,s);var x=p++%l.length;d[x]=d[x]||[],d[x].push(m)}var b=a.getLineStyle(["color"]);for(g=0;g<d.length;++g)t.add(Jd(d[g],{style:Fe({stroke:l[g%l.length]},b),silent:!0}))}},splitArea:function(e,t,n,i){cI(e,n,i,i)}},DF=kF,OF=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},// Single coordinate system and single axis is the,
// which is used as the parent tooltip model.
// same model, so we set default tooltip show as true.
tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(tf);je(OF,Q_.prototype);var PF=OF,LF=/** @class */function(e){function t(t,n,i,o,r){var a=e.call(this,t,n,i)||this;return a.type=o||"value",a.position=r||"bottom",a}
/**
         * Judge the orient of the axis.
         */return de(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(Mw),EF=LF,NF=["single"],RF=/** @class */function(){function e(e,t,n){this.type="single",this.dimension="single",
/**
           * Add it just for draw tooltip.
           */
this.dimensions=NF,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}
/**
         * Initialize single coordinate system.
         */return e.prototype._init=function(e,t,n){var i=this.dimension,o=new EF(i,U_(e),[0,0],e.get("type"),e.get("position")),r="category"===o.type;o.onBand=r&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},
/**
         * Update axis scale after data processed
         */
e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();Ge(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),K_(this._axis.scale,this._axis.model)}}),this)},
/**
         * Resize the single coordinate system.
         */
e.prototype.resize=function(e,t){this._rect=Yh({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(i[o],i[1-o]),this._updateAxisTransform(t,n?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),i=n[0]+n[1],o=e.isHorizontal();e.toGlobalCoord=o?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord=o?function(e){return e-t}:function(e){return i-e+t}},
/**
         * Get axis.
         */
e.prototype.getAxis=function(){return this._axis},
/**
         * Get axis, add it just for draw tooltip.
         */
e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],// Empty otherAxes
otherAxes:[]}},
/**
         * If contain point.
         */
e.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},
/**
         * Convert the series data to concrete point.
         * Can be [val] | val
         */
e.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),i=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[o]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-o]=0===o?n.y+n.height/2:n.x+n.width/2,i},e.prototype.convertToPixel=function(e,t,n){return zF(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return zF(t)===this?this.pointToData(n):null},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function zF(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Create single coordinate system and inject it into seriesModel.
       */var BF={create:function(e,t){var n=[];return e.eachComponent("singleAxis",(function(i,o){var r=new RF(i,e,t);r.name="single_"+o,r.resize(i,t),i.coordinateSystem=r,n.push(r)})),e.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",Ba).models[0];e.coordinateSystem=t&&t.coordinateSystem}})),n},dimensions:NF},FF=BF,VF=["x","y"],jF=["width","height"],HF=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}
/**
         * @override
         */return de(t,e),t.prototype.makeElOption=function(e,t,n,i,o){var r=n.axis,a=r.coordinateSystem,l=KF(a,1-WF(r)),s=a.dataToPoint(t)[0],u=i.get("type");if(u&&"none"!==u){var c=sB(i),d=GF[u](r,s,l);d.style=c,e.graphicKey=d.type,e.pointer=d}pB(// @ts-ignore
t,e,MF(n),n,i,o)},
/**
         * @override
         */
t.prototype.getHandleTransform=function(e,t,n){var i=MF(t,{labelInside:!1});// @ts-ignore
i.labelMargin=n.get(["handle","margin"]);var o=dB(t.axis,e,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},
/**
         * @override
         */
t.prototype.updateHandleTransform=function(e,t,n,i){var o=n.axis,r=o.coordinateSystem,a=WF(o),l=KF(r,a),s=[e.x,e.y];s[a]+=t[a],s[a]=Math.min(l[1],s[a]),s[a]=Math.max(l[0],s[a]);var u=KF(r,1-a),c=(u[1]+u[0])/2,d=[c,c];return d[a]=s[a],{x:s[0],y:s[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(lB),GF={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:hB([t,n[0]],[t,n[1]],WF(e))}},shadow:function(e,t,n){var i=e.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:fB([t-i/2,n[0]],[i,o],WF(e))}}};function WF(e){return e.isHorizontal()?0:1}function KF(e,t){var n=e.getRect();return[n[VF[t]],n[VF[t]]+n[jF[t]]]}var UF=HF,YF=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="single",t}(Jg);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var XF=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}
/**
         * @override
         */return de(t,e),t.prototype.init=function(t,n,i){var o=$h(t);e.prototype.init.apply(this,arguments),qF(t,o)},
/**
         * @override
         */
t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),qF(this.option,t)},t.prototype.getCellSize=function(){// Has been normalized
return this.option.cellSize},t.type="calendar",t.defaultOption={// zlevel: 0,
z:2,left:80,top:60,cellSize:20,// horizontal vertical
orient:"horizontal",// month separate line style
splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},// rect style  temporarily unused emphasis
itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},// week text style
dayLabel:{show:!0,firstDay:0,// start end
position:"start",margin:"50%",color:"#000"},// month text style
monthLabel:{show:!0,// start end
position:"start",margin:5,// center or left
align:"center",formatter:null,color:"#000"},// year text style
yearLabel:{show:!0,// top bottom left right
position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(tf);function qF(e,t){// Normalize cellSize
var n,i=e.cellSize;1===(n=Ze(i)?i:e.cellSize=[i,i]).length&&(n[1]=n[0]);var o=We([0,1],(function(e){// If user have set `width` or both `left` and `right`, cellSizeArr
// will be automatically set to 'auto', otherwise the default
// setting of cellSizeArr will make `width` setting not work.
return function(e,t){return null!=e[Wh[t][0]]||null!=e[Wh[t][1]]&&null!=e[Wh[t][2]]}(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]}));Zh(e,t,{type:"box",ignoreSize:o})}var ZF=XF,$F=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){var i=this.group;i.removeAll();var o=e.coordinateSystem,r=o.getRangeInfo(),a=o.getOrient(),l=t.getLocaleModel();// range info
this._renderDayRect(e,r,i),// _renderLines must be called prior to following function
this._renderLines(e,r,a,i),this._renderYearText(e,r,a,i),this._renderMonthText(e,l,a,i),this._renderWeekText(e,l,r,a,i)},// render day rect
t.prototype._renderDayRect=function(e,t,n){for(var i=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),r=i.getCellWidth(),a=i.getCellHeight(),l=t.start.time;l<=t.end.time;l=i.getNextNDay(l,1).time){var s=i.dataToRect([l],!1).tl,u=new Gs({shape:{x:s[0],y:s[1],width:r,height:a},cursor:"default",style:o});// every rect
n.add(u)}},// render separate line
t.prototype._renderLines=function(e,t,n,i){var o=this,r=e.coordinateSystem,a=e.getModel(["splitLine","lineStyle"]).getLineStyle(),l=e.get(["splitLine","show"]),s=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,c=0;u.time<=t.end.time;c++){p(u.formatedDate),0===c&&(u=r.getDateInfo(t.start.y+"-"+t.start.m));var d=u.date;d.setMonth(d.getMonth()+1),u=r.getDateInfo(d)}function p(t){o._firstDayOfMonth.push(r.getDateInfo(t)),o._firstDayPoints.push(r.dataToRect([t],!1).tl);var s=o._getLinePointsOfOneWeek(e,t,n);o._tlpoints.push(s[0]),o._blpoints.push(s[s.length-1]),l&&o._drawSplitline(s,a,i)}// render top/left line
p(r.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,s,n),a,i),// render bottom/right line
l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,s,n),a,i)},// get points at both ends
t.prototype._getEdgesPoints=function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===n?0:1;// both ends of the line are extend half lineWidth
return i[0][o]=i[0][o]-t/2,i[1][o]=i[1][o]+t/2,i},// render split line
t.prototype._drawSplitline=function(e,t,n){var i=new id({z2:20,shape:{points:e},style:t});n.add(i)},// render month line of one week points
t.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var i=e.coordinateSystem,o=i.getDateInfo(t),r=[],a=0;a<7;a++){var l=i.getNextNDay(o.time,a),s=i.dataToRect([l.time],!1);r[2*l.day]=s.tl,r[2*l.day+1]=s["horizontal"===n?"bl":"tr"]}return r},t.prototype._formatterLabel=function(e,t){return Je(e)&&e?function(e,t,n){return Ge(t,(function(t,i){e=e.replace("{"+i+"}",n?ln(t):t)})),e}(e,t):$e(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,n,i,o){var r=t[0],a=t[1],l=["center","bottom"];"bottom"===i?(a+=o,l=["center","top"]):"left"===i?r-=o:"right"===i?(r+=o,l=["center","top"]):// top
a-=o;var s=0;return"left"!==i&&"right"!==i||(s=Math.PI/2),{rotation:s,x:r,y:a,style:{align:l[0],verticalAlign:l[1]}}},// render year
t.prototype._renderYearText=function(e,t,n,i){var o=e.getModel("yearLabel");if(o.get("show")){var r=o.get("margin"),a=o.get("position");a||(a="horizontal"!==n?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],s=(l[0][0]+l[1][0])/2,u=(l[0][1]+l[1][1])/2,c="horizontal"===n?0:1,d={top:[s,l[c][1]],bottom:[s,l[1-c][1]],left:[l[1-c][0],u],right:[l[c][0],u]},p=t.start.y;+t.end.y>+t.start.y&&(p=p+"-"+t.end.y);var h=o.get("formatter"),f={start:t.start.y,end:t.end.y,nameMap:p},v=this._formatterLabel(h,f),g=new ru({z2:30,style:_p(o,{text:v})});g.attr(this._yearTextPositionControl(g,d[a],n,a,r)),i.add(g)}},t.prototype._monthTextPositionControl=function(e,t,n,i,o){var r="left",a="top",l=e[0],s=e[1];return"horizontal"===n?(s+=o,t&&(r="center"),"start"===i&&(a="bottom")):(l+=o,t&&(a="middle"),"start"===i&&(r="right")),{x:l,y:s,align:r,verticalAlign:a}},// render month and year text
t.prototype._renderMonthText=function(e,t,n,i){var o=e.getModel("monthLabel");if(o.get("show")){var r=o.get("nameMap"),a=o.get("margin"),l=o.get("position"),s=o.get("align"),u=[this._tlpoints,this._blpoints];r&&!Je(r)||(r&&(// case-sensitive
t=nh(r)||t),// PENDING
// for ZH locale, original form is `一月` but current form is `1月`
r=t.get(["time","monthAbbr"])||[]);var c="start"===l?0:1,d="horizontal"===n?0:1;a="start"===l?-a:a;for(var p="center"===s,h=0;h<u[c].length-1;h++){var f=u[c][h].slice(),v=this._firstDayOfMonth[h];if(p){var g=this._firstDayPoints[h];f[d]=(g[d]+u[0][h+1][d])/2}var y=o.get("formatter"),m=r[+v.m-1],x={yyyy:v.y,yy:(v.y+"").slice(2),MM:v.m,M:+v.m,nameMap:m},b=this._formatterLabel(y,x),_=new ru({z2:30,style:Be(_p(o,{text:b}),this._monthTextPositionControl(f,p,n,l,a))});i.add(_)}}},t.prototype._weekTextPositionControl=function(e,t,n,i,o){var r="center",a="middle",l=e[0],s=e[1],u="start"===n;return"horizontal"===t?(l=l+i+(u?1:-1)*o[0]/2,r=u?"right":"left"):(s=s+i+(u?1:-1)*o[1]/2,a=u?"bottom":"top"),{x:l,y:s,align:r,verticalAlign:a}},// render weeks
t.prototype._renderWeekText=function(e,t,n,i,o){var r=e.getModel("dayLabel");if(r.get("show")){var a=e.coordinateSystem,l=r.get("position"),s=r.get("nameMap"),u=r.get("margin"),c=a.getFirstDayOfWeek();if(!s||Je(s))s&&(// case-sensitive
t=nh(s)||t),s=t.get(["time","dayOfWeekShort"])||We(t.get(["time","dayOfWeekAbbr"]),(function(e){return e[0]}));// Use the first letter of `dayOfWeekAbbr` if `dayOfWeekShort` doesn't exist in the locale file
var d=a.getNextNDay(n.end.time,7-n.lweek).time,p=[a.getCellWidth(),a.getCellHeight()];u=Jr(u,Math.min(p[1],p[0])),"start"===l&&(d=a.getNextNDay(n.start.time,-(7+n.fweek)).time,u=-u);for(var h=0;h<7;h++){var f,v=a.getNextNDay(d,h),g=a.dataToRect([v.time],!1).center;f=Math.abs((h+c)%7);var y=new ru({z2:30,style:Be(_p(r,{text:s[f]}),this._weekTextPositionControl(g,i,l,u,p))});o.add(y)}}},t.type="calendar",t}(Jg),JF=$F,QF=864e5,eV=/** @class */function(){function e(t,n,i){this.type="calendar",this.dimensions=e.dimensions,// Required in createListFromData
this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},
/**
         * getFirstDayOfWeek
         *
         * @example
         *     0 : start at Sunday
         *     1 : start at Monday
         *
         * @return {number}
         */
e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},
/**
         * get date info
         * }
         */
e.prototype.getDateInfo=function(e){var t=(e=sa(e)).getFullYear(),n=e.getMonth()+1,i=n<10?"0"+n:""+n,o=e.getDate(),r=o<10?"0"+o:""+o,a=e.getDay();return{y:t+"",m:i,d:r,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+i+"-"+r,date:e}},e.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.getCellSize().slice(),r=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];Ge([0,1],(function(e){u(o,e)&&(r[i[e]]=o[e]*a[e])}));var l={width:t.getWidth(),height:t.getHeight()},s=this._rect=Yh(r,l);function u(e,t){return null!=e[t]&&"auto"!==e[t]}// Has been calculated out number.
Ge([0,1],(function(e){u(o,e)||(o[e]=s[i[e]]/a[e])})),this._sw=o[0],this._sh=o[1]},
/**
         * Convert a time data(time, value) item to (x, y) point.
         */
// TODO Clamp of calendar is not same with cartesian coordinate systems.
// It will return NaN if data exceeds.
e.prototype.dataToPoint=function(e,t){Ze(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo,o=n.formatedDate;// if not in range return [NaN, NaN]
if(t&&!(n.time>=i.start.time&&n.time<i.end.time+QF))return[NaN,NaN];var r=n.day,a=this._getRangeInfo([i.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},
/**
         * Convert a (x, y) point to time data
         */
e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},
/**
         * Convert a time date item to (x, y) four point.
         */
e.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},
/**
         * Convert a (x, y) point to time date
         *
         * @param  {Array} point point
         * @return {Object}       date
         */
e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},e.prototype.convertToPixel=function(e,t,n){var i=tV(t);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var i=tV(t);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(e){return!1},
/**
         * initRange
         * Normalize to an [start, end] array
         */
e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(// Convert [1990] to 1990
Ze(t)&&1===t.length&&(t=t[0]),Ze(t))e=t;else{var n=t.toString();// One year.
// One month
if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),o=i.date;o.setMonth(o.getMonth()+1);var r=this.getNextNDay(o,-1);e=[i.formatedDate,r.formatedDate]}// One day
/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},
/**
         * range info
         *
         * @private
         * @param  {Array} range range ['2017-01-01', '2017-07-08']
         *  If range[0] > range[1], they will not be reversed.
         * @return {Object}       obj
         */
e.prototype._getRangeInfo=function(e){var t,n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];n[0].time>n[1].time&&(t=!0,n.reverse());var i=Math.floor(n[1].time/QF)-Math.floor(n[0].time/QF)+1,o=new Date(n[0].time),r=o.getDate(),a=n[1].date.getDate();// Consider case1 (#11677 #10430):
// Set the system timezone as "UK", set the range to `['2016-07-01', '2016-12-31']`
// Consider case2:
// Firstly set system timezone as "Time Zone: America/Toronto",
// ```
// let first = new Date(1478412000000 - 3600 * 1000 * 2.5);
// let second = new Date(1478412000000);
// let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;
// ```
// will get wrong result because of DST. So we should fix it.
o.setDate(r+i-1);// The bias can not over a month, so just compare date.
var l=o.getDate();if(l!==a)for(var s=o.getTime()-n[1].time>0?1:-1;(l=o.getDate())!==a&&(o.getTime()-n[1].time)*s>0;)i-=s,o.setDate(l-s);var u=Math.floor((i+n[0].day+6)/7),c=t?1-u:u-1;return t&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:u,// From 0.
nthWeek:c,fweek:n[0].day,lweek:n[1].day}},
/**
         * get date by nthWeeks and week day in range
         *
         * @private
         * @param  {number} nthWeek the week
         * @param  {number} day   the week day
         * @param  {Array} range [d1, d2]
         * @return {Object}
         */
e.prototype._getDateByWeeksAndDay=function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var o=7*(e-1)-i.fweek+t,r=new Date(i.start.time);return r.setDate(+i.start.d+o),this.getDateInfo(r)},e.create=function(t,n){var i=[];return t.eachComponent("calendar",(function(t){var n=new e(t);i.push(n),t.coordinateSystem=n})),t.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(// Inject coordinate system
e.coordinateSystem=i[e.get("calendarIndex")||0])})),i},e.dimensions=["time","value"],e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function tV(e){var t=e.calendarModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem:null}var nV=eV;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function iV(e,t){var n;return Ge(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)})),n}var oV=["transition","enterFrom","leaveTo"],rV=oV.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function aV(e,t,n){if(n&&(!e[n]&&t[n]&&(// TODO avoid creating this empty object when there is no transition configuration.
e[n]={}),e=e[n],t=t[n]),e&&t)for(var i=n?oV:rV,o=0;o<i.length;o++){var r=i[o];null==e[r]&&null!=t[r]&&(e[r]=t[r])}}var lV=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return de(t,e),t.prototype.mergeOption=function(t,n){// Prevent default merge to elements
var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,n),this.option.elements=i},t.prototype.optionUpdated=function(e,t){var n=this.option,i=(t?n:e).elements,o=n.elements=t?[]:n.elements,r=[];this._flatten(i,r,null);var a=Ia(o,r,"normalMerge"),l=this._elOptionsToUpdate=[];// Clear elOptionsToUpdate
Ge(a,(function(e,t){var n=e.newOption;n&&(l.push(n),
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e,t){var n=e.existing;// Set id and type after id assigned.
// Set parent id if not specified
if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var i=t.parentOption;i?t.parentId=i.id:n&&(t.parentId=n.parentId)}// Clear
t.parentOption=null}(e,n),function(e,t,n){// Update existing options, for `getOption` feature.
var i=Be({},n),o=e[t],r=n.$action||"merge";"merge"===r?o?(// the same object, so `merge` will not change newElOptCopy.
Re(o,i,!0),// Rigid body, use ignoreSize.
Zh(o,i,{ignoreSize:!0}),// Will be used in render.
Jh(n,o),// Copy transition info to new option so it can be used in the transition.
// DO IT AFTER merge
aV(n,o),aV(n,o,"shape"),aV(n,o,"style"),aV(n,o,"extra"),// Copy clipPath
n.clipPath=o.clipPath):e[t]=i:"replace"===r?e[t]=i:"remove"===r&&// null will be cleaned later.
o&&(e[t]=null)}(o,t,n),function(e,t){if(e&&(e.hv=t.hv=[// Rigid body, don't care about `width`.
iV(t,["left","right"]),// Rigid body, don't care about `height`.
iV(t,["top","bottom"])],"group"===e.type)){var n=e,i=t;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}(o[t],n))}),this),// Clean
n.elements=Ue(o,(function(e){// $action should be volatile, otherwise option gotten from
// `getOption` will contain unexpected $action.
return e&&delete e.$action,null!=e}))},
/**
         * Convert
         * [{
         *  type: 'group',
         *  id: 'xx',
         *  children: [{type: 'circle'}, {type: 'polygon'}]
         * }]
         * to
         * [
         *  {type: 'group', id: 'xx'},
         *  {type: 'circle', parentId: 'xx'},
         *  {type: 'polygon', parentId: 'xx'}
         * ]
         */
t.prototype._flatten=function(e,t,n){Ge(e,(function(e){if(e){n&&(e.parentOption=n),t.push(e);var i=e.children;// here we don't judge if option.type is `group`
// when new option doesn't provide `type`, it will cause that the children can't be updated.
i&&i.length&&this._flatten(i,t,e),// Deleting for JSON output, and for not affecting group creation.
delete e.children}}),this)},// FIXME
// Pass to view using payload? setOption has a payload?
t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;// Clear to avoid render duplicately when zooming.
return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(tf),sV={// Reserved but not supported in graphic component.
path:null,compoundPath:null,// Supported in graphic component.
group:Kr,image:Ns,text:ru},uV=Ea(),cV=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(){this._elMap=bt()},t.prototype.render=function(e,t,n){// Having leveraged between use cases and algorithm complexity, a very
// simple layout mechanism is used:
// The size(width/height) can be determined by itself or its parent (not
// implemented yet), but can not by its children. (Top-down travel)
// The location(x/y) can be determined by the bounding rect of itself
// (can including its descendants or not) and the size of its parent.
// (Bottom-up travel)
// When `chart.clear()` or `chart.setOption({...}, true)` with the same id,
// view will be reused.
e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},
/**
         * Update graphic elements.
         */
t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,i=this.group,o=e.get("z"),r=e.get("zlevel");// Top-down tranverse to assign graphic settings to each elements.
Ge(t,(function(t){var a=Da(t.id,null),l=null!=a?n.get(a):null,s=Da(t.parentId,null),u=null!=s?n.get(s):i,c=t.type,d=t.style;"text"===c&&d&&t.hv&&t.hv[1]&&(d.textVerticalAlign=d.textBaseline=d.verticalAlign=d.align=null);var p=t.textContent,h=t.textConfig;if(d&&$R(d,c,!!h,!!p)){var f=JR(d,c,!0);!h&&f.textConfig&&(h=t.textConfig=f.textConfig),!p&&f.textContent&&(p=f.textContent)}// Remove unnecessary props to avoid potential problems.
var v=// Remove unnecessary props to avoid potential problems.
function(e){return e=Be({},e),Ge(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Gh),(function(t){delete e[t]})),e}(t),g=t.$action||"merge",y="merge"===g,m="replace"===g;// For simple, do not support parent change, otherwise reorder is needed.
if(y){var x=l;(T=!l)?x=pV(a,u,t.type,n):(x&&(uV(x).isNew=!1),// Stop and restore before update any other attributes.
xz(x)),x&&(lz(x,v,e,{isInit:T}),fV(x,t,o,r))}else if(m){hV(l,t,n,e);var b=pV(a,u,t.type,n);b&&(lz(b,v,e,{isInit:!0}),fV(b,t,o,r))}else"remove"===g&&(sz(l,t),hV(l,t,n,e));var _=n.get(a);if(_&&p)if(y){var w=_.getTextContent();w?w.attr(p):_.setTextContent(new ru(p))}else m&&_.setTextContent(new ru(p));if(_){var S=t.clipPath;if(S){var C=S.type,M=void 0,T=!1;if(y){var I=_.getClipPath();M=(T=!I||uV(I).type!==C)?dV(C):I}else m&&(T=!0,M=dV(C));_.setClipPath(M),lz(M,S,e,{isInit:T}),bz(M,S.keyframeAnimation,e)}var k=uV(_);_.setTextConfig(h),k.option=t,function(e,t,n){var i=au(e).eventData;// Simple optimize for large amount of elements that no need event.
e.silent||e.ignore||i||(i=au(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name});// `elOption.info` enables user to mount some info on
// elements and use them in event handlers.
i&&(i.info=n.info)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(_,e,t),pp({el:_,componentModel:e,itemName:_.name,itemTooltipOption:t.tooltip}),bz(_,t.keyframeAnimation,e)}}))}},
/**
         * Locate graphic elements.
         */
t.prototype._relocate=function(e,t){// Top-down to calculate percentage width/height of group
for(var n=e.option.elements,i=this.group,o=this._elMap,r=t.getWidth(),a=t.getHeight(),l=["x","y"],s=0;s<n.length;s++){if((f=null!=(h=Da((p=n[s]).id,null))?o.get(h):null)&&f.isGroup){var u=(v=f.parent)===i,c=uV(f),d=uV(v);c.width=Jr(c.option.width,u?r:d.width)||0,c.height=Jr(c.option.height,u?a:d.height)||0}}// Bottom-up tranvese all elements (consider ec resize) to locate elements.
for(s=n.length-1;s>=0;s--){var p,h,f;if(f=null!=(h=Da((p=n[s]).id,null))?o.get(h):null){var v=f.parent,g=(d=uV(v),{}),y=Xh(f,p,v===i?{width:r,height:a}:{width:d.width,height:d.height},null,{hv:p.hv,boundingMode:p.bounding},g);if(!uV(f).isNew&&y){for(var m=p.transition,x={},b=0;b<l.length;b++){var _=l[b],w=g[_];m&&(cz(m)||Ve(m,_)>=0)?x[_]=w:f[_]=w}Rd(f,x,e,0)}else f.attr(g)}}},
/**
         * Clear all elements.
         */
t.prototype._clear=function(){var e=this,t=this._elMap;t.each((function(n){hV(n,uV(n).option,t,e._lastGraphicModel)})),this._elMap=bt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Jg);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function dV(e){var t=new(Ct(sV,e)?sV[e]:Xd(e))({});return uV(t).type=e,t}function pV(e,t,n,i){var o=dV(n);return t.add(o),i.set(e,o),uV(o).id=e,uV(o).isNew=!0,o}function hV(e,t,n,i){e&&e.parent&&("group"===e.type&&e.traverse((function(e){hV(e,t,n,i)})),uz(e,t,i),n.removeKey(uV(e).id))}function fV(e,t,n,i){e.isGroup||Ge([["cursor",Il.prototype.cursor],// We should not support configure z and zlevel in the element level.
// But seems we didn't limit it previously. So here still use it to avoid breaking.
["zlevel",i||0],["z",n||0],// z2 must not be null/undefined, otherwise sort error may occur.
["z2",0]],(function(n){var i=n[0];Ct(t,i)?e[i]=st(t[i],n[1]):null==e[i]&&(e[i]=n[1])})),Ge(Ye(t),(function(n){// Assign event handlers.
// PENDING: should enumerate all event names or use pattern matching?
if(0===n.indexOf("on")){var i=t[n];e[n]=$e(i)?i:null}})),Ct(t,"draggable")&&(e.draggable=t.draggable),// Other attributes
null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var vV=["x","y","radius","angle","single"],gV=["cartesian2d","polar","singleAxis"];// Supported coords.
// FIXME: polar has been broken (but rarely used).
function yV(e){return e+"Axis"}
/**
       * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.
       * This function finds all linked dataZoomModels start from the given payload.
       */function mV(e,t){// Key: `DataZoomAxisDimension`
var n,i=bt(),o=[],r=bt();// Find the dataZooms specified by payload.
e.eachComponent({mainType:"dataZoom",query:t},(function(e){r.get(e.uid)||l(e)}));do{n=!1,e.eachComponent("dataZoom",a)}while(n);function a(e){!r.get(e.uid)&&function(e){var t=!1;return e.eachTargetAxis((function(e,n){var o=i.get(e);o&&o[n]&&(t=!0)})),t}(e)&&(l(e),n=!0)}function l(e){r.set(e.uid,!0),o.push(e),e.eachTargetAxis((function(e,t){(i.get(e)||i.set(e,[]))[t]=!0}))}return o}
/**
       * Find the first target coordinate system.
       * Available after model built.
       *
       * @return Like {
       *                  grid: [
       *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},
       *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},
       *                      ...
       *                  ],  // cartesians must not be null/undefined.
       *                  polar: [
       *                      {model: coord0, axisModels: [axis4], coordIndex: 0},
       *                      ...
       *                  ],  // polars must not be null/undefined.
       *                  singleAxis: [
       *                      {model: coord0, axisModels: [], coordIndex: 0}
       *                  ]
       *              }
       */function xV(e){var t=e.ecModel,n={infoList:[],infoMap:bt()};return e.eachTargetAxis((function(e,i){var o=t.getComponent(yV(e),i);if(o){var r=o.getCoordSysModel();if(r){var a=r.uid,l=n.infoMap.get(a);l||(l={model:r,axisModels:[]},n.infoList.push(l),n.infoMap.set(a,l)),l.axisModels.push(o)}}})),n}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var bV=/** @class */function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){// Remove duplication.
this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),_V=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,
/**
           * It is `[rangeModeForMin, rangeModeForMax]`.
           * The optional values for `rangeMode`:
           * + `'value'` mode: the axis extent will always be determined by
           *     `dataZoom.startValue` and `dataZoom.endValue`, despite
           *     how data like and how `axis.min` and `axis.max` are.
           * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,
           *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,
           *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.
           *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.
           *
           * For example, when users are using dynamic data (update data periodically via `setOption`),
           * if in `'value`' mode, the window will be kept in a fixed value range despite how
           * data are appended, while if in `'percent'` mode, whe window range will be changed alone with
           * the appended data (suppose `axis.min` and `axis.max` are not specified).
           */
n._rangePropMode=["percent","percent"],n}return de(t,e),t.prototype.init=function(e,t,n){var i=wV(e);
/**
           * Suppose a "main process" start at the point that model prepared (that is,
           * model initialized or merged or method called in `action`).
           * We should keep the `main process` idempotent, that is, given a set of values
           * on `option`, we get the same result.
           *
           * But sometimes, values on `option` will be updated for providing users
           * a "final calculated value" (`dataZoomProcessor` will do that). Those value
           * should not be the base/input of the `main process`.
           *
           * So in that case we should save and keep the input of the `main process`
           * separately, called `settledOption`.
           *
           * For example, consider the case:
           * (Step_1) brush zoom the grid by `toolbox.dataZoom`,
           *     where the original input `option.startValue`, `option.endValue` are earsed by
           *     calculated value.
           * (Step)2) click the legend to hide and show a series,
           *     where the new range is calculated by the earsed `startValue` and `endValue`,
           *     which brings incorrect result.
           */this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},t.prototype.mergeOption=function(e){var t=wV(e);// FIX #2591
Re(this.option,e,!0),Re(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;Ge([["start","startValue"],["end","endValue"]],(function(e,i){// start/end has higher priority over startValue/endValue if they
// both set, but we should make chart.setOption({endValue: 1000})
// effective, rather than chart.setOption({endValue: 1000, end: null}).
"value"===this._rangePropMode[i]&&(t[e[0]]=n[e[0]]=null);// Otherwise do nothing and use the merge result.
}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=bt();this._fillSpecifiedTargetAxis(t)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return Ge(vV,(function(n){var i=this.getReferringComponents(yV(n),Fa);// When user set axisIndex as a empty array, we think that user specify axisIndex
// but do not want use auto mode. Because empty array may be encountered when
// some error occurred.
if(i.specified){t=!0;var o=new bV;Ge(i.models,(function(e){o.add(e.componentIndex)})),e.set(n,o)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var n=this.ecModel,i=!0;// Find axis that parallel to dataZoom as default.
if(i){var o="vertical"===t?"y":"x";r(n.findComponents({mainType:o+"Axis"}),o)}// Find axis that parallel to dataZoom as default.
i&&r(n.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}}),"single");function r(t,n){// At least use the first parallel axis as the target axis.
var o=t[0];if(o){var r=new bV;// Find parallel axes in the same grid.
if(r.add(o.componentIndex),e.set(n,r),i=!1,"x"===n||"y"===n){var a=o.getReferringComponents("grid",Ba).models[0];a&&Ge(t,(function(e){o.componentIndex!==e.componentIndex&&a===e.getReferringComponents("grid",Ba).models[0]&&r.add(e.componentIndex)}))}}}i&&// If no parallel axis, find the first category axis as default. (Also consider polar).
Ge(vV,(function(t){if(i){var o=n.findComponents({mainType:yV(t),filter:function(e){return"category"===e.get("type",!0)}});if(o[0]){var r=new bV;r.add(o[0].componentIndex),e.set(t,r),i=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;// Find the first axis
return this.eachTargetAxis((function(t){!e&&(e=t)}),this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(// When first time user set throttle, auto throttle ends.
e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get("rangeMode");Ge([["start","startValue"],["end","endValue"]],(function(i,o){var r=null!=e[i[0]],a=null!=e[i[1]];r&&!a?t[o]="percent":!r&&a?t[o]="value":n?t[o]=n[o]:r&&(// percentSpecified && valueSpecified
t[o]="percent");// else remain its original setting.
}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,n){null==e&&(e=this.ecModel.getComponent(yV(t),n))}),this),e},
/**
         * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel
         */
t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(n,i){Ge(n.indexList,(function(n){e.call(t,i,n)}))}))},
/**
         * @return If not found, return null/undefined.
         */
t.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n)return n.__dzAxisProxy},
/**
         * @return If not found, return null/undefined.
         */
t.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(yV(e),t)},
/**
         * If not specified, set to undefined.
         */
t.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;Ge([["start","startValue"],["end","endValue"]],(function(i){// Consider the pair <start, startValue>:
// If one has value and the other one is `null/undefined`, we both set them
// to `settledOption`. This strategy enables the feature to clear the original
// value in `settledOption` to `null/undefined`.
// But if both of them are `null/undefined`, we do not set them to `settledOption`
// and keep `settledOption` with the original value. This strategy enables users to
// only set <end or endValue> but not set <start or startValue> when calling
// `dispatchAction`.
// The pair <end, endValue> is treated in the same way.
null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;Ge(["start","startValue","end","endValue"],(function(n){t[n]=e[n]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},
/**
         * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);
         *
         * @return [startValue, endValue] value can only be '-' or finite number.
         */
t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},
/**
         * @param axisModel If axisModel given, find axisProxy
         *      corresponding to the axisModel
         */
t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;// Find the first hosted axisProxy
for(var t,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],r=this._targetAxisInfoMap.get(o),a=0;a<r.indexList.length;a++){var l=this.getAxisProxy(o,r.indexList[a]);if(l.hostedBy(this))return l;t||(t=l)}// If no hosted proxy found, still need to return a proxy.
// This case always happens in toolbox dataZoom, where axes are all hosted by
// other dataZooms.
return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={// zlevel: 0,
z:4,filterMode:"filter",start:0,end:100},t}(tf);
/**
       * Retrieve those raw params from option, which will be cached separately,
       * because they will be overwritten by normalized/calculated values in the main
       * process.
       */
function wV(e){var t={};return Ge(["start","end","startValue","endValue","throttle"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}var SV=_V,CV=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="dataZoom.select",t}(SV),MV=CV,TV=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},t.type="dataZoom",t}(Jg),IV=TV,kV=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="dataZoom.select",t}(IV),AV=kV,DV=Ge,OV=ea,PV=/** @class */function(){function e(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}
/**
         * Whether the axisProxy is hosted by dataZoomModel.
         */return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},
/**
         * @return Value can only be NaN or finite value.
         */
e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},
/**
         * @return {Array.<number>}
         */
e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(function(e){var t=e.get("coordinateSystem");return Ve(gV,t)>=0}(t)){var n=yV(this._dimName),i=t.getReferringComponents(n,Ba).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return Ne(this._minMaxSpan)},
/**
         * Only calculate by given range and this._dataExtent, do not change anything.
         */
e.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,i=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),r=[0,100],a=[],l=[];DV(["start","end"],(function(s,u){var c=e[s],d=e[s+"Value"];// Notice: dataZoom is based either on `percentProp` ('start', 'end') or
// on `valueProp` ('startValue', 'endValue'). (They are based on the data extent
// but not min/max of axis, which will be calculated by data window then).
// The former one is suitable for cases that a dataZoom component controls multiple
// axes with different unit or extent, and the latter one is suitable for accurate
// zoom by pixel (e.g., in dataZoomSelect).
// we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated
// only when setOption or dispatchAction, otherwise it remains its original value.
// (Why not only record `percentProp` and always map to `valueProp`? Because
// the map `valueProp` -> `percentProp` -> `valueProp` probably not the original
// `valueProp`. consider two axes constrolled by one dataZoom. They have different
// data extent. All of values that are overflow the `dataExtent` will be calculated
// to percent '100%').
"percent"===o[u]?(null==c&&(c=r[u]),// Use scale.parse to math round for category or time axis.
d=i.parse($r(c,r,n))):(t=!0,// Calculating `percent` from `value` may be not accurate, because
// This calculation can not be inversed, because all of values that
// are overflow the `dataExtent` will be calculated to percent '100%'
c=$r(d=null==d?n[u]:i.parse(d),n,r)),// valueWindow[idx] = round(boundValue);
// percentWindow[idx] = round(boundPercent);
// fallback to extent start/end when parsed value or percent is invalid
l[u]=null==d||isNaN(d)?n[u]:d,a[u]=null==c||isNaN(c)?r[u]:c})),OV(l),OV(a);// The windows from user calling of `dispatchAction` might be out of the extent,
// or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we don't restrict window
// by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,
// where API is able to initialize/modify the window size even though `zoomLock`
// specified.
var s=this._minMaxSpan;function u(e,t,n,o,r){var a=r?"Span":"ValueSpan";eL(0,e,n,"all",s["min"+a],s["max"+a]);for(var l=0;l<2;l++)t[l]=$r(e[l],n,o,!0),r&&(t[l]=i.parse(t[l]))}return t?u(l,a,n,r,!1):u(a,l,r,n,!0),{valueWindow:l,percentWindow:a}},
/**
         * Notice: reset should not be called before series.restoreData() is called,
         * so it is recommended to be called in "process stage" but not "model init
         * stage".
         */
e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();// Culculate data window and data extent, and record them.
this._dataExtent=function(e,t,n){var i=[1/0,-1/0];DV(n,(function(e){!function(e,t,n){t&&Ge(J_(t,n),(function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])}))}(i,e.getData(),t)}));// It is important to get "consistent" extent when more then one axes is
// controlled by a `dataZoom`, otherwise those axes will not be synchronized
// when zooming. But it is difficult to know what is "consistent", considering
// axes have different type or even different meanings (For example, two
// time axes are used to compare data of the same date in different years).
// So basically dataZoom just obtains extent by series.data (in category axis
// extent can be obtained from axis.data).
// Nevertheless, user can set min/max/scale on axes to make extent of axes
// consistent.
var o=e.getAxisModel(),r=H_(o.axis.scale,o,i).calculate();return[r.min,r.max]}(this,this._dimName,t),// `calculateDataWindow` uses min/maxSpan.
this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,// Update axis setting then.
this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),o=e.get("filterMode"),r=this._valueWindow;"none"!==o&&// FIXME
// Toolbox may has dataZoom injected. And if there are stacked bar chart
// with NaN data, NaN will be filtered and stack will be wrong.
// So we need to force the mode to be set empty.
// In fect, it is not a big deal that do not support filterMode-'filter'
// when using toolbox#dataZoom, utill tooltip#dataZoom support "single axis
// selection" some day, which might need "adapt to data extent on the
// otherAxis", which is disabled by filterMode-'empty'.
// But currently, stack has been fixed to based on value but not index,
// so this is not an issue any more.
// let otherAxisModel = this.getOtherAxisModel();
// if (dataZoomModel.get('$fromToolbox')
//     && otherAxisModel
//     && otherAxisModel.hasSeriesStacked
// ) {
//     filterMode = 'empty';
// }
// TODO
// filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.
DV(i,(function(e){var t=e.getData(),i=t.mapDimensionsAll(n);if(i.length){if("weakFilter"===o){var a=t.getStore(),l=We(i,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){for(var t,n,o,s=0;s<i.length;s++){var u=a.get(l[s],e),c=!isNaN(u),d=u<r[0],p=u>r[1];if(c&&!d&&!p)return!0;c&&(o=!0),d&&(t=!0),p&&(n=!0)}// If both left out and right out, do not filter.
return o&&t&&n}))}else DV(i,(function(n){if("empty"===o)e.setData(t=t.map(n,(function(e){return function(e){return e>=r[0]&&e<=r[1]}(e)?e:NaN})));else{var i={};i[n]=r,// console.time('select');
t.selectRange(i)}}));DV(i,(function(e){t.setApproximateExtent(r,e)}))}}))}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;DV(["min","max"],(function(i){var o=t.get(i+"Span"),r=t.get(i+"ValueSpan");null!=r&&(r=this.getAxisModel().axis.scale.parse(r)),// minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan
null!=r?o=$r(n[0]+r,n,[0,100],!0):null!=o&&(r=$r(o,[0,100],n,!0)-n[0]),e[i+"Span"]=o,e[i+"ValueSpan"]=r}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){// [0, 500]: arbitrary value, guess axis extent.
var i=na(n,[0,500]);i=Math.min(i,20);// For value axis, if min/max/scale are not set, we just use the extent obtained
// by series data, which may be a little different from the extent calculated by
// `axisHelper.getScaleExtent`. But the different just affects the experience a
// little when zooming. So it will not be fixed until some users require it strongly.
var o=e.axis.scale.rawExtentInfo;0!==t[0]&&o.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==t[1]&&o.setDeterminedMinMax("max",+n[1].toFixed(i)),o.freeze()}},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var LV=PV,EV={// `dataZoomProcessor` will only be performed in needed series. Consider if
// there is a line series and a pie series, it is better not to update the
// line series if only pie series is needed to be updated.
getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,o){var r=e.getComponent(yV(i),o);t(i,o,r,n)}))}))}// FIXME: it brings side-effect to `getTargetSeries`.
// Prepare axis proxies.
t((function(e,t,n,i){// dispose all last axis proxy, in case that some axis are deleted.
n.__dzAxisProxy=null}));var n=[];t((function(t,i,o,r){// Different dataZooms may constrol the same axis. In that case,
// an axisProxy serves both of them.
o.__dzAxisProxy||(// Use the first dataZoomModel as the main model of axisProxy.
o.__dzAxisProxy=new LV(t,i,r,e),n.push(o.__dzAxisProxy))}));var i=bt();return Ge(n,(function(e){Ge(e.getTargetSeriesModels(),(function(e){i.set(e.uid,e)}))})),i},// Consider appendData, where filter should be performed. Because data process is
// in block mode currently, it is not need to worry about that the overallProgress
// execute every frame.
overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){// We calculate window and reset axis here but not in model
// init stage and not after action dispatch handler, because
// reset should be called after seriesData.restoreData.
e.eachTargetAxis((function(t,n){e.getAxisProxy(t,n).reset(e)})),// Caution: data zoom filtering is order sensitive when using
// percent range and no min/max/scale set on axis.
// For example, we have dataZoom definition:
// [
//      {xAxisIndex: 0, start: 30, end: 70},
//      {yAxisIndex: 0, start: 20, end: 80}
// ]
// In this case, [20, 80] of y-dataZoom should be based on data
// that have filtered by x-dataZoom using range of [30, 70],
// but should not be based on full raw data. Thus sliding
// x-dataZoom will change both ranges of xAxis and yAxis,
// while sliding y-dataZoom will only change the range of yAxis.
// So we should filter x-axis after reset x-axis immediately,
// and then reset y-axis and filter y-axis.
e.eachTargetAxis((function(n,i){e.getAxisProxy(n,i).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){// Fullfill all of the range props so that user
// is able to get them from chart.getOption().
var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow(),i=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}}))}},NV=EV;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var RV=!1;function zV(e){RV||(RV=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,NV),
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerAction("dataZoom",(function(e,t){Ge(mV(t,e),(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}(e),e.registerSubTypeDefaulter("dataZoom",(function(){// Default 'slider' when no type specified.
return"slider"})))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function BV(e){e.registerComponentModel(MV),e.registerComponentView(AV),zV(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */var FV=function(){},VV={};function jV(e,t){VV[e]=t}function HV(e){return VV[e]}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var GV=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;Ge(this.option.feature,(function(e,n){var i=HV(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),Re(e,i.defaultOption))}))},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,// zlevel: 0,
orient:"horizontal",left:"right",top:"top",// right
// bottom
backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},// textStyle: {},
// feature
tooltip:{show:!1,position:"bottom"}},t}(tf),WV=GV;function KV(e,t){var n=Nh(t.get("padding")),i=t.getItemStyle(["color","opacity"]);// FIXME
// `subPixelOptimizeRect` may bring some gap between edge of viewpart
// and background rect when setting like `left: 0`, `top: 0`.
// graphic.subPixelOptimizeRect(rect);
return i.fill=t.get("backgroundColor"),e=new Gs({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var UV=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.render=function(e,t,n,i){var o=this.group;if(o.removeAll(),e.get("show")){var r=+e.get("itemSize"),a="vertical"===e.get("orient"),l=e.get("feature")||{},s=this._features||(this._features={}),u=[];Ge(l,(function(e,t){u.push(t)})),new ab(this._featureNames||[],u).add(c).update(c).remove(qe(c,null)).execute(),// Keep for diff.
this._featureNames=u,
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * Layout list like component.
       * It will box layout each items in group of component and then position the whole group in the viewport
       * @param {module:zrender/group/Group} group
       * @param {module:echarts/model/Component} componentModel
       * @param {module:echarts/ExtensionAPI}
       */
function(e,t,n){var i=t.getBoxLayoutParams(),o=t.get("padding"),r={width:n.getWidth(),height:n.getHeight()},a=Yh(i,r,o);Uh(t.get("orient"),e,t.get("itemGap"),a.width,a.height),Xh(e,i,r,o)}(o,e,n),// Render background after group is layout
// FIXME
o.add(KV(o.getBoundingRect(),e)),// Adjust icon title positions to avoid them out of screen
a||o.eachChild((function(e){var t=e.__title,i=e.ensureState("emphasis"),a=i.textConfig||(i.textConfig={}),l=e.getTextContent(),s=l&&l.ensureState("emphasis");// const hoverStyle = icon.hoverStyle;
// TODO simplify code?
// May be background element
if(s&&!$e(s)&&t){var u=s.style||(s.style={}),c=Ir(t,ru.makeFont(u)),d=e.x+o.x,p=!1;e.y+o.y+r+c.height>n.getHeight()&&(a.position="top",p=!0);var h=p?-5-c.height:r+10;d+c.width/2>n.getWidth()?(a.position=["100%",h],u.align="right"):d-c.width/2<0&&(a.position=[0,h],u.align="left")}}))}function c(c,d){var p,h=u[c],f=u[d],v=l[h],g=new Kp(v,e,e.ecModel);if(// FIX#11236, merge feature title from MagicType newOption. TODO: consider seriesIndex ?
i&&null!=i.newTitle&&i.featureName===h&&(v.title=i.newTitle),h&&!f){// Create
if(function(e){return 0===e.indexOf("my")}(h))p={onclick:g.option.onclick,featureName:h};else{var y=HV(h);if(!y)return;p=new y}s[h]=p}else// If feature does not exsit.
if(!(p=s[f]))return;p.uid=Yp("toolbox-feature"),p.model=g,p.ecModel=t,p.api=n;var m=p instanceof FV;h||!f?!g.get("show")||m&&p.unusable?m&&p.remove&&p.remove(t,n):(!function(i,l,s){var u,c,d=i.getModel("iconStyle"),p=i.getModel(["emphasis","iconStyle"]),h=l instanceof FV&&l.getIcons?l.getIcons():i.get("icon"),f=i.get("title")||{};Je(h)?(u={})[s]=h:u=h;Je(f)?(c={})[s]=f:c=f;var v=i.iconPaths={};Ge(u,(function(s,u){var h=sp(s,{},{x:-r/2,y:-r/2,width:r,height:r});// TODO handling image
h.setStyle(d.getItemStyle()),h.ensureState("emphasis").style=p.getItemStyle();// Text position calculation
var f=new ru({style:{text:c[u],align:p.get("textAlign"),borderRadius:p.get("textBorderRadius"),padding:p.get("textPadding"),fill:null},ignore:!0});h.setTextContent(f),pp({el:h,componentModel:e,itemName:u,formatterParamsExtra:{title:c[u]}}),h.__title=c[u],h.on("mouseover",(function(){// Should not reuse above hoverStyle, which might be modified.
var t=p.getItemStyle(),i=a?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";f.setStyle({fill:p.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:p.get("textBackgroundColor")}),h.setTextConfig({position:p.get("textPosition")||i}),f.ignore=!e.get("showTitle"),// Use enterEmphasis and leaveEmphasis provide by ec.
// There are flags managed by the echarts.
n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",u])&&n.leaveEmphasis(this),f.hide()})),("emphasis"===i.get(["iconStatus",u])?zu:Bu)(h),o.add(h),h.on("click",Xe(l.onclick,l,t,n,u)),v[u]=h}))}(g,p,h),g.setIconStatus=function(e,t){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,i[e]&&("emphasis"===t?zu:Bu)(i[e])},p instanceof FV&&p.render&&p.render(g,t,n,i)):m&&p.dispose&&p.dispose(t,n)}},t.prototype.updateView=function(e,t,n,i){Ge(this._features,(function(e){e instanceof FV&&e.updateView&&e.updateView(e.model,t,n,i)}))},// updateLayout(toolboxModel, ecModel, api, payload) {
//     zrUtil.each(this._features, function (feature) {
//         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);
//     });
// },
t.prototype.remove=function(e,t){Ge(this._features,(function(n){n instanceof FV&&n.remove&&n.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){Ge(this._features,(function(n){n instanceof FV&&n.dispose&&n.dispose(e,t)}))},t.type="toolbox",t}(Jg);var YV=UV,XV=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o="svg"===t.getZr().painter.getType(),r=o?"svg":n.get("type",!0)||"png",a=t.getConnectedDataURL({type:r,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),l=fe.browser;// Chrome, Firefox, New Edge
if($e(MouseEvent)&&(l.newEdge||!l.ie&&!l.edge)){var s=document.createElement("a");s.download=i+"."+r,s.target="_blank",s.href=a;var u=new MouseEvent("click",{// some micro front-end framework， window maybe is a Proxy
view:document.defaultView,bubbles:!0,cancelable:!1});s.dispatchEvent(u)}// IE or old Edge
else// @ts-ignore
if(window.navigator.msSaveOrOpenBlob||o){var c=a.split(","),d=c[0].indexOf("base64")>-1,p=o?decodeURIComponent(c[1]):c[1];// data:[<mime type>][;charset=<charset>][;base64],<encoded data>
// only `atob` when the data uri is encoded with base64
// otherwise, like `svg` data uri exported by zrender,
// there will be an error, for it's not encoded with base64.
// (just a url-encoded string through `encodeURIComponent`)
d&&(p=window.atob(p));var h=i+"."+r;// @ts-ignore
if(window.navigator.msSaveOrOpenBlob){for(var f=p.length,v=new Uint8Array(f);f--;)v[f]=p.charCodeAt(f);var g=new Blob([v]);// @ts-ignore
window.navigator.msSaveOrOpenBlob(g,h)}else{var y=document.createElement("iframe");document.body.appendChild(y);var m=y.contentWindow,x=m.document;x.open("image/svg+xml","replace"),x.write(p),x.close(),m.focus(),x.execCommand("SaveAs",!0,h),document.body.removeChild(y)}}else{var b=n.get("lang"),_='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(b&&b[0]||"")+'" /></body>',w=window.open();w.document.write(_),w.document.title=i}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",// Default use option.backgroundColor
// backgroundColor: '#fff',
connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],// use current pixel ratio of device by default
// pixelRatio: 1,
lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(FV),qV=XV,ZV="__ec_magicType_stack__",$V=[["line","bar"],["stack"]],JV=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return Ge(e.get("type"),(function(e){t[e]&&(n[e]=t[e])})),n},t.getDefaultOption=function(e){return{show:!0,type:[],// Icon group
icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",// eslint-disable-next-line
stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},// `line`, `bar`, `stack`, `tiled`
title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,t,n){var i=this.model,o=i.get(["seriesIndex",n]);// Not supported magicType
if(QV[n]){var r,a={series:[]};Ge($V,(function(e){Ve(e,n)>=0&&Ge(e,(function(e){i.setIconStatus(e,"normal")}))})),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},(function(e){var t=e.subType,o=e.id,r=QV[n](t,o,e,i);r&&(// PENDING If merge original option?
Fe(r,e.option),a.series.push(r));// Modify boundaryGap
var l=e.coordinateSystem;if(l&&"cartesian2d"===l.type&&("line"===n||"bar"===n)){var s=l.getAxesByScale("ordinal")[0];if(s){var u=s.dim+"Axis",c=e.getReferringComponents(u,Ba).models[0].componentIndex;a[u]=a[u]||[];for(var d=0;d<=c;d++)a[u][c]=a[u][c]||{};a[u][c].boundaryGap="bar"===n}}}));var l=n;// Change title of stack
"stack"===n&&(// use titles in model instead of ecModel
// as stack and tiled appears in pair, just flip them
// no need of checking stack state
r=Re({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",n])&&(l="tiled")),t.dispatchAction({type:"changeMagicType",currentType:l,newOption:a,newTitle:r,featureName:"magicType"})}},t}(FV),QV={line:function(e,t,n,i){if("bar"===e)return Re({id:t,type:"line",// Preserve data related option
data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(e,t,n,i){if("line"===e)return Re({id:t,type:"bar",// Preserve data related option
data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(e,t,n,i){var o=n.get("stack")===ZV;if("line"===e||"bar"===e)return i.setIconStatus("stack",o?"normal":"emphasis"),Re({id:t,stack:o?"":ZV},i.get(["option","stack"])||{},!0)}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/* global window, document */ // TODO: SELF REGISTERED.
Xx({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));var ej=JV,tj=new Array(60).join("-"),nj="\t";
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/* global document */function ij(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}
/**
       * If a block is tsv format
       */var oj=new RegExp("[\t]+","g");
/**
       * @param {string} tsv
       * @return {Object}
       */function rj(e,t){var n=e.split(new RegExp("\n*"+tj+"\n*","g")),i={series:[]};return Ge(n,(function(e,n){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf(nj)>=0)return!0}(e)){var o=function(e){for(var t=e.split(/\n+/g),n=[],i=We(ij(t.shift()).split(oj),(function(e){return{name:e,data:[]}})),o=0;o<t.length;o++){var r=ij(t[o]).split(oj);n.push(r.shift());for(var a=0;a<r.length;a++)i[a]&&(i[a].data[o]=r[a])}return{series:i,categories:n}}(e),r=t[n],a=r.axisDim+"Axis";r&&(i[a]=i[a]||[],i[a][r.axisIndex]={data:o.categories},i.series=i.series.concat(o.series))}else{o=function(e){for(var t=e.split(/\n+/g),n=ij(t.shift()),i=[],o=0;o<t.length;o++){// if line is empty, ignore it.
// there is a case that a user forgot to delete `\n`.
var r=ij(t[o]);if(r){var a=r.split(oj),l="",s=void 0,u=!1;isNaN(a[0])?(// First item is name
u=!0,l=a[0],a=a.slice(1),i[o]={name:l,value:[]},s=i[o].value):s=i[o]=[];for(var c=0;c<a.length;c++)s.push(+a[c]);1===s.length&&(u?i[o].value=s[0]:i[o]=s[0])}}return{name:n,data:i}}(e);i.series.push(o)}})),i}var aj=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.onclick=function(e,t){// FIXME: better way?
setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var n=t.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");// use padding to avoid 5px whitespace
o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";// Create elements
var r=document.createElement("h4"),a=i.get("lang")||[];r.innerHTML=a[0]||i.get("title"),r.style.cssText="margin:10px 20px",r.style.color=i.get("textColor");var l=document.createElement("div"),s=document.createElement("textarea");l.style.cssText="overflow:auto";var u=i.get("optionToContent"),c=i.get("contentToOption"),d=function(e){var t,n,i,o=
/**
       * Group series into two types
       *  1. on category axis, like line, bar
       *  2. others, like scatter, pie
       */
function(e){var t={},n=[],i=[];return e.eachRawSeries((function(e){var o=e.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(e);else{// TODO: TYPE Consider polar? Include polar may increase unecessary bundle size.
var r=o.getBaseAxis();if("category"===r.type){var a=r.dim+"_"+r.index;t[a]||(t[a]={categoryAxis:r,valueAxis:o.getOtherAxis(r),series:[]},i.push({axisDim:r.dim,axisIndex:r.index})),t[a].series.push(e)}else n.push(e)}})),{seriesGroupByCategoryAxis:t,other:n,meta:i}}
/**
       * Assemble content of series on cateogory axis
       * @inner
       */(e);return{value:Ue([(n=o.seriesGroupByCategoryAxis,i=[],Ge(n,(function(e,t){var n=e.categoryAxis,o=e.valueAxis.dim,r=[" "].concat(We(e.series,(function(e){return e.name}))),a=[n.model.getCategories()];Ge(e.series,(function(e){var t=e.getRawData();a.push(e.getRawData().mapArray(t.mapDimension(o),(function(e){return e})))}));for(// Assemble table content
var l=[r.join(nj)],s=0;s<a[0].length;s++){for(var u=[],c=0;c<a.length;c++)u.push(a[c][s]);l.push(u.join(nj))}i.push(l.join("\n"))})),i.join("\n\n"+tj+"\n\n")),(t=o.other,We(t,(function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,o=arguments[e-1],r=t.getName(o),a=0;a<e-1;a++)i[a]=arguments[a];n.push((r?r+nj:"")+i.join(nj))})),n.join("\n")})).join("\n\n"+tj+"\n\n"))],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+tj+"\n\n"),meta:o.meta}}(e);if($e(u)){var p=u(t.getOption());Je(p)?l.innerHTML=p:ot(p)&&l.appendChild(p)}else{// Use default textarea
s.readOnly=i.get("readOnly");var h=s.style;// eslint-disable-next-line max-len
h.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",h.color=i.get("textColor"),h.borderColor=i.get("textareaBorderColor"),h.backgroundColor=i.get("textareaColor"),s.value=d.value,l.appendChild(s)}var f=d.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:5px;left:0;right:0";// eslint-disable-next-line max-len
var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),m=document.createElement("div");g+=";background-color:"+i.get("buttonColor"),g+=";color:"+i.get("buttonTextColor");var x=this;function b(){n.removeChild(o),x._dom=null}vn(y,"click",b),vn(m,"click",(function(){if(null==c&&null!=u||null!=c&&null==u)b();else{var e;try{e=$e(c)?c(l,t.getOption()):rj(s.value,f)}catch(qX){throw b(),new Error("Data view format error "+qX)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),b()}})),y.innerHTML=a[1],m.innerHTML=a[2],m.style.cssText=y.style.cssText=g,!i.get("readOnly")&&v.appendChild(m),v.appendChild(y),o.appendChild(r),o.appendChild(l),o.appendChild(v),l.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,// eslint-disable-next-line
icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(FV);
/**
       * @inner
       */function lj(e,t){return We(e,(function(e,n){var i=t&&t[n];if(tt(i)&&!Ze(i)){tt(e)&&!Ze(e)||(e={value:e});// original data has name but new data has no name
var o=null!=i.name&&null==e.name;// Original data has option
return e=Fe(e,i),o&&delete e.name,e}return e}))}// TODO: SELF REGISTERED.
Xx({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var n=[];Ge(e.newOption.series,(function(e){var i=t.getSeriesByName(e.name)[0];if(i){var o=i.get("data");n.push({name:e.name,data:lj(e.data,o)})}else// New created series
// Geuss the series type
n.push(Be({// Default is scatter
type:"scatter"},e))})),t.mergeOption(Fe({series:n},e.newOption))}));var sj=aj,uj=Ge,cj=Ea();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * History length of each dataZoom may be different.
       * this._history[0] is used to store origin range.
       */
function dj(e){var t=cj(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var pj=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.onclick=function(e,t){!function(e){cj(e).snapshots=null}(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,// eslint-disable-next-line
icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(FV);// TODO: SELF REGISTERED.
Xx({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var hj=pj,fj=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],vj=/** @class */function(){
/**
         * @param finder contains Index/Id/Name of xAxis/yAxis/geo/grid
         *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}
         * @param opt.include include coordinate system types.
         */
function e(e,t,n){var i=this;this._targetInfoList=[];var o=yj(t,e);Ge(mj,(function(e,t){(!n||!n.include||Ve(n.include,t)>=0)&&e(o,i._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,n){// area.coordRange is the first of area.coordRanges
if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;// In 'category' axis, coord to pixel is not reversible, so we can not
// rebuild range by coordRange accrately, which may bring trouble when
// brushing only one item. So we use __rangeOffset to rebuilding range
// by coordRange. And this it only used in brush component so it is no
// need to be adapted to coordRanges.
var i=_j[e.brushType](0,n,t);e.__rangeOffset={offset:Sj[e.brushType](i.values,e.range,[1,1]),xyMinMax:i.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,n){Ge(e,(function(e){var i=this.findTargetInfo(e,t);i&&!0!==i&&Ge(i.coordSyses,(function(i){var o=_j[e.brushType](1,i,e.range,!0);n(e,o.values,i,t)}))}),this)},
/**
         * the `areas` is `BrushModel.areas`.
         * Called in layout stage.
         * convert `area.coordRange` to global range and set panelId to `area.range`.
         */
e.prototype.setInputRanges=function(e,t){Ge(e,(function(e){var n,i,o,r,a,l=this.findTargetInfo(e,t);// convert coordRange to global range and set panelId.
if(e.range=e.range||[],l&&!0!==l){e.panelId=l.panelId;// (1) area.range shoule always be calculate from coordRange but does
// not keep its original value, for the sake of the dataZoom scenario,
// where area.coordRange remains unchanged but area.range may be changed.
// (2) Only support converting one coordRange to pixel range in brush
// component. So do not consider `coordRanges`.
// (3) About __rangeOffset, see comment above.
var s=_j[e.brushType](0,l.coordSys,e.coordRange),u=e.__rangeOffset;e.range=u?Sj[e.brushType](s.values,u.offset,(n=s.xyMinMax,i=u.xyMinMax,o=Mj(n),r=Mj(i),a=[o[0]/r[0],o[1]/r[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):s.values}}),this)},e.prototype.makePanelOpts=function(e,t){return We(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:aE(i),isTargetByCursor:sE(i,e,n.coordSysModel),getLinearBrushOtherExtent:lE(i)}}))},e.prototype.controlSeries=function(e,t,n){// Check whether area is bound in coord, and series do not belong to that coord.
// If do not do this check, some brush (like lineX) will controll all axes.
var i=this.findTargetInfo(e,n);return!0===i||i&&Ve(i.coordSyses,t.coordinateSystem)>=0},
/**
         * If return Object, a coord found.
         * If reutrn true, global found.
         * Otherwise nothing found.
         */
e.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=yj(t,e),o=0;o<n.length;o++){var r=n[o],a=e.panelId;if(a){if(r.panelId===a)return r}else for(var l=0;l<xj.length;l++)if(xj[l](i,r))return r}return!0},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
// how to genarialize to more coordinate systems.
function gj(e){return e[0]>e[1]&&e.reverse(),e}function yj(e,t){return Ra(e,t,{includeMainTypes:fj})}var mj={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,o=e.gridModels,r=bt(),a={},l={};(n||i||o)&&(Ge(n,(function(e){var t=e.axis.grid.model;r.set(t.id,t),a[t.id]=!0})),Ge(i,(function(e){var t=e.axis.grid.model;r.set(t.id,t),l[t.id]=!0})),Ge(o,(function(e){r.set(e.id,e),a[e.id]=!0,l[e.id]=!0})),r.each((function(e){var o=e.coordinateSystem,r=[];Ge(o.getCartesians(),(function(e,t){(Ve(n,e.getAxis("x").model)>=0||Ve(i,e.getAxis("y").model)>=0)&&r.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,// Use the first one as the representitive coordSys.
coordSys:r[0],coordSyses:r,getPanelRect:bj.grid,xAxisDeclared:a[e.id],yAxisDeclared:l[e.id]})})))},geo:function(e,t){Ge(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:bj.geo})}))}},xj=[// grid
function(e,t){var n=e.xAxisModel,i=e.yAxisModel,o=e.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===t.gridModel},// geo
function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],bj={grid:function(){// grid is not Transformable.
return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();// geo roam and zoom transform
return t.applyTransform(np(e)),t}},_j={lineX:qe(wj,0),lineY:qe(wj,1),rect:function(e,t,n,i){var o=e?t.pointToData([n[0][0],n[1][0]],i):t.dataToPoint([n[0][0],n[1][0]],i),r=e?t.pointToData([n[0][1],n[1][1]],i):t.dataToPoint([n[0][1],n[1][1]],i),a=[gj([o[0],r[0]]),gj([o[1],r[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n,i){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:We(n,(function(n){var r=e?t.pointToData(n,i):t.dataToPoint(n,i);return o[0][0]=Math.min(o[0][0],r[0]),o[1][0]=Math.min(o[1][0],r[1]),o[0][1]=Math.max(o[0][1],r[0]),o[1][1]=Math.max(o[1][1],r[1]),r})),xyMinMax:o}}};function wj(e,t,n,i){var o=n.getAxis(["x","y"][e]),r=gj(We([0,1],(function(e){return t?o.coordToData(o.toLocalCoord(i[e]),!0):o.toGlobalCoord(o.dataToCoord(i[e]))}))),a=[];return a[e]=r,a[1-e]=[NaN,NaN],{values:r,xyMinMax:a}}var Sj={lineX:qe(Cj,0),lineY:qe(Cj,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return We(e,(function(e,i){return[e[0]-n[0]*t[i][0],e[1]-n[1]*t[i][1]]}))}};function Cj(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}// We have to process scale caused by dataZoom manually,
// although it might be not accurate.
// Return [0~1, 0~1]
function Mj(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var Tj,Ij,kj=vj,Aj=Ge,Dj=_a+"toolbox-dataZoom_",Oj=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.render=function(e,t,n,i){this._brushController||(this._brushController=new rE(n.getZr()),this._brushController.on("brush",Xe(this._onBrush,this)).mount()),function(e,t,n,i,o){var r=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(r="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n._isZoomActive=r,e.setIconStatus("zoom",r?"emphasis":"normal");var a=new kj(Lj(e),t,{include:["grid"]}),l=a.makePanelOpts(o,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(l).enableBrush(!(!r||!l.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(e,t,this,i,n),function(e,t){e.setIconStatus("back",function(e){return dj(e).length}(t)>1?"emphasis":"normal")}(e,t)},t.prototype.onclick=function(e,t,n){Pj[n].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new kj(Lj(this.model),i,{include:["grid"]}).matchOutputRanges(t,i,(function(e,t,n){if("cartesian2d"===n.type){var i=e.brushType;"rect"===i?(o("x",n,t[0]),o("y",n,t[1])):o({lineX:"x",lineY:"y"}[i],n,t)}})),
/**
       * @param ecModel
       * @param newSnapshot key is dataZoomId
       */
function(e,t){var n=dj(e);// If previous dataZoom can not be found,
// complete an range with current range.
uj(t,(function(t,i){for(var o=n.length-1;o>=0&&!n[o][i];o--);if(o<0){// No origin range set, create one by current range.
var r=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(r){var a=r.getPercentRange();n[0][i]={dataZoomId:i,start:a[0],end:a[1]}}}})),n.push(t)}(i,n),this._dispatchZoomAction(n)}function o(e,t,o){var r=t.getAxis(e),a=r.model,l=function(e,t,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(e,t.componentIndex)&&(i=n)})),i}(e,a,i),s=l.findRepresentativeAxisProxy(a).getMinMaxSpan();null==s.minValueSpan&&null==s.maxValueSpan||(o=eL(0,o.slice(),r.scale.getExtent(),0,s.minValueSpan,s.maxValueSpan)),l&&(n[l.id]={dataZoomId:l.id,startValue:o[0],endValue:o[1]})}},t.prototype._dispatchZoomAction=function(e){var t=[];// Convert from hash map to array.
Aj(e,(function(e,n){t.push(Ne(e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",// Icon group
icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},// `zoom`, `back`
title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(FV),Pj={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(function(e){var t=dj(e),n=t[t.length-1];t.length>1&&t.pop();// Find top for all dataZoom.
var i={};return uj(n,(function(e,n){for(var o=t.length-1;o>=0;o--)if(e=t[o][n]){i[n]=e;break}})),i}(this.ecModel))}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function Lj(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};// If both `xAxisIndex` `xAxisId` not set, it means 'all'.
// If both `yAxisIndex` `yAxisId` not set, it means 'all'.
// Some old cases set like this below to close yAxis control but leave xAxis control:
// `{ feature: { dataZoom: { yAxisIndex: false } }`.
return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}Tj="dataZoom",Ij=function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(t&&null!=t.get(n)){var i=t.getModel(n),o=[],r=Ra(e,Lj(i));return Aj(r.xAxisModels,(function(e){return a(e,"xAxis","xAxisIndex")})),Aj(r.yAxisModels,(function(e){return a(e,"yAxis","yAxisIndex")})),o}function a(e,t,n){var r=e.componentIndex,a={type:"select",$fromToolbox:!0,// Default to be filter
filterMode:i.get("filterMode",!0)||"filter",// Id for merge mapping.
id:Dj+t+r};a[n]=r,o.push(a)}},pt(null==Cf.get(Tj)&&Ij),Cf.set(Tj,Ij);var Ej=Oj;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var Nj=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={// zlevel: 0,
z:60,show:!0,// tooltip main content
showContent:!0,// 'trigger' only works on coordinate system.
// 'item' | 'axis' | 'none'
trigger:"item",// 'click' | 'mousemove' | 'none'
triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",// whether restraint content inside viewRect.
// If renderMode: 'richText', default true.
// If renderMode: 'html', defaut false (for backward compat).
confine:null,showDelay:0,hideDelay:100,// Animation transition time, unit is second
transitionDuration:.4,enterable:!1,backgroundColor:"#fff",// box shadow
shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,// tooltip border radius, unit is px, default is 4
borderRadius:4,// tooltip border width, unit is px, default is 0 (no border)
borderWidth:1,// Tooltip inside padding, default is 5 for all direction
// Array is allowed to set up, right, bottom, left, same with css
// The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.
padding:null,// Extra css text
extraCssText:"",// axis indicator, trigger by axis
axisPointer:{// default is line
// legal values: 'line' | 'shadow' | 'cross'
type:"line",// Valid when type is line, appoint tooltip line locate on which line. Optional
// legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'
// default is 'auto', chose the axis which type is category.
// for multiply y axis, cartesian coord chose x axis, polar chose angle axis
axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",// TODO formatter
textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(tf),Rj=Nj;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/* global document */function zj(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}function Bj(e){if(fe.domSupported)for(var t=document.documentElement.style,n=0,i=e.length;n<i;n++)if(e[n]in t)return e[n]}var Fj=Bj(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Vj(e,t){if(!e)return t;t=Eh(t,!0);var n=e.indexOf(t);return(e=-1===n?t:"-"+e.slice(0,n)+"-"+t).toLowerCase()}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/* global document, window */var jj=Vj(Bj(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Hj=Vj(Fj,"transform"),Gj="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(fe.transform3dSupported?"will-change:transform;":"");function Wj(e,t,n){// If using float on style, the final width of the dom might
// keep changing slightly while mouse move. So `toFixed(0)` them.
var i=e.toFixed(0)+"px",o=t.toFixed(0)+"px";// not support transform, use `left` and `top` instead.
if(!fe.transformSupported)return n?"top:"+o+";left:"+i+";":[["top",o],["left",i]];// support transform
var r=fe.transform3dSupported,a="translate"+(r?"3d":"")+"("+i+","+o+(r?",0":"")+")";return n?"top:0;left:0;"+Hj+":"+a+";":[["top",0],["left",0],[Fj,a]]}
/**
       * @param {Object} textStyle
       * @return {string}
       * @inner
       */function Kj(e,t,n){var i=[],o=e.get("transitionDuration"),r=e.get("backgroundColor"),a=e.get("shadowBlur"),l=e.get("shadowColor"),s=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),d=Rg(e,"html"),p=s+"px "+u+"px "+a+"px "+l;return i.push("box-shadow:"+p),// Animation transition. Do not animate when transitionDuration is 0.
t&&o&&i.push(function(e,t){var n="cubic-bezier(0.23,1,0.32,1)",i=" "+e/2+"s "+n,o="opacity"+i+",visibility"+i;return t||(i=" "+e+"s "+n,o+=fe.transformSupported?","+Hj+i:",left"+i+",top"+i),jj+":"+o}(o,n)),r&&i.push("background-color:"+r),// Border style
Ge(["width","color","radius"],(function(t){var n="border-"+t,o=Eh(n),r=e.get(o);null!=r&&i.push(n+":"+r+("color"===t?"":"px"))})),// Text style
i.push(function(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();i&&t.push("color:"+i),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px");var o=e.get("textShadowColor"),r=e.get("textShadowBlur")||0,a=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return o&&r&&t.push("text-shadow:"+a+"px "+l+"px "+r+"px "+o),Ge(["decoration","align"],(function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)})),t.join(";")}(c)),// Padding
null!=d&&i.push("padding:"+Nh(d).join("px ")+"px"),i.join(";")+";"}// If not able to make, do not modify the input `out`.
function Uj(e,t,n,i,o){var r=t&&t.painter;if(n){var a=r&&r.getViewportRoot();a&&// Some APPs might use scale on body, so we support CSS transform here.
function(e,t,n,i,o){nn(tn,t,i,o,!0)&&nn(e,n,tn[0],tn[1])}(e,a,document.body,i,o)}else{e[0]=i,e[1]=o;// xy should be based on canvas root. But tooltipContent is
// the sibling of canvas root. So padding of ec container
// should be considered here.
var l=r&&r.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Yj=/** @class */function(){function e(e,t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,fe.wxa)return null;var i=document.createElement("div");// TODO: TYPE
i.domBelongToZr=!0,this.el=i;var o=this._zr=t.getZr(),r=this._appendToBody=n&&n.appendToBody;Uj(this._styleCoord,o,r,t.getWidth()/2,t.getHeight()/2),r?document.body.appendChild(i):e.appendChild(i),this._container=e;// FIXME
// Is it needed to trigger zr event manually if
// the browser do not support `pointer-events: none`.
var a=this;i.onmouseenter=function(){// clear the timeout in hideLater and keep showing tooltip
a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!a._enterable){// `pointer-events: none` is set to tooltip content div
// if `enterable` is set as `false`, and `el.onmousemove`
// can not be triggered. But in browser that do not
// support `pointer-events`, we need to do this:
// Try trigger zrender event to avoid mouse
// in and out shape too frequently
var t=o.handler;fn(o.painter.getViewportRoot(),e,!0),t.dispatch("mousemove",e)}},i.onmouseleave=function(){// set `_inContent` to `false` before `hideLater`
a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}
/**
         * Update when tooltip is rendered
         */return e.prototype.update=function(e){// FIXME
// Move this logic to ec main?
var t,n,i,o=this._container,r=(n="position",(i=(t=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t))?n?i[n]:i:null),a=o.style;"absolute"!==a.position&&"absolute"!==r&&(a.position="relative"),e.get("alwaysShowContent")&&this._moveIfResized(),// update className
this.el.className=e.get("className")||"";// move tooltip if chart resized
},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,o=this._styleCoord;n.innerHTML?i.cssText=Gj+Kj(e,!this._firstShow,this._longHide)+Wj(o[0],o[1],!0)+"border-color:"+Vh(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,n,i,o){var r=this.el;if(null!=e){var a="";if(Je(o)&&"item"===n.get("trigger")&&!zj(n)&&(a=function(e,t,n){if(!Je(n)||"inside"===n)return"";var i=e.get("backgroundColor"),o=e.get("borderWidth");t=Vh(t);var r,a,l="left"===(r=n)?"right":"right"===r?"left":"top"===r?"bottom":"top",s=Math.max(1.5*Math.round(o),6),u="",c=Hj+":";Ve(["left","right"],l)>-1?(u+="top:50%",c+="translateY(-50%) rotate("+(a="left"===l?-225:-45)+"deg)"):(u+="left:50%",c+="translateX(-50%) rotate("+(a="top"===l?225:45)+"deg)");var d=a*Math.PI/180,p=s+o,h=p*Math.abs(Math.cos(d))+p*Math.abs(Math.sin(d)),f=t+" solid "+o+"px;";return'<div style="'+["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",(u+=";"+l+":-"+Math.round(100*((h-Math.SQRT2*o)/2+Math.SQRT2*o-(h-p)/2))/100+"px")+";"+c+";","border-bottom:"+f,"border-right:"+f,"background-color:"+i+";"].join("")+'"></div>'}(n,i,o)),Je(e))r.innerHTML=e+a;else if(e){// Clear previous
r.innerHTML="",Ze(e)||(e=[e]);for(var l=0;l<e.length;l++)ot(e[l])&&e[l].parentNode!==r&&r.appendChild(e[l]);// no arrow if empty
if(a&&r.childNodes.length){// no need to create a new parent element, but it's not supported by IE 10 and older.
// const arrowEl = document.createRange().createContextualFragment(arrow);
var s=document.createElement("div");s.innerHTML=a,r.appendChild(s)}}}else r.innerHTML=""},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},e.prototype.moveTo=function(e,t){var n=this._styleCoord;if(Uj(n,this._zr,this._appendToBody,e,t),null!=n[0]&&null!=n[1]){var i=this.el.style;Ge(Wj(n[0],n[1]),(function(e){i[e[0]]=e[1]}))}},
/**
         * when `alwaysShowContent` is true,
         * move the tooltip after chart resized
         */
e.prototype._moveIfResized=function(){// The ratio of left to width
var e=this._styleCoord[2],t=this._styleCoord[3];// The ratio of top to height
this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",fe.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return e._longHide=!0}),500)},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,// Set show false to avoid invoke hideLater multiple times
this._show=!1,this._hideTimeout=setTimeout(Xe(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}(),Xj=Yj,qj=/** @class */function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),Jj(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}
/**
         * Update when tooltip is rendered
         */return e.prototype.update=function(e){e.get("alwaysShowContent")&&this._moveIfResized()},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},
/**
         * Set tooltip content
         */
e.prototype.setContent=function(e,t,n,i,o){var r=this;tt(e)&&ma(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new ru({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Rg(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),Ge(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(e){r.el.style[e]=n.get(e)})),Ge(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(e){r.el.style[e]=a.get(e)||0})),this._zr.add(this.el);var l=this;this.el.on("mouseover",(function(){// clear the timeout in hideLater and keep showing tooltip
l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0})),this.el.on("mouseout",(function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}))},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=$j(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(e,t){var n=this.el;if(n){var i=this._styleCoord;Jj(i,this._zr,e,t),e=i[0],t=i[1];var o=n.style,r=Zj(o.borderWidth||0),a=$j(o);// rich text x, y do not include border.
n.x=e+r+a.left,n.y=t+r+a.top,n.markRedraw()}},
/**
         * when `alwaysShowContent` is true,
         * move the tooltip after chart resized
         */
e.prototype._moveIfResized=function(){// The ratio of left to width
var e=this._styleCoord[2],t=this._styleCoord[3];// The ratio of top to height
this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,// Set show false to avoid invoke hideLater multiple times
this._show=!1,this._hideTimeout=setTimeout(Xe(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Zj(e){return Math.max(0,e)}function $j(e){var t=Zj(e.shadowBlur||0),n=Zj(e.shadowOffsetX||0),i=Zj(e.shadowOffsetY||0);return{left:Zj(t-n),right:Zj(t+n),top:Zj(t-i),bottom:Zj(t+i)}}function Jj(e,t,n,i){e[0]=n,e[1]=i,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Qj=qj,eH=new Gs({shape:{x:-1,y:-1,width:2,height:2}}),tH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(e,t){if(!fe.node&&t.getDom()){var n,i=e.getComponent("tooltip"),o=this._renderMode="auto"===(n=i.get("renderMode"))?fe.domSupported?"html":"richText":n||"html";this._tooltipContent="richText"===o?new Qj(t):new Xj(t.getDom(),t,{appendToBody:i.get("appendToBody",!0)})}},t.prototype.render=function(e,t,n){if(!fe.node&&n.getDom()){// Reset
this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,
/**
           * @private
           * @type {boolean}
           */
this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),// PENDING
// `mousemove` event will be triggered very frequently when the mouse moves fast,
// which causes that the `updatePosition` function was also called frequently.
// In Chrome with devtools open and Firefox, tooltip looks laggy and shakes. See #14695 #16101
// To avoid frequent triggering,
// consider throttling it in 50ms when transition is enabled
"richText"!==this._renderMode&&e.get("transitionDuration")?hy(this,"_updatePosition",50,"fixRate"):fy(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");MB("itemTooltip",this._api,Xe((function(t,n,i){// If 'none', it is not controlled by mouse totally.
"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))}),this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,n=this._api,i=e.get("triggerOn");// Try to keep the tooltip show when refreshing
if(null!=this._lastX&&null!=this._lastY&&"none"!==i&&"click"!==i){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){// Show tip next tick after other charts are rendered
// In case highlight action has wrong result
// FIXME
!n.isDisposed()&&o.manuallyShowTip(e,t,n,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})}))}},
/**
         * Show tip manually by
         * dispatchAction({
         *     type: 'showTip',
         *     x: 10,
         *     y: 10
         * });
         * Or
         * dispatchAction({
         *      type: 'showTip',
         *      seriesIndex: 0,
         *      dataIndex or dataIndexInside or name
         * });
         *
         *  TODO Batch
         */
t.prototype.manuallyShowTip=function(e,t,n,i){if(i.from!==this.uid&&!fe.node&&n.getDom()){var o=iH(i,n);// Reset ticket
this._ticket="";// When triggered from axisPointer.
var r=i.dataByCoordSys,a=
/**
       * Find target component by payload like:
       * ```js
       * { legendId: 'some_id', name: 'xxx' }
       * { toolboxIndex: 1, name: 'xxx' }
       * { geoName: 'some_name', name: 'xxx' }
       * ```
       * PENDING: at present only
       *
       * If not found, return null/undefined.
       */
function(e,t,n){var i=za(e).queryOptionMap,o=i.keys()[0];if(!o||"series"===o)return;var r=Va(t,o,i.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}),a=r.models[0];if(!a)return;var l,s=n.getViewOfComponentModel(a);if(s.group.traverse((function(t){var n=au(t).tooltipConfig;if(n&&n.name===e.name)return l=t,!0;// stop
})),l)return{componentMainType:o,componentIndex:a.componentIndex,el:l}}(i,t,n);if(a){var l=a.el.getBoundingRect().clone();l.applyTransform(a.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:a.el,position:i.position,// When manully trigger, the mouse is not on the el, so we'd better to
// position tooltip on the bottom of the el and display arrow is possible.
positionDefault:"bottom"},o)}else if(i.tooltip&&null!=i.x&&null!=i.y){var s=eH;s.x=i.x,s.y=i.y,s.update(),au(s).tooltipConfig={name:null,option:i.tooltip},// Manually show tooltip while view is not using zrender elements.
this._tryShow({offsetX:i.x,offsetY:i.y,target:s},o)}else if(r)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:r,tooltipOption:i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var u=OB(i,t),c=u.point[0],d=u.point[1];null!=c&&null!=d&&this._tryShow({offsetX:c,offsetY:d,target:u.el,position:i.position,// When manully trigger, the mouse is not on the el, so we'd better to
// position tooltip on the bottom of the el and display arrow is possible.
positionDefault:"bottom"},o)}else null!=i.x&&null!=i.y&&(// FIXME
// should wrap dispatchAction like `axisPointer/globalListener` ?
n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o))}},t.prototype.manuallyHideTip=function(e,t,n,i){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(iH(i,n))},// Be compatible with previous design, that is, when tooltip.type is 'axis' and
// dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer
// and tooltip.
t.prototype._manuallyAxisShowTip=function(e,t,n,i){var o=i.seriesIndex,r=i.dataIndex,a=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=r&&null!=a){var l=t.getSeriesByIndex(o);if(l)if("axis"===nH([l.getData().getItemModel(r),l,(l.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:r,position:i.position}),!0}},t.prototype._tryShow=function(e,t){var n=e.target;if(this._tooltipModel){// Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed
this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,e);else if(n){var o,r;this._lastDataByCoordSys=null,rm(n,(function(e){// Always show item tooltip if mouse is on the element with dataIndex
return null!=au(e).dataIndex?(o=e,!0):// Tooltip provided directly. Like legend.
null!=au(e).tooltipConfig?(r=e,!0):void 0}),!0),o?this._showSeriesItemTooltip(e,o,t):r?this._showComponentItemTooltip(e,r,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){// showDelay is used in this case: tooltip.enterable is set
// as true. User intent to move mouse into tooltip and click
// something. `showDelay` makes it easier to enter the content
// but tooltip do not move immediately.
var n=e.get("showDelay");t=Xe(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},t.prototype._showAxisTooltip=function(e,t){var n=this._ecModel,i=this._tooltipModel,o=[t.offsetX,t.offsetY],r=nH([t.tooltipOption],i),a=this._renderMode,l=[],s=Tg("section",{blocks:[],noHeader:!0}),u=[],c=new zg;Ge(e,(function(e){Ge(e.dataByAxis,(function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),o=e.value;if(t&&null!=o){var r=cB(o,t.axis,n,e.seriesDataIndices,e.valueLabelOpt),d=Tg("section",{header:r,noHeader:!ht(r),sortBlocks:!0,blocks:[]});s.blocks.push(d),Ge(e.seriesDataIndices,(function(s){var p=n.getSeriesByIndex(s.seriesIndex),h=s.dataIndexInside,f=p.getDataParams(h);// Can't find data.
if(!(f.dataIndex<0)){f.axisDim=e.axisDim,f.axisIndex=e.axisIndex,f.axisType=e.axisType,f.axisId=e.axisId,f.axisValue=X_(t.axis,{value:o}),f.axisValueLabel=r,// Pre-create marker style for makers. Users can assemble richText
// text in `formatter` callback and use those markers style.
f.marker=c.makeTooltipMarker("item",Vh(f.color),a);var v=Hv(p.formatTooltip(h,!0,null)),g=v.frag;if(g){var y=nH([p],i).get("valueFormatter");d.blocks.push(y?Be({valueFormatter:y},g):g)}v.text&&u.push(v.text),l.push(f)}}))}}))})),// In most cases, the second axis is displays upper on the first one.
// So we reverse it to look better.
s.blocks.reverse(),u.reverse();var d=t.position,p=r.get("order"),h=Pg(s,c,a,p,n.get("useUTC"),r.get("textStyle"));h&&u.unshift(h);var f="richText"===a?"\n\n":"<br/>",v=u.join(f);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(e,l)?this._updatePosition(r,d,o[0],o[1],this._tooltipContent,l):this._showTooltipContent(r,v,l,Math.random()+"",o[0],o[1],d,null,c)}))},t.prototype._showSeriesItemTooltip=function(e,t,n){var i=this._ecModel,o=au(t),r=o.seriesIndex,a=i.getSeriesByIndex(r),l=o.dataModel||a,s=o.dataIndex,u=o.dataType,c=l.getData(u),d=this._renderMode,p=e.positionDefault,h=nH([c.getItemModel(s),l,a&&(a.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),f=h.get("trigger");if(null==f||"item"===f){var v=l.getDataParams(s,u),g=new zg;// Pre-create marker style for makers. Users can assemble richText
// text in `formatter` callback and use those markers style.
v.marker=g.makeTooltipMarker("item",Vh(v.color),d);var y=Hv(l.formatTooltip(s,!1,u)),m=h.get("order"),x=h.get("valueFormatter"),b=y.frag,_=b?Pg(x?Be({valueFormatter:x},b):b,g,d,m,i.get("useUTC"),h.get("textStyle")):y.text,w="item_"+l.name+"_"+s;this._showOrMove(h,(function(){this._showTooltipContent(h,_,v,w,e.offsetX,e.offsetY,e.position,e.target,g)})),// FIXME
// duplicated showtip if manuallyShowTip is called from dispatchAction.
n({type:"showTip",dataIndexInside:s,dataIndex:c.getRawIndex(s),seriesIndex:r,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,n){var i=au(t),o=i.tooltipConfig.option||{};if(Je(o)){o={content:o,// Fixed formatter
formatter:o}}var r=[o],a=this._ecModel.getComponent(i.componentMainType,i.componentIndex);a&&r.push(a),// In most cases, component tooltip formatter has different params with series tooltip formatter,
// so that they can not share the same formatter. Since the global tooltip formatter is used for series
// by convension, we do not use it as the default formatter for component.
r.push({formatter:o.content});var l=e.positionDefault,s=nH(r,this._tooltipModel,l?{position:l}:null),u=s.get("content"),c=Math.random()+"",d=new zg;// Do not check whether `trigger` is 'none' here, because `trigger`
// only works on coordinate system. In fact, we have not found case
// that requires setting `trigger` nothing on component yet.
this._showOrMove(s,(function(){// Use formatterParams from element defined in component
// Avoid users modify it.
var n=Ne(s.get("formatterParams")||{});this._showTooltipContent(s,u,n,c,e.offsetX,e.offsetY,e.position,t,d)})),// If not dispatch showTip, tip may be hide triggered by axis.
n({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(// Use Model<TooltipOption> insteadof TooltipModel because this model may be from series or other options.
// Instead of top level tooltip.
e,t,n,i,o,r,a,l,s){if(// Reset ticket
this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent;u.setEnterable(e.get("enterable"));var c=e.get("formatter");a=a||e.get("position");var d=t,p=this._getNearestPoint([o,r],n,e.get("trigger"),e.get("borderColor")).color;if(c)if(Je(c)){var h=e.ecModel.get("useUTC"),f=Ze(n)?n[0]:n;d=c,f&&f.axisType&&f.axisType.indexOf("time")>=0&&(d=gh(f.axisValue,d,h)),d=Fh(d,n,!0)}else if($e(c)){var v=Xe((function(t,i){t===this._ticket&&(u.setContent(i,s,e,p,a),this._updatePosition(e,a,o,r,u,n,l))}),this);this._ticket=i,d=c(n,i,v)}else d=c;u.setContent(d,s,e,p,a),u.show(e,p),this._updatePosition(e,a,o,r,u,n,l)}},t.prototype._getNearestPoint=function(e,t,n,i){return"axis"===n||Ze(t)?{color:i||("html"===this._renderMode?"#fff":"none")}:Ze(t)?void 0:{color:i||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,n,// Mouse x
i,// Mouse y
o,r,a){var l=this._api.getWidth(),s=this._api.getHeight();t=t||e.get("position");var u=o.getSize(),c=e.get("align"),d=e.get("verticalAlign"),p=a&&a.getBoundingRect().clone();if(a&&p.applyTransform(a.transform),$e(t)&&(// Callback of position can be an array or a string specify the position
t=t([n,i],r,o.el,p,{viewSize:[l,s],contentSize:u.slice()})),Ze(t))n=Jr(t[0],l),i=Jr(t[1],s);else if(tt(t)){var h=t;h.width=u[0],h.height=u[1];var f=Yh(h,{width:l,height:s});n=f.x,i=f.y,c=null,// When positionExpr is left/top/right/bottom,
// align and verticalAlign will not work.
d=null}// Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element
else if(Je(t)&&a){var v=function(e,t,n,i){var o=n[0],r=n[1],a=Math.ceil(Math.SQRT2*i)+8,l=0,s=0,u=t.width,c=t.height;switch(e){case"inside":l=t.x+u/2-o/2,s=t.y+c/2-r/2;break;case"top":l=t.x+u/2-o/2,s=t.y-r-a;break;case"bottom":l=t.x+u/2-o/2,s=t.y+c+a;break;case"left":l=t.x-o-a,s=t.y+c/2-r/2;break;case"right":l=t.x+u+a,s=t.y+c/2-r/2}return[l,s]}(t,p,u,e.get("borderWidth"));n=v[0],i=v[1]}else{v=function(e,t,n,i,o,r,a){var l=n.getSize(),s=l[0],u=l[1];null!=r&&(// Add extra 2 pixels for this case:
// At present the "values" in defaut tooltip are using CSS `float: right`.
// When the right edge of the tooltip box is on the right side of the
// viewport, the `float` layout might push the "values" to the second line.
e+s+r+2>i?e-=s+r:e+=r);null!=a&&(t+u+a>o?t-=u+a:t+=a);return[e,t]}(n,i,o,l,s,c?null:20,d?null:20);n=v[0],i=v[1]}if(c&&(n-=oH(c)?u[0]/2:"right"===c?u[0]:0),d&&(i-=oH(d)?u[1]/2:"bottom"===d?u[1]:0),zj(e)){v=function(e,t,n,i,o){var r=n.getSize(),a=r[0],l=r[1];return e=Math.min(e+a,i)-a,t=Math.min(t+l,o)-l,e=Math.max(e,0),t=Math.max(t,0),[e,t]}(n,i,o,l,s);n=v[0],i=v[1]}o.moveTo(n,i)},// FIXME
// Should we remove this but leave this to user?
t.prototype._updateContentNotChangedOnAxis=function(e,t){var n=this._lastDataByCoordSys,i=this._cbParamsList,o=!!n&&n.length===e.length;return o&&Ge(n,(function(n,r){var a=n.dataByAxis||[],l=(e[r]||{}).dataByAxis||[];(o=o&&a.length===l.length)&&Ge(a,(function(e,n){var r=l[n]||{},a=e.seriesDataIndices||[],s=r.seriesDataIndices||[];(o=o&&e.value===r.value&&e.axisType===r.axisType&&e.axisId===r.axisId&&a.length===s.length)&&Ge(a,(function(e,t){var n=s[t];o=o&&e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex})),// check is cbParams data value changed
i&&Ge(e.seriesDataIndices,(function(e){var n=e.seriesIndex,r=t[n],a=i[n];r&&a&&a.data!==r.data&&(o=!1)}))}))})),this._lastDataByCoordSys=e,this._cbParamsList=t,!!o},t.prototype._hide=function(e){// Do not directly hideLater here, because this behavior may be prevented
// in dispatchAction when showTip is dispatched.
// FIXME
// duplicated hideTip if manuallyHideTip is called from dispatchAction.
this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){!fe.node&&t.getDom()&&(fy(this,"_updatePosition"),this._tooltipContent.dispose(),kB("itemTooltip",t))},t.type="tooltip",t}(Jg);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * From top to bottom. (the last one should be globalTooltipModel);
       */
function nH(e,t,n){// Last is always tooltip model.
var i,o=t.ecModel;n?(i=new Kp(n,o,o),i=new Kp(t.option,i,o)):i=t;for(var r=e.length-1;r>=0;r--){var a=e[r];a&&(a instanceof Kp&&(a=a.get("tooltip",!0)),// In each data item tooltip can be simply write:
// {
//  value: 10,
//  tooltip: 'Something you need to know'
// }
Je(a)&&(a={formatter:a}),a&&(i=new Kp(a,i,o)))}return i}function iH(e,t){return e.dispatchAction||Xe(t.dispatchAction,t)}function oH(e){return"center"===e||"middle"===e}var rH=tH;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var aH=["rect","polygon","keep","clear"];function lH(e,t){var n=wa(e?e.brush:[]);if(n.length){var i=[];Ge(n,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(i=i.concat(t))}));var o=e&&e.toolbox;Ze(o)&&(o=o[0]),o||(o={feature:{}},e.toolbox=[o]);var r=o.feature||(o.feature={}),a=r.brush||(r.brush={}),l=a.type||(a.type=[]);l.push.apply(l,i),function(e){var t={};Ge(e,(function(e){t[e]=1})),e.length=0,Ge(t,(function(t,n){e.push(n)}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */(l),t&&!l.length&&l.push.apply(l,aH)}}var sH=Ge;function uH(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function cH(e,t,n){var i={};return sH(t,(function(t){var o,r=i[t]=(// Make sure hidden fields will not be visited by
// object iteration (with hasOwnProperty checking).
(o=function(){}).prototype.__hidden=o.prototype,new o);sH(e[t],(function(e,i){if(WD.isValidType(i)){var o={type:i,visual:e};n&&n(o,t),r[i]=new WD(o),// Prepare a alpha for opacity, for some case that opacity
// is not supported, such as rendering using gradient color.
"opacity"===i&&((o=Ne(o)).type="colorAlpha",r.__hidden.__alphaForOpacity=new WD(o))}}))})),i}function dH(e,t,n){// Visual attributes merge is not supported, otherwise it
// brings overcomplicated merge logic. See #2853. So if
// newOption has anyone of these keys, all of these keys
// will be reset. Otherwise, all keys remain.
var i;Ge(n,(function(e){t.hasOwnProperty(e)&&uH(t[e])&&(i=!0)})),i&&Ge(n,(function(n){t.hasOwnProperty(n)&&uH(t[n])?e[n]=Ne(t[n]):delete e[n]}))}
/**
       * @param stateList
       * @param visualMappings
       * @param list
       * @param getValueState param: valueOrIndex, return: state.
       * @param scope Scope for getValueState
       * @param dimension Concrete dimension, if used.
       */
// ???! handle brush?
var pH={lineX:hH(0),lineY:hH(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&tw(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var o=e.x,r=e.y,a=e.width,l=e.height,s=i[0];return!!(tw(i,o,r)||tw(i,o+a,r)||tw(i,o,r+l)||tw(i,o+a,r+l)||Fn.create(e).contain(s[0],s[1])||up(o,r,o+a,r,i)||up(o,r,o,r+l,i)||up(o+a,r,o+a,r+l,i)||up(o,r+l,o+a,r+l,i))||void 0}}};function hH(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,i){if(t){var o=i.range;return fH(t[e],o)}},rect:function(i,o,r){if(i){var a=r.range,l=[i[t[e]],i[t[e]]+i[n[e]]];return l[1]<l[0]&&l.reverse(),fH(l[0],a)||fH(l[1],a)||fH(a[0],l)||fH(a[1],l)}}}}function fH(e,t){return t[0]<=e&&e<=t[1]}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var vH=["inBrush","outOfBrush"],gH="__ecBrushSelect",yH="__ecInBrushSelectEvent";function mH(e){e.eachComponent({mainType:"brush"},(function(t){(t.brushTargetManager=new kj(t.option,e)).setInputRanges(t.areas,e)}))}
/**
       * Register the visual encoding if this modules required.
       */function xH(e,t,n){var i,o,r=[];e.eachComponent({mainType:"brush"},(function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),mH(e),e.eachComponent({mainType:"brush"},(function(t,n){var a={brushId:t.id,brushIndex:n,brushName:t.name,areas:Ne(t.areas),selected:[]};// Every brush component exists in event params, convenient
// for user to find by index.
r.push(a);var l=t.option,s=l.brushLink,u=[],c=[],d=[],p=!1;n||(// Only the first throttle setting works.
i=l.throttleType,o=l.throttleDelay);// Add boundingRect and selectors to range.
var h=We(t.areas,(function(e){var t=wH[e.brushType],n=Fe({boundingRect:t?t(e):void 0},e);return n.selectors=
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){var t=e.brushType,n={point:function(i){return pH[t].point(i,n,e)},rect:function(i){return pH[t].rect(i,n,e)}};// Do not use function binding or curry for performance.
return n}(n),n})),f=cH(t.option,vH,(function(e){e.mappingMethod="fixed"}));function v(e){return"all"===s||!!u[e]}// If no supported brush or no brush on the series,
// all visuals should be in original state.
function g(e){return!!e.length}
/**
           * Logic for each series: (If the logic has to be modified one day, do it carefully!)
           *
           * ( brushed ┬ && ┬hasBrushExist ┬ && linkOthers  ) => StepA: ┬record, ┬ StepB: ┬visualByRecord.
           *   !brushed┘    ├hasBrushExist ┤                            └nothing,┘        ├visualByRecord.
           *                └!hasBrushExist┘                                              └nothing.
           * ( !brushed  && ┬hasBrushExist ┬ && linkOthers  ) => StepA:  nothing,  StepB: ┬visualByRecord.
           *                └!hasBrushExist┘                                              └nothing.
           * ( brushed ┬ &&                     !linkOthers ) => StepA:  nothing,  StepB: ┬visualByCheck.
           *   !brushed┘                                                                  └nothing.
           * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.
           */
// Step A
Ze(s)&&Ge(s,(function(e){u[e]=1})),e.eachSeries((function(n,i){var o=d[i]=[];"parallel"===n.subType?function(e,t){var n=e.coordinateSystem;p=p||n.hasAxisBrushed(),v(t)&&n.eachActiveState(e.getData(),(function(e,t){"active"===e&&(c[t]=1)}))}(n,i):function(n,i,o){if(!n.brushSelector||function(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(Ze(n)?Ve(n,t)<0:t!==n)}(t,i))return;if(Ge(h,(function(i){t.brushTargetManager.controlSeries(i,n,e)&&o.push(i),p=p||g(o)})),v(i)&&g(o)){var r=n.getData();r.each((function(e){_H(n,o,r,e)&&(c[e]=1)}))}}// Step B
(n,i,o)})),e.eachSeries((function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};// Every series exists in event params, convenient
// for user to find series by seriesIndex.
a.selected.push(n);var i=d[t],o=e.getData(),r=v(t)?function(e){return c[e]?(n.dataIndex.push(o.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return _H(e,i,o,t)?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"};// If no supported brush or no brush, all visuals are in original state.
(v(t)?p:g(i))&&function(e,t,n,i,o,r){var a,l={};function s(e){return em(n,a,e)}function u(e,t){nm(n,a,e,t)}function c(e,c){a=null==r?e:c;var d=n.getRawDataItem(a);// Consider performance
// @ts-ignore
if(!d||!1!==d.visualMap)for(var p=i.call(o,e),h=t[p],f=l[p],v=0,g=f.length;v<g;v++){var y=f[v];h[y]&&h[y].applyVisual(e,s,u)}}Ge(e,(function(e){var n=WD.prepareVisualTypes(t[e]);l[e]=n})),null==r?n.each(c):n.each([r],c)}
/**
       * @param data
       * @param stateList
       * @param visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>
       * @param getValueState param: valueOrIndex, return: state.
       * @param dim dimension or dimension index.
       */(vH,f,o,r)}))})),function(e,t,n,i,o){// This event will not be triggered when `setOpion`, otherwise dead lock may
// triggered when do `setOption` in event listener, which we do not find
// satisfactory way to solve yet. Some considered resolutions:
// (a) Diff with prevoius selected data ant only trigger event when changed.
// But store previous data and diff precisely (i.e., not only by dataIndex, but
// also detect value changes in selected data) might bring complexity or fragility.
// (b) Use spectial param like `silent` to suppress event triggering.
// But such kind of volatile param may be weird in `setOption`.
if(!o)return;var r=e.getZr();if(r[yH])return;r[gH]||(r[gH]=bH);var a=hy(r,gH,n,t);a(e,i)}(t,i,o,r,n)}function bH(e,t){if(!e.isDisposed()){var n=e.getZr();n[yH]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[yH]=!1}}function _H(e,t,n,i){for(var o=0,r=t.length;o<r;o++){var a=t[o];if(e.brushSelector(i,n,a.selectors,a))return!0}}var wH={rect:function(e){return SH(e.range)},polygon:function(e){for(var t,n=e.range,i=0,o=n.length;i<o;i++){t=t||[[1/0,-1/0],[1/0,-1/0]];var r=n[i];r[0]<t[0][0]&&(t[0][0]=r[0]),r[0]>t[0][1]&&(t[0][1]=r[0]),r[1]<t[1][0]&&(t[1][0]=r[1]),r[1]>t[1][1]&&(t[1][1]=r[1])}return t&&SH(t)}};function SH(e){return new Fn(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var CH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new rE(t.getZr())).on("brush",Xe(this._onBrush,this)).mount()},t.prototype.render=function(e,t,n,i){this.model=e,this._updateController(e,t,n,i)},t.prototype.updateTransform=function(e,t,n,i){// PENDING: `updateTransform` is a little tricky, whose layout need
// to be calculate mandatorily and other stages will not be performed.
// Take care the correctness of the logic. See #11754 .
mH(t),this._updateController(e,t,n,i)},t.prototype.updateVisual=function(e,t,n,i){this.updateTransform(e,t,n,i)},t.prototype.updateView=function(e,t,n,i){this._updateController(e,t,n,i)},t.prototype._updateController=function(e,t,n,i){// Do not update controller when drawing.
(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},// updateLayout: updateController,
// updateVisual: updateController,
t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);// Action is not dispatched on drag end, because the drag end
// emits the same params with the last drag move event, and
// may have some delay when using touch pad, which makes
// animation not smooth (when using debounce).
(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:Ne(n),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:Ne(n),$from:t})},t.type="brush",t}(Jg),MH=CH,TH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,
/**
           * @readOnly
           */
n.areas=[],
/**
           * Current brush painting area settings.
           * @readOnly
           */
n.brushOption={},n}return de(t,e),t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&dH(n,e,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};// Always give default visual, consider setOption at the second time.
n.outOfBrush=n.outOfBrush||{color:"#ddd"},i.hasOwnProperty("liftZ")||(// Bigger than the highlight z lift, otherwise it will
// be effected by the highlight z when brush.
i.liftZ=5)},
/**
         * If `areas` is null/undefined, range state remain.
         */
t.prototype.setAreas=function(e){// This helps user to dispatchAction({type: 'brush'}) with no areas
// set but just want to get the current brush select info from a `brush` event.
e&&(this.areas=We(e,(function(e){return IH(this.option,e)}),this))},
/**
         * Set the current painting brush option.
         */
t.prototype.setBrushOption=function(e){this.brushOption=IH(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(tf);function IH(e,t){return Re({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Kp(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var kH=TH,AH=["rect","polygon","lineX","lineY","keep","clear"],DH=/** @class */function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return de(t,e),t.prototype.render=function(e,t,n){var i,o,r;t.eachComponent({mainType:"brush"},(function(e){i=e.brushType,o=e.brushOption.brushMode||"single",r=r||!!e.areas.length})),this._brushType=i,this._brushMode=o,Ge(e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===o:"clear"===t?r:t===i)?"emphasis":"normal")}))},t.prototype.updateView=function(e,t,n){this.render(e,t,n)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return Ge(e.get("type",!0),(function(e){t[e]&&(n[e]=t[e])})),n},t.prototype.onclick=function(e,t,n){var i=this._brushType,o=this._brushMode;"clear"===n?(// Trigger parallel action firstly
t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",// Clear all areas of all brush components.
areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},t.getDefaultOption=function(e){return{show:!0,type:AH.slice(),icon:{/* eslint-disable */rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},// `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`
title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(FV),OH=DH;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var PH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return de(t,e),t.type="title",t.defaultOption={// zlevel: 0,
z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(tf),LH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.render=function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,o=e.getModel("textStyle"),r=e.getModel("subtextStyle"),a=e.get("textAlign"),l=st(e.get("textBaseline"),e.get("textVerticalAlign")),s=new ru({style:_p(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),u=s.getBoundingRect(),c=e.get("subtext"),d=new ru({style:_p(r,{text:c,fill:r.getTextColor(),y:u.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=e.get("link"),h=e.get("sublink"),f=e.get("triggerEvent",!0);s.silent=!p&&!f,d.silent=!h&&!f,p&&s.on("click",(function(){jh(p,"_"+e.get("target"))})),h&&d.on("click",(function(){jh(h,"_"+e.get("subtarget"))})),au(s).eventData=au(d).eventData=f?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(s),c&&i.add(d);// If no subText, but add subTextEl, there will be an empty line.
var v=i.getBoundingRect(),g=e.getBoxLayoutParams();g.width=v.width,g.height=v.height;var y=Yh(g,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));// Adjust text align based on position
a||(// Align left if title is on the left. center and right is same
// @ts-ignore
"middle"===(a=e.get("left")||e.get("right"))&&(a="center"),// Adjust layout by text align
"right"===a?y.x+=y.width:"center"===a&&(y.x+=y.width/2)),l||(// @ts-ignore
"center"===(l=e.get("top")||e.get("bottom"))&&(l="middle"),"bottom"===l?y.y+=y.height:"middle"===l&&(y.y+=y.height/2),l=l||"top"),i.x=y.x,i.y=y.y,i.markRedraw();var m={align:a,verticalAlign:l};s.setStyle(m),d.setStyle(m),// Render background
// Get groupRect again because textAlign has been changed
v=i.getBoundingRect();var x=y.margin,b=e.getItemStyle(["color","opacity"]);b.fill=e.get("backgroundColor");var _=new Gs({shape:{x:v.x-x[3],y:v.y-x[0],width:v.width+x[1]+x[3],height:v.height+x[0]+x[2],r:e.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});i.add(_)}},t.type="title",t}(Jg);// View
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var EH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}
/**
         * @override
         */return de(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},
/**
         * @override
         */
t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},
/**
         * @return {number} currentIndex
         */
t.prototype.getCurrentIndex=function(){return this.option.currentIndex},
/**
         * @return {boolean}
         */
t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},
/**
         * @param {boolean} state true: play, false: stop
         */
t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},
/**
         * @return {boolean} true: play, false: stop
         */
t.prototype.getPlayState=function(){return!!this.option.autoPlay},
/**
         * @private
         */
t.prototype._initData=function(){var e,t=this.option,n=t.data||[],i=t.axisType,o=this._names=[];"category"===i?(e=[],Ge(n,(function(t,n){var i,r=Da(Ma(t),"");tt(t)?(i=Ne(t)).value=n:i=n,e.push(i),o.push(r)}))):e=n;var r={category:"ordinal",time:"time",value:"number"}[i]||"number";(this._data=new Ob([{name:"value",type:r}],this)).initData(e,o)},t.prototype.getData=function(){return this._data},
/**
         * @public
         * @return {Array.<string>} categoreis
         */
t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",
/**
         * @protected
         */
t.defaultOption={// zlevel: 0,                  // 一级层叠
z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(tf),NH=EH,RH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="timeline.slider",
/**
         * @protected
         */
t.defaultOption=Xp(NH.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",// When using number, label position is not
// restricted by viewRect.
// positive: right/bottom, negative: left/top
show:!0,interval:"auto",rotate:0,// formatter: null,
// 其余属性默认使用全局文本样式，详见TEXTSTYLE
color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",// borderColor: 'rgba(194,53,49, 0.5)',
animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",// eslint-disable-next-line max-len
nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",// eslint-disable-next-line max-len
prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,// 其余属性默认使用全局文本样式，详见TEXTSTYLE
color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(NH);je(RH,jv.prototype);var zH=RH,BH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="timeline",t}(Jg),FH=BH,VH=/** @class */function(e){function t(t,n,i,o){var r=e.call(this,t,n,i)||this;return r.type=o||"value",r}
/**
         * @override
         */return de(t,e),t.prototype.getLabelModel=function(){// Force override
return this.model.getModel("label")},
/**
         * @override
         */
t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Mw),jH=VH,HH=Math.PI,GH=Ea(),WH=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(e,t){this.api=t},
/**
         * @override
         */
t.prototype.render=function(e,t,n){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var i=this._layout(e,n),o=this._createGroup("_mainGroup"),r=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(i,e);e.formatTooltip=function(e){return Tg("nameValue",{noName:!0,value:a.scale.getLabel({value:e})})},Ge(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](i,o,a,e)}),this),this._renderAxisLabel(i,r,a,e),this._position(i,e)}this._doPlayStop(),this._updateTicksStatus()},
/**
         * @override
         */
t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},
/**
         * @override
         */
t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var n,i,o,r,a=e.get(["label","position"]),l=e.get("orient"),s=function(e,t){return Yh(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t),u={horizontal:"center",vertical:(// Auto label offset.
n=null==a||"auto"===a?"horizontal"===l?s.y+s.height/2<t.getHeight()/2?"-":"+":s.x+s.width/2<t.getWidth()/2?"+":"-":Je(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[l][a]:a)>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:HH/2},p="vertical"===l?s.height:s.width,h=e.getModel("controlStyle"),f=h.get("show",!0),v=f?h.get("itemSize"):0,g=f?h.get("itemGap"):0,y=v+g,m=e.get(["label","rotate"])||0;m=m*HH/180;var x=h.get("position",!0),b=f&&h.get("showPlayBtn",!0),_=f&&h.get("showPrevBtn",!0),w=f&&h.get("showNextBtn",!0),S=0,C=p;// position[0] means left, position[1] means middle.
"left"===x||"bottom"===x?(b&&(i=[0,0],S+=y),_&&(o=[S,0],S+=y),w&&(r=[C-v,0],C-=y)):(// 'top' 'right'
b&&(i=[C-v,0],C-=y),_&&(o=[0,0],S+=y),w&&(r=[C-v,0],C-=y));var M=[S,C];return e.get("inverse")&&M.reverse(),{viewRect:s,mainLength:p,orient:l,rotation:d[l],labelRotation:m,labelPosOpt:n,labelAlign:e.get(["label","align"])||u[l],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||c[l],// Based on mainGroup.
playPosition:i,prevBtnPosition:o,nextBtnPosition:r,axisExtent:M,controlSize:v,controlGap:g}},t.prototype._position=function(e,t){// Position is be called finally, because bounding rect is needed for
// adapt content to fill viewRect (auto adapt offset).
// Timeline may be not all in the viewRect when 'offset' is specified
// as a number, because it is more appropriate that label aligns at
// 'offset' but not the other edge defined by viewRect.
var n=this._mainGroup,i=this._labelGroup,o=e.viewRect;if("vertical"===e.orient){// transform to horizontal, inverse rotate by left-top point.
var r=[1,0,0,1,0,0],a=o.x,l=o.y+o.height;Cn(r,r,[-a,-l]),Mn(r,r,-HH/2),Cn(r,r,[a,l]),(o=o.clone()).applyTransform(r)}var s=g(o),u=g(n.getBoundingRect()),c=g(i.getBoundingRect()),d=[n.x,n.y],p=[i.x,i.y];p[0]=d[0]=s[0][0];var h,f=e.labelPosOpt;null==f||Je(f)?(y(d,u,s,1,h="+"===f?0:1),y(p,c,s,1,1-h)):(y(d,u,s,1,h=f>=0?0:1),p[1]=d[1]+f);function v(e){e.originX=s[0][0]-e.x,e.originY=s[1][0]-e.y}function g(e){// [[xmin, xmax], [ymin, ymax]]
return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function y(e,t,n,i,o){e[i]+=n[i][o]-t[i][o]}n.setPosition(d),i.setPosition(p),n.rotation=i.rotation=e.rotation,v(n),v(i)},t.prototype._createAxis=function(e,t){var n=t.getData(),i=t.get("axisType"),o=function(e,t){if(t=t||e.get("type"),t)switch(t){// Buildin scale
case"category":return new n_({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new I_({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:// default to be value
return new r_}}(t,i);// Customize scale. The `tickValue` is `dataIndex`.
o.getTicks=function(){return n.mapArray(["value"],(function(e){return{value:e}}))};var r=n.getDataExtent("value");o.setExtent(r[0],r[1]),o.calcNiceTicks();var a=new jH("value",o,e.axisExtent,i);return a.model=t,a},t.prototype._createGroup=function(e){var t=this[e]=new Kr;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,n,i){var o=n.getExtent();if(i.get(["lineStyle","show"])){var r=new ld({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Be({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(r);var a=this._progressLine=new ld({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Fe({lineCap:"round",lineWidth:r.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(a)}},t.prototype._renderAxisTick=function(e,t,n,i){var o=this,r=i.getData(),a=n.scale.getTicks();this._tickSymbols=[],// The value is dataIndex, see the customized scale.
Ge(a,(function(e){var a=n.dataToCoord(e.value),l=r.getItemModel(e.value),s=l.getModel("itemStyle"),u=l.getModel(["emphasis","itemStyle"]),c=l.getModel(["progress","itemStyle"]),d={x:a,y:0,onclick:Xe(o._changeTimeline,o,e.value)},p=KH(l,s,t,d);p.ensureState("emphasis").style=u.getItemStyle(),p.ensureState("progress").style=c.getItemStyle(),Zu(p);var h=au(p);l.get("tooltip")?(h.dataIndex=e.value,h.dataModel=i):h.dataIndex=h.dataModel=null,o._tickSymbols.push(p)}))},t.prototype._renderAxisLabel=function(e,t,n,i){var o=this;if(n.getLabelModel().get("show")){var r=i.getData(),a=n.getViewLabels();this._tickLabels=[],Ge(a,(function(i){// The tickValue is dataIndex, see the customized scale.
var a=i.tickValue,l=r.getItemModel(a),s=l.getModel("label"),u=l.getModel(["emphasis","label"]),c=l.getModel(["progress","label"]),d=n.dataToCoord(i.tickValue),p=new ru({x:d,y:0,rotation:e.labelRotation-e.rotation,onclick:Xe(o._changeTimeline,o,a),silent:!1,style:_p(s,{text:i.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});p.ensureState("emphasis").style=_p(u),p.ensureState("progress").style=_p(c),t.add(p),Zu(p),GH(p).dataIndex=a,o._tickLabels.push(p)}))}},t.prototype._renderControl=function(e,t,n,i){var o=e.controlSize,r=e.rotation,a=i.getModel("controlStyle").getItemStyle(),l=i.getModel(["emphasis","controlStyle"]).getItemStyle(),s=i.getPlayState(),u=i.get("inverse",!0);function c(e,n,s,u){if(e){var c=Or(st(i.get(["controlStyle",n+"BtnSize"]),o),o),d=function(e,t,n,i){var o=i.style,r=sp(e.get(["controlStyle",t]),i||{},new Fn(n[0],n[1],n[2],n[3]));// TODO createIcon won't use style in opt.
o&&r.setStyle(o);return r}
/**
       * Create symbol or update symbol
       * opt: basic position and event handlers
       */(i,n+"Icon",[0,-c/2,c,c],{x:e[0],y:e[1],originX:o/2,originY:0,rotation:u?-r:0,rectHover:!0,style:a,onclick:s});d.ensureState("emphasis").style=l,t.add(d),Zu(d)}}c(e.nextBtnPosition,"next",Xe(this._changeTimeline,this,u?"-":"+")),c(e.prevBtnPosition,"prev",Xe(this._changeTimeline,this,u?"+":"-")),c(e.playPosition,s?"stop":"play",Xe(this._handlePlayClick,this,!s),!0)},t.prototype._renderCurrentPointer=function(e,t,n,i){var o=i.getData(),r=i.getCurrentIndex(),a=o.getItemModel(r).getModel("checkpointStyle"),l=this,s={onCreate:function(e){e.draggable=!0,e.drift=Xe(l._handlePointerDrag,l),e.ondragend=Xe(l._handlePointerDragend,l),UH(e,l._progressLine,r,n,i,!0)},onUpdate:function(e){UH(e,l._progressLine,r,n,i)}};// Reuse when exists, for animation and drag.
this._currentPointer=KH(a,a,this._mainGroup,{},this._currentPointer,s)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var n=this._toAxisCoord(e)[0],i=ea(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=n,o.dirty());var r=this._findNearestTick(n),a=this.model;(t||r!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(r)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){// Do not cache
var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return ip(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var t,n=this.model.getData(),i=1/0,o=this._axis;return n.each(["value"],(function(n,r){var a=o.dataToCoord(n),l=Math.abs(a-e);l<i&&(i=l,t=r)})),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,n=this._tickLabels;if(t)for(var i=0;i<t.length;i++)t&&t[i]&&t[i].toggleState("progress",i<e);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",GH(n[i]).dataIndex<=e)},t.type="timeline.slider",t}(FH);
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function KH(e,t,n,i,o,r){var a=t.get("color");o?(o.setColor(a),n.add(o),// Group may be new, also need to add.
r&&r.onUpdate(o)):((o=mm(e.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(o),r&&r.onCreate(o));// Style
var l=t.getItemStyle(["color"]);o.setStyle(l),// Transform and events.
i=Re({rectHover:!0,z2:100},i,!0);var s=xm(e.get("symbolSize"));i.scaleX=s[0]/2,i.scaleY=s[1]/2;var u=bm(e.get("symbolOffset"),s);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var c=e.get("symbolRotate");return i.rotation=(c||0)*Math.PI/180||0,o.attr(i),// FIXME
// (1) When symbol.style.strokeNoScale is true and updateTransform is not performed,
// getBoundingRect will return wrong result.
// (This is supposed to be resolved in zrender, but it is a little difficult to
// leverage performance and auto updateTransform)
// (2) All of ancesters of symbol do not scale, so we can just updateTransform symbol.
o.updateTransform(),o}function UH(e,t,n,i,o,r){if(!e.dragging){var a=o.getModel("checkpointStyle"),l=i.dataToCoord(o.getData().get("value",n));if(r||!a.get("animation",!0))e.attr({x:l,y:0}),t&&t.attr({shape:{x2:l}});else{var s={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:l,y:0},s),t&&t.animateTo({shape:{x2:l}},s)}}}var YH=WH;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function XH(e){var t=e&&e.timeline;Ze(t)||(t=t?[t]:[]),Ge(t,(function(e){e&&function(e){var t=e.type,n={number:"value",time:"time"};// Compatible with ec2
n[t]&&(e.axisType=n[t],delete e.type);if(qH(e),ZH(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});ZH(i,"position")||(i.position=e.controlPosition),"none"!==i.position||ZH(i,"show")||(i.show=!1,delete i.position),delete e.controlPosition}Ge(e.data||[],(function(e){tt(e)&&!Ze(e)&&(!ZH(e,"value")&&ZH(e,"name")&&(// In ec2, using name as value.
e.value=e.name),qH(e))}))}(e)}))}function qH(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},o=i.normal||(i.normal={}),r={normal:1,emphasis:1};Ge(i,(function(e,t){r[t]||ZH(o,t)||(o[t]=e)})),n.label&&!ZH(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function ZH(e,t){return e.hasOwnProperty(t)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function $H(e,t){if(!e)return!1;for(var n=Ze(e)?e:[e],i=0;i<n.length;i++)if(n[i]&&n[i][t])return!0;return!1}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function JH(e){Sa(e,"label",["show"])}// { [componentType]: MarkerModel }
var QH=Ea(),eG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,
/**
           * If marker model is created by self from series
           */
n.createdBySelf=!1,n}
/**
         * @overrite
         */return de(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},t.prototype.isAnimationEnabled=function(){if(fe.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},
/**
         * @overrite
         */
t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,n,i){var o=this.mainType;n||t.eachSeries((function(e){// mainType can be markPoint, markLine, markArea
var n=e.get(this.mainType,!0),r=QH(e)[o];n&&n.data?(r?r._mergeOption(n,t,!0):(i&&// Default label emphasis `position` and `show`
JH(n),Ge(n.data,(function(e){// FIXME Overwrite fillLabel method ?
e instanceof Array?(JH(e[0]),JH(e[1])):JH(e)})),// markerModel = new ImplementedMarkerModel(
//     markerOpt, this, ecModel
// );
Be(r=this.createMarkerModelFromSeries(n,this,t),{mainType:this.mainType,// Use the same series index and name
seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),r.__hostSeries=e),QH(e)[o]=r):QH(e)[o]=null}),this)},t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),o=this.getRawValue(e),r=i.getName(e);return Tg("section",{header:this.name,blocks:[Tg("nameValue",{name:r,value:o,noName:!r,noValue:null==o})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,// Support three types of markers. Strict check.
t){return QH(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(tf);je(eG,jv.prototype);var tG=eG,nG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markPoint",t.defaultOption={// zlevel: 0,
z:5,symbol:"pin",symbolSize:50,// symbolRotate: 0,
// symbolOffset: [0, 0]
tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(tG),iG=nG;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function oG(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function rG(e,t,n,i,o,r){var a=[],l=Bb(t,i/* , otherDataDim */)?t.getCalculationInfo("stackResultDimension"):i,s=dG(t,l,e),u=t.indicesOfNearest(l,s)[0];a[o]=t.get(n,u),a[r]=t.get(l,u);var c=t.get(i,u),d=ta(t.get(i,u));// Make it simple, do not visit all stacked value to count precision.
return(d=Math.min(d,20))>=0&&(a[r]=+a[r].toFixed(d)),[a,c]}// TODO Specified percent
var aG={min:qe(rG,"min"),max:qe(rG,"max"),average:qe(rG,"average"),median:qe(rG,"median")};
/**
       * Transform markPoint data item to format used in List by do the following
       * 1. Calculate statistic like `max`, `min`, `average`
       * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array
       */function lG(e,t){if(t){var n=e.getData(),i=e.coordinateSystem,o=i.dimensions;// 1. If not specify the position with pixel directly
// 2. If `coord` is not a data array. Which uses `xAxis`,
// `yAxis` to specify the coord on each dimension
// parseFloat first because item.x and item.y can be percent string like '20%'
if(!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!Ze(t.coord)&&i){var r=sG(t,n,i,e);// Clone the option
// Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value
if((t=Ne(t)).type&&aG[t.type]&&r.baseAxis&&r.valueAxis){var a=Ve(o,r.baseAxis.dim),l=Ve(o,r.valueAxis.dim),s=aG[t.type](n,r.baseDataDim,r.valueDataDim,a,l);t.coord=s[0],// Force to use the value of calculated value.
// let item use the value without stack.
t.value=s[1]}else// FIXME Only has one of xAxis and yAxis.
t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}// x y is provided
if(null==t.coord)t.coord=[];else for(// Each coord support max, min, average
var u=t.coord,c=0;c<2;c++)aG[u[c]]&&(u[c]=dG(n,n.mapDimension(o[c]),u[c]));return t}}function sG(e,t,n,i){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=n.getAxis(function(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}
/**
       * Filter data which is out of coordinateSystem range
       * [dataFilter description]
       */(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function uG(// Currently only polar and cartesian has containData.
e,t){// Always return true if there is no coordSys
return!(e&&e.containData&&t.coord&&!oG(t))||e.containData(t.coord)}function cG(e,t){return e?function(e,n,i,o){return Uv(o<2?e.coord&&e.coord[o]:e.value,t[o])}:function(e,n,i,o){return Uv(e.value,t[o])}}function dG(e,t,n){if("average"===n){var i=0,o=0;return e.each(t,(function(e,t){isNaN(e)||(i+=e,o++)})),i/o}return"median"===n?e.getMedian(t):e.getDataExtent(t)["max"===n?1:0]}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var pG=Ea(),hG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.init=function(){this.markerGroupMap=bt()},t.prototype.render=function(e,t,n){var i=this,o=this.markerGroupMap;o.each((function(e){pG(e).keep=!1})),t.eachSeries((function(e){var o=tG.getMarkerModelFromSeries(e,i.type);o&&i.renderSeries(e,o,t,n)})),o.each((function(e){!pG(e).keep&&i.group.remove(e.group)}))},t.prototype.markKeep=function(e){pG(e).keep=!0},t.prototype.toggleBlurSeries=function(e,t){var n=this;Ge(e,(function(e){var i=tG.getMarkerModelFromSeries(e,n.type);i&&i.getData().eachItemGraphicEl((function(e){e&&(t?Fu(e):Vu(e))}))}))},t.type="marker",t}(Jg),fG=hG;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function vG(e,t,n){var i=t.coordinateSystem;e.each((function(o){var r,a=e.getItemModel(o),l=Jr(a.get("x"),n.getWidth()),s=Jr(a.get("y"),n.getHeight());if(isNaN(l)||isNaN(s)){if(t.getMarkerPosition)// Use the getMarkerPosition
r=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(i){var u=e.get(i.dimensions[0],o),c=e.get(i.dimensions[1],o);r=i.dataToPoint([u,c])}// Use x, y if has any
}else r=[l,s];isNaN(l)||(r[0]=l),isNaN(s)||(r[1]=s),e.setItemLayout(o,r)}))}var gG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=tG.getMarkerModelFromSeries(e,"markPoint");t&&(vG(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout())}),this)},t.prototype.renderSeries=function(e,t,n,i){var o=e.coordinateSystem,r=e.id,a=e.getData(),l=this.markerGroupMap,s=l.get(r)||l.set(r,new FC),u=function(e,t,n){var i;i=e?We(e&&e.dimensions,(function(e){// In map series data don't have lng and lat dimension. Fallback to same with coordSys
return Be(Be({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,// DON'T use ordinalMeta to parse and collect ordinal.
ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new Ob(i,n),r=We(n.get("data"),qe(lG,t));e&&(r=Ue(r,qe(uG,e)));var a=cG(!!e,i);return o.initData(r,null,a),o}(o,e,t);// FIXME
t.setData(u),vG(t.getData(),e,i),u.each((function(e){var n=u.getItemModel(e),i=n.getShallow("symbol"),o=n.getShallow("symbolSize"),r=n.getShallow("symbolRotate"),l=n.getShallow("symbolOffset"),s=n.getShallow("symbolKeepAspect");// TODO: refactor needed: single data item should not support callback function
if($e(i)||$e(o)||$e(r)||$e(l)){var c=t.getRawValue(e),d=t.getDataParams(e);$e(i)&&(i=i(c,d)),$e(o)&&(// FIXME 这里不兼容 ECharts 2.x，2.x 貌似参数是整个数据？
o=o(c,d)),$e(r)&&(r=r(c,d)),$e(l)&&(l=l(c,d))}var p=n.getModel("itemStyle").getItemStyle(),h=tm(a,"color");p.fill||(p.fill=h),u.setItemVisual(e,{symbol:i,symbolSize:o,symbolRotate:r,symbolOffset:l,symbolKeepAspect:s,style:p})})),// TODO Text are wrong
s.updateData(u),this.group.add(s.group),// Set host model for tooltip
// FIXME
u.eachItemGraphicEl((function(e){e.traverse((function(e){au(e).dataModel=t}))})),this.markKeep(s),s.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(fG);var yG=gG;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var mG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markLine",t.defaultOption={// zlevel: 0,
z:5,symbol:["circle","arrow"],symbolSize:[8,16],// symbolRotate: 0,
symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(tG),xG=mG,bG=Ea(),_G=function(e,t,n,i){var o,r=e.getData();if(Ze(i))o=i;else{// Special type markLine like 'min', 'max', 'average', 'median'
var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var l=void 0,s=void 0;if(null!=i.yAxis||null!=i.xAxis)l=t.getAxis(null!=i.yAxis?"y":"x"),s=lt(i.yAxis,i.xAxis);else{var u=sG(i,r,t,e);l=u.valueAxis,s=dG(r,Fb(r,u.valueDataDim),a)}var c="x"===l.dim?0:1,d=1-c,p=Ne(i),h={coord:[]};p.type=null,p.coord=[],p.coord[d]=-1/0,h.coord[d]=1/0;var f=n.get("precision");f>=0&&et(s)&&(s=+s.toFixed(Math.min(f,20))),p.coord[c]=h.coord[c]=s,o=[p,h,{type:a,valueIndex:i.valueIndex,// Force to use the value of calculated value.
value:s}]}else o=[]}var v=[lG(e,o[0]),lG(e,o[1]),Be({},o[2])];// Avoid line data type is extended by from(to) data type
return v[2].type=v[2].type||null,// Merge from option and to option into line option
Re(v[2],v[0]),Re(v[2],v[1]),v};function wG(e){return!isNaN(e)&&!isFinite(e)}// If a markLine has one dim
function SG(e,t,n,i){var o=1-e,r=i.dimensions[e];return wG(t[o])&&wG(n[o])&&t[e]===n[e]&&i.getAxis(r).containData(t[e])}function CG(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;// In case
// {
//  markLine: {
//    data: [{ yAxis: 2 }]
//  }
// }
if(n&&i&&(SG(1,n,i,e)||SG(0,n,i,e)))return!0}return uG(e,t[0])&&uG(e,t[1])}function MG(e,t,n,i,o){var r,a=i.coordinateSystem,l=e.getItemModel(t),s=Jr(l.get("x"),o.getWidth()),u=Jr(l.get("y"),o.getHeight());if(isNaN(s)||isNaN(u)){// Chart like bar may have there own marker positioning logic
if(i.getMarkerPosition)// Use the getMarkerPosition
r=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=a.dimensions,d=e.get(c[0],t),p=e.get(c[1],t);r=a.dataToPoint([d,p])}// Expand line to the edge of grid if value on one axis is Inifnity
// In case
//  markLine: {
//    data: [{
//      yAxis: 2
//      // or
//      type: 'average'
//    }]
//  }
if(QC(a,"cartesian2d")){// TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug
var h=a.getAxis("x"),f=a.getAxis("y");c=a.dimensions;wG(e.get(c[0],t))?r[0]=h.toGlobalCoord(h.getExtent()[n?0:1]):wG(e.get(c[1],t))&&(r[1]=f.toGlobalCoord(f.getExtent()[n?0:1]))}// Use x, y if has any
isNaN(s)||(r[0]=s),isNaN(u)||(r[1]=u)}else r=[s,u];e.setItemLayout(t,r)}var TG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=tG.getMarkerModelFromSeries(e,"markLine");if(t){var i=t.getData(),o=bG(t).from,r=bG(t).to;// Update visual and layout of from symbol and to symbol
o.each((function(t){MG(o,t,!0,e,n),MG(r,t,!1,e,n)})),// Update layout of line
i.each((function(e){i.setItemLayout(e,[o.getItemLayout(e),r.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout()}}),this)},t.prototype.renderSeries=function(e,t,n,i){var o=e.coordinateSystem,r=e.id,a=e.getData(),l=this.markerGroupMap,s=l.get(r)||l.set(r,new $O);this.group.add(s.group);var u=function(e,t,n){var i;i=e?We(e&&e.dimensions,(function(e){// In map series data don't have lng and lat dimension. Fallback to same with coordSys
return Be(Be({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,// DON'T use ordinalMeta to parse and collect ordinal.
ordinalMeta:null})})):[{name:"value",type:"float"}];var o=new Ob(i,n),r=new Ob(i,n),a=new Ob([],n),l=We(n.get("data"),qe(_G,t,e,n));e&&(l=Ue(l,qe(CG,e)));var s=cG(!!e,i);return o.initData(We(l,(function(e){return e[0]})),null,s),r.initData(We(l,(function(e){return e[1]})),null,s),a.initData(We(l,(function(e){return e[2]}))),a.hasItemOption=!0,{from:o,to:r,line:a}}(o,e,t),c=u.from,d=u.to,p=u.line;bG(t).from=c,bG(t).to=d,// Line data for tooltip and formatter
t.setData(p);// TODO
// Functionally, `symbolSize` & `symbolOffset` can also be 2D array now.
// But the related logic and type definition are not finished yet.
// Finish it if required
var h=t.get("symbol"),f=t.get("symbolSize"),v=t.get("symbolRotate"),g=t.get("symbolOffset");function y(t,n,o){var r=t.getItemModel(n);MG(t,n,o,e,i);var l=r.getModel("itemStyle").getItemStyle();null==l.fill&&(l.fill=tm(a,"color")),t.setItemVisual(n,{symbolKeepAspect:r.get("symbolKeepAspect"),// `0` should be considered as a valid value, so use `retrieve2` instead of `||`
symbolOffset:st(r.get("symbolOffset",!0),g[o?0:1]),symbolRotate:st(r.get("symbolRotate",!0),v[o?0:1]),// TODO: when 2d array is supported, it should ignore parent
symbolSize:st(r.get("symbolSize"),f[o?0:1]),symbol:st(r.get("symbol",!0),h[o?0:1]),style:l})}// TODO: support callback function like markPoint
Ze(h)||(h=[h,h]),Ze(f)||(f=[f,f]),Ze(v)||(v=[v,v]),Ze(g)||(g=[g,g]),// Update visual and layout of from symbol and to symbol
u.from.each((function(e){y(c,e,!0),y(d,e,!1)})),// Update visual and layout of line
p.each((function(e){var t=p.getItemModel(e).getModel("lineStyle").getLineStyle();// lineData.setItemVisual(idx, {
//     color: lineColor || fromData.getItemVisual(idx, 'color')
// });
p.setItemLayout(e,[c.getItemLayout(e),d.getItemLayout(e)]),null==t.stroke&&(t.stroke=c.getItemVisual(e,"style").fill),p.setItemVisual(e,{fromSymbolKeepAspect:c.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:c.getItemVisual(e,"symbolOffset"),fromSymbolRotate:c.getItemVisual(e,"symbolRotate"),fromSymbolSize:c.getItemVisual(e,"symbolSize"),fromSymbol:c.getItemVisual(e,"symbol"),toSymbolKeepAspect:d.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(e,"symbolOffset"),toSymbolRotate:d.getItemVisual(e,"symbolRotate"),toSymbolSize:d.getItemVisual(e,"symbolSize"),toSymbol:d.getItemVisual(e,"symbol"),style:t})})),s.updateData(p),// Set host model for tooltip
// FIXME
u.line.eachItemGraphicEl((function(e){au(e).dataModel=t,e.traverse((function(e){au(e).dataModel=t}))})),this.markKeep(s),s.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(fG);var IG=TG;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var kG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markArea",t.defaultOption={// zlevel: 0,
// PENDING
z:1,tooltip:{trigger:"item"},// markArea should fixed on the coordinate system
animation:!1,label:{show:!0,position:"top"},itemStyle:{// color and borderColor default to use color from series
// color: 'auto'
// borderColor: 'auto'
borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(tG),AG=kG,DG=Ea(),OG=function(e,t,n,i){// item may be null
var o=i[0],r=i[1];if(o&&r){var a=lG(e,o),l=lG(e,r),s=a.coord,u=l.coord;s[0]=lt(s[0],-1/0),s[1]=lt(s[1],-1/0),u[0]=lt(u[0],1/0),u[1]=lt(u[1],1/0);// Merge option into one
var c=ze([{},a,l]);return c.coord=[a.coord,l.coord],c.x0=a.x,c.y0=a.y,c.x1=l.x,c.y1=l.y,c}};function PG(e){return!isNaN(e)&&!isFinite(e)}// If a markArea has one dim
function LG(e,t,n,i){var o=1-e;return PG(t[o])&&PG(n[o])}function EG(e,t){var n=t.coord[0],i=t.coord[1],o={coord:n,x:t.x0,y:t.y0},r={coord:i,x:t.x1,y:t.y1};return QC(e,"cartesian2d")?// In case
// {
//  markArea: {
//    data: [{ yAxis: 2 }]
//  }
// }
!(!n||!i||!LG(1,n,i)&&!LG(0,n,i))||function(// Currently only polar and cartesian has containData.
e,t,n){// Always return true if there is no coordSys
return!(e&&e.containZone&&t.coord&&n.coord&&!oG(t)&&!oG(n))||e.containZone(t.coord,n.coord)}(e,o,r):uG(e,o)||uG(e,r)}// dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']
function NG(e,t,n,i,o){var r,a=i.coordinateSystem,l=e.getItemModel(t),s=Jr(l.get(n[0]),o.getWidth()),u=Jr(l.get(n[1]),o.getHeight());if(isNaN(s)||isNaN(u)){// Chart like bar may have there own marker positioning logic
if(i.getMarkerPosition){// Consider the case that user input the right-bottom point first
// Pick the larger x and y as 'x1' and 'y1'
var c=e.getValues(["x0","y0"],t),d=e.getValues(["x1","y1"],t),p=a.clampData(c),h=a.clampData(d),f=[];"x0"===n[0]?f[0]=p[0]>h[0]?d[0]:c[0]:f[0]=p[0]>h[0]?c[0]:d[0],"y0"===n[1]?f[1]=p[1]>h[1]?d[1]:c[1]:f[1]=p[1]>h[1]?c[1]:d[1],// Use the getMarkerPosition
r=i.getMarkerPosition(f,n,!0)}else{var v=[m=e.get(n[0],t),x=e.get(n[1],t)];a.clampData&&a.clampData(v,v),r=a.dataToPoint(v,!0)}if(QC(a,"cartesian2d")){// TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug
var g=a.getAxis("x"),y=a.getAxis("y"),m=e.get(n[0],t),x=e.get(n[1],t);PG(m)?r[0]=g.toGlobalCoord(g.getExtent()["x0"===n[0]?0:1]):PG(x)&&(r[1]=y.toGlobalCoord(y.getExtent()["y0"===n[1]?0:1]))}// Use x, y if has any
isNaN(s)||(r[0]=s),isNaN(u)||(r[1]=u)}else r=[s,u];return r}var RG=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],zG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries((function(e){var t=tG.getMarkerModelFromSeries(e,"markArea");if(t){var i=t.getData();i.each((function(t){var o=We(RG,(function(o){return NG(i,t,o,e,n)}));// Layout
i.setItemLayout(t,o),i.getItemGraphicEl(t).setShape("points",o)}))}}),this)},t.prototype.renderSeries=function(e,t,n,i){var o=e.coordinateSystem,r=e.id,a=e.getData(),l=this.markerGroupMap,s=l.get(r)||l.set(r,{group:new Kr});this.group.add(s.group),this.markKeep(s);var u=function(e,t,n){var i,o,r=["x0","y0","x1","y1"];if(e){var a=We(e&&e.dimensions,(function(e){var n=t.getData();// In map series data don't have lng and lat dimension. Fallback to same with coordSys
return Be(Be({},n.getDimensionInfo(n.mapDimension(e))||{}),{name:e,// DON'T use ordinalMeta to parse and collect ordinal.
ordinalMeta:null})}));o=We(r,(function(e,t){return{name:e,type:a[t%2].type}})),i=new Ob(o,n)}else i=new Ob(o=[{name:"value",type:"float"}],n);var l=We(n.get("data"),qe(OG,t,e,n));e&&(l=Ue(l,qe(EG,e)));var s=e?function(e,t,n,i){return Uv(e.coord[Math.floor(i/2)][i%2],o[i])}:function(e,t,n,i){return Uv(e.value,o[i])};return i.initData(l,null,s),i.hasItemOption=!0,i}(o,e,t);// Line data for tooltip and formatter
t.setData(u),// Update visual and layout of line
u.each((function(t){// Layout
var n=We(RG,(function(n){return NG(u,t,n,e,i)})),r=o.getAxis("x").scale,l=o.getAxis("y").scale,s=r.getExtent(),c=l.getExtent(),d=[r.parse(u.get("x0",t)),r.parse(u.get("x1",t))],p=[l.parse(u.get("y0",t)),l.parse(u.get("y1",t))];ea(d),ea(p);var h=!!(s[0]>d[1]||s[1]<d[0]||c[0]>p[1]||c[1]<p[0]);// If none of the area is inside coordSys, allClipped is set to be true
// in layout so that label will not be displayed. See #12591
u.setItemLayout(t,{points:n,allClipped:h});var f=u.getItemModel(t).getModel("itemStyle").getItemStyle(),v=tm(a,"color");f.fill||(f.fill=v,Je(f.fill)&&(f.fill=lo(f.fill,.4))),f.stroke||(f.stroke=v),// Visual
u.setItemVisual(t,"style",f)})),u.diff(DG(s).data).add((function(e){var t=u.getItemLayout(e);if(!t.allClipped){var n=new ed({shape:{points:t.points}});u.setItemGraphicEl(e,n),s.group.add(n)}})).update((function(e,n){var i=DG(s).data.getItemGraphicEl(n),o=u.getItemLayout(e);o.allClipped?i&&s.group.remove(i):(i?Rd(i,{shape:{points:o.points}},t,e):i=new ed({shape:{points:o.points}}),u.setItemGraphicEl(e,i),s.group.add(i))})).remove((function(e){var t=DG(s).data.getItemGraphicEl(e);s.group.remove(t)})).execute(),u.eachItemGraphicEl((function(e,n){var i=u.getItemModel(n),o=u.getItemVisual(n,"style");e.useStyle(u.getItemVisual(n,"style")),xp(e,bp(i),{labelFetcher:t,labelDataIndex:n,defaultText:u.getName(n)||"",inheritColor:Je(o.fill)?lo(o.fill,1):"#000"}),tc(e,i),$u(e,null,null,i.get(["emphasis","disabled"])),au(e).dataModel=t})),DG(s).data=u,s.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(fG);var BG=zG;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var FG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",// legend.width/height are maxWidth/maxHeight actually,
// whereas real width/height is calculated by its content.
// (Setting {left: 10, right: 10} does not make sense).
// So consider the case:
// `setOption({legend: {left: 10});`
// then `setOption({legend: {right: 10});`
// The previous `left` should be cleared by setting `ignoreSize`.
ignoreSize:!0},n}return de(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,n=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),Ze(t)&&Ge(t,(function(e,i){Je(e)&&(e={type:e}),t[i]=Re(e,function(e,t){return"all"===t?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;// If selectedMode is single, try to select one
if(e[0]&&"single"===this.get("selectedMode")){// If has any selected in option.selected
for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){// Force to unselect others
this.select(i),t=!0;break}}// Try select the first if selectedMode is single
!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],n=[];e.eachRawSeries((function(i){var o,r=i.name;if(n.push(r),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();e.isSeriesFiltered(i)||(n=n.concat(a)),a.length?t=t.concat(a):o=!0}else o=!0;o&&Oa(i)&&t.push(i.name)})),
/**
           * @type {Array.<string>}
           * @private
           */
this._availableNames=n;// If legend.data is not specified in option, use availableNames as data,
// which is convenient for user preparing option.
var i=this.get("data")||t,o=bt(),r=We(i,(function(e){// Can be string or number
return(Je(e)||et(e))&&(e={name:e}),o.get(e.name)?null:(o.set(e.name,!0),new Kp(e,this,this.ecModel))}),this);
/**
           * @type {Array.<module:echarts/model/Model>}
           * @private
           */
this._data=Ue(r,(function(e){return!!e}))},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&Ge(this._data,(function(e){t[e.get("name")]=!1}));t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;// Default is true
t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;Ge(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;Ge(e,(function(e){var n=e.get("name",!0);// Initially, default value is true
t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&Ve(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={// zlevel: 0,
z:4,show:!0,orient:"horizontal",left:"center",// right: 'center',
top:0,// bottom: null,
align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(tf),VG=FG,jG=qe,HG=Ge,GG=Kr,WG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return de(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new GG),this.group.add(this._selectorGroup=new GG),this._isFirstRender=!0},
/**
         * @protected
         */
t.prototype.getContentGroup=function(){return this._contentGroup},
/**
         * @protected
         */
t.prototype.getSelectorGroup=function(){return this._selectorGroup},
/**
         * @override
         */
t.prototype.render=function(e,t,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var o=e.get("align"),r=e.get("orient");o&&"auto"!==o||(o="right"===e.get("left")&&"vertical"===r?"right":"left");// selector has been normalized to an array in model
var a=e.get("selector",!0),l=e.get("selectorPosition",!0);!a||l&&"auto"!==l||(l="horizontal"===r?"end":"start"),this.renderInner(o,e,t,n,a,r,l);// Perform layout.
var s=e.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},c=e.get("padding"),d=Yh(s,u,c),p=this.layoutInner(e,o,d,i,a,l),h=Yh(Fe({width:p.width,height:p.height},s),u,c);this.group.x=h.x-p.x,this.group.y=h.y-p.y,this.group.markRedraw(),// Render background after group is layout.
this.group.add(this._backgroundEl=KV(p,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,n,i,o,r,a){var l=this.getContentGroup(),s=bt(),u=t.get("selectedMode"),c=[];n.eachRawSeries((function(e){!e.get("legendHoverLink")&&c.push(e.id)})),HG(t.getData(),(function(o,r){var a=o.get("name");// Use empty string or \n as a newline string
if(!this.newlineDisabled&&(""===a||"\n"===a)){var d=new GG;// @ts-ignore
return d.newline=!0,void l.add(d)}// Representitive series.
var p=n.getSeriesByName(a)[0];if(!s.get(a))// Legend to control series.
if(p){var h=p.getData(),f=h.getVisual("legendLineStyle")||{},v=h.getVisual("legendIcon"),g=h.getVisual("style");this._createItem(p,a,r,o,t,e,f,g,v,u,i).on("click",jG(KG,a,null,i,c)).on("mouseover",jG(YG,p.name,null,i,c)).on("mouseout",jG(XG,p.name,null,i,c)),s.set(a,!0)}else// Legend to control data. In pie and funnel.
n.eachRawSeries((function(n){// In case multiple series has same data name
if(!s.get(a)&&n.legendVisualProvider){var l=n.legendVisualProvider;if(!l.containName(a))return;var d=l.indexOfName(a),p=l.getItemVisual(d,"style"),h=l.getItemVisual(d,"legendIcon"),f=no(p.fill);// Color may be set to transparent in visualMap when data is out of range.
// Do not show nothing.
f&&0===f[3]&&(f[3]=.2,// TODO color is set to 0, 0, 0, 0. Should show correct RGBA
p=Be(Be({},p),{fill:so(f,"rgba")})),// FIXME: consider different series has items with the same name.
this._createItem(n,a,r,o,t,e,{},p,h,u,i).on("click",jG(KG,null,a,i,c)).on("mouseover",jG(YG,null,a,i,c)).on("mouseout",jG(XG,null,a,i,c)),s.set(a,!0)}}),this)}),this),o&&this._createSelector(o,t,i,r,a)},t.prototype._createSelector=function(e,t,n,i,o){var r=this.getSelectorGroup();HG(e,(function(e){var i=e.type,o=new ru({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});r.add(o),xp(o,{normal:t.getModel("selectorLabel"),emphasis:t.getModel(["emphasis","selectorLabel"])},{defaultText:e.title}),Zu(o)}))},t.prototype._createItem=function(e,t,n,i,o,r,a,l,s,u,c){var d=e.visualDrawType,p=o.get("itemWidth"),h=o.get("itemHeight"),f=o.isSelected(t),v=i.get("symbolRotate"),g=i.get("symbolKeepAspect"),y=i.get("icon"),m=function(e,t,n,i,o,r,a){
/**
         * Use series style if is inherit;
         * elsewise, use legend style
         */
function l(e,t){// If lineStyle.width is 'auto', it is set to be 2 if series has border
"auto"===e.lineWidth&&(e.lineWidth=t.lineWidth>0?2:0),HG(e,(function(n,i){"inherit"===e[i]&&(e[i]=t[i])}))}// itemStyle
var s=t.getModel("itemStyle"),u=s.getItemStyle(),c=0===e.lastIndexOf("empty",0)?"fill":"stroke",d=s.getShallow("decal");u.decal=d&&"inherit"!==d?Km(d,a):i.decal,"inherit"===u.fill&&(
/**
           * Series with visualDrawType as 'stroke' should have
           * series stroke as legend fill
           */
u.fill=i[o]);"inherit"===u.stroke&&(
/**
           * icon type with "emptyXXX" should use fill color
           * in visual style
           */
u.stroke=i[c]);"inherit"===u.opacity&&(
/**
           * Use lineStyle.opacity if drawType is stroke
           */
u.opacity=("fill"===o?i:n).opacity);l(u,i);// lineStyle
var p=t.getModel("lineStyle"),h=p.getLineStyle();if(l(h,n),// Fix auto color to real color
"auto"===u.fill&&(u.fill=i.fill),"auto"===u.stroke&&(u.stroke=i.fill),"auto"===h.stroke&&(h.stroke=i.fill),!r){var f=t.get("inactiveBorderWidth"),v=u[c];
/**
           * Since stroke is set to be inactiveBorderColor, it may occur that
           * there is no border in series but border in legend, so we need to
           * use border only when series has border if is set to be auto
           */u.lineWidth="auto"===f?i.lineWidth>0&&v?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=p.get("inactiveColor"),h.lineWidth=p.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}(s=y||s||"roundRect",i,a,l,d,f,c),x=new GG,b=i.getModel("textStyle");if(!$e(e.getLegendIcon)||y&&"inherit"!==y){// Use default legend icon policy for most series
var _="inherit"===y&&e.getData().getVisual("symbol")?"inherit"===v?e.getData().getVisual("symbolRotate"):v:0;// No rotation for no icon
x.add(function(e){var t=e.icon||"roundRect",n=mm(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2);return n}({itemWidth:p,itemHeight:h,icon:s,iconRotate:_,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:g}))}else// Series has specific way to define legend icon
x.add(e.getLegendIcon({itemWidth:p,itemHeight:h,icon:s,iconRotate:v,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:g}));var w="left"===r?p+5:-5,S=r,C=o.get("formatter"),M=t;Je(C)&&C?M=C.replace("{name}",null!=t?t:""):$e(C)&&(M=C(t));var T=i.get("inactiveColor");x.add(new ru({style:_p(b,{text:M,x:w,y:h/2,fill:f?b.getTextColor():T,align:S,verticalAlign:"middle"})}));// Add a invisible rect to increase the area of mouse hover
var I=new Gs({shape:x.getBoundingRect(),invisible:!0}),k=i.getModel("tooltip");return k.get("show")&&pp({el:I,componentModel:o,itemName:t,itemTooltipOption:k.option}),x.add(I),x.eachChild((function(e){e.silent=!0})),I.silent=!u,this.getContentGroup().add(x),Zu(x),// @ts-ignore
x.__legendDataIndex=n,x},t.prototype.layoutInner=function(e,t,n,i,o,r){var a=this.getContentGroup(),l=this.getSelectorGroup();// Place items in contentGroup.
Uh(e.get("orient"),a,e.get("itemGap"),n.width,n.height);var s=a.getBoundingRect(),u=[-s.x,-s.y];if(l.markRedraw(),a.markRedraw(),o){// Place buttons in selectorGroup
Uh(// Buttons in selectorGroup always layout horizontally
"horizontal",l,e.get("selectorItemGap",!0));var c=l.getBoundingRect(),d=[-c.x,-c.y],p=e.get("selectorButtonGap",!0),h=e.getOrient().index,f=0===h?"width":"height",v=0===h?"height":"width",g=0===h?"y":"x";"end"===r?d[h]+=s[f]+p:u[h]+=c[f]+p,// Always align selector to content as 'middle'
d[1-h]+=s[v]/2-c[v]/2,l.x=d[0],l.y=d[1],a.x=u[0],a.y=u[1];var y={x:0,y:0};return y[f]=s[f]+p+c[f],y[v]=Math.max(s[v],c[v]),y[g]=Math.min(0,c[g]+d[1-h]),y}return a.x=u[0],a.y=u[1],this.group.getBoundingRect()},
/**
         * @protected
         */
t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Jg);function KG(e,t,n,i){// downplay before unselect
XG(e,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),// highlight after select
// TODO highlight immediately may cause animation loss.
YG(e,t,n,i)}function UG(e){for(var t,n=e.getZr().storage.getDisplayList(),i=0,o=n.length;i<o&&!(t=n[i].states.emphasis);)i++;return t&&t.hoverLayer}function YG(e,t,n,i){// If element hover will move to a hoverLayer.
UG(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:i})}function XG(e,t,n,i){// If element hover will move to a hoverLayer.
UG(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:i})}var qG=WG;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function ZG(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){// If in any legend component the status is not selected.
// Because in legend series is assumed selected when it is not in the legend data.
for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function $G(e,t,n){var i,o={},r="toggleSelected"===e;// Return the event explicitly
// Update all legend components
return n.eachComponent("legend",(function(n){r&&null!=i?// Force other legend has same selected status
// Or the first is toggled to true and other are toggled to false
// In the case one legend has some item unSelected in option. And if other legend
// doesn't has the item, they will assume it is selected.
n[i?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),i=n.isSelected(t.name)),Ge(n.getData(),(function(e){var t=e.get("name");// Wrap element
if("\n"!==t&&""!==t){var i=n.isSelected(t);o.hasOwnProperty(t)?// Unselected if any legend is unselected
o[t]=o[t]&&i:o[t]=i}}))})),"allSelect"===e||"inverseSelect"===e?{selected:o}:{name:t.name,selected:o}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function JG(e){e.registerComponentModel(VG),e.registerComponentView(qG),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,ZG),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(e){
/**
         * @event legendToggleSelect
         * @type {Object}
         * @property {string} type 'legendToggleSelect'
         * @property {string} [from]
         * @property {string} name Series name or data item name
         */
e.registerAction("legendToggleSelect","legendselectchanged",qe($G,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",qe($G,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",qe($G,"inverseSelect")),
/**
         * @event legendSelect
         * @type {Object}
         * @property {string} type 'legendSelect'
         * @property {string} name Series name or data item name
         */
e.registerAction("legendSelect","legendselected",qe($G,"select")),
/**
         * @event legendUnSelect
         * @type {Object}
         * @property {string} type 'legendUnSelect'
         * @property {string} name Series name or data item name
         */
e.registerAction("legendUnSelect","legendunselected",qe($G,"unSelect"))}(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var QG=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}
/**
         * @param {number} scrollDataIndex
         */return de(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,n,i){var o=$h(t);e.prototype.init.call(this,t,n,i),eW(this,t,o)},
/**
         * @override
         */
t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),eW(this,this.option,t)},t.type="legend.scroll",t.defaultOption=Xp(VG.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(VG);function eW(e,t,n){var i=[1,1];i[e.getOrient().index]=0,Zh(t,n,{type:"box",ignoreSize:!!i})}var tW=QG,nW=Kr,iW=["width","height"],oW=["x","y"],rW=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return de(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new nW),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new nW)},
/**
         * @override
         */
t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},
/**
         * @override
         */
t.prototype.renderInner=function(t,n,i,o,r,a,l){var s=this;// Render content items.
e.prototype.renderInner.call(this,t,n,i,o,r,a,l);var u=this._controllerGroup,c=n.get("pageIconSize",!0),d=Ze(c)?c:[c,c];// FIXME: support be 'auto' adapt to size number text length,
// e.g., '3/12345' should not overlap with the control arrow button.
h("pagePrev",0);var p=n.getModel("pageTextStyle");function h(e,t){var i=e+"DataIndex",r=sp(n.get("pageIcons",!0)[n.getOrient().name][t],{// Buttons will be created in each render, so we do not need
// to worry about avoiding using legendModel kept in scope.
onclick:Xe(s._pageGo,s,i,n,o)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});r.name=e,u.add(r)}u.add(new ru({name:"pageText",style:{// Placeholder to calculate a proper layout.
text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1)},
/**
         * @override
         */
t.prototype.layoutInner=function(e,t,n,i,o,r){var a=this.getSelectorGroup(),l=e.getOrient().index,s=iW[l],u=oW[l],c=iW[1-l],d=oW[1-l];o&&Uh(// Buttons in selectorGroup always layout horizontally
"horizontal",a,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),h=a.getBoundingRect(),f=[-h.x,-h.y],v=Ne(n);o&&(v[s]=n[s]-h[s]-p);var g=this._layoutContentAndController(e,i,v,l,s,c,d,u);if(o){if("end"===r)f[l]+=g[s]+p;else{var y=h[s]+p;f[l]-=y,g[u]-=y}g[s]+=h[s]+p,f[1-l]+=g[d]+g[c]/2-h[c]/2,g[c]=Math.max(g[c],h[c]),g[d]=Math.min(g[d],h[d]+f[1-l]),a.x=f[0],a.y=f[1],a.markRedraw()}return g},t.prototype._layoutContentAndController=function(e,t,n,i,o,r,a,l){var s=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;// Place items in contentGroup.
Uh(e.get("orient"),s,e.get("itemGap"),i?n.width:null,i?null:n.height),Uh(// Buttons in controller are layout always horizontally.
"horizontal",c,e.get("pageButtonItemGap",!0));var d=s.getBoundingRect(),p=c.getBoundingRect(),h=this._showController=d[o]>n[o],f=[-d.x,-d.y];// Remain contentPos when scroll animation perfroming.
// If first rendering, `contentGroup.position` is [0, 0], which
// does not make sense and may cause unexepcted animation if adopted.
t||(f[i]=s[l]);// Layout container group based on 0.
var v=[0,0],g=[-p.x,-p.y],y=st(e.get("pageButtonGap",!0),e.get("itemGap",!0));// Place containerGroup and controllerGroup and contentGroup.
h&&(// controller is on the right / bottom.
"end"===e.get("pageButtonPosition",!0)?g[i]+=n[o]-p[o]:v[i]+=p[o]+y);// Always align controller to content as 'middle'.
g[1-i]+=d[r]/2-p[r]/2,s.setPosition(f),u.setPosition(v),c.setPosition(g);// Calculate `mainRect` and set `clipPath`.
// mainRect should not be calculated by `this.group.getBoundingRect()`
// for sake of the overflow.
var m={x:0,y:0};// Consider content may be overflow (should be clipped).
if(m[o]=h?n[o]:d[o],m[r]=Math.max(d[r],p[r]),// `containerRect[yx] + containerPos[1 - orientIdx]` is 0.
m[a]=Math.min(0,p[a]+g[1-i]),u.__rectSize=n[o],h){var x={x:0,y:0};x[o]=Math.max(n[o]-p[o]-y,0),x[r]=m[r],u.setClipPath(new Gs({shape:x})),// Consider content may be larger than container, container rect
// can not be obtained from `containerGroup.getBoundingRect()`.
u.__rectSize=x[o]}else// Do not remove or ignore controller. Keep them set as placeholders.
c.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));// Content translate animation.
var b=this._getPageInfo(e);return null!=b.pageIndex&&Rd(s,{x:b.contentPosition[0],y:b.contentPosition[1]},// When switch from "show controller" to "not show controller", view should be
// updated immediately without animation, otherwise causes weird effect.
h?e:null),this._updatePageInfoView(e,b),m},t.prototype._pageGo=function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup;Ge(["pagePrev","pageNext"],(function(i){var o=null!=t[i+"DataIndex"],r=n.childOfName(i);r&&(r.setStyle("fill",o?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),r.cursor=o?"pointer":"default")}));var i=n.childOfName("pageText"),o=e.get("pageFormatter"),r=t.pageIndex,a=null!=r?r+1:0,l=t.pageCount;i&&o&&i.setStyle("text",Je(o)?o.replace("{current}",null==a?"":a+"").replace("{total}",null==l?"":l+""):o({current:a,total:l}))},
/**
         *  contentPosition: Array.<number>, null when data item not found.
         *  pageIndex: number, null when data item not found.
         *  pageCount: number, always be a number, can be 0.
         *  pagePrevDataIndex: number, null when no previous page.
         *  pageNextDataIndex: number, null when no next page.
         * }
         */
t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=e.getOrient().index,r=iW[o],a=oW[o],l=this._findTargetItemIndex(t),s=n.children(),u=s[l],c=s.length,d=c?1:0,p={contentPosition:[n.x,n.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return p;var h=m(u);p.contentPosition[o]=-h.s;// Strategy:
// (1) Always align based on the left/top most item.
// (2) It is user-friendly that the last item shown in the
// current window is shown at the begining of next window.
// Otherwise if half of the last item is cut by the window,
// it will have no chance to display entirely.
// (3) Consider that item size probably be different, we
// have calculate pageIndex by size rather than item index,
// and we can not get page index directly by division.
// (4) The window is to narrow to contain more than
// one item, we should make sure that the page can be fliped.
for(var f=l+1,v=h,g=h,y=null;f<=c;++f)// Half of the last item is out of the window.
(!(y=m(s[f]))&&g.e>v.s+i||// If the current item does not intersect with the window, the new page
// can be started at the current item or the last item.
y&&!x(y,v.s))&&(v=g.i>v.i?g:y)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=v.i),++p.pageCount),g=y;for(f=l-1,v=h,g=h,y=null;f>=-1;--f)// If the the end item does not intersect with the window started
// from the current item, a page can be settled.
(y=m(s[f]))&&x(g,y.s)||// e.g., when page size is smaller than item size.
!(v.i<g.i)||(g=v,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=v.i),++p.pageCount,++p.pageIndex),v=y;return p;function m(e){if(e){var t=e.getBoundingRect(),n=t[a]+e[a];return{s:n,e:n+t[r],i:e.__legendDataIndex}}}function x(e,t){return e.e>=t&&e.s<=t+i}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild((function(i,o){var r=i.__legendDataIndex;// FIXME
// If the given targetDataIndex (from model) is illegal,
// we use defaultIndex. But the index on the legend model and
// action payload is still illegal. That case will not be
// changed until some scenario requires.
null==n&&null!=r&&(n=o),r===e&&(t=o)})),null!=t?t:n):0;var t,n},t.type="legend.scroll",t}(qG),aW=rW;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function lW(e){nb(JG),e.registerComponentModel(tW),e.registerComponentView(aW),
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){
/**
         * @event legendScroll
         * @type {Object}
         * @property {string} type 'legendScroll'
         * @property {string} scrollDataIndex
         */
e.registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))}))}(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var sW=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="dataZoom.inside",t.defaultOption=Xp(SV.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(SV),uW=sW,cW=Ea();function dW(e,t,n){cW(e).coordSysRecordMap.each((function(e){var i=e.dataZoomInfoMap.get(t.uid);i&&(i.getRange=n)}))}function pW(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}
/**
       * This action will be throttled.
       */
function hW(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function fW(e,t,n,i){return e.coordinateSystem.containPoint([n,i])}
/**
       * Merge roamController settings when multiple dataZooms share one roamController.
       */function vW(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var n=cW(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=bt());i.each((function(e){// `coordSysRecordMap` always exists (because it holds the `roam controller`, which should
// better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.
e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){Ge(xV(e).infoList,(function(n){var o=n.model.uid,r=i.get(o)||i.set(o,function(e,t){// These init props will never change after record created.
var n={model:t,containsPoint:qe(fW,t),dispatchAction:qe(hW,e),dataZoomInfoMap:null,controller:null},i=n.controller=new XI(e.getZr());// Must not do anything depends on coordSysRecord outside the event handler here,
// because coordSysRecord not completed yet.
return Ge(["pan","zoom","scrollMove"],(function(e){i.on(e,(function(t){var i=[];n.dataZoomInfoMap.each((function(o){// Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,
// moveOnMouseWheel, ...) enabled.
if(t.isAvailableBehavior(o.model.option)){var r=(o.getRange||{})[e],a=r&&r(o.dzReferCoordSysInfo,n.model.mainType,n.controller,t);!o.model.get("disabled",!0)&&a&&i.push({dataZoomId:o.model.id,start:a[0],end:a[1]})}})),i.length&&n.dispatchAction(i)}))})),n}(t,n.model));// Notice these props might be changed each time for a single dataZoomModel.
(r.dataZoomInfoMap||(r.dataZoomInfoMap=bt())).set(e.uid,{dzReferCoordSysInfo:n,model:e,getRange:null})}))})),// (1) Merge dataZoom settings for each coord sys and set to the roam controller.
// (2) Clear coord sys if not refered by any dataZoom.
i.each((function(e){var t,n=e.controller,o=e.dataZoomInfoMap;if(o){var r=o.keys()[0];null!=r&&(t=o.get(r))}if(t){var a=function(e){var t,n="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;// DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated
// as string, it is probably revert to reserved word by compress tool. See #7411.
return e.each((function(e){var r=e.model,a=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");i[n+a]>i[n+t]&&(t=a),// Prevent default move event by default. If one false, do not prevent. Otherwise
// users may be confused why it does not work when multiple insideZooms exist.
o=o&&r.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{// RoamController will enable all of these functionalities,
// and the final behavior is determined by its event listener
// provided by each inside zoom.
zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}(o);n.enable(a.controlType,a.opt),n.setPointerChecker(e.containsPoint),hy(e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else pW(i,e)}))}))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var gW=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return de(t,e),t.prototype.render=function(t,n,i){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(// Hence the `throttle` util ensures to preserve command order,
// here simply updating range all the time will not cause missing
// any of the the roam change.
this.range=t.getPercentRange(),// Reset controllers.
dW(i,t,{pan:Xe(yW.pan,this),zoom:Xe(yW.zoom,this),scrollMove:Xe(yW.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function(e,t){for(var n=cW(e).coordSysRecordMap,i=n.keys(),o=0;o<i.length;o++){var r=i[o],a=n.get(r),l=a.dataZoomInfoMap;if(l){var s=t.uid;l.get(s)&&(l.removeKey(s),l.keys().length||pW(n,a))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(IV),yW={zoom:function(e,t,n,i){var o=this.range,r=o.slice(),a=e.axisModels[0];if(a){var l=xW[t](null,[i.originX,i.originY],a,n,e),s=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(r[1]-r[0])+r[0],u=Math.max(1/i.scale,0);r[0]=(r[0]-s)*u+s,r[1]=(r[1]-s)*u+s;// Restrict range.
var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return eL(0,r,[0,100],0,c.minSpan,c.maxSpan),this.range=r,o[0]!==r[0]||o[1]!==r[1]?r:void 0}},pan:mW((function(e,t,n,i,o,r){var a=xW[i]([r.oldX,r.oldY],[r.newX,r.newY],t,o,n);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength})),scrollMove:mW((function(e,t,n,i,o,r){return xW[i]([0,0],[r.scrollDelta,r.scrollDelta],t,o,n).signal*(e[1]-e[0])*r.scrollDelta}))};function mW(e){return function(t,n,i,o){var r=this.range,a=r.slice(),l=t.axisModels[0];if(l)return eL(e(a,l,t,n,i,o),a,[0,100],"all"),this.range=a,r[0]!==a[0]||r[1]!==a[1]?a:void 0}}var xW={grid:function(e,t,n,i,o){var r=n.axis,a={},l=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===r.dim?(a.pixel=t[0]-e[0],a.pixelLength=l.width,a.pixelStart=l.x,a.signal=r.inverse?1:-1):(// axis.dim === 'y'
a.pixel=t[1]-e[1],a.pixelLength=l.height,a.pixelStart=l.y,a.signal=r.inverse?-1:1),a},polar:function(e,t,n,i,o){var r=n.axis,a={},l=o.model.coordinateSystem,s=l.getRadiusAxis().getExtent(),u=l.getAngleAxis().getExtent();return e=e?l.pointToCoord(e):[0,0],t=l.pointToCoord(t),"radiusAxis"===n.mainType?(a.pixel=t[0]-e[0],// ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);
// ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);
a.pixelLength=s[1]-s[0],a.pixelStart=s[0],a.signal=r.inverse?1:-1):(// 'angleAxis'
a.pixel=t[1]-e[1],// ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);
// ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);
a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=r.inverse?-1:1),a},singleAxis:function(e,t,n,i,o){var r=n.axis,a=o.model.coordinateSystem.getRect(),l={};return e=e||[0,0],"horizontal"===r.orient?(l.pixel=t[0]-e[0],l.pixelLength=a.width,l.pixelStart=a.x,l.signal=r.inverse?1:-1):(// 'vertical'
l.pixel=t[1]-e[1],l.pixelLength=a.height,l.pixelStart=a.y,l.signal=r.inverse?-1:1),l}},bW=gW;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function _W(e){zV(e),e.registerComponentModel(uW),e.registerComponentView(bW),vW(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var wW=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Xp(SV.defaultOption,{show:!0,// deault value can only be drived in view stage.
right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",// dataBackgroundColor: '#ddd',
dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},// Color of selected window.
fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",// Percent of the slider height
handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(SV),SW=wW,CW=Gs,MW="horizontal",TW="vertical",IW=["line","bar","candlestick","scatter"],kW={easing:"cubicOut",duration:100,delay:0},AW=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return de(t,e),t.prototype.init=function(e,t){this.api=t,// A unique handler for each dataZoom component
this._onBrush=Xe(this._onBrush,this),this._onBrushEnd=Xe(this._onBrushEnd,this)},t.prototype.render=function(t,n,i,o){if(e.prototype.render.apply(this,arguments),hy(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();// Notice: this._resetInterval() should not be executed when payload.type
// is 'dataZoom', origin this._range should be maintained, otherwise 'pan'
// or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,
o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){fy(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new Kr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,n=e.get("brushSelect")?7:0,i=this._findCoordRect(),o={width:t.getWidth(),height:t.getHeight()},r=this._orient===MW?{// Why using 'right', because right should be used in vertical,
// and it is better to be consistent for dealing with position param merge.
right:o.width-i.x-i.width,top:o.height-30-7-n,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},a=$h(e.option);// Replace the placeholder value.
Ge(["right","top","width","height"],(function(e){"ph"===a[e]&&(a[e]=r[e])}));var l=Yh(a,o);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===TW&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),r=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;// Transform barGroup.
r.attr(n!==MW||o?n===MW&&o?{scaleY:a?1:-1,scaleX:-1}:n!==TW||o?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});// Position barGroup
var l=e.getBoundingRect([r]);e.x=t.x-l.x,e.y=t.y-l.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.sliderGroup,i=e.get("brushSelect");n.add(new CW({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));// Click panel, over shadow, below handles.
var o=new CW({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:Xe(this._onClickPanel,this)}),r=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",r.on("mousemove",this._onBrush),r.on("mouseup",this._onBrushEnd)):(r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)),n.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,n=this._shadowSize||[],i=e.series,o=i.getRawData(),r=i.getShadowDim&&i.getShadowDim(),a=r&&o.getDimensionInfo(r)?i.getShadowDim():e.otherDim;if(null!=a){var l=this._shadowPolygonPts,s=this._shadowPolylinePts;// Not re-render if data doesn't change.
if(o!==this._shadowData||a!==this._shadowDim||t[0]!==n[0]||t[1]!==n[1]){var u=o.getDataExtent(a),c=.3*(u[1]-u[0]);// Nice extent.
u=[u[0]-c,u[1]+c];var d,p=[0,t[1]],h=[0,t[0]],f=[[t[0],0],[0,0]],v=[],g=h[1]/(o.count()-1),y=0,m=Math.round(o.count()/t[0]);o.each([a],(function(e,t){if(m>0&&t%m)y+=g;else{// FIXME
// Should consider axis.min/axis.max when drawing dataShadow.
// FIXME
// 应该使用统一的空判断？还是在list里进行空判断？
var n=null==e||isNaN(e)||""===e,i=n?0:$r(e,u,p,!0);// See #4235.
// Attempt to draw data shadow precisely when there are empty value.
n&&!d&&t?(f.push([f[f.length-1][0],0]),v.push([v[v.length-1][0],0])):!n&&d&&(f.push([y,0]),v.push([y,0])),f.push([y,i]),v.push([y,i]),y+=g,d=n}})),l=this._shadowPolygonPts=f,s=this._shadowPolylinePts=v}this._shadowData=o,this._shadowDim=a,this._shadowSize=[t[0],t[1]];// let dataBackgroundModel = dataZoomModel.getModel('dataBackground');
for(var x=this.dataZoomModel,b=0;b<3;b++){var _=w(1===b);this._displayables.sliderGroup.add(_),this._displayables.dataShadowSegs.push(_)}}}function w(e){var t=x.getModel(e?"selectedDataBackground":"dataBackground"),n=new Kr,i=new ed({shape:{points:l},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),o=new id({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(o),n}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){// Find a representative series.
var n,i=this.ecModel;return e.eachTargetAxis((function(o,r){Ge(e.getAxisProxy(o,r).getTargetSeriesModels(),(function(e){if(!(n||!0!==t&&Ve(IW,e.get("type"))<0)){var a,l=i.getComponent(yV(o),r).axis,s=function(e){// FIXME
// 这个逻辑和getOtherAxis里一致，但是写在这里是否不好
var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}(o),u=e.coordinateSystem;null!=s&&u.getOtherAxis&&(a=u.getOtherAxis(l).inverse),s=e.getData().mapDimension(s),n={thisAxis:l,series:e,thisDim:o,otherDim:s,otherAxisInverse:a}}}),this)}),this),n}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,n=t.handles=[null,null],i=t.handleLabels=[null,null],o=this._displayables.sliderGroup,r=this._size,a=this.dataZoomModel,l=this.api,s=a.get("borderRadius")||0,u=a.get("brushSelect"),c=t.filler=new CW({silent:u,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});o.add(c),// Frame border.
o.add(new CW({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:r[0],height:r[1],r:s},style:{// deprecated option
stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),// Left and right handle to resize
Ge([0,1],(function(t){var r=a.get("handleIcon");!vm[r]&&r.indexOf("path://")<0&&r.indexOf("image://")<0&&(// Compatitable with the old icon parsers. Which can use a path string without path://
r="path://"+r);var l=mm(r,-1,0,2,2,null,!0);l.attr({cursor:DW(this._orient),draggable:!0,drift:Xe(this._onDragMove,this,t),ondragend:Xe(this._onDragEnd,this),onmouseover:Xe(this._showDataInfo,this,!0),onmouseout:Xe(this._showDataInfo,this,!1),z2:5});var s=l.getBoundingRect(),u=a.get("handleSize");this._handleHeight=Jr(u,this._size[1]),this._handleWidth=s.width/s.height*this._handleHeight,l.setStyle(a.getModel("handleStyle").getItemStyle()),l.style.strokeNoScale=!0,l.rectHover=!0,l.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),Zu(l);var c=a.get("handleColor");// deprecated option
// Compatitable with previous version
null!=c&&(l.style.fill=c),o.add(n[t]=l);var d=a.getModel("textStyle");e.add(i[t]=new ru({silent:!0,invisible:!0,style:_p(d,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:d.getTextColor(),font:d.getFont()}),z2:10}))}),this);// Handle to move. Only visible when brushSelect is set true.
var d=c;if(u){var p=Jr(a.get("moveHandleSize"),r[1]),h=t.moveHandle=new Gs({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:r[1]-.5,height:p}}),f=.8*p,v=t.moveHandleIcon=mm(a.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);v.silent=!0,v.y=r[1]+p/2-.5,h.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(r[1]/2,Math.max(p,10));(d=t.moveZone=new Gs({invisible:!0,shape:{y:r[1]-g,height:p+g}})).on("mouseover",(function(){l.enterEmphasis(h)})).on("mouseout",(function(){l.leaveEmphasis(h)})),o.add(h),o.add(v),o.add(d)}d.attr({draggable:!0,cursor:DW(this._orient),drift:Xe(this._onDragMove,this,"all"),ondragstart:Xe(this._showDataInfo,this,!0),ondragend:Xe(this._onDragEnd,this),onmouseover:Xe(this._showDataInfo,this,!0),onmouseout:Xe(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[$r(e[0],[0,100],t,!0),$r(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),r=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];eL(t,i,o,n.get("zoomLock")?"all":e,null!=r.minSpan?$r(r.minSpan,a,o,!0):null,null!=r.maxSpan?$r(r.maxSpan,a,o,!0):null);var l=this._range,s=this._range=ea([$r(i[0],o,a,!0),$r(i[1],o,a,!0)]);return!l||l[0]!==s[0]||l[1]!==s[1]},t.prototype._updateView=function(e){var t=this._displayables,n=this._handleEnds,i=ea(n.slice()),o=this._size;Ge([0,1],(function(e){// Handles
var i=t.handles[e],r=this._handleHeight;i.attr({scaleX:r/2,scaleY:r/2,// This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.
// NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.
x:n[e]+(e?-1:1),y:o[1]/2-r/2})}),this),// Filler
t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var r={x:i[0],width:i[1]-i[0]};// Move handle
t.moveHandle&&(t.moveHandle.setShape(r),t.moveZone.setShape(r),// Force update path on the invisible object
t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",r.x+r.width/2));// update clip path of shadow.
for(var a=t.dataShadowSegs,l=[0,i[0],i[1],o[0]],s=0;s<a.length;s++){var u=a[s],c=u.getClipPath();c||(c=new Gs,u.setClipPath(c)),c.setShape({x:l[s],y:0,width:l[s+1]-l[s],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,n=this._displayables,i=n.handleLabels,o=this._orient,r=["",""];// FIXME
// date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）
if(t.get("showDetail")){var a=t.findRepresentativeAxisProxy();if(a){var l=a.getAxisModel().axis,s=this._range,u=e?a.calculateDataWindow({start:s[0],end:s[1]}).valueWindow:a.getDataValueWindow();r=[this._formatLabel(u[0],l),this._formatLabel(u[1],l)]}}var c=ea(this._handleEnds.slice());function d(e){// Label
// Text should not transform by barGroup.
// Ignore handlers transform
var t=np(n.handles[e].parent,this.group),a=op(0===e?"right":"left",t),l=this._handleWidth/2+5,s=ip([c[e]+(0===e?-l:l),this._size[1]/2],t);i[e].setStyle({x:s[0],y:s[1],verticalAlign:o===MW?"middle":a,align:o===MW?a:"center",text:r[e]})}d.call(this,0),d.call(this,1)},t.prototype._formatLabel=function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=t.getPixelPrecision());var r=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return $e(i)?i(e,r):Je(i)?i.replace("{value}",r):r},
/**
         * @param showOrHide true: show, false: hide
         */
t.prototype._showDataInfo=function(e){// Always show when drgging.
e=this._dragging||e;var t=this._displayables,n=t.handleLabels;n[0].attr("invisible",!e),n[1].attr("invisible",!e),// Highlight move handle
t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},t.prototype._onDragMove=function(e,t,n,i){this._dragging=!0,// For mobile device, prevent screen slider on the button.
gn(i.event);// Transform dx, dy to bar coordination.
var o=ip([t,n],this._displayables.sliderGroup.getLocalTransform(),!0),r=this._updateInterval(e,o[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),// Avoid dispatch dataZoom repeatly but range not changed,
// which cause bad visual effect when progressive enabled.
r&&a&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,r=this._updateInterval("all",n[0]-o);this._updateView(),r&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,n=e.offsetY;this._brushStart=new An(t,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var n=t.shape;// console.log(brushEndTime - this._brushStartTime);
if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var i=this._getViewExtent(),o=[0,100];this._range=ea([$r(n.x,i,o,!0),$r(n.x+n.width,i,o,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(// For mobile device, prevent screen slider on the button.
gn(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var n=this._displayables,i=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new CW({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.attr("ignore",!1);var r=this._brushStart,a=this._displayables.sliderGroup,l=a.transformCoordToLocal(e,t),s=a.transformCoordToLocal(r.x,r.y),u=this._size;l[0]=Math.max(Math.min(u[0],l[0]),0),o.setShape({x:s[0],y:0,width:l[0]-s[0],height:u[1]})},
/**
         * This action will be throttled.
         */
t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?kW:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){// Find the grid coresponding to the first axis referred by dataZoom.
var e,t=xV(this.dataZoomModel).infoList;if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var i=this.api.getWidth(),o=this.api.getHeight();e={x:.2*i,y:.2*o,width:.6*i,height:.6*o}}return e},t.type="dataZoom.slider",t}(IV);function DW(e){return"vertical"===e?"ns-resize":"ew-resize"}var OW=AW;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function PW(e){e.registerComponentModel(SW),e.registerComponentView(OW),zV(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var LW={
/**
         * @public
         */
get:function(e,t,n){var i=Ne((EW[e]||{})[t]);return n&&Ze(i)?i[i.length-1]:i}},EW={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},NW=LW,RW=WD.mapVisual,zW=WD.eachVisual,BW=Ze,FW=Ge,VW=ea,jW=$r,HW=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},
/**
           * [lowerBound, upperBound]
           */
n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return de(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},
/**
         * @protected
         */
t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&dH(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},
/**
         * @protected
         */
t.prototype.resetVisual=function(e){var t=this.stateList;e=Xe(e,this),this.controllerVisuals=cH(this.option.controller,t,e),this.targetVisuals=cH(this.option.target,t,e)},
/**
         * @public
         */
t.prototype.getItemSymbol=function(){return null},
/**
         * @protected
         * @return {Array.<number>} An array of series indices.
         */
t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=wa(e),t},
/**
         * @public
         */
t.prototype.eachTargetSeries=function(e,t){Ge(this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&e.call(t,i)}),this)},
/**
         * @pubilc
         */
t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},
/**
         * @example
         * this.formatValueText(someVal); // format single numeric value to text.
         * this.formatValueText(someVal, true); // format single category value to text.
         * this.formatValueText([min, max]); // format numeric min-max to text.
         * this.formatValueText([this.dataBound[0], max]); // using data lower bound.
         * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.
         *
         * @param value Real value, or this.dataBound[0 or 1].
         * @param isCategory Only available when value is number.
         * @param edgeSymbols Open-close symbol when value is interval.
         * @protected
         */
t.prototype.formatValueText=function(e,t,n){var i,o=this.option,r=o.precision,a=this.dataBound,l=o.formatter;n=n||["<",">"],Ze(e)&&(e=e.slice(),i=!0);var s=t?e:i?[u(e[0]),u(e[1])]:u(e);return Je(l)?l.replace("{value}",i?s[0]:s).replace("{value2}",i?s[1]:s):$e(l)?i?l(e[0],e[1]):l(e):i?e[0]===a[0]?n[0]+" "+s[1]:e[1]===a[1]?n[1]+" "+s[0]:s[0]+" - "+s[1]:s;function u(e){return e===a[0]?"min":e===a[1]?"max":(+e).toFixed(Math.min(r,20))}},
/**
         * @protected
         */
t.prototype.resetExtent=function(){var e=this.option,t=VW([e.min,e.max]);// Can not calculate data extent by data here.
// Because series and data may be modified in processing stage.
// So we do not support the feature "auto min/max".
this._dataExtent=t},
/**
         * PENDING:
         * delete this method if no outer usage.
         *
         * Return  Concrete dimention. If return null/undefined, no dimension used.
         */
// getDataDimension(data: SeriesData) {
//     const optDim = this.option.dimension;
//     if (optDim != null) {
//         return data.getDimension(optDim);
//     }
//     const dimNames = data.dimensions;
//     for (let i = dimNames.length - 1; i >= 0; i--) {
//         const dimName = dimNames[i];
//         const dimInfo = data.getDimensionInfo(dimName);
//         if (!dimInfo.isCalculationCoord) {
//             return dimName;
//         }
//     }
// }
t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var n=e.dimensions,i=n.length-1;i>=0;i--){var o=n[i],r=e.getDimensionInfo(o);if(!r.isCalculationCoord)return r.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),o=t.controller||(t.controller={});Re(i,n),// Do not override
Re(o,n);// Do not override
var r=this.isCategory();function a(n){// Compatible with ec2 dataRange.color.
// The mapping order of dataRange.color is: [high value, ..., low value]
// whereas inRange.color and outOfRange.color is [low value, ..., high value]
// Notice: ec2 has no inverse.
BW(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),// Compatible with previous logic, always give a defautl color, otherwise
// simple config with no inRange and outOfRange will not work.
// Originally we use visualMap.color as the default color, but setOption at
// the second time the default color will be erased. So we change to use
// constant DEFAULT_COLOR.
// If user do not want the default color, set inRange: {color: null}.
n.inRange=n.inRange||{color:e.get("gradientColor")}}a.call(this,i),a.call(this,o),function(e,t,n){var i=e[t],o=e[n];i&&!o&&(o=e[n]={},FW(i,(function(e,t){if(WD.isValidType(t)){var n=NW.get(t,"inactive",r);null!=n&&(o[t]=n,// Compatibable with ec2:
// Only inactive color to rgba(0,0,0,0) can not
// make label transparent, so use opacity also.
"color"!==t||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}.call(this,i,"inRange","outOfRange"),// completeInactive.call(this, target, 'outOfRange', 'inRange');
function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),o=this.getItemSymbol()||"roundRect";FW(this.stateList,(function(a){var l=this.itemSize,s=e[a];// Set inactive color for controller if no other color
// attr (like colorAlpha) specified.
s||(s=e[a]={color:r?i:[i]}),// Consistent symbol and symbolSize if not specified.
null==s.symbol&&(s.symbol=t&&Ne(t)||(r?o:[o])),null==s.symbolSize&&(s.symbolSize=n&&Ne(n)||(r?l[0]:[l[0],l[0]])),// Filter none
s.symbol=RW(s.symbol,(function(e){return"none"===e?o:e}));// Normalize symbolSize
var u=s.symbolSize;if(null!=u){var c=-1/0;// symbolSize can be object when categories defined.
zW(u,(function(e){e>c&&(c=e)})),s.symbolSize=RW(u,(function(e){return jW(e,[0,c],[0,l[0]],!0)}))}}),this)}.call(this,o)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},
/**
         * @public
         * @abstract
         */
t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},
/**
         * @public
         * @abstract
         */
t.prototype.getValueState=function(e){return null},
/**
         * FIXME
         * Do not publish to thirt-part-dev temporarily
         * util the interface is stable. (Should it return
         * a function but not visual meta?)
         *
         * @pubilc
         * @abstract
         * @param getColorVisual
         *        params: value, valueState
         *        return: color
         * @return {Object} visualMeta
         *        should includes {stops, outerColors}
         *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]
         */
t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,// zlevel: 0,
z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,// 接受数组分别设定上右下左边距，同css
textGap:10,precision:0,textStyle:{color:"#333"}},t}(tf),GW=HW,WW=[20,140],KW=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}
/**
         * @override
         */return de(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},
/**
         * @protected
         * @override
         */
t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=WW[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=WW[1])},
/**
         * @private
         */
t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(// `range` should always be array (so we dont use other
// value like 'auto') for user-friend. (consider getOption).
e.auto=1,this.option.range=e):Ze(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},
/**
         * @protected
         * @override
         */
t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),Ge(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},
/**
         * @override
         */
t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},
/**
         * @public
         */
t.prototype.getSelected=function(){var e=this.getExtent(),t=ea((this.get("range")||[]).slice());// Clamp
return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},
/**
         * @override
         */
t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent();// When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.
// range[1] is processed likewise.
return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(n){var i=[],o=n.getData();o.each(this.getDataDimensionIndex(o),(function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)}),this),t.push({seriesId:n.id,dataIndex:i})}),this),t},
/**
         * @implement
         */
t.prototype.getVisualMeta=function(e){var t=UW(this,"outOfRange",this.getExtent()),n=UW(this,"inRange",this.option.range.slice()),i=[];function o(t,n){i.push({value:t,color:e(t,n)})}// Format to: outOfRange -- inRange -- outOfRange.
for(var r=0,a=0,l=n.length,s=t.length;a<s&&(!n.length||t[a]<=n[0]);a++)// If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.
t[a]<n[r]&&o(t[a],"outOfRange");for(var u=1;r<l;r++,u=0)// If range is full, value beyond min, max will be clamped.
// make a singularity
u&&i.length&&o(n[r],"outOfRange"),o(n[r],"inRange");for(u=1;a<s;a++)(!n.length||n[n.length-1]<t[a])&&(// make a singularity
u&&(i.length&&o(i[i.length-1].value,"outOfRange"),u=0),o(t[a],"outOfRange"));var c=i.length;return{stops:i,outerColors:[c?i[0].color:"transparent",c?i[c-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Xp(GW.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(GW);function UW(e,t,n){if(n[0]===n[1])return n.slice();// When using colorHue mapping, it is not linear color any more.
// Moreover, canvas gradient seems not to be accurate linear.
// FIXME
// Should be arbitrary value 100? or based on pixel size?
for(var i=(n[1]-n[0])/200,o=n[0],r=[],a=0;a<=200&&o<n[1];a++)r.push(o),o+=i;return r.push(n[1]),r}var YW=KW,XW=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return de(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},
/**
         * @protected
         */
t.prototype.render=function(e,t,n,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,n,i):this.group.removeAll()},
/**
         * @protected
         */
t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=Nh(t.get("padding")||0),i=e.getBoundingRect();e.add(new Gs({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},
/**
         * @protected
         * @param targetValue can be Infinity or -Infinity
         * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'
         * @param opts
         * @param opts.forceState Specify state, instead of using getValueState method.
         * @param opts.convertOpacityToAlpha For color gradient in controller widget.
         * @return {*} Visual value.
         */
t.prototype.getControllerVisual=function(e,t,n){var i=(n=n||{}).forceState,o=this.visualMapModel,r={};// Default values.
if("color"===t){var a=o.get("contentColor");r.color=a}function l(e){return r[e]}function s(e,t){r[e]=t}var u=o.controllerVisuals[i||o.getValueState(e)];return Ge(WD.prepareVisualTypes(u),(function(i){var o=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",o=u.__alphaForOpacity),WD.dependsOn(i,t)&&o&&o.applyVisual(e,l,s)})),r[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api;Xh(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},t.prototype.doRender=function(e,t,n,i){},t.type="visualMap",t}(Jg),qW=XW,ZW=[["left","right","width"],["top","bottom","height"]];
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * @param visualMapModel
       * @param api
       * @param itemSize always [short, long]
       * @return {string} 'left' or 'right' or 'top' or 'bottom'
       */
function $W(e,t,n){var i=e.option,o=i.align;if(null!=o&&"auto"!==o)return o;// Auto decision align.
for(var r={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,l=ZW[a],s=[0,null,10],u={},c=0;c<3;c++)u[ZW[1-a][c]]=s[c],u[l[c]]=2===c?n[0]:i[l[c]];var d=[["x","width",3],["y","height",0]][a],p=Yh(u,r,i.padding);return l[(p.margin[d[2]]||0)+p[d[0]]+.5*p[d[1]]<.5*r[d[1]]?0:1]}
/**
       * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and
       * dataIndexInside means filtered index.
       */
// TODO: TYPE more specified payload types.
function JW(e,t){return Ge(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var QW=$r,eK=Ge,tK=Math.min,nK=Math.max,iK=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return de(t,e),t.prototype.doRender=function(e,t,n,i){this._api=n,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),// Do this for background size calculation.
this._updateView(!0),// After updating view, inner shapes is built completely,
// and then background can be rendered.
this.renderBackground(t),// Real update view
this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){// Compatible with ec2, text[0] map to high value, text[1] map low value.
var i=t[1-n];i=null!=i?i+"":"";var o=this.visualMapModel,r=o.get("textGap"),a=o.itemSize,l=this._shapes.mainGroup,s=this._applyTransform([a[0]/2,0===n?-r:a[1]+r],l),u=this._applyTransform(0===n?"bottom":"top",l),c=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new ru({style:_p(d,{x:s[0],y:s[1],verticalAlign:"horizontal"===c?"middle":u,align:"horizontal"===c?u:"center",text:i})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,o=this._orient,r=this._useHandle,a=$W(t,this.api,i),l=n.mainGroup=this._createBarGroup(a),s=new Kr;l.add(s),// Bar
s.add(n.outOfRange=oK()),s.add(n.inRange=oK(null,r?aK(this._orient):null,Xe(this._dragHandle,this,"all",!1),Xe(this._dragHandle,this,"all",!0))),// A border radius clip.
s.setClipPath(new Gs({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=t.textStyleModel.getTextRect("国"),c=nK(u.width,u.height);// Handle
r&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,l,0,i,c,o),this._createHandle(t,l,1,i,c,o)),this._createIndicator(t,l,i,c,o),e.add(l)},t.prototype._createHandle=function(e,t,n,i,o,r){var a=Xe(this._dragHandle,this,n,!1),l=Xe(this._dragHandle,this,n,!0),s=Or(e.get("handleSize"),i[0]),u=mm(e.get("handleIcon"),-s/2,-s/2,s,s,null,!0),c=aK(this._orient);u.attr({cursor:c,draggable:!0,drift:a,ondragend:l,onmousemove:function(e){gn(e.event)}}),u.x=i[0]/2,u.useStyle(e.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),nc(u,!0),t.add(u);// Text is always horizontal layout but should not be effected by
// transform (orient/inverse). So label is built separately but not
// use zrender/graphic/helper/RectText, and is located based on view
// group (according to handleLabelPoint) but not barGroup.
var d=this.visualMapModel.textStyleModel,p=new ru({cursor:c,draggable:!0,drift:a,onmousemove:function(e){// Fot mobile devicem, prevent screen slider on the button.
gn(e.event)},ondragend:l,style:_p(d,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var h=[s,0],f=this._shapes;f.handleThumbs[n]=u,f.handleLabelPoints[n]=h,f.handleLabels[n]=p},t.prototype._createIndicator=function(e,t,n,i,o){var r=Or(e.get("indicatorSize"),n[0]),a=mm(e.get("indicatorIcon"),-r/2,-r/2,r,r,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var l=e.getModel("indicatorStyle").getItemStyle();if(a instanceof Ns){var s=a.style;a.useStyle(Be({// TODO other properties like x, y ?
image:s.image,x:s.x,y:s.y,width:s.width,height:s.height},l))}else a.useStyle(l);t.add(a);var u=this.visualMapModel.textStyleModel,c=new ru({silent:!0,invisible:!0,style:_p(u,{x:0,y:0,text:""})});this.group.add(c);var d=[("horizontal"===o?i/2:6)+n[0]/2,0],p=this._shapes;p.indicator=a,p.indicatorLabel=c,p.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,// dx is event from ondragend if isEnd is true. It's not used
n,i){if(this._useHandle){if(this._dragging=!t,!t){// Transform dx, dy to bar coordination.
var o=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),// Considering realtime, update view should be executed
// before dispatch action.
this._updateView()}// dragEnd do not dispatch action when realtime.
t===!this.visualMapModel.get("realtime")&&// jshint ignore:line
this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():rK(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[QW(t[0],n,i,!0),QW(t[1],n,i,!0)]},
/**
         * @private
         * @param {(number|string)} handleIndex 0 or 1 or 'all'
         * @param {number} dx
         * @param {number} dy
         */
t.prototype._updateInterval=function(e,t){t=t||0;var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];eL(t,i,o,e,// cross is forbiden
0);var r=n.getExtent();// Update data interval.
this._dataInterval=[QW(i[0],o,r,!0),QW(i[1],o,r,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,o=[0,t.itemSize[1]],r=e?o:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,r,"inRange"),l=this._createBarVisual(n,n,o,"outOfRange");i.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),this._updateHandle(r,a)},t.prototype._createBarVisual=function(e,t,n,i){var o={forceState:i,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,o),a=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],l=this._createBarPoints(n,a);return{barColor:new _d(0,0,0,1,r),barPoints:l,handlesColor:[r[0].color,r[r.length-1].color]}},t.prototype._makeColorGradient=function(e,t){// Considering colorHue, which is not linear, so we have to sample
// to calculate gradient color stops, but not only caculate head
// and tail.
var n=[],i=(e[1]-e[0])/100;// Arbitrary value.
n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<100;o++){var r=e[0]+i*o;if(r>e[1])break;n.push({color:this.getControllerVisual(r,"color",t),offset:o/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new Kr("horizontal"!==t||n?"horizontal"===t&&n?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||n?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,r=n.handleLabels,a=i.itemSize,l=i.getExtent();eK([0,1],(function(s){var u=o[s];u.setStyle("fill",t.handlesColor[s]),u.y=e[s];var c=QW(e[s],[0,a[1]],l,!0),d=this.getControllerVisual(c,"symbolSize");u.scaleX=u.scaleY=d/a[0],u.x=a[0]-d/2;// Update handle label position.
var p=ip(n.handleLabelPoints[s],np(u,this.group));r[s].setStyle({x:p[0],y:p[1],text:i.formatValueText(this._dataInterval[s]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,n,i){var o=this.visualMapModel,r=o.getExtent(),a=o.itemSize,l=[0,a[1]],s=this._shapes,u=s.indicator;if(u){u.attr("invisible",!1);var c=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),d=this.getControllerVisual(e,"symbolSize"),p=QW(e,r,l,!0),h=a[0]-d/2,f={x:u.x,y:u.y};// Update handle label position.
u.y=p,u.x=h;var v=ip(s.indicatorLabelPoint,np(u,this.group)),g=s.indicatorLabel;g.attr("invisible",!1);var y=this._applyTransform("left",s.mainGroup),m="horizontal"===this._orient;g.setStyle({text:(n||"")+o.formatValueText(t),verticalAlign:m?y:"middle",align:m?"center":y});var x={x:h,y:p,style:{fill:c}},b={style:{x:v[0],y:v[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var _={duration:100,easing:"cubicInOut",additive:!0};u.x=f.x,u.y=f.y,u.animateTo(x,_),g.animateTo(b,_)}else u.attr(x),g.attr(b);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var S=0;S<w.length;S++)// Fade out handle labels.
// NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.
this._api.enterBlur(w[S])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);// For hover link show when hover handle, which might be
// below or upper than sizeExtent.
i[1]=tK(nK(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){// When mouse is out of handle, hoverLink still need
// to be displayed when realtime is set as false.
e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var o=[0,i[1]],r=n.getExtent();// For hover link show when hover handle, which might be below or upper than sizeExtent.
e=tK(nK(o[0],e),o[1]);var a=function(e,t,n){var i=6,o=e.get("hoverLinkDataSize");o&&(i=QW(o,t,n,!0)/2);return i}(n,r,o),l=[e-a,e+a],s=QW(e,o,r,!0),u=[QW(l[0],o,r,!0),QW(l[1],o,r,!0)];// Consider data range is out of visualMap range, see test/visualMap-continuous.html,
// where china and india has very large population.
l[0]<o[0]&&(u[0]=-1/0),l[1]>o[1]&&(u[1]=1/0),// Do not show indicator when mouse is over handle,
// otherwise labels overlap, especially when dragging.
t&&(u[0]===-1/0?this._showIndicator(s,u[1],"< ",a):u[1]===1/0?this._showIndicator(s,u[0],"> ",a):this._showIndicator(s,s,"≈ ",a));// When realtime is set as false, handles, which are in barGroup,
// also trigger hoverLink, which help user to realize where they
// focus on when dragging. (see test/heatmap-large.html)
// When realtime is set as true, highlight will not show when hover
// handle, because the label on handle, which displays a exact value
// but not range, might mislead users.
var c=this._hoverLinkDataIndices,d=[];(t||rK(n))&&(d=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var p=function(e,t){var n={},i={};return o(e||[],n),o(t||[],i,n),[r(n),r(i)];function o(e,t,n){for(var i=0,o=e.length;i<o;i++){var r=Da(e[i].seriesId,null);if(null==r)return;for(var a=wa(e[i].dataIndex),l=n&&n[r],s=0,u=a.length;s<u;s++){var c=a[s];l&&l[c]?l[c]=null:(t[r]||(t[r]={}))[c]=1}}}function r(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=e[i])if(t)n.push(+i);else{var o=r(e[i],!0);o.length&&n.push({seriesId:i,dataIndex:o})}return n}}(c,d);this._dispatchHighDown("downplay",JW(p[0],n)),this._dispatchHighDown("highlight",JW(p[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;if(rm(e.target,(function(e){var n=au(e);if(null!=n.dataIndex)return t=n,!0}),!0),t){var n=this.ecModel.getSeriesByIndex(t.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(n)){var o=n.getData(t.dataType),r=o.getStore().get(i.getDataDimensionIndex(o),t.dataIndex);isNaN(r)||this._showIndicator(r,r)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)// Fade out handle labels.
// NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.
this._api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",JW(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,i){var o=np(t,i?null:this.group);return Ze(e)?ip(e,o,n):op(e,o,n)},// TODO: TYPE more specified payload types.
t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},
/**
         * @override
         */
t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},
/**
         * @override
         */
t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(qW);function oK(e,t,n,i){return new ed({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){// Fot mobile devicem, prevent screen slider on the button.
gn(e.event)},ondragend:i})}function rK(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function aK(e){return"vertical"===e?"ns-resize":"ew-resize"}var lK=iK,sK={type:"selectDataRange",event:"dataRangeSelected",// FIXME use updateView appears wrong
update:"update"},uK=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},cK=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var i,o,r,a,l,s=e.pipelineContext;!t.isTargetSeries(e)||s&&s.large||n.push((i=t.stateList,o=t.targetVisuals,r=Xe(t.getValueState,t),a=t.getDataDimensionIndex(e.getData()),l={},Ge(i,(function(e){var t=WD.prepareVisualTypes(o[e]);l[e]=t})),{progress:function(e,t){var n,i;function s(e){return em(t,i,e)}function u(e,n){nm(t,i,e,n)}null!=a&&(n=t.getDimensionIndex(a));for(var c=t.getStore();null!=(i=e.next());){var d=t.getRawDataItem(i);// Consider performance
// @ts-ignore
if(!d||!1!==d.visualMap)for(var p=null!=a?c.get(n,i):i,h=r(p),f=o[h],v=l[h],g=0,y=v.length;g<y;g++){var m=v[g];f[m]&&f[m].applyVisual(p,s,u)}}}}))})),n}},// Only support color.
{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(Xe(dK,null,e,t))||{stops:[],outerColors:[]},r=t.getDataDimensionIndex(n);r>=0&&(// visualMeta.dimension should be dimension index, but not concrete dimension.
o.dimension=r,i.push(o))}})),// console.log(JSON.stringify(visualMetaList.map(a => a.stops)));
e.getData().setVisual("visualMeta",i)}}];
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/**
       * AUTO-GENERATED FILE. DO NOT MODIFY.
       */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */ // FIXME
// performance and export for heatmap?
// value can be Infinity or -Infinity
function dK(e,t,n,i){for(var o=t.targetVisuals[i],r=WD.prepareVisualTypes(o),a={color:tm(e.getData(),"color")},l=0,s=r.length;l<s;l++){var u=r[l],c=o["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(n,d,p)}return a.color;function d(e){return a[e]}function p(e,t){a[e]=t}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var pK=Ge;function hK(e){var t=e&&e.visualMap;Ze(t)||(t=t?[t]:[]),pK(t,(function(e){if(e){// rename splitList to pieces
fK(e,"splitList")&&!fK(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&Ze(t)&&pK(t,(function(e){tt(e)&&(fK(e,"start")&&!fK(e,"min")&&(e.min=e.start),fK(e,"end")&&!fK(e,"max")&&(e.max=e.end))}))}}))}function fK(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var vK=!1;function gK(e){vK||(vK=!0,e.registerSubTypeDefaulter("visualMap",(function(e){// Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.
return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(sK,uK),Ge(cK,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(hK))}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function yK(e){e.registerComponentModel(YW),e.registerComponentView(lK),gK(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var mK=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,
/**
           * The order is always [low, ..., high].
           * [{text: string, interval: Array.<number>}, ...]
           */
n._pieceList=[],n}return de(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],xK[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var o=this.option.categories;this.resetVisual((function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=Ne(o)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=We(this._pieceList,(function(e){return e=Ne(e),"inRange"!==t&&(// FIXME
// outOfRange do not support special visual in pieces.
e.visual=null),e})))}))},
/**
         * @protected
         * @override
         */
t.prototype.completeVisualOption=function(){// Consider this case:
// visualMap: {
//      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]
// }
// where no inRange/outOfRange set but only pieces. So we should make
// default inRange/outOfRange for this case, otherwise visuals that only
// appear in `pieces` will not be taken into account in visual encoding.
var t=this.option,n={},i=WD.listVisualTypes(),o=this.isCategory();function r(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}Ge(t.pieces,(function(e){Ge(i,(function(t){e.hasOwnProperty(t)&&(n[t]=1)}))})),Ge(n,(function(e,n){var i=!1;Ge(this.stateList,(function(e){i=i||r(t,e,n)||r(t.target,e,n)}),this),!i&&Ge(this.stateList,(function(e){(t[e]||(t[e]={}))[n]=NW.get(n,"inRange"===e?"active":"inactive",o)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,i=this._pieceList,o=(t?n:e).selected||{};if(n.selected=o,// Consider 'not specified' means true.
Ge(i,(function(e,t){var n=this.getSelectedMapKey(e);o.hasOwnProperty(n)||(o[n]=!0)}),this),"single"===n.selectedMode){// Ensure there is only one selected.
var r=!1;Ge(i,(function(e,t){var n=this.getSelectedMapKey(e);o[n]&&(r?o[n]=!1:r=!0)}),this)}// thisOption.selectedMode === 'multiple', default: all selected.
},
/**
         * @public
         */
t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},
/**
         * @public
         */
t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},
/**
         * @public
         */
t.prototype.getPieceList=function(){return this._pieceList},
/**
         * @return {string}
         */
t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},
/**
         * @override
         */
t.prototype.setSelected=function(e){this.option.selected=Ne(e)},
/**
         * @override
         */
t.prototype.getValueState=function(e){var t=WD.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},
/**
         * @public
         * @param pieceIndex piece index in visualMapModel.getPieceList()
         */
t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries((function(i){var o=[],r=i.getData();r.each(this.getDataDimensionIndex(r),(function(t,i){WD.findPieceIndex(t,n)===e&&o.push(i)}),this),t.push({seriesId:i.id,dataIndex:o})}),this),t},
/**
         * @private
         * @param piece piece.value or piece.interval is required.
         * @return  Can be Infinity or -Infinity
         */
t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){// Do not support category. (category axis is ordinal, numerical)
if(!this.isCategory()){var t=[],n=["",""],i=this,o=this._pieceList.slice();if(o.length){var r=o[0].interval[0];r!==-1/0&&o.unshift({interval:[-1/0,r]}),(r=o[o.length-1].interval[1])!==1/0&&o.push({interval:[r,1/0]})}else o.push({interval:[-1/0,1/0]});var a=-1/0;return Ge(o,(function(e){var t=e.interval;t&&(// Fulfill gap.
t[0]>a&&l([a,t[0]],"outOfRange"),l(t.slice()),a=t[1])}),this),{stops:t,outerColors:n}}function l(o,r){var a=i.getRepresentValue({interval:o});// Not category
r||(r=i.getValueState(a));var l=e(a,r);o[0]===-1/0?n[0]=l:o[1]===1/0?n[1]=l:t.push({value:o[0],color:l},{value:o[1],color:l})}// Suplement
},t.type="visualMap.piecewise",t.defaultOption=Xp(GW.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(GW),xK={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),i=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;// Precision auto-adaption
for(var r=(i[1]-i[0])/o;+r.toFixed(n)!==r&&n<5;)n++;t.precision=n,r=+r.toFixed(n),t.minOpen&&e.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,l=i[0];a<o;l+=r,a++){var s=a===o-1?i[1]:l+r;e.push({interval:[l,s],close:[1,1]})}t.maxOpen&&e.push({interval:[i[1],1/0],close:[0,0]}),pa(e),Ge(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;Ge(t.categories,(function(t){// FIXME category模式也使用pieceList，但在visualMapping中不是使用pieceList。
// 是否改一致。
e.push({text:this.formatValueText(t,!0),value:t})}),this),// See "Order Rule".
bK(t,e)},pieces:function(e){var t=this.option;Ge(t.pieces,(function(t,n){tt(t)||(t={value:t});var i={text:"",index:n};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var o=i.value=t.value;i.interval=[o,o],i.close=[1,1]}else{for(// `min` `max` is legacy option.
// `lt` `gt` `lte` `gte` is recommanded.
var r=i.interval=[],a=i.close=[0,0],l=[1,0,1],s=[-1/0,1/0],u=[],c=0;c<2;c++){for(var d=[["gte","gt","min"],["lte","lt","max"]][c],p=0;p<3&&null==r[c];p++)r[c]=t[d[p]],a[c]=l[p],u[c]=2===p;null==r[c]&&(r[c]=s[c])}u[0]&&r[1]===1/0&&(a[0]=0),u[1]&&r[0]===-1/0&&(a[1]=0),r[0]===r[1]&&a[0]&&a[1]&&(// Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],
// we use value to lift the priority when min === max
i.value=r[0])}i.visual=WD.retrieveVisuals(t),e.push(i)}),this),// See "Order Rule".
bK(t,e),// Only pieces
pa(e),Ge(e,(function(e){var t=e.close,n=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)}),this)}};
/**
       * Key is this._mode
       * @type {Object}
       * @this {module:echarts/component/viusalMap/PiecewiseMode}
       */function bK(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var _K=mK,wK=/** @class */function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return de(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),r=i.getTextColor(),a=this._getItemAlign(),l=t.itemSize,s=this._getViewData(),u=s.endsText,c=lt(t.get("showLabel",!0),!u);u&&this._renderEndsText(e,u[0],l,c,a),Ge(s.viewPieceList,(function(i){var s=i.piece,u=new Kr;u.onclick=Xe(this._onItemClick,this,s),this._enableHoverLink(u,i.indexInModelPieceList);// TODO Category
var d=t.getRepresentValue(s);if(this._createItemSymbol(u,d,[0,0,l[0],l[1]]),c){var p=this.visualMapModel.getValueState(d);u.add(new ru({style:{x:"right"===a?-n:l[0]+n,y:l[1]/2,text:s.text,verticalAlign:"middle",align:a,font:o,fill:r,opacity:"outOfRange"===p?.5:1}}))}e.add(u)}),this),u&&this._renderEndsText(e,u[1],l,c,a),Uh(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(e){var i=n.visualMapModel;// TODO: TYPE More detailed action types
i.option.hoverLink&&n.api.dispatchAction({type:e,batch:JW(i.findTargetDataIndices(t),i)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return $W(e,this.api,e.itemSize);// horizontal, most case left unless specifying right.
var n=t.align;return n&&"auto"!==n||(n="left"),n},t.prototype._renderEndsText=function(e,t,n,i,o){if(t){var r=new Kr,a=this.visualMapModel.textStyleModel;r.add(new ru({style:_p(a,{x:i?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?o:"center",text:t})})),e.add(r)}},
/**
         * @private
         * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.
         */
t.prototype._getViewData=function(){var e=this.visualMapModel,t=We(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),n=e.get("text"),i=e.get("orient"),o=e.get("inverse");// Order of model pieceList is always [low, ..., high]
return("horizontal"===i?o:!o)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n){e.add(mm(// symbol will be string
this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],// color will be string
this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,i=n.selectedMode;if(i){var o=Ne(n.selected),r=t.getSelectedMapKey(e);"single"===i||!0===i?(o[r]=!0,Ge(o,(function(e,t){o[t]=t===r}))):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(qW),SK=wK;
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function CK(e){e.registerComponentModel(_K),e.registerComponentView(SK),gK(e)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var MK={label:{enabled:!0},decal:{show:!1}},TK=Ea(),IK={};function kK(e,t){var n=e.getModel("aria");// See "area enabled" detection code in `GlobalModel.ts`.
if(n.get("enabled")){var i=Ne(MK);Re(i.label,e.getLocaleModel().get("aria"),!1),Re(n.option,i,!1),function(){if(n.getModel("decal").get("show")){// Each type of series use one scope.
// Pie and funnel are using different scopes.
var t=bt();e.eachSeries((function(e){if(!e.isColorBySeries()){var n=t.get(e.type);n||(n={},t.set(e.type,n)),TK(e).scope=n}})),e.eachRawSeries((function(t){if(!e.isSeriesFiltered(t))if($e(t.enableAriaDecal))// Let series define how to use decal palette on data
t.enableAriaDecal();else{var n=t.getData();if(t.isColorBySeries()){var i=Of(t.ecModel,t.name,IK,e.getSeriesCount()),o=n.getVisual("decal");n.setVisual("decal",u(o,i))}else{var r=t.getRawData(),a={},l=TK(t).scope;n.each((function(e){var t=n.getRawIndex(e);a[t]=e}));var s=r.count();r.each((function(e){var i=a[e],o=r.getName(e)||e+"",c=Of(t.ecModel,o,l,s),d=n.getItemVisual(i,"decal");n.setItemVisual(i,"decal",u(d,c))}))}}function u(e,t){// Merge decal from palette to decal from itemStyle.
// User do not need to specify all of the decal props.
var n=e?Be(Be({},t),e):t;return n.dirty=!0,n}}))}}(),function(){var i=e.getLocaleModel().get("aria"),r=n.getModel("label");if(r.option=Fe(r.option,i),!r.get("enabled"))return;var a=t.getZr().dom;if(r.get("description"))return void a.setAttribute("aria-label",r.get("description"));var l,s=e.getSeriesCount(),u=r.get(["data","maxCount"])||10,c=r.get(["series","maxCount"])||10,d=Math.min(s,c);if(s<1)// No series, no aria label
return;var p=function(){var t=e.get("title");t&&t.length&&(t=t[0]);return t&&t.text}();l=p?o(r.get(["general","withTitle"]),{title:p}):r.get(["general","withoutTitle"]);var h=[];l+=o(s>1?r.get(["series","multiple","prefix"]):r.get(["series","single","prefix"]),{seriesCount:s}),e.eachSeries((function(t,n){if(n<d){var i=void 0,a=t.get("name")?"withName":"withoutName";i=o(i=s>1?r.get(["series","multiple",a]):r.get(["series","single",a]),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(x=t.subType,e.getLocaleModel().get(["series","typeNames"])[x]||"自定义图")});var l=t.getData();if(l.count()>u)i+=o(r.get(["data","partialData"]),{displayCnt:u});else i+=r.get(["data","allData"]);for(var c=r.get(["data","separator","middle"]),p=r.get(["data","separator","end"]),f=[],v=0;v<l.count();v++)if(v<u){var g=l.getName(v),y=l.getValues(v),m=r.get(["data",g?"withName":"withoutName"]);f.push(o(m,{name:g,value:y.join(c)}))}i+=f.join(c)+p,h.push(i)}var x}));var f=r.getModel(["series","multiple","separator"]),v=f.get("middle"),g=f.get("end");l+=h.join(v)+g,a.setAttribute("aria-label",l)}()}function o(e,t){if(!Je(e))return e;var n=e;return Ge(t,(function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),n}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */function AK(e){if(e&&e.aria){var t=e.aria;// aria.show is deprecated and should use aria.enabled instead
null!=t.show&&(t.enabled=t.show),t.label=t.label||{},// move description, general, series, data to be under aria.label
Ge(["description","general","series","data"],(function(e){null!=t[e]&&(t.label[e]=t[e])}))}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var DK={value:"eq",// PENDING: not good for literal semantic?
"<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},OK=/** @class */function(){function e(e){// Support condVal: RegExp | string
var t;if(null==(this._condVal=Je(e)?new RegExp(e):(t=e,"[object RegExp]"===Se.call(t)?e:null))){ma("")}}return e.prototype.evaluate=function(e){var t=u(e);return Je(t)?this._condVal.test(e):!!et(t)&&this._condVal.test(e+"")},e}(),PK=/** @class */function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),LK=/** @class */function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),EK=/** @class */function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),NK=/** @class */function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),RK=/** @class */function(){function e(){}return e.prototype.evaluate=function(){// Relational cond follow "and" logic internally.
for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),n=e?this.valueParser(t):null,i=0// Call getValue with no `this`.
;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?n:t))return!1;return!0},e}();// type RelationalExpressionOpEvaluate = (tarVal: unknown, condVal: unknown) => boolean;
function zK(e,t){if(!0===e||!1===e){var n=new PK;return n.value=e,n}return FK(e)||ma(""),e.and?BK("and",e,t):e.or?BK("or",e,t):e.not?function(e,t){var n=e.not,i="";FK(n)||ma(i);var o=new NK;o.child=zK(n,t),o.child||ma(i);return o}(e,t):function(e,t){for(var n="",i=t.prepareGetValue(e),o=[],r=Ye(e),a=e.parser,l=a?Xv(a):null,s=0;s<r.length;s++){var u=r[s];if("parser"!==u&&!t.valueGetterAttrMap.get(u)){var c=Ct(DK,u)?DK[u]:u,d=e[u],p=l?l(d):d,h=Qv(c,p)||"reg"===c&&new OK(p);h||ma(n),o.push(h)}}o.length||ma(n);var f=new RK;return f.valueGetterParam=i,f.valueParser=l,f.getValue=t.getValue,f.subCondList=o,f}(e,t)}function BK(e,t,n){var i=t[e];Ze(i)||ma(""),i.length||ma("");var o="and"===e?new LK:new EK;return o.children=We(i,(function(e){return zK(e,n)})),o.children.length||ma(""),o}function FK(e){return tt(e)&&!He(e)}var VK=/** @class */function(){function e(e,t){this._cond=zK(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var jK={type:"echarts:filter",// PEDING: enhance to filter by index rather than create new data
transform:function(e){for(// [Caveat] Fail-Fast:
// Do not return the whole dataset unless user config indicate it explicitly.
// For example, if no condition specified by mistake, return an empty result
// is better than return the entire raw soruce for user to find the mistake.
var t,n,i,o=e.upstream,r=(n=e.config,i={valueGetterAttrMap:bt({dimension:!0}),prepareGetValue:function(e){var t=e.dimension;Ct(e,"dimension")||ma("");var n=o.getDimensionInfo(t);return n||ma(""),{dimIdx:n.index}},getValue:function(e){return o.retrieveValueFromItem(t,e.dimIdx)}},new VK(n,i)),a=[],l=0,s=o.count();l<s;l++)t=o.getRawDataItem(l),r.evaluate()&&a.push(t);return{data:a}}},HK={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,i="",o=wa(n);o.length||ma(i);var r=[];Ge(o,(function(e){var n=e.dimension,o=e.order,a=e.parser,l=e.incomparable;if(null==n&&ma(i),"asc"!==o&&"desc"!==o&&ma(i),l&&"min"!==l&&"max"!==l){ma("")}if("asc"!==o&&"desc"!==o){ma("")}var s=t.getDimensionInfo(n);s||ma(i);var u=a?Xv(a):null;a&&!u&&ma(i),r.push({dimIdx:s.index,parser:u,comparator:new $v(o,l)})}));// TODO: support it?
var a=t.sourceFormat;a!==sf&&a!==uf&&ma(i);// Other upstream format are all array.
for(var l=[],s=0,u=t.count();s<u;s++)l.push(t.getRawDataItem(s));return l.sort((function(e,n){for(var i=0;i<r.length;i++){var o=r[i],a=t.retrieveValueFromItem(e,o.dimIdx),l=t.retrieveValueFromItem(n,o.dimIdx);o.parser&&(a=o.parser(a),l=o.parser(l));var s=o.comparator.evaluate(a,l);if(0!==s)return s}return 0})),{data:l}}};
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
var GK=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return de(t,e),t.prototype.init=function(t,n,i){e.prototype.init.call(this,t,n,i),this._sourceManager=new mg(this),xg(this)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),xg(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:hf},t}(tf),WK=/** @class */function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return de(t,e),t.type="dataset",t}(Jg);var KK=ls.CMD;function UK(e,t){return Math.abs(e-t)<1e-5}function YK(e){var t,n,i,o,r,a=e.data,l=e.len(),s=[],u=0,c=0,d=0,p=0;function h(e,n){t&&t.length>2&&s.push(t),t=[e,n]}function f(e,n,i,o){UK(e,i)&&UK(n,o)||t.push(e,n,i,o,i,o)}function v(e,n,i,o,r,a){var l=Math.abs(n-e),s=4*Math.tan(l/4)/3,u=n<e?-1:1,c=Math.cos(e),d=Math.sin(e),p=Math.cos(n),h=Math.sin(n),f=c*r+i,v=d*a+o,g=p*r+i,y=h*a+o,m=r*s*u,x=a*s*u;t.push(f-m*d,v+x*c,g+m*h,y-x*p,g,y)}for(var g=0;g<l;){var y=a[g++],m=1===g;switch(m&&(d=u=a[g],p=c=a[g+1],y!==KK.L&&y!==KK.C&&y!==KK.Q||(t=[d,p])),y){case KK.M:u=d=a[g++],c=p=a[g++],h(d,p);break;case KK.L:f(u,c,n=a[g++],i=a[g++]),u=n,c=i;break;case KK.C:t.push(a[g++],a[g++],a[g++],a[g++],u=a[g++],c=a[g++]);break;case KK.Q:n=a[g++],i=a[g++],o=a[g++],r=a[g++],t.push(u+2/3*(n-u),c+2/3*(i-c),o+2/3*(n-o),r+2/3*(i-r),o,r),u=o,c=r;break;case KK.A:var x=a[g++],b=a[g++],_=a[g++],w=a[g++],S=a[g++],C=a[g++]+S;g+=1;var M=!a[g++];n=Math.cos(S)*_+x,i=Math.sin(S)*w+b,m?h(d=n,p=i):f(u,c,n,i),u=Math.cos(C)*_+x,c=Math.sin(C)*w+b;for(var T=(M?-1:1)*Math.PI/2,I=S;M?I>C:I<C;I+=T){v(I,M?Math.max(I+T,C):Math.min(I+T,C),x,b,_,w)}break;case KK.R:d=u=a[g++],p=c=a[g++],n=d+a[g++],i=p+a[g++],h(n,p),f(n,p,n,i),f(n,i,d,i),f(d,i,d,p),f(d,p,n,p);break;case KK.Z:t&&f(u,c,d,p),u=d,c=p}}return t&&t.length>2&&s.push(t),s}function XK(e,t,n,i,o,r,a,l,s,u){if(UK(e,n)&&UK(t,i)&&UK(o,a)&&UK(r,l))s.push(a,l);else{var c=2/u,d=c*c,p=a-e,h=l-t,f=Math.sqrt(p*p+h*h);p/=f,h/=f;var v=n-e,g=i-t,y=o-a,m=r-l,x=v*v+g*g,b=y*y+m*m;if(x<d&&b<d)s.push(a,l);else{var _=p*v+h*g,w=-p*y-h*m;if(x-_*_<d&&_>=0&&b-w*w<d&&w>=0)s.push(a,l);else{var S=[],C=[];Ii(e,n,o,a,.5,S),Ii(t,i,r,l,.5,C),XK(S[0],C[0],S[1],C[1],S[2],C[2],S[3],C[3],s,u),XK(S[4],C[4],S[5],C[5],S[6],C[6],S[7],C[7],s,u)}}}}function qK(e,t,n){var i=e[t],o=e[1-t],r=Math.abs(i/o),a=Math.ceil(Math.sqrt(r*n)),l=Math.floor(n/a);0===l&&(l=1,a=n);for(var s=[],u=0;u<a;u++)s.push(l);var c=n-a*l;if(c>0)for(u=0;u<c;u++)s[u%a]+=1;return s}function ZK(e,t,n){for(var i=e.r0,o=e.r,r=e.startAngle,a=e.endAngle,l=Math.abs(a-r),s=l*o,u=o-i,c=s>Math.abs(u),d=qK([s,u],c?0:1,t),p=(c?l:u)/d.length,h=0;h<d.length;h++)for(var f=(c?u:l)/d[h],v=0;v<d[h];v++){var g={};c?(g.startAngle=r+p*h,g.endAngle=r+p*(h+1),g.r0=i+f*v,g.r=i+f*(v+1)):(g.startAngle=r+f*v,g.endAngle=r+f*(v+1),g.r0=i+p*h,g.r=i+p*(h+1)),g.clockwise=e.clockwise,g.cx=e.cx,g.cy=e.cy,n.push(g)}}function $K(e,t,n,i){return e*i-n*t}function JK(e,t,n,i,o,r,a,l){var s=n-e,u=i-t,c=a-o,d=l-r,p=$K(c,d,s,u);if(Math.abs(p)<1e-6)return null;var h=$K(e-o,t-r,c,d)/p;return h<0||h>1?null:new An(h*s+e,h*u+t)}function QK(e,t,n){var i=new An;An.sub(i,n,t),i.normalize();var o=new An;return An.sub(o,e,t),o.dot(i)}function eU(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function tU(e){var t=e.points,n=[],i=[];Rl(t,n,i);var o=new Fn(n[0],n[1],i[0]-n[0],i[1]-n[1]),r=o.width,a=o.height,l=o.x,s=o.y,u=new An,c=new An;return r>a?(u.x=c.x=l+r/2,u.y=s,c.y=s+a):(u.y=c.y=s+a/2,u.x=l,c.x=l+r),function(e,t,n){for(var i=e.length,o=[],r=0;r<i;r++){var a=e[r],l=e[(r+1)%i],s=JK(a[0],a[1],l[0],l[1],t.x,t.y,n.x,n.y);s&&o.push({projPt:QK(s,t,n),pt:s,idx:r})}if(o.length<2)return[{points:e},{points:e}];o.sort((function(e,t){return e.projPt-t.projPt}));var u=o[0],c=o[o.length-1];if(c.idx<u.idx){var d=u;u=c,c=d}var p=[u.pt.x,u.pt.y],h=[c.pt.x,c.pt.y],f=[p],v=[h];for(r=u.idx+1;r<=c.idx;r++)eU(f,e[r].slice());for(eU(f,h),eU(f,p),r=c.idx+1;r<=u.idx+i;r++)eU(v,e[r%i].slice());return eU(v,p),eU(v,h),[{points:f},{points:v}]}(t,u,c)}function nU(e,t,n,i){if(1===n)i.push(t);else{var o=Math.floor(n/2),r=e(t);nU(e,r[0],o,i),nU(e,r[1],n-o,i)}return i}function iU(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function oU(e,t){var n,i=[],o=e.shape;switch(e.type){case"rect":!function(e,t,n){for(var i=e.width,o=e.height,r=i>o,a=qK([i,o],r?0:1,t),l=r?"width":"height",s=r?"height":"width",u=r?"x":"y",c=r?"y":"x",d=e[l]/a.length,p=0;p<a.length;p++)for(var h=e[s]/a[p],f=0;f<a[p];f++){var v={};v[u]=p*d,v[c]=f*h,v[l]=d,v[s]=h,v.x+=e.x,v.y+=e.y,n.push(v)}}(o,t,i),n=Gs;break;case"sector":ZK(o,t,i),n=Yc;break;case"circle":ZK({r0:0,r:o.r,startAngle:0,endAngle:2*Math.PI,cx:o.cx,cy:o.cy},t,i),n=Yc;break;default:var r=e.getComputedTransform(),a=r?Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3])):1,l=We(function(e,t){var n=YK(e),i=[];t=t||1;for(var o=0;o<n.length;o++){var r=n[o],a=[],l=r[0],s=r[1];a.push(l,s);for(var u=2;u<r.length;){var c=r[u++],d=r[u++],p=r[u++],h=r[u++],f=r[u++],v=r[u++];XK(l,s,c,d,p,h,f,v,a,t),l=f,s=v}i.push(a)}return i}(e.getUpdatedPathProxy(),a),(function(e){return function(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}(e)})),s=l.length;if(0===s)nU(tU,{points:l[0]},t,i);else if(s===t)for(var u=0;u<s;u++)i.push({points:l[u]});else{var c=0,d=We(l,(function(e){var t=[],n=[];Rl(e,t,n);var i=(n[1]-t[1])*(n[0]-t[0]);return c+=i,{poly:e,area:i}}));d.sort((function(e,t){return t.area-e.area}));var p=t;for(u=0;u<s;u++){var h=d[u];if(p<=0)break;var f=u===s-1?p:Math.ceil(h.area/c*t);f<0||(nU(tU,{points:h.poly},f,i),p-=f)}}n=ed}if(!n)return function(e,t){for(var n=[],i=0;i<t;i++)n.push(Mc(e));return n}(e,t);var v=[];for(u=0;u<i.length;u++){var g=new n;g.setShape(i[u]),iU(e,g),v.push(g)}return v}function rU(e,t){var n=e.length,i=t.length;if(n===i)return[e,t];for(var o=[],r=[],a=n<i?e:t,l=Math.min(n,i),s=Math.abs(i-n)/6,u=(l-2)/6,c=Math.ceil(s/u)+1,d=[a[0],a[1]],p=s,h=2;h<l;){var f=a[h-2],v=a[h-1],g=a[h++],y=a[h++],m=a[h++],x=a[h++],b=a[h++],_=a[h++];if(p<=0)d.push(g,y,m,x,b,_);else{for(var w=Math.min(p,c-1)+1,S=1;S<=w;S++){var C=S/w;Ii(f,g,m,b,C,o),Ii(v,y,x,_,C,r),f=o[3],v=r[3],d.push(o[1],r[1],o[2],r[2],f,v),g=o[5],y=r[5],m=o[6],x=r[6]}p-=w-1}}return a===e?[d,t]:[e,d]}function aU(e,t){for(var n=e.length,i=e[n-2],o=e[n-1],r=[],a=0;a<t.length;)r[a++]=i,r[a++]=o;return r}function lU(e){for(var t=0,n=0,i=0,o=e.length,r=0,a=o-2;r<o;a=r,r+=2){var l=e[a],s=e[a+1],u=e[r],c=e[r+1],d=l*c-u*s;t+=d,n+=(l+u)*d,i+=(s+c)*d}return 0===t?[e[0]||0,e[1]||0]:[n/t/3,i/t/3,t]}function sU(e,t,n,i){for(var o=(e.length-2)/6,r=1/0,a=0,l=e.length,s=l-2,u=0;u<o;u++){for(var c=6*u,d=0,p=0;p<l;p+=2){var h=0===p?c:(c+p-2)%s+2,f=e[h]-n[0],v=e[h+1]-n[1],g=t[p]-i[0]-f,y=t[p+1]-i[1]-v;d+=g*g+y*y}d<r&&(r=d,a=u)}return a}function uU(e){for(var t=[],n=e.length,i=0;i<n;i+=2)t[i]=e[n-i-2],t[i+1]=e[n-i-1];return t}function cU(e){return e.__isCombineMorphing}var dU="__mOriginal_";function pU(e,t,n){var i=dU+t,o=e[i]||e[t];e[i]||(e[i]=e[t]);var r=n.replace,a=n.after,l=n.before;e[t]=function(){var e,t=arguments;return l&&l.apply(this,t),e=r?r.apply(this,t):o.apply(this,t),a&&a.apply(this,t),e}}function hU(e,t){var n=dU+t;e[n]&&(e[t]=e[n],e[n]=null)}function fU(e,t){for(var n=0;n<e.length;n++)for(var i=e[n],o=0;o<i.length;){var r=i[o],a=i[o+1];i[o++]=t[0]*r+t[2]*a+t[4],i[o++]=t[1]*r+t[3]*a+t[5]}}function vU(e,t){var n=e.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),o=function(e,t){for(var n,i,o,r=[],a=[],l=0;l<Math.max(e.length,t.length);l++){var s=e[l],u=t[l],c=void 0,d=void 0;s?u?(i=c=(n=rU(s,u))[0],o=d=n[1]):(d=aU(o||s,s),c=s):(c=aU(i||u,u),d=u),r.push(c),a.push(d)}return[r,a]}(YK(n),YK(i)),r=o[0],a=o[1],l=e.getComputedTransform(),s=t.getComputedTransform();l&&fU(r,l),s&&fU(a,s),pU(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(e,t,n,i){for(var o,r=[],a=0;a<e.length;a++){var l=e[a],s=t[a],u=lU(l),c=lU(s);null==o&&(o=u[2]<0!=c[2]<0);var d=[],p=[],h=0,f=1/0,v=[],g=l.length;o&&(l=uU(l));for(var y=6*sU(l,s,u,c),m=g-2,x=0;x<m;x+=2){var b=(y+x)%m+2;d[x+2]=l[b]-u[0],d[x+3]=l[b+1]-u[1]}if(d[0]=l[y]-u[0],d[1]=l[y+1]-u[1],n>0)for(var _=i/n,w=-i/2;w<=i/2;w+=_){var S=Math.sin(w),C=Math.cos(w),M=0;for(x=0;x<l.length;x+=2){var T=d[x],I=d[x+1],k=s[x]-c[0],A=s[x+1]-c[1],D=k*C-A*S,O=k*S+A*C;v[x]=D,v[x+1]=O;var P=D-T,L=O-I;M+=P*P+L*L}if(M<f){f=M,h=w;for(var E=0;E<v.length;E++)p[E]=v[E]}}else for(var N=0;N<g;N+=2)p[N]=s[N]-c[0],p[N+1]=s[N+1]-c[1];r.push({from:d,to:p,fromCp:u,toCp:c,rotation:-h})}return r}(r,a,10,Math.PI),c=[];pU(t,"buildPath",{replace:function(e){for(var n=t.__morphT,i=1-n,o=[],r=0;r<u.length;r++){var a=u[r],l=a.from,s=a.to,d=a.rotation*n,p=a.fromCp,h=a.toCp,f=Math.sin(d),v=Math.cos(d);Ht(o,p,h,n);for(var g=0;g<l.length;g+=2){var y=l[g],m=l[g+1],x=y*i+(S=s[g])*n,b=m*i+(C=s[g+1])*n;c[g]=x*v-b*f+o[0],c[g+1]=x*f+b*v+o[1]}var _=c[0],w=c[1];e.moveTo(_,w);for(g=2;g<l.length;){var S=c[g++],C=c[g++],M=c[g++],T=c[g++],I=c[g++],k=c[g++];_===S&&w===C&&M===I&&T===k?e.lineTo(I,k):e.bezierCurveTo(S,C,M,T,I,k),_=I,w=k}}}})}function gU(e,t,n){if(!e||!t)return t;var i=n.done,o=n.during;return vU(e,t),t.__morphT=0,t.animateTo({__morphT:1},Fe({during:function(e){t.dirtyShape(),o&&o(e)},done:function(){hU(t,"buildPath"),hU(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),i&&i()}},n)),t}function yU(e,t,n,i,o,r){e=o===n?0:Math.round(32767*(e-n)/(o-n)),t=r===i?0:Math.round(32767*(t-i)/(r-i));for(var a,l=0,s=32768;s>0;s/=2){var u=0,c=0;(e&s)>0&&(u=1),(t&s)>0&&(c=1),l+=s*s*(3*u^c),0===c&&(1===u&&(e=s-1-e,t=s-1-t),a=e,e=t,t=a)}return l}function mU(e){var t=1/0,n=1/0,i=-1/0,o=-1/0,r=We(e,(function(e){var r=e.getBoundingRect(),a=e.getComputedTransform(),l=r.x+r.width/2+(a?a[4]:0),s=r.y+r.height/2+(a?a[5]:0);return t=Math.min(l,t),n=Math.min(s,n),i=Math.max(l,i),o=Math.max(s,o),[l,s]}));return We(r,(function(r,a){return{cp:r,z:yU(r[0],r[1],t,n,i,o),path:e[a]}})).sort((function(e,t){return e.z-t.z})).map((function(e){return e.path}))}function xU(e){return oU(e.path,e.count)}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function bU(e){return Ze(e[0])}function _U(e,t){for(var n=[],i=e.length,o=0;o<i;o++)n.push({one:e[o],many:[]});for(o=0;o<t.length;o++){var r=t[o].length,a=void 0;for(a=0;a<r;a++)n[a%i].many.push(t[o][a])}var l=0;// If one has more paths than each one of many. average them.
for(o=i-1;o>=0;o--)if(!n[o].many.length){var s=n[l].many;if(s.length<=1){// Not enough
// Start from the first one.
if(!l)return n;l=0}r=s.length;var u=Math.ceil(r/2);n[o].many=s.slice(u,r),n[l].many=s.slice(0,u),l++}return n}var wU={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),i=0// Fitting the alpha
;i<e.count;i++){var o=Mc(e.path);o.setStyle("opacity",n),t.push(o)}return t},// Use the default divider
split:null};function SU(e,t,n,i,o,r){if(e.length&&t.length){var a=Ed("update",i,o);if(a&&a.duration>0){var l,s,u=i.getModel("universalTransition").get("delay"),c=Object.assign({// Need to setToFinal so the further calculation based on the style can be correct.
// Like emphasis color.
setToFinal:!0},a);bU(e)&&(// manyToOne
l=e,s=t),bU(t)&&(// oneToMany
l=t,s=e);for(var d=l?l===e:e.length>t.length,p=l?_U(s,l):_U(d?t:e,[d?e:t]),h=0,f=0;f<p.length;f++)h+=p[f].many.length;var v=0;for(f=0;f<p.length;f++)g(p[f],d,v,h),v+=p[f].many.length}}function g(e,t,i,o,a){var l=e.many,s=e.one;if(1!==l.length||a)for(var d=Fe({dividePath:wU[n],individualDelay:u&&function(e,t,n,r){return u(e+i,o)}},c),p=t?function(e,t,n){var i=[];!function e(t){for(var n=0;n<t.length;n++){var o=t[n];cU(o)?e(o.childrenRef()):o instanceof ks&&i.push(o)}}(e);var o=i.length;if(!o)return{fromIndividuals:[],toIndividuals:[],count:0};var r=(n.dividePath||xU)({path:t,count:o});if(r.length!==o)return{fromIndividuals:[],toIndividuals:[],count:0};i=mU(i),r=mU(r);for(var a=n.done,l=n.during,s=n.individualDelay,u=new Sr,c=0;c<o;c++){var d=i[c],p=r[c];p.parent=t,p.copyTransform(u),s||vU(d,p)}function h(e){for(var t=0;t<r.length;t++)r[t].addSelfToZr(e)}function f(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,hU(t,"addSelfToZr"),hU(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return r},pU(t,"addSelfToZr",{after:function(e){h(e)}}),pU(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<r.length;t++)r[t].removeSelfFromZr(e)}});var v=r.length;if(s){var g=v,y=function(){0==--g&&(f(),a&&a())};for(c=0;c<v;c++){var m=s?Fe({delay:(n.delay||0)+s(c,v,i[c],r[c]),done:y},n):n;gU(i[c],r[c],m)}}else t.__morphT=0,t.animateTo({__morphT:1},Fe({during:function(e){for(var n=0;n<v;n++){var i=r[n];i.__morphT=t.__morphT,i.dirtyShape()}l&&l(e)},done:function(){f();for(var t=0;t<e.length;t++)hU(e[t],"updateTransform");a&&a()}},n));return t.__zr&&h(t.__zr),{fromIndividuals:i,toIndividuals:r,count:v}}(l,s,d):function(e,t,n){var i=t.length,o=[],r=n.dividePath||xU;if(cU(e)){!function e(t){for(var n=0;n<t.length;n++){var i=t[n];cU(i)?e(i.childrenRef()):i instanceof ks&&o.push(i)}}(e.childrenRef());var a=o.length;if(a<i)for(var l=0,s=a;s<i;s++)o.push(Mc(o[l++%a]));o.length=i}else{o=r({path:e,count:i});var u=e.getComputedTransform();for(s=0;s<o.length;s++)o[s].setLocalTransform(u);if(o.length!==i)return{fromIndividuals:[],toIndividuals:[],count:0}}o=mU(o),t=mU(t);var c=n.individualDelay;for(s=0;s<i;s++){var d=c?Fe({delay:(n.delay||0)+c(s,i,o[s],t[s])},n):n;gU(o[s],t[s],d)}return{fromIndividuals:o,toIndividuals:t,count:t.length}}(s,l,d),h=p.fromIndividuals,f=p.toIndividuals,v=h.length,y=0;y<v;y++){m=u?Fe({delay:u(y,v)},c):c;r(h[y],f[y],t?l[y]:e.one,t?e.one:l[y],m)}else{// Is one to one
var m,x=t?l[0]:s,b=t?s:l[0];if(cU(x))// Keep doing combine animation.
g({many:[x],one:b},!0,i,o,!0);else gU(x,b,m=u?Fe({delay:u(i,o)},c):c),r(x,b,x,b,m)}}}function CU(e){if(!e)return[];if(Ze(e)){for(var t=[],n=0;n<e.length;n++)t.push(CU(e[n]));return t}var i=[];return e.traverse((function(e){e instanceof ks&&!e.disableMorphing&&!e.invisible&&!e.ignore&&i.push(e)})),i}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */var MU=Ea();function TU(e){var t=[];return Ge(e,(function(e){var n=e.data;if(!(n.count()>1e4))for(var i=n.getIndices(),o=function(e){for(var t=e.dimensions,n=0;n<t.length;n++){var i=e.getDimensionInfo(t[n]);if(i&&0===i.otherDims.itemGroupId)return t[n]}}(n),r=0;r<i.length;r++)t.push({dataGroupId:e.dataGroupId,data:n,dim:e.dim||o,divide:e.divide,dataIndex:r})})),t}function IU(e,t,n){e.traverse((function(e){e instanceof ks&&// TODO use fade in animation for target element.
zd(e,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})}))}function kU(e){if(e.parent){// Bake parent transform to element.
// So it can still have proper transform to transition after it's removed.
var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function AU(e){e.stopAnimation(),e.isGroup&&e.traverse((function(e){e.stopAnimation()}))}function DU(e,t,n){var i=Ed("update",n,t);i&&e.traverse((function(e){if(e instanceof Il){var t=function(e){return Ld(e).oldStyle}(e);t&&e.animateFrom({style:t},i)}}))}function OU(e,t,n){var i=TU(e),o=TU(t);function r(e,t,n,i,o){(n||e)&&t.animateFrom({style:n&&n!==e?// dividingMethod like clone may override the style(opacity)
// So extend it to raw style.
Be(Be({},n.style),e.style):e.style},o)}function a(e){for(var t=0;t<e.length;t++)if(e[t].dim)return e[t].dim}var l=a(i),s=a(o),u=!1;function c(e,t){return function(n){var i=n.data,o=n.dataIndex;// TODO if specified dim
if(t)return i.getId(o);// Use group id as transition key by default.
// So we can achieve multiple to multiple animation like drilldown / up naturally.
// If group id not exits. Use id instead. If so, only one to one transition will be applied.
var r=n.dataGroupId,a=e?l||s:s||l,u=a&&i.getDimensionInfo(a),c=u&&u.ordinalMeta;// If specified key dimension(itemGroupId by default). Use this same dimension from other data.
// PENDING: If only use key dimension of newData.
if(u){// Get from encode.itemGroupId.
var d=i.get(u.name,o);return c&&c.categories[d]||d+""}// Get groupId from raw item. { groupId: '' }
var p=i.getRawDataItem(o);return p&&p.groupId?p.groupId+"":r||i.getId(o)}}// Use id if it's very likely to be an one to one animation
// It's more robust than groupId
// TODO Check if key dimension is specified.
var d=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++){var o=e[i],r=t[i];if(o.data.getId(o.dataIndex)!==r.data.getId(r.dataIndex))return!1}return!0}(i,o),p={};if(!d)// We may have different diff strategy with basicTransition if we use other dimension as key.
// If so, we can't simply check if oldEl is same with newEl. We need a map to check if oldEl is still being used in the new chart.
// We can't use the elements that already being morphed. Let it keep it's original basic transition.
for(var h=0;h<o.length;h++){var f=o[h],v=f.data.getItemGraphicEl(f.dataIndex);v&&(p[v.id]=!0)}function g(e,t){var n=i[t],a=o[e],l=a.data.hostModel,s=n.data.getItemGraphicEl(n.dataIndex),c=a.data.getItemGraphicEl(a.dataIndex);// Can't handle same elements.
s!==c?// We can't use the elements that already being morphed
s&&p[s.id]||c&&(// TODO: If keep animating the group in case
// some of the elements don't want to be morphed.
// TODO Label?
AU(c),s?(AU(s),// If old element is doing leaving animation. stop it and remove it immediately.
kU(s),u=!0,SU(CU(s),CU(c),a.divide,l,e,r)):IU(c,l,e)):c&&DU(c,a.dataIndex,l)}new ab(i,o,c(!0,d),c(!1,d),null,"multiple").update(g).updateManyToOne((function(e,t){var n=o[e],a=n.data,l=a.hostModel,s=a.getItemGraphicEl(n.dataIndex),c=Ue(We(t,(function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)})),(function(e){return e&&e!==s&&!p[e.id]}));s&&(AU(s),c.length?(// If old element is doing leaving animation. stop it and remove it immediately.
Ge(c,(function(e){AU(e),kU(e)})),u=!0,SU(CU(c),CU(s),n.divide,l,e,r)):IU(s,l,n.dataIndex));// else keep oldEl leaving animation.
})).updateOneToMany((function(e,t){var n=i[t],a=n.data.getItemGraphicEl(n.dataIndex);// We can't use the elements that already being morphed
if(!a||!p[a.id]){var l=Ue(We(e,(function(e){return o[e].data.getItemGraphicEl(o[e].dataIndex)})),(function(e){return e&&e!==a})),s=o[e[0]].data.hostModel;l.length&&(Ge(l,(function(e){return AU(e)})),a?(AU(a),// If old element is doing leaving animation. stop it and remove it immediately.
kU(a),u=!0,SU(CU(a),CU(l),n.divide,// Use divide on old.
s,e[0],r)):Ge(l,(function(t){return IU(t,s,e[0])})));// else keep oldEl leaving animation.
}})).updateManyToMany((function(e,t){// If two data are same and both have groupId.
// Normally they should be diff by id.
new ab(t,e,(function(e){return i[e].data.getId(i[e].dataIndex)}),(function(e){return o[e].data.getId(o[e].dataIndex)})).update((function(n,i){// Use the original index
g(e[n],t[i])})).execute()})).execute(),u&&Ge(t,(function(e){var t=e.data.hostModel,i=t&&n.getViewOfSeriesModel(t),o=Ed("update",t,0);// use 0 index.
i&&t.isAnimationEnabled()&&o&&o.duration>0&&i.group.traverse((function(e){e instanceof ks&&!e.animators.length&&// We can't accept there still exists element that has no animation
// if universalTransition is enabled
e.animateFrom({style:{opacity:0}},o)}))}))}function PU(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function LU(e){return Ze(e)?e.sort().join(","):e}function EU(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function NU(e,t){for(var n=0;n<e.length;n++){if(null!=t.seriesIndex&&t.seriesIndex===e[n].seriesIndex||null!=t.seriesId&&t.seriesId===e[n].id)return n}}
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
// Render engines
// -----------------
// Render via Canvas.
// echarts.init(dom, null, { renderer: 'canvas' })
nb([
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerPainter("canvas",IC)}]),// Render via SVG.
// echarts.init(dom, null, { renderer: 'svg' })
nb([function(e){e.registerPainter("svg",xC)}]),// ----------------
// Charts (series)
// ----------------
// All of the series types, for example:
// chart.setOption({
//     series: [{
//         type: 'line' // or 'bar', 'pie', ...
//     }]
// });
nb([function(e){e.registerChartView(pM),e.registerSeriesModel(AC),e.registerLayout(hM("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();// Visual coding for legend
n&&!n.stroke&&(// Fill in visual should be palette color if
// has color callback
n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),// Down sample after filter
e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,gM("line"))},function(e){e.registerChartView(WM),e.registerSeriesModel(bM),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,qe(v_,"bar")),// Do layout after other overall layout, which can prepare some information.
e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,g_("bar")),// Down sample after filter
e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,gM("bar")),
/**
         * @payload
         * @property {string} [componentType=series]
         * @property {number} [dx]
         * @property {number} [dy]
         * @property {number} [zoom]
         * @property {number} [originX]
         * @property {number} [originY]
         */
e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))},
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerChartView(rT),e.registerSeriesModel(dT),im("pie",e.registerAction),e.registerLayout(qe(qM,"pie")),e.registerProcessor(ZM("pie")),e.registerProcessor(
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){return{seriesType:e,reset:function(e,t){var n=e.getData();n.filterSelf((function(e){// handle negative value condition
var t=n.mapDimension("value"),i=n.get(t,e);return!(et(i)&&!isNaN(i)&&i<0)}))}}}("pie"))},function(e){// In case developer forget to include grid component
nb(bI),e.registerSeriesModel(hT),e.registerChartView(xT),e.registerLayout(hM("scatter"))},function(e){nb(VI),e.registerChartView(TI),e.registerSeriesModel(kI),e.registerLayout(_I),e.registerProcessor(ZM("radar")),e.registerPreprocessor(CI)},function(e){nb(SA),e.registerChartView(Qk),e.registerSeriesModel(tA),e.registerLayout(iA),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,nA),im("map",e.registerAction)},
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerChartView(HA),e.registerSeriesModel(aD),e.registerLayout(sD),e.registerVisual(uD),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex,i=t.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",// Here we set 'none' instead of 'update', because roam action
// just need to update the transform matrix without having to recalculate
// the layout. So don't need to go through the whole update process, such
// as 'dataPrcocess', 'coordSystemUpdate', 'layout' and so on.
update:"none"},(function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var i=xA(t.coordinateSystem,e,void 0,n);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}(e)},function(e){e.registerSeriesModel(fD),e.registerChartView(kD),e.registerVisual(UD),e.registerLayout(rO),function(e){for(var t=0;t<cD.length;t++)e.registerAction({type:cD[t],update:"updateView"},Mt);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var i=tD(e,["treemapZoomToNode","treemapRootToNode"],t);if(i){var o=t.getViewRoot();o&&(e.direction=iD(o,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}))}))}(e)},function(e){e.registerChartView(sP),e.registerSeriesModel(yP),e.registerProcessor(dO),e.registerVisual(pO),e.registerVisual(fO),e.registerLayout(CO),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,PO),e.registerLayout(EO),e.registerCoordinateSystem("graphView",{dimensions:lA.dimensions,create:NO}),// Register legacy focus actions
e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Mt),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Mt),// Register roam action.
e.registerAction(mP,(function(e,t,n){t.eachComponent({mainType:"series",query:e},(function(t){var i=xA(t.coordinateSystem,e,void 0,n);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))},
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerChartView(CP),e.registerSeriesModel(TP)},function(e){e.registerChartView(DP),e.registerSeriesModel(PP),e.registerLayout(LP),e.registerProcessor(ZM("funnel"))},function(e){nb(vE),e.registerChartView(FP),e.registerSeriesModel(HP),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,WP)},function(e){e.registerChartView(xE),e.registerSeriesModel(_E),e.registerLayout(wE),e.registerVisual(EE),e.registerAction({type:"dragNode",event:"dragnode",// here can only use 'update' now, other value is not support in echarts.
update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))},function(e){e.registerSeriesModel(zE),e.registerChartView(WE),e.registerLayout(UE),e.registerTransform(YE)},function(e){e.registerChartView(aN),e.registerSeriesModel(sN),e.registerPreprocessor(uN),e.registerVisual(vN),e.registerLayout(mN)},
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerChartView(SN),e.registerSeriesModel(MN),e.registerLayout(hM("effectScatter"))},
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerChartView(BN),e.registerSeriesModel(GN),e.registerLayout(RN),e.registerVisual(KN)},
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerChartView(ZN),e.registerSeriesModel(JN)},
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerChartView(bR),e.registerSeriesModel(wR),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,qe(v_,"pictorialBar")),// Do layout after other overall layout, which can prepare some information.
e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,g_("pictorialBar"))},function(e){e.registerChartView(CR),e.registerSeriesModel(TR),e.registerLayout(IR),e.registerProcessor(ZM("themeRiver"))},function(e){e.registerChartView(ER),e.registerSeriesModel(zR),e.registerLayout(qe(FR,"sunburst")),e.registerProcessor(qe(ZM,"sunburst")),e.registerVisual(jR),function(e){e.registerAction({type:OR,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var i=tD(e,[OR],t);if(i){var o=t.getViewRoot();o&&(e.direction=iD(o,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}))})),e.registerAction({type:PR,update:"none"},(function(e,t,n){// Clone
e=Be({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){var n=tD(e,[PR],t);n&&(e.dataIndex=n.node.dataIndex)})),n.dispatchAction(Be(e,{type:"highlight"}))})),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(e,t,n){e=Be({},e),n.dispatchAction(Be(e,{type:"downplay"}))}))}(e)},
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerChartView(Ez),e.registerSeriesModel(UR)}]),// -------------------
// Coordinate systems
// -------------------
// All of the axis modules have been included in the
// coordinate system module below, do not need to
// make extra import.
// `cartesian` coordinate system. For some historical
// reasons, it is named as grid, for example:
// chart.setOption({
//     grid: {...},
//     xAxis: {...},
//     yAxis: {...},
//     series: [{...}]
// });
nb((function(e){nb(bI),nb(FB)})),// `polar` coordinate system, for example:
// chart.setOption({
//     polar: {...},
//     radiusAxis: {...},
//     angleAxis: {...},
//     series: [{
//         coordinateSystem: 'polar'
//     }]
// });
nb((function(e){nb(FB),sI.registerAxisPointerClass("PolarAxisPointer",HB),e.registerCoordinateSystem("polar",aF),e.registerComponentModel(WB),e.registerComponentView(CF),// Model and view for angleAxis and radiusAxis
kT(e,"angle",UB,wF),kT(e,"radius",YB,SF),e.registerComponentView(hF),e.registerComponentView(mF),e.registerLayout(qe(_F,"bar"))})),// `geo` coordinate system, for example:
// chart.setOption({
//     geo: {...},
//     series: [{
//         coordinateSystem: 'geo'
//     }]
// });
nb(SA),// `singleAxis` coordinate system (notice, it is a coordinate system
// with only one axis, work for chart like theme river), for example:
// chart.setOption({
//     singleAxis: {...}
//     series: [{type: 'themeRiver', ...}]
// });
nb((function(e){nb(FB),sI.registerAxisPointerClass("SingleAxisPointer",UF),e.registerComponentView(YF),// Axis
e.registerComponentView(DF),e.registerComponentModel(PF),kT(e,"single",PF,PF.defaultOption),e.registerCoordinateSystem("single",FF)})),// `parallel` coordinate system, only work for parallel series, for example:
// chart.setOption({
//     parallel: {...},
//     parallelAxis: [{...}, ...],
//     series: [{
//         type: 'parallel'
//     }]
// });
nb(vE),// `calendar` coordinate system. for example,
// chart.setOptionp({
//     calendar: {...},
//     series: [{
//         coordinateSystem: 'calendar'
//     }]
// );
nb((function(e){e.registerComponentModel(ZF),e.registerComponentView(JF),e.registerCoordinateSystem("calendar",nV)})),// ------------------
// Other components
// ------------------
// `graphic` component, for example:
// chart.setOption({
//     graphic: {...}
// });
nb((function(e){e.registerComponentModel(lV),e.registerComponentView(cV),e.registerPreprocessor((function(e){var t=e.graphic;// Convert
// {graphic: [{left: 10, type: 'circle'}, ...]}
// or
// {graphic: {left: 10, type: 'circle'}}
// to
// {graphic: [{elements: [{left: 10, type: 'circle'}, ...]}]}
Ze(t)?t[0]&&t[0].elements?// Only one graphic instance can be instantiated. (We don't
// want that too many views are created in echarts._viewMap.)
e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}))})),// `toolbox` component, for example:
// chart.setOption({
//     toolbox: {...}
// });
nb((function(e){e.registerComponentModel(WV),e.registerComponentView(YV),jV("saveAsImage",qV),jV("magicType",ej),jV("dataView",sj),jV("dataZoom",Ej),jV("restore",hj),nb(BV)})),// `tooltip` component, for example:
// chart.setOption({
//     tooltip: {...}
// });
nb((function(e){nb(FB),e.registerComponentModel(Rj),e.registerComponentView(rH),
/**
         * @action
         * @property {string} type
         * @property {number} seriesIndex
         * @property {number} dataIndex
         * @property {number} [x]
         * @property {number} [y]
         */
e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Mt),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Mt)})),// `axisPointer` component, for example:
// chart.setOption({
//     tooltip: {axisPointer: {...}, ...}
// });
// Or
// chart.setOption({
//     axisPointer: {...}
// });
nb(FB),// `brush` component, for example:
// chart.setOption({
//     brush: {...}
// });
// Or
// chart.setOption({
//     tooltip: {feature: {brush: {...}}
// })
nb((
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerComponentView(MH),e.registerComponentModel(kH),e.registerPreprocessor(lH),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,xH),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),
/**
         * payload: {
         *      brushComponents: [
         *          {
         *              brushId,
         *              brushIndex,
         *              brushName,
         *              series: [
         *                  {
         *                      seriesId,
         *                      seriesIndex,
         *                      seriesName,
         *                      rawIndices: [21, 34, ...]
         *                  },
         *                  ...
         *              ]
         *          },
         *          ...
         *      ]
         * }
         */
e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Mt),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Mt),jV("brush",OH)})),// `title` component, for example:
// chart.setOption({
//     title: {...}
// });
nb((function(e){e.registerComponentModel(PH),e.registerComponentView(LH)})),// `timeline` component, for example:
// chart.setOption({
//     timeline: {...}
// });
nb((function(e){e.registerComponentModel(zH),e.registerComponentView(YH),e.registerSubTypeDefaulter("timeline",(function(){// Only slider now.
return"slider"})),function(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t,n){var i=t.getComponent("timeline");return i&&null!=e.currentIndex&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),// The timeline has played to the end, trigger event
n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),// Set normalized currentIndex to payload.
t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Fe({currentIndex:i.option.currentIndex},e)})),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)}))}(e),e.registerPreprocessor(XH)})),// `markPoint` component, for example:
// chart.setOption({
//     series: [{markPoint: {...}}]
// });
nb((function(e){e.registerComponentModel(iG),e.registerComponentView(yG),e.registerPreprocessor((function(e){$H(e.series,"markPoint")&&(// Make sure markPoint component is enabled
e.markPoint=e.markPoint||{})}))})),// `markLine` component, for example:
// chart.setOption({
//     series: [{markLine: {...}}]
// });
nb((function(e){e.registerComponentModel(xG),e.registerComponentView(IG),e.registerPreprocessor((function(e){$H(e.series,"markLine")&&(// Make sure markLine component is enabled
e.markLine=e.markLine||{})}))})),// `markArea` component, for example:
// chart.setOption({
//     series: [{markArea: {...}}]
// });
nb((function(e){e.registerComponentModel(AG),e.registerComponentView(BG),e.registerPreprocessor((function(e){$H(e.series,"markArea")&&(// Make sure markArea component is enabled
e.markArea=e.markArea||{})}))})),// `legend` component not scrollable. for example:
// chart.setOption({
//     legend: {...}
// });
nb((function(e){nb(JG),nb(lW)})),// `dataZoom` component including both `dataZoomInside` and `dataZoomSlider`.
nb((function(e){nb(_W),nb(PW)})),// `dataZoom` component providing drag, pinch, wheel behaviors
// inside coodinate system, for example:
// chart.setOption({
//     dataZoom: {type: 'inside'}
// });
nb(_W),// `dataZoom` component providing a slider bar, for example:
// chart.setOption({
//     dataZoom: {type: 'slider'}
// });
nb(PW),// `visualMap` component including both `visualMapContinuous` and `visualMapPiecewise`.
nb((function(e){nb(yK),nb(CK)})),// `visualMap` component providing continuous bar, for example:
// chart.setOption({
//     visualMap: {type: 'continuous'}
// });
nb(yK),// `visualMap` component providing pieces bar, for example:
// chart.setOption({
//     visualMap: {type: 'piecewise'}
// });
nb(CK),// `aria` component providing aria, for example:
// chart.setOption({
//     aria: {...}
// });
nb((function(e){e.registerPreprocessor(AK),e.registerVisual(e.PRIORITY.VISUAL.ARIA,kK)})),// dataset transform
// chart.setOption({
//     dataset: {
//          transform: []
//     }
// });
nb((
/*
      * Licensed to the Apache Software Foundation (ASF) under one
      * or more contributor license agreements.  See the NOTICE file
      * distributed with this work for additional information
      * regarding copyright ownership.  The ASF licenses this file
      * to you under the Apache License, Version 2.0 (the
      * "License"); you may not use this file except in compliance
      * with the License.  You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing,
      * software distributed under the License is distributed on an
      * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      * KIND, either express or implied.  See the License for the
      * specific language governing permissions and limitations
      * under the License.
      */
function(e){e.registerTransform(jK),e.registerTransform(HK)})),nb((function(e){e.registerComponentModel(GK),e.registerComponentView(WK)})),// universal transition
// chart.setOption({
//     series: {
//         universalTransition: { enabled: true }
//     }
// })
nb((function(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){Ge(wa(n.seriesTransition),(function(e){Ge(wa(e.to),(function(e){for(var t=n.updatedSeries,i=0;i<t.length;i++)(null!=e.seriesIndex&&e.seriesIndex===t[i].seriesIndex||null!=e.seriesId&&e.seriesId===t[i].id)&&(t[i][jg]=!0)}))}))})),e.registerUpdateLifecycle("series:transition",(function(e,t,n){// TODO api provide an namespace that can save stuff per instance
var i=MU(t);// TODO multiple to multiple series.
if(i.oldSeries&&n.updatedSeries&&n.optionChanged){// Use give transition config if its' give;
var o=n.seriesTransition;if(o)Ge(wa(o),(function(e){!function(e,t,n,i){var o=[],r=[];Ge(wa(e.from),(function(e){var n=NU(t.oldSeries,e);n>=0&&o.push({dataGroupId:t.oldDataGroupIds[n],data:t.oldData[n],// TODO can specify divideShape in transition.
divide:EU(t.oldData[n]),dim:e.dimension})})),Ge(wa(e.to),(function(e){var i=NU(n.updatedSeries,e);if(i>=0){var o=n.updatedSeries[i].getData();r.push({dataGroupId:t.oldDataGroupIds[i],data:o,divide:EU(o),dim:e.dimension})}})),o.length>0&&r.length>0&&OU(o,r,i)}(e,i,n,t)}));else{// Else guess from series based on transition series key.
var r=function(e,t){var n=bt(),i=bt(),o=bt();return Ge(e.oldSeries,(function(t,n){var r=e.oldDataGroupIds[n],a=e.oldData[n],l=PU(t),s=LU(l);i.set(s,{dataGroupId:r,data:a}),Ze(l)&&// Same key can't in different array seriesKey.
Ge(l,(function(e){o.set(e,{key:s,dataGroupId:r,data:a})}))})),Ge(t.updatedSeries,(function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.get("dataGroupId"),r=e.getData(),a=PU(e),l=LU(a),s=i.get(l);// string transition key is the best match.
if(s)n.set(l,{oldSeries:[{dataGroupId:s.dataGroupId,divide:EU(s.data),data:s.data}],newSeries:[{dataGroupId:t,divide:EU(r),data:r}]});else// Transition from multiple series.
if(Ze(a)){var u=[];Ge(a,(function(e){var t=i.get(e);t.data&&u.push({dataGroupId:t.dataGroupId,divide:EU(t.data),data:t.data})})),u.length&&n.set(l,{oldSeries:u,newSeries:[{dataGroupId:t,data:r,divide:EU(r)}]})}else{// Try transition to multiple series.
var c=o.get(a);if(c){var d=n.get(c.key);d||(d={oldSeries:[{dataGroupId:c.dataGroupId,data:c.data,divide:EU(c.data)}],newSeries:[]},n.set(c.key,d)),d.newSeries.push({dataGroupId:t,data:r,divide:EU(r)})}}}})),n}(i,n);Ge(r.keys(),(function(e){var n=r.get(e);OU(n.oldSeries,n.newSeries,t)}))}// Reset
Ge(n.updatedSeries,(function(e){// Reset;
e[jg]&&(e[jg]=!1)}))}// Save all series of current update. Not only the updated one.
for(var a=e.getSeries(),l=i.oldSeries=[],s=i.oldDataGroupIds=[],u=i.oldData=[],c=0;c<a.length;c++){var d=a[c].getData();// Only save the data that can have transition.
// Avoid large data costing too much extra memory
d.count()<1e4&&(l.push(a[c]),s.push(a[c].get("dataGroupId")),u.push(d))}}))})),// label layout
// chart.setOption({
//     series: {
//         labelLayout: { hideOverlap: true }
//     }
// })
nb((function(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,n){// TODO api provide an namespace that can save stuff per instance
var i=cS(t).labelManager;i||(i=cS(t).labelManager=new uS),i.clearLabels()})),e.registerUpdateLifecycle("series:layoutlabels",(function(e,t,n){var i=cS(t).labelManager;n.updatedSeries.forEach((function(e){i.addLabelsOfSeries(t.getViewOfSeriesModel(e))})),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()}))}));var RU={style:{height:"100%"},class:"chart"},zU={class:"nodata"},BU=a({__name:"BaseChart",props:{chartsData:null},setup:function(e){var t=e,n={},i=s();function o(){n.setOption(t.chartsData)}return c(t.chartsData,(function(){o()}),{deep:!0}),d((function(){n=Gx(i.value),t.chartsData&&o()})),function(t,n){return p(),h("div",RU,[f(g("div",{ref_key:"mainRef",ref:i,class:"main",style:{height:"100%",width:"100%"}},null,512),[[v,e.chartsData]]),f(g("div",zU,"暂无数据",512),[[v,!e.chartsData]])])}}}),FU=function(e){return S("data-v-e74a50f0"),e=e(),C(),e},VU={class:"title-content"},jU={class:"item"},HU=FU((function(){return g("i",{class:"iconfont icon-shui"},null,-1)})),GU={class:"title"},WU={class:"menu"},KU=["onClick"],UU=a({__name:"FrameTitle",props:{title:null,menu:null},emits:["changeMenu"],setup:function(e,t){var n=t.emit,i=s(0);return function(t,o){return p(),h("div",VU,[g("div",jU,[g("div",null,[HU,g("span",GU,y(e.title),1)]),g("div",WU,[(p(!0),h(m,null,x(e.menu,(function(e,t){return p(),h("span",{onClick:function(o){return function(e,t){i.value=e,n("changeMenu",t)}(t,e)},class:b({active:t===i.value}),key:e.key},y(e.label),11,KU)})),128))])]),_(w(oe),{style:{width:"100%",height:"0.1rem"}})])}}}),YU=re(UU,[["__scopeId","data-v-e74a50f0"]]);function XU(e){return XU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XU(e)}function qU(e){var t=function(e,t){if("object"!==XU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==XU(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===XU(t)?t:String(t)}function ZU(e,t,n){return(t=qU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function JU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$U(Object(n),!0).forEach((function(t){ZU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QU(){return QU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},QU.apply(this,arguments)}var eY=Array.isArray,tY=function(e){return"string"==typeof e},nY=function(e){return null!==e&&"object"===XU(e)},iY=/^on[^a-z]/,oY=function(e){return iY.test(e)},rY=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}},aY=/-(\w)/g,lY=rY((function(e){return e.replace(aY,(function(e,t){return t?t.toUpperCase():""}))})),sY=/\B([A-Z])/g,uY=rY((function(e){return e.replace(sY,"-$1").toLowerCase()})),cY=Object.prototype.hasOwnProperty,dY=function(e,t){return cY.call(e,t)};function pY(e){return"number"==typeof e?"".concat(e,"px"):e}function hY(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"function"==typeof e?e(t):null!=e?e:n}function fY(){for(var e=[],t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];if(n)if(tY(n))e.push(n);else if(eY(n))for(var i=0;i<n.length;i++){var o=fY(n[i]);o&&e.push(o)}else if(nY(n))for(var r in n)n[r]&&e.push(r)}return e.join(" ")}
/**
       * A collection of shims that provide minimal functionality of the ES6 collections.
       *
       * These implementations are not meant to be used outside of the ResizeObserver
       * modules as they cover only a limited range of use cases.
       */
/* eslint-disable require-jsdoc, valid-jsdoc */var vY=function(){if("undefined"!=typeof Map)return Map;
/**
         * Returns index in provided array that matches the specified key.
         *
         * @param {Array<Array>} arr
         * @param {*} key
         * @returns {number}
         */function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}/** @class */return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{
/**
               * @returns {boolean}
               */
get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),
/**
             * @param {*} key
             * @returns {*}
             */
t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},
/**
             * @param {*} key
             * @param {*} value
             * @returns {void}
             */
t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},
/**
             * @param {*} key
             * @returns {void}
             */
t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},
/**
             * @param {*} key
             * @returns {void}
             */
t.prototype.has=function(t){return!!~e(this.__entries__,t)},
/**
             * @returns {void}
             */
t.prototype.clear=function(){this.__entries__.splice(0)},
/**
             * @param {Function} callback
             * @param {*} [ctx=null]
             * @returns {void}
             */
t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var o=i[n];e.call(t,o[1],o[0])}},t}()}(),gY="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,yY="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),mY="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(yY):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};
/**
       * Detects whether window and document objects are available in current environment.
       */ // Minimum delay before invoking the update of observers.
var xY=["top","right","bottom","left","width","height","size","weight"],bY="undefined"!=typeof MutationObserver,_Y=/** @class */function(){
/**
         * Creates a new instance of ResizeObserverController.
         *
         * @private
         */
function e(){
/**
           * Indicates whether DOM listeners have been added.
           *
           * @private {boolean}
           */
this.connected_=!1,
/**
           * Tells that controller has subscribed for Mutation Events.
           *
           * @private {boolean}
           */
this.mutationEventsAdded_=!1,
/**
           * Keeps reference to the instance of MutationObserver.
           *
           * @private {MutationObserver}
           */
this.mutationsObserver_=null,
/**
           * A list of connected observers.
           *
           * @private {Array<ResizeObserverSPI>}
           */
this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=
/**
       * Creates a wrapper function which ensures that provided callback will be
       * invoked only once during the specified delay period.
       *
       * @param {Function} callback - Function to be invoked after the delay period.
       * @param {number} delay - Delay after which to invoke callback.
       * @returns {Function}
       */
function(e,t){var n=!1,i=!1,o=0;
/**
         * Invokes the original callback function and schedules new invocation if
         * the "proxy" was called during current request.
         *
         * @returns {void}
         */function r(){n&&(n=!1,e()),i&&l()}
/**
         * Callback invoked after the specified delay. It will further postpone
         * invocation of the original function delegating it to the
         * requestAnimationFrame.
         *
         * @returns {void}
         */function a(){mY(r)}
/**
         * Schedules invocation of the original function.
         *
         * @returns {void}
         */function l(){var e=Date.now();if(n){// Reject immediately following calls.
if(e-o<2)return;// Schedule new call to be in invoked when the pending one is resolved.
// This is important for "transitions" which never actually start
// immediately so there is a chance that we might miss one if change
// happens amids the pending invocation.
i=!0}else n=!0,i=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}
/**
         * Adds observer to observers list.
         *
         * @param {ResizeObserverSPI} observer - Observer to be added.
         * @returns {void}
         */return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),// Add listeners if they haven't been added yet.
this.connected_||this.connect_()},
/**
         * Removes observer from observers list.
         *
         * @param {ResizeObserverSPI} observer - Observer to be removed.
         * @returns {void}
         */
e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);// Remove observer if it's present in registry.
~n&&t.splice(n,1),// Remove listeners if controller has no connected observers.
!t.length&&this.connected_&&this.disconnect_()},
/**
         * Invokes the update of observers. It will continue running updates insofar
         * it detects changes.
         *
         * @returns {void}
         */
e.prototype.refresh=function(){// Continue running updates if changes have been detected as there might
// be future ones caused by CSS transitions.
this.updateObservers_()&&this.refresh()},
/**
         * Updates every observer from observers list and notifies them of queued
         * entries.
         *
         * @private
         * @returns {boolean} Returns "true" if any observer has detected changes in
         *      dimensions of it's elements.
         */
e.prototype.updateObservers_=function(){// Collect observers that have active observations.
var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));// Deliver notifications in a separate cycle in order to avoid any
// collisions between observers, e.g. when multiple instances of
// ResizeObserver are tracking the same element and the callback of one
// of them changes content dimensions of the observed target. Sometimes
// this may result in notifications being blocked for the rest of observers.
return e.forEach((function(e){return e.broadcastActive()})),e.length>0},
/**
         * Initializes DOM listeners.
         *
         * @private
         * @returns {void}
         */
e.prototype.connect_=function(){// Do nothing if running in a non-browser environment or if listeners
// have been already added.
gY&&!this.connected_&&(// Subscription to the "Transitionend" event is used as a workaround for
// delayed transitions. This way it's possible to capture at least the
// final state of an element.
document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),bY?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},
/**
         * Removes DOM listeners.
         *
         * @private
         * @returns {void}
         */
e.prototype.disconnect_=function(){// Do nothing if running in a non-browser environment or if listeners
// have been already removed.
gY&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},
/**
         * "Transitionend" event handler.
         *
         * @private
         * @param {TransitionEvent} event
         * @returns {void}
         */
e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,i=xY.some((function(e){return!!~n.indexOf(e)}));// Detect whether transition may affect dimensions of an element.
i&&this.refresh()},
/**
         * Returns instance of the ResizeObserverController.
         *
         * @returns {ResizeObserverController}
         */
e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},
/**
         * Holds reference to the controller's instance.
         *
         * @private {ResizeObserverController}
         */
e.instance_=null,e}(),wY=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},SY=function(e){// Return the local global object if it's not possible extract one from
// provided element.
return e&&e.ownerDocument&&e.ownerDocument.defaultView||yY},CY=DY(0,0,0,0);// A list of substrings of CSS properties used to find transition events that
// might affect dimensions of observed elements.
/**
       * Converts provided string to a number.
       *
       * @param {number|string} value
       * @returns {number}
       */
function MY(e){return parseFloat(e)||0}
/**
       * Extracts borders size from provided styles.
       *
       * @param {CSSStyleDeclaration} styles
       * @param {...string} positions - Borders positions (top, right, ...)
       * @returns {number}
       */function TY(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+MY(e["border-"+n+"-width"])}),0)}
/**
       * Extracts paddings sizes from provided styles.
       *
       * @param {CSSStyleDeclaration} styles
       * @returns {Object} Paddings box.
       */
/**
       * Calculates content rectangle of provided HTMLElement.
       *
       * @param {HTMLElement} target - Element for which to calculate the content rectangle.
       * @returns {DOMRectInit}
       */
function IY(e){// Client width & height properties can't be
// used exclusively as they provide rounded values.
var t=e.clientWidth,n=e.clientHeight;// By this condition we can catch all non-replaced inline, hidden and
// detached elements. Though elements with width & height properties less
// than 0.5 will be discarded as well.

// Without it we would need to implement separate methods for each of
// those cases and it's not possible to perform a precise and performance
// effective test for hidden elements. E.g. even jQuery's ':visible' filter
// gives wrong results for elements with width & height less than 0.5.
if(!t&&!n)return CY;var i=SY(e).getComputedStyle(e),o=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var o=i[n],r=e["padding-"+o];t[o]=MY(r)}return t}
/**
       * Calculates content rectangle of provided SVG element.
       *
       * @param {SVGGraphicsElement} target - Element content rectangle of which needs
       *      to be calculated.
       * @returns {DOMRectInit}
       */(i),r=o.left+o.right,a=o.top+o.bottom,l=MY(i.width),s=MY(i.height);// Following steps can't be applied to the document's root element as its
// client[Width/Height] properties represent viewport area of the window.
// Besides, it's as well not necessary as the <html> itself neither has
// rendered scroll bars nor it can be clipped.
if(// Width & height include paddings and borders when the 'border-box' box
// model is applied (except for IE).
"border-box"===i.boxSizing&&(// Following conditions are required to handle Internet Explorer which
// doesn't include paddings and borders to computed CSS dimensions.
// We can say that if CSS dimensions + paddings are equal to the "client"
// properties then it's either IE, and thus we don't need to subtract
// anything, or an element merely doesn't have paddings/borders styles.
Math.round(l+r)!==t&&(l-=TY(i,"left","right")+r),Math.round(s+a)!==n&&(s-=TY(i,"top","bottom")+a)),!
/**
       * Checks whether provided element is a document element (<html>).
       *
       * @param {Element} target - Element to be checked.
       * @returns {boolean}
       */
function(e){return e===SY(e).document.documentElement}
/**
       * Calculates an appropriate content rectangle for provided html or svg element.
       *
       * @param {Element} target - Element content rectangle of which needs to be calculated.
       * @returns {DOMRectInit}
       */(e)){// In some browsers (only in Firefox, actually) CSS width & height
// include scroll bars size which can be removed at this step as scroll
// bars are the only difference between rounded dimensions + paddings
// and "client" properties, though that is not always true in Chrome.
var u=Math.round(l+r)-t,c=Math.round(s+a)-n;// Chrome has a rather weird rounding of "client" properties.
// E.g. for an element with content width of 314.2px it sometimes gives
// the client width of 315px and for the width of 314.7px it may give
// 314px. And it doesn't happen all the time. So just ignore this delta
// as a non-relevant.
1!==Math.abs(u)&&(l-=u),1!==Math.abs(c)&&(s-=c)}return DY(o.left,o.top,l,s)}
/**
       * Checks whether provided element is an instance of the SVGGraphicsElement.
       *
       * @param {Element} target - Element to be checked.
       * @returns {boolean}
       */var kY=// Some browsers, namely IE and Edge, don't have the SVGGraphicsElement
// interface.
"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof SY(e).SVGGraphicsElement}:function(e){return e instanceof SY(e).SVGElement&&"function"==typeof e.getBBox};function AY(e){return gY?kY(e)?function(e){var t=e.getBBox();return DY(0,0,t.width,t.height)}(e):IY(e):CY}
/**
       * Creates rectangle with an interface of the DOMRectReadOnly.
       * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly
       *
       * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.
       * @returns {DOMRectReadOnly}
       */
/**
       * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.
       * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit
       *
       * @param {number} x - X coordinate.
       * @param {number} y - Y coordinate.
       * @param {number} width - Rectangle's width.
       * @param {number} height - Rectangle's height.
       * @returns {DOMRectInit}
       */
function DY(e,t,n,i){return{x:e,y:t,width:n,height:i}}
/**
       * Class that is responsible for computations of the content rectangle of
       * provided DOM element and for keeping track of it's changes.
       */var OY=/** @class */function(){
/**
         * Creates an instance of ResizeObservation.
         *
         * @param {Element} target - Element to be observed.
         */
function e(e){
/**
           * Broadcasted width of content rectangle.
           *
           * @type {number}
           */
this.broadcastWidth=0,
/**
           * Broadcasted height of content rectangle.
           *
           * @type {number}
           */
this.broadcastHeight=0,
/**
           * Reference to the last observed content rectangle.
           *
           * @private {DOMRectInit}
           */
this.contentRect_=DY(0,0,0,0),this.target=e}
/**
         * Updates content rectangle and tells whether it's width or height properties
         * have changed since the last broadcast.
         *
         * @returns {boolean}
         */return e.prototype.isActive=function(){var e=AY(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},
/**
         * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data
         * from the corresponding properties of the last observed content rectangle.
         *
         * @returns {DOMRectInit} Last observed content rectangle.
         */
e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),PY=
/**
         * Creates an instance of ResizeObserverEntry.
         *
         * @param {Element} target - Element that is being observed.
         * @param {DOMRectInit} rectInit - Data of the element's content rectangle.
         */
function(e,t){var n=function(e){var t=e.x,n=e.y,i=e.width,o=e.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(r.prototype);// If DOMRectReadOnly is available use it as a prototype for the rectangle.
// Rectangle's properties are not writable and non-enumerable.
return wY(a,{x:t,y:n,width:i,height:o,top:n,right:t+i,bottom:o+n,left:t}),a}(t);// According to the specification following properties are not writable
// and are also not enumerable in the native implementation.

// Property accessors are not being used as they'd require to define a
// private WeakMap storage which may cause memory leaks in browsers that
// don't support this type of collections.
wY(this,{target:e,contentRect:n})},LY=/** @class */function(){
/**
         * Creates a new instance of ResizeObserver.
         *
         * @param {ResizeObserverCallback} callback - Callback function that is invoked
         *      when one of the observed elements changes it's content dimensions.
         * @param {ResizeObserverController} controller - Controller instance which
         *      is responsible for the updates of observer.
         * @param {ResizeObserver} callbackCtx - Reference to the public
         *      ResizeObserver instance which will be passed to callback function.
         */
function e(e,t,n){if(
/**
           * Collection of resize observations that have detected changes in dimensions
           * of elements.
           *
           * @private {Array<ResizeObservation>}
           */
this.activeObservations_=[],
/**
           * Registry of the ResizeObservation instances.
           *
           * @private {Map<Element, ResizeObservation>}
           */
this.observations_=new vY,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}
/**
         * Starts observing provided element.
         *
         * @param {Element} target - Element to be observed.
         * @returns {void}
         */return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");// Do nothing if current environment doesn't have the Element interface.
if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof SY(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;// Do nothing if element is already being observed.
t.has(e)||(t.set(e,new OY(e)),this.controller_.addObserver(this),// Force the update of observations.
this.controller_.refresh())}},
/**
         * Stops observing provided element.
         *
         * @param {Element} target - Element to stop observing.
         * @returns {void}
         */
e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");// Do nothing if current environment doesn't have the Element interface.
if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof SY(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;// Do nothing if element is not being observed.
t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},
/**
         * Stops observing all elements.
         *
         * @returns {void}
         */
e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},
/**
         * Collects observation instances the associated element of which has changed
         * it's content rectangle.
         *
         * @returns {void}
         */
e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},
/**
         * Invokes initial callback function with a list of ResizeObserverEntry
         * instances collected from active resize observations.
         *
         * @returns {void}
         */
e.prototype.broadcastActive=function(){// Do nothing if observer doesn't have active observations.
if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new PY(e.target,e.broadcastRect())}));// Create ResizeObserverEntry instance for every active observation.
this.callback_.call(e,t,e),this.clearActive()}},
/**
         * Clears the collection of active observations.
         *
         * @returns {void}
         */
e.prototype.clearActive=function(){this.activeObservations_.splice(0)},
/**
         * Tells whether observer has active observations.
         *
         * @returns {boolean}
         */
e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),EY="undefined"!=typeof WeakMap?new WeakMap:new vY,NY=
/**
         * Creates a new instance of ResizeObserver.
         *
         * @param {ResizeObserverCallback} callback - Callback that is invoked when
         *      dimensions of the observed elements change.
         */
function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=_Y.getInstance(),i=new LY(t,n,this);EY.set(this,i)};// Expose public methods of ResizeObserver.
["observe","unobserve","disconnect"].forEach((function(e){NY.prototype[e]=function(){var t;return(t=EY.get(this))[e].apply(t,arguments)}}));var RY=// Export existing implementation if available.
void 0!==yY.ResizeObserver?yY.ResizeObserver:NY;function zY(e){if(Array.isArray(e))return e}function BY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function FY(e,t){if(e){if("string"==typeof e)return BY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BY(e,t):void 0}}function VY(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jY(e,t){return zY(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(c){u=!0,o=c}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||FY(e,t)||VY()}function HY(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function GY(e){return function(e){if(Array.isArray(e))return BY(e)}(e)||HY(e)||FY(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}/** Detect free variable `global` from Node.js. */var WY="object"==("undefined"==typeof global?"undefined":u(global))&&global&&global.Object===Object&&global,KY="object"==("undefined"==typeof self?"undefined":u(self))&&self&&self.Object===Object&&self,UY=WY||KY||Function("return this")(),YY=UY.Symbol,XY=Object.prototype,qY=XY.hasOwnProperty,ZY=XY.toString,$Y=YY?YY.toStringTag:void 0;/** Used for built-in method references. */var JY=Object.prototype.toString;
/**
       * Used to resolve the
       * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
       * of values.
       */ /** `Object#toString` result references. */var QY=YY?YY.toStringTag:void 0;/** Built-in value references. */
/**
       * The base implementation of `getTag` without fallbacks for buggy environments.
       *
       * @private
       * @param {*} value The value to query.
       * @returns {string} Returns the `toStringTag`.
       */
function eX(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":QY&&QY in Object(e)?
/**
       * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
       *
       * @private
       * @param {*} value The value to query.
       * @returns {string} Returns the raw `toStringTag`.
       */
function(e){var t=qY.call(e,$Y),n=e[$Y];try{e[$Y]=void 0;var i=!0}catch(qX){}var o=ZY.call(e);return i&&(t?e[$Y]=n:delete e[$Y]),o}(e):
/**
       * Converts `value` to a string using `Object.prototype.toString`.
       *
       * @private
       * @param {*} value The value to convert.
       * @returns {string} Returns the converted string.
       */
function(e){return JY.call(e)}(e)}
/**
       * Creates a unary function that invokes `func` with its argument transformed.
       *
       * @private
       * @param {Function} func The function to wrap.
       * @param {Function} transform The argument transform.
       * @returns {Function} Returns the new function.
       */function tX(e,t){return function(n){return e(t(n))}}/** Built-in value references. */var nX=tX(Object.getPrototypeOf,Object);
/**
       * Checks if `value` is object-like. A value is object-like if it's not `null`
       * and has a `typeof` result of "object".
       *
       * @static
       * @memberOf _
       * @since 4.0.0
       * @category Lang
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
       * @example
       *
       * _.isObjectLike({});
       * // => true
       *
       * _.isObjectLike([1, 2, 3]);
       * // => true
       *
       * _.isObjectLike(_.noop);
       * // => false
       *
       * _.isObjectLike(null);
       * // => false
       */
function iX(e){return null!=e&&"object"==u(e)}/** `Object#toString` result references. */var oX=Function.prototype,rX=Object.prototype,aX=oX.toString,lX=rX.hasOwnProperty,sX=aX.call(Object);/** Used for built-in method references. */var uX=function(e){return null!=e&&""!==e},cX=function(e,t){var n=JU({},e);return Object.keys(t).forEach((function(e){var i=n[e];if(!i)throw new Error("not have ".concat(e," prop"));i.type||i.default?i.default=t[e]:i.def?i.def(t[e]):n[e]={type:i,default:t[e]}})),n},dX=function(e){for(var t=Object.keys(e),n={},i={},o={},r=0,a=t.length;r<a;r++){var l=t[r];oY(l)?(n[l[2].toLowerCase()+l.slice(3)]=e[l],i[l]=e[l]):o[l]=e[l]}return{onEvents:i,events:n,extraAttrs:o}},pX=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n={},i=/;(?![^(]*\))/g,o=/:(.+)/;return"object"===XU(e)?e:(e.split(i).forEach((function(e){if(e){var i=e.split(o);if(i.length>1){var r=t?lY(i[0].trim()):i[0].trim();n[r]=i[1].trim()}}})),n)},hX=function(e,t){return void 0!==e[t]},fX=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Array.isArray(t)?t:[t],o=[];return i.forEach((function(t){Array.isArray(t)?o.push.apply(o,GY(e(t,n))):t&&t.type===m?o.push.apply(o,GY(e(t.children,n))):t&&M(t)?n&&!bX(t)?o.push(t):n||o.push(t):uX(t)&&o.push(t)})),o},vX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(M(e))return e.type===m?"default"===t?fX(e.children):[]:e.children&&e.children[t]?fX(e.children[t](n)):[];var i=e.$slots[t]&&e.$slots[t](n);return fX(i)},gX=function(e){for(var t,n=(null==e||null===(t=e.vnode)||void 0===t?void 0:t.el)||e&&(e.$el||e);n&&!n.tagName;)n=n.nextSibling;return n},yX=function(e){var t={};if(e.$&&e.$.vnode){var n=e.$.vnode.props||{};Object.keys(e.$props).forEach((function(i){var o=e.$props[i],r=uY(i);(void 0!==o||r in n)&&(t[i]=o)}))}else if(M(e)&&"object"===XU(e.type)){var i=e.props||{},o={};Object.keys(i).forEach((function(e){o[lY(e)]=i[e]}));var r=e.type.props||{};Object.keys(r).forEach((function(e){var n=// change from vue sourcecode
function(e,t,n,i){var o=e[n];if(null!=o){var r=dY(o,"default");// default values
if(r&&void 0===i){var a=o.default;i=o.type!==Function&&"function"==typeof a?a():a}// boolean casting
o.type===Boolean&&(dY(t,n)||r?""===i&&(i=!0):i=!1)}return i}(r,o,e,o[e]);(void 0!==n||e in o)&&(t[e]=n)}))}return t},mX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=void 0;if(e.$){var r=e[t];if(void 0!==r)return"function"==typeof r&&i?r(n):r;o=e.$slots[t],o=i&&o?o(n):o}else if(M(e)){var a=e.props&&e.props[t];if(void 0!==a&&null!==e.props)return"function"==typeof a&&i?a(n):a;e.type===m?o=e.children:e.children&&e.children[t]&&(o=e.children[t],o=i&&o?o(n):o)}return Array.isArray(o)&&(o=0===(o=1===(o=fX(o)).length?o[0]:o).length?void 0:o),o};function xX(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return n=e.$?JU(JU({},n),e.$attrs):JU(JU({},n),e.props),dX(n)[t?"onEvents":"events"]}function bX(e){return e&&(e.type===T||e.type===m&&0===e.children.length||e.type===I&&""===e.children.trim())}function _X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,GY(e)):(null==e?void 0:e.type)===m?t.push.apply(t,GY(_X(e.children))):t.push(e)})),t.filter((function(e){return!bX(e)}))}function wX(e){return Array.isArray(e)&&1===e.length&&(e=e[0]),e&&e.__v_isVNode&&"symbol"!==XU(e.type);// remove text node
}function SX(e,t){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return null!==(n=t[o])&&void 0!==n?n:null===(i=e[o])||void 0===i?void 0:i.call(e)}var CX=a({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup:function(e,t){var n=t.slots,i=k({width:0,height:0,offsetHeight:0,offsetWidth:0}),o=null,r=null,a=function(){r&&(r.disconnect(),r=null)},l=function(t){var n=e.onResize,o=t[0].target,r=o.getBoundingClientRect(),a=r.width,l=r.height,s=o.offsetWidth,u=o.offsetHeight,c=Math.floor(a),d=Math.floor(l);if(i.width!==c||i.height!==d||i.offsetWidth!==s||i.offsetHeight!==u){var p={width:c,height:d,offsetWidth:s,offsetHeight:u};QU(i,p),n&&// defer the callback but not defer to next frame
Promise.resolve().then((function(){n(JU(JU({},p),{},{offsetWidth:s,offsetHeight:u}),o)}))}},s=O(),u=function(){// Unregister if disabled
if(e.disabled)a();else{// Unregister if element changed
var t=gX(s);t!==o&&(a(),o=t),!r&&t&&(r=new RY(l)).observe(t)}};return d((function(){u()})),A((function(){u()})),D((function(){a()})),c((function(){return e.disabled}),(function(){u()}),{flush:"post"}),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)[0]}}}),MX=function(e){return setTimeout(e,16)},TX=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(MX=function(e){return window.requestAnimationFrame(e)},TX=function(e){return window.cancelAnimationFrame(e)});var IX=0,kX=new Map;function AX(e){kX.delete(e)}function DX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=IX+=1;function i(t){if(0===t)// Clean up
AX(n),// Trigger
e();else{// Next raf
var o=MX((function(){i(t-1)}));// Bind real raf id
kX.set(n,o)}}return i(t),n}DX.cancel=function(e){var t=kX.get(e);return AX(t),TX(t)};// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead
var OX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},PX=function(e){var t=e;return t.install=function(n){n.component(t.displayName||t.name,e)},e},LX=!1;try{var EX=Object.defineProperty({},"passive",{get:function(){LX=!0}});window.addEventListener("testPassive",null,EX),window.removeEventListener("testPassive",null,EX)}catch(qX){}var NX=LX;function RX(e,t,n,i){if(e&&e.addEventListener){var o=i;void 0!==o||!NX||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o={passive:!1}),e.addEventListener(t,n,o)}return{remove:function(){e&&e.removeEventListener&&e.removeEventListener(t,n)}}}function zX(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var BX={// Options.jsx
items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",// Pagination.jsx
prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},FX={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},VX={lang:JU({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:JU({},FX)},jX="${label} is not a valid ${type}",HX={locale:"en",Pagination:BX,DatePicker:VX,TimePicker:FX,Calendar:VX,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:jX,method:jX,array:jX,object:jX,number:jX,date:jX,boolean:jX,integer:jX,float:jX,regexp:jX,email:jX,url:jX,hex:jX},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},GX=a({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup:function(e,t){var n=t.slots,i=P("localeData",{}),o=L((function(){var t=e.componentName,n=void 0===t?"global":t,o=e.defaultLocale||HX[n||"global"],r=i.antLocale,a=n&&r?r[n]:{};return JU(JU({},"function"==typeof o?o():o),a||{})})),r=L((function(){var e=i.antLocale,t=e&&e.locale;// Had use LocaleProvide but didn't set locale
return e&&e.exist&&!t?HX.locale:t}));return function(){var t=e.children||n.default,a=i.antLocale;return null==t?void 0:t(o.value,r.value,a)}}});function WX(e,t,n){var i=P("localeData",{}),o=L((function(){var o=i.antLocale,r=w(t)||HX[e||"global"],a=e&&o?o[e]:{};return JU(JU(JU({},"function"==typeof r?r():r),a||{}),w(n)||{})}));return[o]}var KX=function(){var e=(0,qJ("empty",{}).getPrefixCls)("empty-img-default");return _("svg",{class:e,width:"184",height:"152",viewBox:"0 0 184 152"},[_("g",{fill:"none","fill-rule":"evenodd"},[_("g",{transform:"translate(24 31.67)"},[_("ellipse",{class:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),_("path",{class:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},null),_("path",{class:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"},null),_("path",{class:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},null),_("path",{class:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},null)]),_("path",{class:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},null),_("g",{class:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},[_("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),_("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])};KX.PRESENTED_IMAGE_DEFAULT=!0;var UX=KX,YX=function(){var e=(0,qJ("empty",{}).getPrefixCls)("empty-img-simple");return _("svg",{class:e,width:"64",height:"41",viewBox:"0 0 64 41"},[_("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[_("ellipse",{class:"".concat(e,"-ellipse"),fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"},null),_("g",{class:"".concat(e,"-g"),"fill-rule":"nonzero",stroke:"#D9D9D9"},[_("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),_("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA",class:"".concat(e,"-path")},null)])])])};YX.PRESENTED_IMAGE_SIMPLE=!0;var XX=YX;function qX(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ZX(e,t,n){return t&&qX(e.prototype,t),n&&qX(e,n),e}function $X(){return($X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function JX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function QX(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)t.indexOf(n=r[i])>=0||(o[n]=e[n]);return o}function eq(e){return 1==(null!=(t=e)&&"object"==u(t)&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}var tq=Object.prototype,nq=tq.toString,iq=tq.hasOwnProperty,oq=/^\s*function (\w+)/;function rq(e){var t,n=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:e;if(n){var i=n.toString().match(oq);return i?i[1]:""}return""}var aq=function(e){var t,n;return!1!==eq(e)&&"function"==typeof(t=e.constructor)&&!1!==eq(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")},lq=function(e){return e},sq=function(e,t){return iq.call(e,t)},uq=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},cq=Array.isArray||function(e){return"[object Array]"===nq.call(e)},dq=function(e){return"[object Function]"===nq.call(e)},pq=function(e){return aq(e)&&sq(e,"_vueTypes_name")},hq=function(e){return aq(e)&&(sq(e,"type")||["_vueTypes_name","validator","default","required"].some((function(t){return sq(e,t)})))};function fq(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function vq(e,t,n){var i;void 0===n&&(n=!1);var o=!0,r="";i=aq(e)?e:{type:e};var a=pq(i)?i._vueTypes_name+" - ":"";if(hq(i)&&null!==i.type){if(void 0===i.type||!0===i.type)return o;if(!i.required&&void 0===t)return o;cq(i.type)?(o=i.type.some((function(e){return!0===vq(e,t,!0)})),r=i.type.map((function(e){return rq(e)})).join(" or ")):o="Array"===(r=rq(i))?cq(t):"Object"===r?aq(t):"String"===r||"Number"===r||"Boolean"===r||"Function"===r?function(e){if(null==e)return"";var t=e.constructor.toString().match(oq);return t?t[1]:""}(t)===r:t instanceof i.type}if(!o){var l=a+'value "'+t+'" should be of type "'+r+'"';return!1===n?(lq(l),!1):l}if(sq(i,"validator")&&dq(i.validator)){var s=lq,u=[];if(lq=function(e){u.push(e)},o=i.validator(t),lq=s,!o){var c=(u.length>1?"* ":"")+u.join("\n* ");return u.length=0,!1===n?(lq(c),o):c}}return o}function gq(e,t){var n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(e){return void 0!==e||this.default?dq(e)||!0===vq(this,e,!0)?(this.default=cq(e)?function(){return[].concat(e)}:aq(e)?function(){return Object.assign({},e)}:e,this):(lq(this._vueTypes_name+' - invalid default value: "'+e+'"'),this):this}}}),i=n.validator;return dq(i)&&(n.validator=fq(i,n)),n}function yq(e,t){var n=gq(e,t);return Object.defineProperty(n,"validate",{value:function(e){return dq(this.validator)&&lq(this._vueTypes_name+" - calling .validate() will overwrite the current custom validator function. Validator info:\n"+JSON.stringify(this)),this.validator=fq(e,this),this}})}function mq(e,t,n){var i,o,r=(i=t,o={},Object.getOwnPropertyNames(i).forEach((function(e){o[e]=Object.getOwnPropertyDescriptor(i,e)})),Object.defineProperties({},o));if(r._vueTypes_name=e,!aq(n))return r;var a,l,s=n.validator,u=QX(n,["validator"]);if(dq(s)){var c=r.validator;c&&(c=null!==(l=(a=c).__original)&&void 0!==l?l:a),r.validator=fq(c?function(e){return c.call(this,e)&&s.call(this,e)}:s,r)}return Object.assign(r,u)}function xq(e){return e.replace(/^(?!\s*$)/gm,"  ")}var bq=function(){function e(){}return e.extend=function(e){var t=this;if(cq(e))return e.forEach((function(e){return t.extend(e)})),this;var n=e.name,i=e.validate,o=void 0!==i&&i,r=e.getter,a=void 0!==r&&r,l=QX(e,["name","validate","getter"]);if(sq(this,n))throw new TypeError('[VueTypes error]: Type "'+n+'" already defined');var s,u=l.type;return pq(u)?(delete l.type,Object.defineProperty(this,n,a?{get:function(){return mq(n,u,l)}}:{value:function(){var e,t=mq(n,u,l);return t.validator&&(t.validator=(e=t.validator).bind.apply(e,[t].concat([].slice.call(arguments)))),t}})):(s=a?{get:function(){var e=Object.assign({},l);return o?yq(n,e):gq(n,e)},enumerable:!0}:{value:function(){var e,t,i=Object.assign({},l);return e=o?yq(n,i):gq(n,i),i.validator&&(e.validator=(t=i.validator).bind.apply(t,[e].concat([].slice.call(arguments)))),e},enumerable:!0},Object.defineProperty(this,n,s))},ZX(e,null,[{key:"any",get:function(){return yq("any",{})}},{key:"func",get:function(){return yq("function",{type:Function}).def(this.defaults.func)}},{key:"bool",get:function(){return yq("boolean",{type:Boolean}).def(this.defaults.bool)}},{key:"string",get:function(){return yq("string",{type:String}).def(this.defaults.string)}},{key:"number",get:function(){return yq("number",{type:Number}).def(this.defaults.number)}},{key:"array",get:function(){return yq("array",{type:Array}).def(this.defaults.array)}},{key:"object",get:function(){return yq("object",{type:Object}).def(this.defaults.object)}},{key:"integer",get:function(){return gq("integer",{type:Number,validator:function(e){return uq(e)}}).def(this.defaults.integer)}},{key:"symbol",get:function(){return gq("symbol",{validator:function(e){return"symbol"==u(e)}})}}]),e}();function _q(e){var t;return void 0===e&&(e={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(t=function(t){function n(){return t.apply(this,arguments)||this}return JX(n,t),ZX(n,null,[{key:"sensibleDefaults",get:function(){return $X({},this.defaults)},set:function(t){this.defaults=!1!==t?$X({},!0!==t?t:e):{}}}]),n}(bq)).defaults=$X({},e),t}bq.defaults={},bq.custom=function(e,t){if(void 0===t&&(t="custom validation failed"),"function"!=typeof e)throw new TypeError("[VueTypes error]: You must provide a function as argument");return gq(e.name||"<<anonymous function>>",{validator:function(n){var i=e(n);return i||lq(this._vueTypes_name+" - "+t),i}})},bq.oneOf=function(e){if(!cq(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var t='oneOf - value should be one of "'+e.join('", "')+'".',n=e.reduce((function(e,t){if(null!=t){var n=t.constructor;-1===e.indexOf(n)&&e.push(n)}return e}),[]);return gq("oneOf",{type:n.length>0?n:void 0,validator:function(n){var i=-1!==e.indexOf(n);return i||lq(t),i}})},bq.instanceOf=function(e){return gq("instanceOf",{type:e})},bq.oneOfType=function(e){if(!cq(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var t=!1,n=[],i=0;i<e.length;i+=1){var o=e[i];if(hq(o)){if(pq(o)&&"oneOf"===o._vueTypes_name){n=n.concat(o.type);continue}if(dq(o.validator)&&(t=!0),!0!==o.type&&o.type){n=n.concat(o.type);continue}}n.push(o)}return n=n.filter((function(e,t){return n.indexOf(e)===t})),gq("oneOfType",t?{type:n,validator:function(t){var n=[],i=e.some((function(e){var i=vq(pq(e)&&"oneOf"===e._vueTypes_name?e.type||null:e,t,!0);return"string"==typeof i&&n.push(i),!0===i}));return i||lq("oneOfType - provided value does not match any of the "+n.length+" passed-in validators:\n"+xq(n.join("\n"))),i}}:{type:n})},bq.arrayOf=function(e){return gq("arrayOf",{type:Array,validator:function(t){var n,i=t.every((function(t){return!0===(n=vq(e,t,!0))}));return i||lq("arrayOf - value validation error:\n"+xq(n)),i}})},bq.objectOf=function(e){return gq("objectOf",{type:Object,validator:function(t){var n,i=Object.keys(t).every((function(i){return!0===(n=vq(e,t[i],!0))}));return i||lq("objectOf - value validation error:\n"+xq(n)),i}})},bq.shape=function(e){var t=Object.keys(e),n=t.filter((function(t){var n;return!!(null===(n=e[t])||void 0===n?void 0:n.required)})),i=gq("shape",{type:Object,validator:function(i){var o=this;if(!aq(i))return!1;var r=Object.keys(i);if(n.length>0&&n.some((function(e){return-1===r.indexOf(e)}))){var a=n.filter((function(e){return-1===r.indexOf(e)}));return lq(1===a.length?'shape - required property "'+a[0]+'" is not defined.':'shape - required properties "'+a.join('", "')+'" are not defined.'),!1}return r.every((function(n){if(-1===t.indexOf(n))return!0===o._vueTypes_isLoose||(lq('shape - shape definition does not include a "'+n+'" property. Allowed keys: "'+t.join('", "')+'".'),!1);var r=vq(e[n],i[n],!0);return"string"==typeof r&&lq('shape - "'+n+'" property validation error:\n '+xq(r)),!0===r}))}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),i},bq.utils={validate:function(e,t){return!0===vq(t,e,!0)},toType:function(e,t,n){return void 0===n&&(n=!1),n?yq(e,t):gq(e,t)}},function(e){function t(){return e.apply(this,arguments)||this}JX(t,e)}(_q());var wq=_q({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});wq.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);var Sq=wq,Cq=["image","description","imageStyle","class"],Mq=_(UX,null,null),Tq=_(XX,null,null),Iq=function(e,t){var n,i=t.slots,o=void 0===i?{}:i,r=t.attrs,a=qJ("empty",e),l=a.direction,s=a.prefixCls.value,u=JU(JU({},e),r),c=u.image,d=void 0===c?Mq:c,p=u.description,h=void 0===p?(null===(n=o.description)||void 0===n?void 0:n.call(o))||void 0:p,f=u.imageStyle,v=u.class,g=void 0===v?"":v,y=zX(u,Cq);return _(GX,{componentName:"Empty",children:function(e){var t,n=void 0!==h?h:e.description,i=null;return i="string"==typeof d?_("img",{alt:"string"==typeof n?n:"empty",src:d},null):d,_("div",JU({class:fY(s,g,(t={},ZU(t,"".concat(s,"-normal"),d===Tq),ZU(t,"".concat(s,"-rtl"),"rtl"===l.value),t))},y),[_("div",{class:"".concat(s,"-image"),style:f},[i]),n&&_("p",{class:"".concat(s,"-description")},[n]),o.default&&_("div",{class:"".concat(s,"-footer")},[_X(o.default())])])}},null)};Iq.displayName="AEmpty",Iq.PRESENTED_IMAGE_DEFAULT=Mq,Iq.PRESENTED_IMAGE_SIMPLE=Tq,Iq.inheritAttrs=!1,Iq.props={prefixCls:String,image:Sq.any,description:Sq.any,imageStyle:{type:Object,default:void 0}};var kq=PX(Iq),Aq=function(e){var t=qJ("empty",e).prefixCls;return function(e){switch(e){case"Table":case"List":return _(kq,{image:kq.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return _(kq,{image:kq.PRESENTED_IMAGE_SIMPLE,class:"".concat(t.value,"-small")},null);default:return _(kq,null,null)}}(e.componentName)};function Dq(e){return _(Aq,{componentName:e},null)}/* eslint-disable no-console */var Oq={};function Pq(e,t){}function Lq(e,t){!function(e,t,n){t||Oq[n]||(e(!1,n),Oq[n]=!0)}(Pq,e,t)}/* eslint-enable */var Eq=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Lq(e,"[antdv: ".concat(t,"] ").concat(n))},Nq="internalMark",Rq=a({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup:function(e,t){var n=t.slots;Eq(e.ANT_MARK__===Nq,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead");var i=k({antLocale:JU(JU({},e.locale),{},{exist:!0}),ANT_MARK__:Nq});return E("localeData",i),c((function(){return e.locale}),(function(){i.antLocale=JU(JU({},e.locale),{},{exist:!0})}),{immediate:!0}),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}});/* istanbul ignore next */Rq.install=function(e){return e.component(Rq.name,Rq),e};var zq=PX(Rq);OX("bottomLeft","bottomRight","topLeft","topRight");var Bq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JU(e?{name:e,appear:!0,// type: 'animation',
// appearFromClass: `${transitionName}-appear ${transitionName}-appear-prepare`,
// appearActiveClass: `antdv-base-transtion`,
// appearToClass: `${transitionName}-appear ${transitionName}-appear-active`,
enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave ").concat(e,"-leave-active"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")}:{css:!1},t);return n},Fq=a({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup:function(e,t){var n,i=t.attrs,o=t.slots,r=L((function(){return void 0===e.duration?1.5:e.duration})),a=function(){r.value&&(n=setTimeout((function(){s()}),1e3*r.value))},l=function(){n&&(clearTimeout(n),n=null)},s=function(t){t&&t.stopPropagation(),l();var n=e.onClose,i=e.noticeKey;n&&n(i)};return d((function(){a()})),D((function(){l()})),c([r,function(){return e.updateMark},function(){return e.visible}],(function(e,t){var n=jY(e,3),i=n[0],o=n[1],r=n[2],s=jY(t,3),u=s[0],c=s[1],d=s[2];(i!==u||o!==c||r!==d&&d)&&(l(),a())}),{flush:"post"}),function(){var t,n,r=e.prefixCls,u=e.closable,c=e.closeIcon,d=void 0===c?null===(t=o.closeIcon)||void 0===t?void 0:t.call(o):c,p=e.onClick,h=e.holder,f=i.class,v=i.style,g="".concat(r,"-notice"),y=Object.keys(i).reduce((function(e,t){return"data-"!==t.substr(0,5)&&"aria-"!==t.substr(0,5)&&"role"!==t||(e[t]=i[t]),e}),{}),m=_("div",JU({class:fY(g,f,ZU({},"".concat(g,"-closable"),u)),style:v,onMouseenter:l,onMouseleave:a,onClick:p},y),[_("div",{class:"".concat(g,"-content")},[null===(n=o.default)||void 0===n?void 0:n.call(o)]),u?_("a",{tabindex:0,onClick:s,class:"".concat(g,"-close")},[d||_("span",{class:"".concat(g,"-close-x")},null)]):null]);return h?_(R,{to:h},{default:function(){return m}}):m}}}),Vq=["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName"],jq=0,Hq=Date.now();function Gq(){var e=jq;return jq+=1,"rcNotification_".concat(Hq,"_").concat(e)}var Wq=a({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon"],setup:function(e,t){var n=t.attrs,i=t.expose,o=t.slots,r=new Map,a=s([]),l=L((function(){var t=e.prefixCls,n=e.animation,i=void 0===n?"fade":n,o=e.transitionName;return!o&&i&&(o="".concat(t,"-").concat(i)),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=JU(e?{name:e,appear:!0,// appearFromClass: `${transitionName}-appear ${transitionName}-appear-prepare`,
appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")}:{css:!1},t);return n}(o)})),u=function(e){a.value=a.value.filter((function(t){var n=t.notice,i=n.key;return(n.userPassKey||i)!==e}))};return i({add:function(t,n){var i=t.key||Gq(),o=JU(JU({},t),{},{key:i}),r=e.maxCount,l=a.value.map((function(e){return e.notice.key})).indexOf(i),s=a.value.concat();-1!==l?s.splice(l,1,{notice:o,holderCallback:n}):(r&&a.value.length>=r&&(// XXX, use key of first item to update new added (let React to move exsiting
// instead of remove and mount). Same key was used before for both a) external
// manual control and b) internal react 'key' prop , which is not that good.
// eslint-disable-next-line no-param-reassign
// zombieJ: Not know why use `updateKey`. This makes Notice infinite loop in jest.
// Change to `updateMark` for compare instead.
// https://github.com/react-component/notification/commit/32299e6be396f94040bfa82517eea940db947ece
o.key=s[0].notice.key,o.updateMark=Gq(),// zombieJ: That's why. User may close by key directly.
// We need record this but not re-render to avoid upper issue
// https://github.com/react-component/notification/issues/129
o.userPassKey=i,s.shift()),s.push({notice:o,holderCallback:n})),a.value=s},remove:u,notices:a}),function(){var t,i,s=e.prefixCls,c=e.closeIcon,d=void 0===c?null===(t=o.closeIcon)||void 0===t?void 0:t.call(o,{prefixCls:s}):c,p=a.value.map((function(e,t){var n=e.notice,i=e.holderCallback,o=t===a.value.length-1?n.updateMark:void 0,l=n.key,c=n.userPassKey,p=n.content,h=JU(JU(JU({prefixCls:s,closeIcon:"function"==typeof d?d({prefixCls:s}):d},n),n.props),{},{key:l,noticeKey:c||l,updateMark:o,onClose:function(e){var t;u(e),null===(t=n.onClose)||void 0===t||t.call(n)},onClick:n.onClick});return i?_("div",{key:l,class:"".concat(s,"-hook-holder"),ref:function(e){void 0!==l&&(e?(r.set(l,e),i(e,h)):r.delete(l))}},null):_(Fq,h,{default:function(){return["function"==typeof p?p({prefixCls:s}):p]}})})),h=(ZU(i={},s,1),ZU(i,n.class,!!n.class),i);return _("div",{class:h,style:n.style||{top:"65px",left:"50%"}},[_(z,JU({tag:"div"},l.value),{default:function(){return[p]}})])}}});Wq.newInstance=function(e,t){var n=e||{},i=n.name,o=void 0===i?"notification":i,r=n.getContainer,l=n.appContext,u=n.prefixCls,c=n.rootPrefixCls,p=n.transitionName,h=n.hasTransitionName,f=zX(n,Vq),v=document.createElement("div");r?r().appendChild(v):document.body.appendChild(v);var g=a({compatConfig:{MODE:3},name:"NotificationWrapper",setup:function(e,n){var i=n.attrs,r=s();return d((function(){t({notice:function(e){var t;null===(t=r.value)||void 0===t||t.add(e)},removeNotice:function(e){var t;null===(t=r.value)||void 0===t||t.remove(e)},destroy:function(){B(null,v),v.parentNode&&v.parentNode.removeChild(v)},component:r})})),function(){var e=WJ,t=e.getPrefixCls(o,u),n=e.getRootPrefixCls(c,t),a=h?p:"".concat(n,"-").concat(p);return _(XJ,JU(JU({},e),{},{notUpdateGlobalConfig:!0,prefixCls:n}),{default:function(){return[_(Wq,JU(JU({ref:r},i),{},{prefixCls:t,transitionName:a}),null)]}})}}}),y=_(g,f);y.appContext=l||y.appContext,B(y,v)};var Kq=Wq,Uq={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};// This icon file is generated automatically.
/**
       * Take input from [0, n] and return it as [0, 1]
       * @hidden
       */
function Yq(e,t){(
/**
       * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1
       * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>
       * @hidden
       */
function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)}
/**
       * Check to see if string passed in is a percentage
       * @hidden
       */)(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}
/**
       * Return a valid alpha value [0,1] with all invalid values being set to 1
       * @hidden
       */(e);// Handle floating point rounding errors
return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),// Automatically convert percentage into number
n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:// Convert into [0, 1] range if it isn't already
// If n is a hue given in degrees,
// wrap around out-of-range values into [0, 360] range
// then convert into [0, 1].
e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}
/**
       * Force a number between 0 and 1
       * @hidden
       */function Xq(e){return Math.min(1,Math.max(0,e))}function qq(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}
/**
       * Replace a decimal with it's percentage value
       * @hidden
       */function Zq(e){return e<=1?"".concat(100*Number(e),"%"):e}
/**
       * Force a hex value to have 2 characters
       * @hidden
       */function $q(e){return 1===e.length?"0"+e:String(e)}// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:
// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>
/**
       * Handle bounds / percentage checking to conform to CSS color spec
       * <http://www.w3.org/TR/css3-color/>
       * *Assumes:* r, g, b in [0, 255] or [0, 1]
       * *Returns:* { r, g, b } in [0, 255]
       */
/**
       * Converts an RGB color value to HSL.
       * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]
       * *Returns:* { h, s, l } in [0,1]
       */
function Jq(e,t,n){e=Yq(e,255),t=Yq(t,255),n=Yq(n,255);var i=Math.max(e,t,n),o=Math.min(e,t,n),r=0,a=0,l=(i+o)/2;if(i===o)a=0,r=0;else{var s=i-o;switch(a=l>.5?s/(2-i-o):s/(i+o),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,l:l}}function Qq(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}
/**
       * Converts an HSL color value to RGB.
       *
       * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]
       * *Returns:* { r, g, b } in the set [0, 255]
       */
/**
       * Converts an RGB color value to HSV
       *
       * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]
       * *Returns:* { h, s, v } in [0,1]
       */
function eZ(e,t,n){e=Yq(e,255),t=Yq(t,255),n=Yq(n,255);var i=Math.max(e,t,n),o=Math.min(e,t,n),r=0,a=i,l=i-o,s=0===i?0:l/i;if(i===o)r=0;// achromatic
else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:s,v:a}}
/**
       * Converts an HSV color value to RGB.
       *
       * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]
       * *Returns:* { r, g, b } in the set [0, 255]
       */
/**
       * Converts an RGB color to hex
       *
       * Assumes r, g, and b are contained in the set [0, 255]
       * Returns a 3 or 6 character hex
       */
function tZ(e,t,n,i){var o=[$q(Math.round(e).toString(16)),$q(Math.round(t).toString(16)),$q(Math.round(n).toString(16))];// Return a 3 character hex if possible
return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}
/**
       * Converts an RGBA color plus alpha transparency to hex
       *
       * Assumes r, g, b are contained in the set [0, 255] and
       * a in [0, 1]. Returns a 4 or 8 character rgba hex
       */
// eslint-disable-next-line max-params
/** Converts a decimal to a hex value */function nZ(e){return Math.round(255*parseFloat(e)).toString(16)}/** Converts a hex value to a decimal */function iZ(e){return oZ(e)/255}/** Parse a base-16 hex value into a base-10 integer */function oZ(e){return parseInt(e,16)}// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json
/**
       * @hidden
       */
var rZ={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};/* eslint-disable @typescript-eslint/no-redundant-type-constituents */
/**
       * Given a string or object, convert that input to RGB
       *
       * Possible string inputs:
       * ```
       * "red"
       * "#f00" or "f00"
       * "#ff0000" or "ff0000"
       * "#ff000000" or "ff000000"
       * "rgb 255 0 0" or "rgb (255, 0, 0)"
       * "rgb 1.0 0 0" or "rgb (1, 0, 0)"
       * "rgba (255, 0, 0, 1)" or "rgba 255, 0, 0, 1"
       * "rgba (1.0, 0, 0, 1)" or "rgba 1.0, 0, 0, 1"
       * "hsl(0, 100%, 50%)" or "hsl 0 100% 50%"
       * "hsla(0, 100%, 50%, 1)" or "hsla 0 100% 50%, 1"
       * "hsv(0, 100%, 100%)" or "hsv 0 100% 100%"
       * ```
       */function aZ(e){var t={r:0,g:0,b:0},n=1,i=null,o=null,r=null,a=!1,l=!1;return"string"==typeof e&&(e=
/**
       * Permissive string parsing.  Take in a number of formats, and output an object
       * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`
       */
function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(rZ[e])e=rZ[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};// Try to match string input using regular expressions.
// Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]
// Just return an object and let the conversion functions handle that.
// This way the result will be the same whether the tinycolor is initialized with string or object.
var n=cZ.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=cZ.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=cZ.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=cZ.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=cZ.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=cZ.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=cZ.hex8.exec(e),n)return{r:oZ(n[1]),g:oZ(n[2]),b:oZ(n[3]),a:iZ(n[4]),format:t?"name":"hex8"};if(n=cZ.hex6.exec(e),n)return{r:oZ(n[1]),g:oZ(n[2]),b:oZ(n[3]),format:t?"name":"hex"};if(n=cZ.hex4.exec(e),n)return{r:oZ(n[1]+n[1]),g:oZ(n[2]+n[2]),b:oZ(n[3]+n[3]),a:iZ(n[4]+n[4]),format:t?"name":"hex8"};if(n=cZ.hex3.exec(e),n)return{r:oZ(n[1]+n[1]),g:oZ(n[2]+n[2]),b:oZ(n[3]+n[3]),format:t?"name":"hex"};return!1}
/**
       * Check to see if it looks like a CSS unit
       * (see `matchers` above for definition).
       */(e)),"object"===u(e)&&(dZ(e.r)&&dZ(e.g)&&dZ(e.b)?(t=function(e,t,n){return{r:255*Yq(e,255),g:255*Yq(t,255),b:255*Yq(n,255)}}(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):dZ(e.h)&&dZ(e.s)&&dZ(e.v)?(i=Zq(e.s),o=Zq(e.v),t=function(e,t,n){e=6*Yq(e,360),t=Yq(t,100),n=Yq(n,100);var i=Math.floor(e),o=e-i,r=n*(1-t),a=n*(1-o*t),l=n*(1-(1-o)*t),s=i%6;return{r:255*[n,a,r,r,l,n][s],g:255*[l,n,n,a,r,r][s],b:255*[r,r,l,n,n,a][s]}}(e.h,i,o),a=!0,l="hsv"):dZ(e.h)&&dZ(e.s)&&dZ(e.l)&&(i=Zq(e.s),r=Zq(e.l),t=function(e,t,n){var i,o,r;if(e=Yq(e,360),t=Yq(t,100),n=Yq(n,100),0===t)// achromatic
o=n,r=n,i=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Qq(l,a,e+1/3),o=Qq(l,a,e),r=Qq(l,a,e-1/3)}return{r:255*i,g:255*o,b:255*r}}(e.h,i,r),a=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=qq(n),{ok:a,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}// <http://www.w3.org/TR/css3-values/#integers>
var lZ="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),sZ="[\\s|\\(]+(".concat(lZ,")[,|\\s]+(").concat(lZ,")[,|\\s]+(").concat(lZ,")\\s*\\)?"),uZ="[\\s|\\(]+(".concat(lZ,")[,|\\s]+(").concat(lZ,")[,|\\s]+(").concat(lZ,")[,|\\s]+(").concat(lZ,")\\s*\\)?"),cZ={CSS_UNIT:new RegExp(lZ),rgb:new RegExp("rgb"+sZ),rgba:new RegExp("rgba"+uZ),hsl:new RegExp("hsl"+sZ),hsla:new RegExp("hsla"+uZ),hsv:new RegExp("hsv"+sZ),hsva:new RegExp("hsva"+uZ),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};// <http://www.w3.org/TR/css3-values/#number-value>
function dZ(e){return Boolean(cZ.CSS_UNIT.exec(String(e)))}var pZ=/** @class */function(){function e(t,n){var i;// If input is already a tinycolor, return itself
if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)// eslint-disable-next-line no-constructor-return
return t;"number"==typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var o=aZ(t);this.originalInput=t,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=n.format)&&void 0!==i?i:o.format,this.gradientType=n.gradientType,// Don't let the range of [0,255] come back in [0,1].
// Potentially lose a little bit of precision here, but will fix issues where
// .5 gets interpreted as half of the total, instead of half of 1
// If it was supposed to be 128, this was already taken care of by `inputToRgb`
this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},
/**
         * Returns the perceived brightness of the color, from 0-255.
         */
e.prototype.getBrightness=function(){// http://www.w3.org/TR/AERT#color-contrast
var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},
/**
         * Returns the perceived luminance of a color, from 0-1.
         */
e.prototype.getLuminance=function(){// http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
var e=this.toRgb(),t=e.r/255,n=e.g/255,i=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},
/**
         * Returns the alpha value of a color, from 0-1.
         */
e.prototype.getAlpha=function(){return this.a},
/**
         * Sets the alpha value on the current color.
         *
         * @param alpha - The new alpha value. The accepted range is 0-1.
         */
e.prototype.setAlpha=function(e){return this.a=qq(e),this.roundA=Math.round(100*this.a)/100,this},
/**
         * Returns whether the color is monochrome.
         */
e.prototype.isMonochrome=function(){return 0===this.toHsl().s},
/**
         * Returns the object as a HSVA object.
         */
e.prototype.toHsv=function(){var e=eZ(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},
/**
         * Returns the hsva values interpolated into a string with the following format:
         * "hsva(xxx, xxx, xxx, xx)".
         */
e.prototype.toHsvString=function(){var e=eZ(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},
/**
         * Returns the object as a HSLA object.
         */
e.prototype.toHsl=function(){var e=Jq(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},
/**
         * Returns the hsla values interpolated into a string with the following format:
         * "hsla(xxx, xxx, xxx, xx)".
         */
e.prototype.toHslString=function(){var e=Jq(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},
/**
         * Returns the hex value of the color.
         * @param allow3Char will shorten hex value to 3 char if possible
         */
e.prototype.toHex=function(e){return void 0===e&&(e=!1),tZ(this.r,this.g,this.b,e)},
/**
         * Returns the hex value of the color -with a # appened.
         * @param allow3Char will shorten hex value to 3 char if possible
         */
e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},
/**
         * Returns the hex 8 value of the color.
         * @param allow4Char will shorten hex value to 4 char if possible
         */
e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,i,o){var r=[$q(Math.round(e).toString(16)),$q(Math.round(t).toString(16)),$q(Math.round(n).toString(16)),$q(nZ(i))];// Return a 4 character hex if possible
return o&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this.r,this.g,this.b,this.a,e)},
/**
         * Returns the hex 8 value of the color -with a # appened.
         * @param allow4Char will shorten hex value to 4 char if possible
         */
e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},
/**
         * Returns the object as a RGBA object.
         */
e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},
/**
         * Returns the RGBA values interpolated into a string with the following format:
         * "RGBA(xxx, xxx, xxx, xx)".
         */
e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},
/**
         * Returns the object as a RGBA object.
         */
e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Yq(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},
/**
         * Returns the RGBA relative values interpolated into a string
         */
e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Yq(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},
/**
         * The 'real' name of the color -if there is one.
         */
e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+tZ(this.r,this.g,this.b,!1),t=0,n=Object.entries(rZ);t<n.length;t++){var i=n[t],o=i[0];if(e===i[1])return o}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=!1,i=this.a<1&&this.a>=0;return t||!i||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):// Special case for "transparent", all other non-alpha formats
// will return rgba when there is transparency.
"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},
/**
         * Lighten the color a given amount. Providing 100 will always return white.
         * @param amount - valid between 1-100
         */
e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Xq(n.l),new e(n)},
/**
         * Brighten the color a given amount, from 0 to 100.
         * @param amount - valid between 1-100
         */
e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},
/**
         * Darken the color a given amount, from 0 to 100.
         * Providing 100 will always return black.
         * @param amount - valid between 1-100
         */
e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Xq(n.l),new e(n)},
/**
         * Mix the color with pure white, from 0 to 100.
         * Providing 0 will do nothing, providing 100 will always return white.
         * @param amount - valid between 1-100
         */
e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},
/**
         * Mix the color with pure black, from 0 to 100.
         * Providing 0 will do nothing, providing 100 will always return black.
         * @param amount - valid between 1-100
         */
e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},
/**
         * Desaturate the color a given amount, from 0 to 100.
         * Providing 100 will is the same as calling greyscale
         * @param amount - valid between 1-100
         */
e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Xq(n.s),new e(n)},
/**
         * Saturate the color a given amount, from 0 to 100.
         * @param amount - valid between 1-100
         */
e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Xq(n.s),new e(n)},
/**
         * Completely desaturates a color into greyscale.
         * Same as calling `desaturate(100)`
         */
e.prototype.greyscale=function(){return this.desaturate(100)},
/**
         * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.
         * Values outside of this range will be wrapped into this range.
         */
e.prototype.spin=function(t){var n=this.toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,new e(n)},
/**
         * Mix the current color a given amount with another color, from 0 to 100.
         * 0 means no mixing (return current color).
         */
e.prototype.mix=function(t,n){void 0===n&&(n=50);var i=this.toRgb(),o=new e(t).toRgb(),r=n/100;return new e({r:(o.r-i.r)*r+i.r,g:(o.g-i.g)*r+i.g,b:(o.b-i.b)*r+i.b,a:(o.a-i.a)*r+i.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var i=this.toHsl(),o=360/n,r=[this];for(i.h=(i.h-(o*t>>1)+720)%360;--t;)i.h=(i.h+o)%360,r.push(new e(i));return r},
/**
         * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js
         */
e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),i=n.h,o=n.s,r=n.v,a=[],l=1/t;t--;)a.push(new e({h:i,s:o,v:r})),r=(r+l)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},
/**
         * Compute how the color would appear on a background
         */
e.prototype.onBackground=function(t){var n=this.toRgb(),i=new e(t).toRgb();return new e({r:i.r+(n.r-i.r)*n.a,g:i.g+(n.g-i.g)*n.a,b:i.b+(n.b-i.b)*n.a})},
/**
         * Alias for `polyad(3)`
         */
e.prototype.triad=function(){return this.polyad(3)},
/**
         * Alias for `polyad(4)`
         */
e.prototype.tetrad=function(){return this.polyad(4)},
/**
         * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)
         * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...
         */
e.prototype.polyad=function(t){for(var n=this.toHsl(),i=n.h,o=[this],r=360/t,a=1;a<t;a++)o.push(new e({h:(i+a*r)%360,s:n.s,l:n.l}));return o},
/**
         * compare color vs current color
         */
e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}(),hZ=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];// Wrapper function ported from TinyColor.prototype.toHsv
// Keep it here because of `hsv.h * 360`
function fZ(e){var t=eZ(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}// Wrapper function ported from TinyColor.prototype.toHexString
// Keep it here because of the prefix `#`
function vZ(e){var t=e.r,n=e.g,i=e.b;return"#".concat(tZ(t,n,i,!1))}// Wrapper function ported from TinyColor.prototype.mix, not treeshakable.
// Amount in range [0, 1]
// Assume color1 & color2 has no alpha, since the following src code did so.
function gZ(e,t,n){var i=n/100;return{r:(t.r-e.r)*i+e.r,g:(t.g-e.g)*i+e.g,b:(t.b-e.b)*i+e.b}}function yZ(e,t,n){var i;// 根据色相不同，色相转向不同
return(i=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?i+=360:i>=360&&(i-=360),i}function mZ(e,t,n){// grey color don't change saturation
return 0===e.h&&0===e.s?e.s:(// 边界值修正
(i=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(i=1),// 第一格的 s 限制在 0.06-0.1 之间
n&&5===t&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function xZ(e,t,n){var i;return(i=n?e.v+.05*t:e.v-.15*t)>1&&(i=1),Number(i.toFixed(2))}function bZ(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=aZ(e),o=5;o>0;o-=1){var r=fZ(i),a=vZ(aZ({h:yZ(r,o,!0),s:mZ(r,o,!0),v:xZ(r,o,!0)}));n.push(a)}n.push(vZ(i));for(var l=1;l<=4;l+=1){var s=fZ(i),u=vZ(aZ({h:yZ(s,l),s:mZ(s,l),v:xZ(s,l)}));n.push(u)}// dark theme patterns
return"dark"===t.theme?hZ.map((function(e){var i=e.index,o=e.opacity;return vZ(gZ(aZ(t.backgroundColor||"#141414"),aZ(n[i]),100*o))})):n}var _Z={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},wZ={},SZ={};Object.keys(_Z).forEach((function(e){wZ[e]=bZ(_Z[e]),wZ[e].primary=wZ[e][5],// dark presetPalettes
SZ[e]=bZ(_Z[e],{theme:"dark",backgroundColor:"#141414"}),SZ[e].primary=SZ[e][5]}));// https://github.com/substack/insert-css
var CZ=[],MZ=[];// will store container HTMLElement references
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function TZ(e,t){if(t=t||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var n,i=!0===t.prepend?"prepend":"append",o=void 0!==t.container?t.container:document.querySelector("head"),r=CZ.indexOf(o);// first time we see this container, create the necessary entries
return-1===r&&(r=CZ.push(o)-1,MZ[r]={}),void 0!==MZ[r]&&void 0!==MZ[r][i]?n=MZ[r][i]:(n=MZ[r][i]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===i?o.insertBefore(n,o.childNodes[0]):o.appendChild(n)),// strip potential UTF-8 BOM if css was read from a file
65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),// actually add the stylesheet
n.styleSheet?n.styleSheet.cssText+=e:n.textContent+=e,n}function IZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){kZ(e,t,n[t])}))}return e}function kZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function AZ(e){return"object"===u(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===u(e.icon)||"function"==typeof e.icon)}function DZ(e,t,n){return F(e.tag,n?IZ({key:t},n,e.attrs):IZ({key:t},e.attrs),(e.children||[]).map((function(n,i){return DZ(n,"".concat(t,"-").concat(e.tag,"-").concat(i))})))}function OZ(e){// choose the second color
return bZ(e)[0]}function PZ(e){return e?Array.isArray(e)?e:[e]:[]}// These props make sure that the SVG behaviours like general text.
var LZ="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",EZ=!1,NZ=["icon","primaryColor","secondaryColor"];function RZ(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function zZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){BZ(e,t,n[t])}))}return e}function BZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FZ={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var VZ=function(e,t){var n=zZ({},e,t.attrs),i=n.icon,o=n.primaryColor,r=n.secondaryColor,a=RZ(n,NZ),l=FZ;if(o&&(l={primaryColor:o,secondaryColor:r||OZ(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LZ;V((function(){EZ||("undefined"!=typeof window&&window.document&&window.document.documentElement&&TZ(e,{prepend:!0}),EZ=!0)}))}(),AZ(i),!AZ(i))return null;var s=i;return s&&"function"==typeof s.icon&&(s=zZ({},s,{icon:s.icon(l.primaryColor,l.secondaryColor)})),DZ(s.icon,"svg-".concat(s.name),zZ({},a,{"data-icon":s.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}));// },
};VZ.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String},VZ.inheritAttrs=!1,VZ.displayName="IconBase",VZ.getTwoToneColors=function(){return zZ({},FZ)},VZ.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;FZ.primaryColor=t,FZ.secondaryColor=n||OZ(t),FZ.calculated=!!n};var jZ=VZ;function HZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function WZ(e){var t=HZ(PZ(e),2),n=t[0],i=t[1];return jZ.setTwoToneColors({primaryColor:n,secondaryColor:i})}var KZ=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function UZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return YZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function XZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){qZ(e,t,n[t])}))}return e}function qZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}WZ("#1890ff");var $Z=function(e,t){var n,i=XZ({},e,t.attrs),o=i.class,r=i.icon,a=i.spin,l=i.rotate,s=i.tabindex,u=i.twoToneColor,c=i.onClick,d=ZZ(i,KZ),p=(qZ(n={anticon:!0},"anticon-".concat(r.name),Boolean(r.name)),qZ(n,o,o),n),h=""===a||a||"loading"===r.name?"anticon-spin":"",f=s;void 0===f&&c&&(f=-1,d.tabindex=f);var v=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,g=UZ(PZ(u),2),y=g[0],m=g[1];return _("span",XZ({role:"img","aria-label":r.name},d,{onClick:c,class:p}),[_(jZ,{class:h,icon:r,primaryColor:y,secondaryColor:m,style:v},null)])};$Z.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String},$Z.displayName="AntdIcon",$Z.inheritAttrs=!1,$Z.getTwoToneColor=function(){var e=jZ.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},$Z.setTwoToneColor=WZ;var JZ=$Z;function QZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){e$(e,t,n[t])}))}return e}function e$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t$=function(e,t){var n=QZ({},e,t.attrs);return _(JZ,QZ({},n,{icon:Uq}),null)};t$.displayName="LoadingOutlined",t$.inheritAttrs=!1;var n$=t$,i$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};// This icon file is generated automatically.
function o$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r$(e,t,n[t])}))}return e}function r$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a$=function(e,t){var n=o$({},e,t.attrs);return _(JZ,o$({},n,{icon:i$}),null)};a$.displayName="ExclamationCircleFilled",a$.inheritAttrs=!1;var l$=a$,s$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};// This icon file is generated automatically.
function u$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c$(e,t,n[t])}))}return e}function c$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d$=function(e,t){var n=u$({},e,t.attrs);return _(JZ,u$({},n,{icon:s$}),null)};d$.displayName="CloseCircleFilled",d$.inheritAttrs=!1;var p$=d$,h$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};// This icon file is generated automatically.
function f$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){v$(e,t,n[t])}))}return e}function v$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g$=function(e,t){var n=f$({},e,t.attrs);return _(JZ,f$({},n,{icon:h$}),null)};g$.displayName="CheckCircleFilled",g$.inheritAttrs=!1;var y$=g$,m$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};// This icon file is generated automatically.
function x$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){b$(e,t,n[t])}))}return e}function b$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _$=function(e,t){var n=x$({},e,t.attrs);return _(JZ,x$({},n,{icon:m$}),null)};_$.displayName="InfoCircleFilled",_$.inheritAttrs=!1;var w$,S$,C$,M$=3,T$=1,I$="",k$="move-up",A$=!1,D$=function(){return document.body},O$=!1;var P$={info:_$,success:y$,error:p$,warning:l$,loading:n$};var L$={open:function(e){var t=void 0!==e.duration?e.duration:M$,n=e.key||T$++,i=new Promise((function(i){var o=function(){return"function"==typeof e.onClose&&e.onClose(),i(!0)};!function(e,t){S$?t(S$):Kq.newInstance({appContext:e.appContext,prefixCls:e.prefixCls||I$,rootPrefixCls:e.rootPrefixCls,transitionName:k$,hasTransitionName:A$,style:{top:w$},getContainer:D$||e.getPopupContainer,maxCount:C$,name:"message"},(function(e){S$?t(S$):(S$=e,t(e))}))}(e,(function(i){i.notice({key:n,duration:t,style:e.style||{},class:e.class,content:function(t){var n,i=t.prefixCls,o=P$[e.type],r=o?_(o,null,null):"",a=fY("".concat(i,"-custom-content"),(ZU(n={},"".concat(i,"-").concat(e.type),e.type),ZU(n,"".concat(i,"-rtl"),!0===O$),n));return _("div",{class:a},["function"==typeof e.icon?e.icon():e.icon||r,_("span",null,["function"==typeof e.content?e.content():e.content])])},onClose:o,onClick:e.onClick})}))})),o=function(){S$&&S$.removeNotice(n)};return o.then=function(e,t){return i.then(e,t)},o.promise=i,o},config:function(e){void 0!==e.top&&(w$=e.top,S$=null),void 0!==e.duration&&(M$=e.duration),void 0!==e.prefixCls&&(I$=e.prefixCls),void 0!==e.getContainer&&(D$=e.getContainer,S$=null),void 0!==e.transitionName&&(k$=e.transitionName,S$=null,// delete messageInstance for new transitionName
A$=!0),void 0!==e.maxCount&&(C$=e.maxCount,S$=null),void 0!==e.rtl&&(O$=e.rtl)},destroy:function(e){if(S$)if(e){(0,S$.removeNotice)(e)}else{var t=S$.destroy;t(),S$=null}}};function E$(e,t){e[t]=function(n,i,o){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(JU(JU({},n),{},{type:t})):("function"==typeof i&&(o=i,i=void 0),e.open({content:n,duration:i,type:t,onClose:o}))}}["success","info","warning","error","loading"].forEach((function(e){return E$(L$,e)})),L$.warn=L$.warning;var N$=L$;function R$(e,t,n,i,o,r,a){try{var l=e[r](a),s=l.value}catch(u){return void n(u)}l.done?t(s):Promise.resolve(s).then(i,o)}function z$(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){R$(r,i,o,a,l,"next",e)}function l(e){R$(r,i,o,a,l,"throw",e)}a(void 0)}))}}var B$={},F$={get exports(){return B$},set exports(e){B$=e}},V$={},j$={get exports(){return V$},set exports(e){V$=e}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(j$),function(e){var t=V$.default;function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=n=function(){return i},e.exports.__esModule=!0,e.exports.default=e.exports;var i={},o=Object.prototype,r=o.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(O){d=function(e,t,n){return e[t]=n}}function p(e,t,n,i){var o=t&&t.prototype instanceof v?t:v,r=Object.create(o.prototype),l=new k(i||[]);return a(r,"_invoke",{value:C(e,n,l)}),r}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}i.wrap=p;var f={};function v(){}function g(){}function y(){}var m={};d(m,s,(function(){return this}));var x=Object.getPrototypeOf,b=x&&x(x(A([])));b&&b!==o&&r.call(b,s)&&(m=b);var _=y.prototype=v.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,n){function i(o,a,l,s){var u=h(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==t(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){i("next",e,l,s)}),(function(e){i("throw",e,l,s)})):n.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return i("throw",e,l,s)}))}s(u.arg)}var o;a(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,o){i(e,t,n,o)}))}return o=o?o.then(r,r):r()}})}function C(e,t,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return D()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var l=M(a,n);if(l){if(l===f)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var s=h(e,t,n);if("normal"===s.type){if(i=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(i="completed",n.method="throw",n.arg=s.arg)}}}function M(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,M(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=h(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:void 0,done:!0}}return g.prototype=y,a(_,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=d(y,c,"GeneratorFunction"),i.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},i.awrap=function(e){return{__await:e}},w(S.prototype),d(S.prototype,u,(function(){return this})),i.AsyncIterator=S,i.async=function(e,t,n,o,r){void 0===r&&(r=Promise);var a=new S(p(e,t,n,o),r);return i.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),d(_,c,"Generator"),d(_,s,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),i.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},i.values=A,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(F$);// TODO(Babel 8): Remove this file.
var H$=B$(),G$=H$;// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=
try{regeneratorRuntime=H$}catch(Kre){"object"===("undefined"==typeof globalThis?"undefined":u(globalThis))?globalThis.regeneratorRuntime=H$:Function("r","regeneratorRuntime = r")(H$)}// This icon file is generated automatically.
var W$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function K$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){U$(e,t,n[t])}))}return e}function U$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y$=function(e,t){var n=K$({},e,t.attrs);return _(JZ,K$({},n,{icon:W$}),null)};Y$.displayName="CheckCircleOutlined",Y$.inheritAttrs=!1;var X$=Y$,q$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};// This icon file is generated automatically.
function Z$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){$$(e,t,n[t])}))}return e}function $$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J$=function(e,t){var n=Z$({},e,t.attrs);return _(JZ,Z$({},n,{icon:q$}),null)};J$.displayName="InfoCircleOutlined",J$.inheritAttrs=!1;var Q$=J$,eJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};// This icon file is generated automatically.
function tJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){nJ(e,t,n[t])}))}return e}function nJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iJ=function(e,t){var n=tJ({},e,t.attrs);return _(JZ,tJ({},n,{icon:eJ}),null)};iJ.displayName="CloseCircleOutlined",iJ.inheritAttrs=!1;var oJ=iJ,rJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};// This icon file is generated automatically.
function aJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){lJ(e,t,n[t])}))}return e}function lJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sJ=function(e,t){var n=aJ({},e,t.attrs);return _(JZ,aJ({},n,{icon:rJ}),null)};sJ.displayName="ExclamationCircleOutlined",sJ.inheritAttrs=!1;var uJ=sJ,cJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};// This icon file is generated automatically.
function dJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){pJ(e,t,n[t])}))}return e}function pJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hJ=function(e,t){var n=dJ({},e,t.attrs);return _(JZ,dJ({},n,{icon:cJ}),null)};hJ.displayName="CloseOutlined",hJ.inheritAttrs=!1;var fJ,vJ=hJ,gJ={},yJ=4.5,mJ="24px",xJ="24px",bJ="",_J="topRight",wJ=function(){return document.body},SJ=null,CJ=!1;function MJ(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mJ,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xJ;switch(e){case"topLeft":t={left:"0px",top:n,bottom:"auto"};break;case"topRight":t={right:"0px",top:n,bottom:"auto"};break;case"bottomLeft":t={left:"0px",top:"auto",bottom:i};break;default:t={right:"0px",top:"auto",bottom:i}}return t}var TJ={success:X$,info:Q$,error:oJ,warning:uJ};var IJ={open:function(e){var t=e.icon,n=e.type,i=e.description,o=e.message,r=e.btn,a=void 0===e.duration?yJ:e.duration;!function(e,t){var n=e.prefixCls,i=e.placement,o=void 0===i?_J:i,r=e.getContainer,a=void 0===r?wJ:r,l=e.top,s=e.bottom,u=e.closeIcon,c=void 0===u?SJ:u,d=e.appContext,p=(0,KJ().getPrefixCls)("notification",n||bJ),h="".concat(p,"-").concat(o,"-").concat(CJ),f=gJ[h];if(f)Promise.resolve(f).then((function(e){t(e)}));else{var v=fY("".concat(p,"-").concat(o),ZU({},"".concat(p,"-rtl"),!0===CJ));Kq.newInstance({name:"notification",prefixCls:n||bJ,class:v,style:MJ(o,l,s),appContext:d,getContainer:a,closeIcon:function(e){var t=e.prefixCls;return _("span",{class:"".concat(t,"-close-x")},[hY(c,{},_(vJ,{class:"".concat(t,"-close-icon")},null))])},maxCount:fJ,hasTransitionName:!0},(function(e){gJ[h]=e,t(e)}))}}(e,(function(l){l.notice({content:function(e){var a=e.prefixCls,l="".concat(a,"-notice"),s=null;if(t)s=function(){return _("span",{class:"".concat(l,"-icon")},[hY(t)])};else if(n){var u=TJ[n];s=function(){return _(u,{class:"".concat(l,"-icon ").concat(l,"-icon-").concat(n)},null)}}return _("div",{class:s?"".concat(l,"-with-icon"):""},[s&&s(),_("div",{class:"".concat(l,"-message")},[!i&&s?_("span",{class:"".concat(l,"-message-single-line-auto-margin")},null):null,hY(o)]),_("div",{class:"".concat(l,"-description")},[hY(i)]),r?_("span",{class:"".concat(l,"-btn")},[hY(r)]):null])},duration:a,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},class:e.class})}))},close:function(e){Object.keys(gJ).forEach((function(t){return Promise.resolve(gJ[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,i=e.bottom,o=e.top,r=e.getContainer,a=e.closeIcon,l=e.prefixCls;void 0!==l&&(bJ=l),void 0!==t&&(yJ=t),void 0!==n&&(_J=n),void 0!==i&&(xJ="number"==typeof i?"".concat(i,"px"):i),void 0!==o&&(mJ="number"==typeof o?"".concat(o,"px"):o),void 0!==r&&(wJ=r),void 0!==a&&(SJ=a),void 0!==e.rtl&&(CJ=e.rtl),void 0!==e.maxCount&&(fJ=e.maxCount)},destroy:function(){Object.keys(gJ).forEach((function(e){Promise.resolve(gJ[e]).then((function(e){e.destroy()})),delete gJ[e]}))}};["success","info","warning","error"].forEach((function(e){IJ[e]=function(t){return IJ.open(JU(JU({},t),{},{type:e}))}})),IJ.warn=IJ.warning;var kJ=IJ;function AJ(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var DJ="vc-util-key";function OJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):DJ}function PJ(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function LJ(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!AJ())return null;var i,o=document.createElement("style");null!==(t=n.csp)&&void 0!==t&&t.nonce&&(o.nonce=null===(i=n.csp)||void 0===i?void 0:i.nonce);o.innerHTML=e;var r=PJ(n),a=r.firstChild;return n.prepend&&r.prepend?// Use `prepend` first
r.prepend(o):n.prepend&&a?// Fallback to `insertBefore` like IE not support `prepend`
r.insertBefore(o,a):r.appendChild(o),o}var EJ=new Map;function NJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=PJ(t);return Array.from(EJ.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(OJ(t))===e}))}var RJ=function(e,t,n){Lq(e,"[ant-design-vue: ".concat(t,"] ").concat(n))},zJ="-ant-".concat(Date.now(),"-").concat(Math.random());/* eslint-disable import/prefer-default-export, prefer-destructuring */function BJ(e,t){var n={},i=function(e,t){var n=e.clone();return(n=(null==t?void 0:t(n))||n).toRgbString()},o=function(e,t){var o=new pZ(e),r=bZ(o.toRgbString());n["".concat(t,"-color")]=i(o),n["".concat(t,"-color-disabled")]=r[1],n["".concat(t,"-color-hover")]=r[4],n["".concat(t,"-color-active")]=r[6],n["".concat(t,"-color-outline")]=o.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=r[1],n["".concat(t,"-color-deprecated-border")]=r[3]};// ================ Primary Color ================
if(t.primaryColor){o(t.primaryColor,"primary");var r=new pZ(t.primaryColor),a=bZ(r.toRgbString());// Legacy - We should use semantic naming standard
a.forEach((function(e,t){n["primary-".concat(t+1)]=e})),// Deprecated
n["primary-color-deprecated-l-35"]=i(r,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=i(r,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=i(r,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=i(r,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=i(r,(function(e){return e.setAlpha(.12*e.getAlpha())}));var l=new pZ(a[0]);n["primary-color-active-deprecated-f-30"]=i(l,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=i(l,(function(e){return e.darken(2)}))}// ================ Success Color ================
t.successColor&&o(t.successColor,"success"),// ================ Warning Color ================
t.warningColor&&o(t.warningColor,"warning"),// ================= Error Color =================
t.errorColor&&o(t.errorColor,"error"),// ================= Info Color ==================
t.infoColor&&o(t.infoColor,"info");// Convert to css variables
var s=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));AJ()?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=PJ(n);// Get real parent
if(!EJ.has(i)){var o=LJ("",n),r=o.parentNode;EJ.set(i,r),r.removeChild(o)}var a=NJ(t,n);if(a){var l,s,u;return null!==(l=n.csp)&&void 0!==l&&l.nonce&&a.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce)&&(a.nonce=null===(u=n.csp)||void 0===u?void 0:u.nonce),a.innerHTML!==e&&(a.innerHTML=e),a}var c=LJ(e,n);c.setAttribute(OJ(n),t)}("\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  "),"".concat(zJ,"-dynamic-theme")):RJ(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var FJ=Symbol("GlobalFormContextKey");function VJ(){return WJ.prefixCls||"ant"}var jJ,HJ=k({}),GJ=k({}),WJ=k({});j((function(){QU(WJ,HJ,GJ),WJ.prefixCls=VJ(),WJ.getPrefixCls=function(e,t){return t||(e?"".concat(WJ.prefixCls,"-").concat(e):WJ.prefixCls)},WJ.getRootPrefixCls=function(e,t){// Customize rootPrefixCls is first priority
return e||(// If Global prefixCls provided, use this
WJ.prefixCls?WJ.prefixCls:// [Legacy] If customize prefixCls provided, we cut it to get the prefixCls
t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):VJ())}}));var KJ=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(VJ(),"-").concat(e):VJ())},getRootPrefixCls:function(e,t){// Customize rootPrefixCls is first priority
return e||(// If Global prefixCls provided, use this
WJ.prefixCls?WJ.prefixCls:// [Legacy] If customize prefixCls provided, we cut it to get the prefixCls
t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):VJ())}}},UJ=a({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:{getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:{type:Object,default:void 0},input:{type:Object},autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},pageHeader:{type:Object},componentSize:{type:String},direction:{type:String},space:{type:Object},virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:{type:Object,default:void 0},// internal use
notUpdateGlobalConfig:Boolean},setup:function(e,t){var n=t.slots,i=k(JU(JU({},e),{},{getPrefixCls:function(t,n){var i=e.prefixCls;if(n)return n;var o=i||function(t,n){var i=e.prefixCls,o=void 0===i?"ant":i;return n||(t?"".concat(o,"-").concat(t):o)}("");return t?"".concat(o,"-").concat(t):o},renderEmpty:function(t){return(e.renderEmpty||n.renderEmpty||Dq)(t)}}));Object.keys(e).forEach((function(t){c((function(){return e[t]}),(function(){i[t]=e[t]}))})),e.notUpdateGlobalConfig||(QU(HJ,i),c(i,(function(){QU(HJ,i)})));var o=L((function(){// Additional Form provider
var t,n,i={};e.locale&&(i=(null===(t=e.locale.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=HX.Form)||void 0===n?void 0:n.defaultValidateMessages)||{});return e.form&&e.form.validateMessages&&(i=JU(JU({},i),e.form.validateMessages)),i}));E(FJ,{validateMessages:o}),E("configProvider",i);return j((function(){e.direction&&(N$.config({rtl:"rtl"===e.direction}),kJ.config({rtl:"rtl"===e.direction}))})),function(){return _(GX,{children:function(t,i,o){return function(t){var i;return _(zq,{locale:e.locale||t,ANT_MARK__:Nq},{default:function(){return[null===(i=n.default)||void 0===i?void 0:i.call(n)]}})}(o)}},null)}}}),YJ=k({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:Dq,direction:"ltr"});UJ.config=function(e){jJ&&jJ(),jJ=j((function(){QU(GJ,k(e)),QU(WJ,k(e))})),e.theme&&BJ(VJ(),e.theme)},UJ.install=function(e){e.component(UJ.name,UJ)};var XJ=UJ,qJ=function(e,t){var n=P("configProvider",YJ),i=L((function(){return n.getPrefixCls(e,t.prefixCls)})),o=L((function(){var e;return null!==(e=t.direction)&&void 0!==e?e:n.direction})),r=L((function(){return n.getPrefixCls()})),a=L((function(){return n.autoInsertSpaceInButton})),l=L((function(){return n.renderEmpty})),s=L((function(){return n.space})),u=L((function(){return n.pageHeader})),c=L((function(){return n.form})),d=L((function(){return t.getTargetContainer||n.getTargetContainer})),p=L((function(){return t.getPopupContainer||n.getPopupContainer})),h=L((function(){var e;return null!==(e=t.dropdownMatchSelectWidth)&&void 0!==e?e:n.dropdownMatchSelectWidth})),f=L((function(){return(void 0===t.virtual?!1!==n.virtual:!1!==t.virtual)&&!1!==h.value})),v=L((function(){return t.size||n.componentSize})),g=L((function(){var e;return t.autocomplete||(null===(e=n.input)||void 0===e?void 0:e.autocomplete)})),y=L((function(){return n.csp}));return{configProvider:n,prefixCls:i,direction:o,size:v,getTargetContainer:d,getPopupContainer:p,space:s,pageHeader:u,form:c,autoInsertSpaceInButton:a,renderEmpty:l,virtual:f,dropdownMatchSelectWidth:h,rootPrefixCls:r,getPrefixCls:n.getPrefixCls,autocomplete:g,csp:y}};function ZJ(e,t){for(// eslint-disable-next-line prefer-object-spread
var n=QU({},e),i=0;i<t.length;i+=1){delete n[t[i]]}return n}function $J(e){return null!=e&&e===e.window}function JJ(e,t){if("undefined"==typeof window)return 0;var n,i=t?"scrollTop":"scrollLeft",o=0;($J(e)?o=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?o=e.documentElement[i]:e&&(o=e[i]),e&&!$J(e)&&"number"!=typeof o)&&(o=null===(n=(e.ownerDocument||e).documentElement)||void 0===n?void 0:n[i]);return o}function QJ(e,t,n,i){var o=n-t;return(e/=i/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t}function eQ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,i=void 0===n?function(){return window}:n,o=t.callback,r=t.duration,a=void 0===r?450:r,l=i(),s=JJ(l,!0),u=Date.now(),c=function t(){var n=Date.now()-u,i=QJ(n>a?a:n,s,e,a);$J(l)?l.scrollTo(window.pageXOffset,i):l instanceof HTMLDocument||"HTMLDocument"===l.constructor.name?l.documentElement.scrollTop=i:l.scrollTop=i,n<a?DX(t):"function"==typeof o&&o()};DX(c)}function tQ(e){return zY(e)||HY(e)||FY(e)||VY()}function nQ(e,t){var n,i=e.key;return"value"in e&&(n=e.value),null!=i?i:void 0!==n?n:"rc-index-key-".concat(t)}function iQ(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}
/**
       * Flat options into flatten list.
       * We use `optionOnly` here is aim to avoid user use nested option group.
       * Here is simply set `key` to the index if not provided.
       */
/**
       * Inject `props` into `option` for legacy usage
       */
function oQ(e){var t=JU({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return t}}),t}function rQ(e,t){return!!e&&e.contains(t)}var aQ=["moz","ms","webkit"];var lQ=function(){if("undefined"==typeof window)return function(){};if(window.requestAnimationFrame)// https://github.com/vuejs/vue/issues/4465
return window.requestAnimationFrame.bind(window);var e,t=aQ.filter((function(e){return"".concat(e,"RequestAnimationFrame")in window}))[0];return t?window["".concat(t,"RequestAnimationFrame")]:(e=0,function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),o=window.setTimeout((function(){t(n+i)}),i);return e=n+i,o})}(),sQ=function(e){return function(e){if("undefined"==typeof window)return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(e);var t=aQ.filter((function(e){return"".concat(e,"CancelAnimationFrame")in window||"".concat(e,"CancelRequestAnimationFrame")in window}))[0];return t?(window["".concat(t,"CancelAnimationFrame")]||window["".concat(t,"CancelRequestAnimationFrame")]).call(this,e):clearTimeout(e)}(e.id)},uQ={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,// Legacy Motion
animation:[String,Object],transitionName:String,// Measure
stretch:{type:String},// Align
align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},cQ=JU(JU({},uQ),{},{mobile:{type:Object}}),dQ=JU(JU({},uQ),{},{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function pQ(e){var t=e.prefixCls,n=e.animation,i=e.transitionName;return n?{name:"".concat(t,"-").concat(n)}:i?{name:i}:{}}function hQ(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,o=e.mask,r=e.maskAnimation,a=e.maskTransitionName;if(!o)return null;var l={};return(a||r)&&(l=pQ({prefixCls:t,transitionName:a,animation:r})),_(N,JU({appear:!0},l),{default:function(){return[f(_("div",{style:{zIndex:i},class:"".concat(t,"-mask")},null),[[H("if"),n]])]}})}hQ.displayName="Mask";var fQ,vQ=a({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:cQ,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup:function(e,t){var n=t.expose,i=t.slots,o=s();return n({forceAlign:function(){},getElement:function(){return o.value}}),function(){var t,n=e.zIndex,r=e.visible,a=e.prefixCls,l=e.mobile,s=(l=void 0===l?{}:l).popupClassName,u=l.popupStyle,c=l.popupMotion,d=void 0===c?{}:c,p=l.popupRender,h=JU({zIndex:n},u),f=fX(null===(t=i.default)||void 0===t?void 0:t.call(i));// Wrapper when multiple children
f.length>1&&(f=_("div",{class:"".concat(a,"-content")},[f])),// Mobile support additional render
p&&(f=p(f));var v=fY(a,s);return _(N,JU({ref:o},d),{default:function(){return[r?_("div",{class:v,style:h},[f]):null]}})}}}),gQ=["measure","align",null,"motion"];function yQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yQ(Object(n),!0).forEach((function(t){bQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xQ(e){return xQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xQ(e)}function bQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _Q={Webkit:"-webkit-",Moz:"-moz-",// IE did it wrong again ...
ms:"-ms-",O:"-o-"};function wQ(){if(void 0!==fQ)return fQ;fQ="";var e=document.createElement("p").style;for(var t in _Q)t+"Transform"in e&&(fQ=t);return fQ}function SQ(){return wQ()?"".concat(wQ(),"TransitionProperty"):"transitionProperty"}function CQ(){return wQ()?"".concat(wQ(),"Transform"):"transform"}function MQ(e,t){var n=SQ();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function TQ(e,t){var n=CQ();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var IQ,kQ=/matrix\((.*)\)/,AQ=/matrix3d\((.*)\)/;// https://stackoverflow.com/a/3485654/3040605
function DQ(e){var t=e.style.display;e.style.display="none",e.offsetHeight,// eslint-disable-line
e.style.display=t}function OQ(e,t,n){var i=n;if("object"!==xQ(t))return void 0!==i?("number"==typeof i&&(i="".concat(i,"px")),void(e.style[t]=i)):IQ(e,t);for(var o in t)t.hasOwnProperty(o)&&OQ(e,o,t[o])}function PQ(e,t){var n=e["page".concat(t?"Y":"X","Offset")],i="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;// ie6,7,8 standard mode
"number"!=typeof(n=o.documentElement[i])&&(// quirks mode
n=o.body[i])}return n}function LQ(e){return PQ(e)}function EQ(e){return PQ(e,!0)}function NQ(e){var t=function(e){var t,n,i,o=e.ownerDocument,r=o.body,a=o&&o.documentElement;// 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式
return t=e.getBoundingClientRect(),// 注：jQuery 还考虑减去 docElem.clientLeft/clientTop
// 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确
// 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin
n=Math.floor(t.left),i=Math.floor(t.top),{left:// In IE, most of the time, 2 extra pixels are added to the top and left
// due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and
// IE6 standards mode, this border can be overridden by setting the
// document element's border to zero -- thus, we cannot rely on the
// offset always being 2 pixels.
// In quirks mode, the offset can be determined by querying the body's
// clientLeft/clientTop, but in standards mode, it is found by querying
// the document element's clientLeft/clientTop.  Since we already called
// getClientBoundingRect we have already forced a reflow, so it is not
// too expensive just to query them all.
// ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的
// 窗口边框标准是设 documentElement ,quirks 时设置 body
// 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去
// 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置
// 标准 ie 下 docElem.clientTop 就是 border-top
// ie7 html 即窗口边框改变不了。永远为 2
// 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0
n-=a.clientLeft||r.clientLeft||0,top:i-=a.clientTop||r.clientTop||0}}(e),n=e.ownerDocument,i=n.defaultView||n.parentWindow;return t.left+=LQ(i),t.top+=EQ(i),t}
/**
       * A crude way of determining if an object is a window
       * @member util
       */function RQ(e){// must use == for ie8
/* eslint eqeqeq:0 */return null!=e&&e==e.window}function zQ(e){return RQ(e)?e.document:9===e.nodeType?e:e.ownerDocument}var BQ=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),FQ=/^(top|right|bottom|left)$/,VQ="currentStyle",jQ="runtimeStyle",HQ="left";function GQ(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function WQ(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}// 设置 elem 相对 elem.ownerDocument 的坐标
function KQ(e,t,n){// set position first, in-case top/left are set even on static elem
"static"===OQ(e,"position")&&(e.style.position="relative");var i=-999,o=-999,r=GQ("left",n),a=GQ("top",n),l=WQ(r),s=WQ(a);"left"!==r&&(i=999),"top"!==a&&(o=999);var u,c="",d=NQ(e);("left"in t||"top"in t)&&(c=(u=e).style.transitionProperty||u.style[SQ()]||"",MQ(e,"none")),"left"in t&&(e.style[l]="",e.style[r]="".concat(i,"px")),"top"in t&&(e.style[s]="",e.style[a]="".concat(o,"px")),// force relayout
DQ(e);var p=NQ(e),h={};for(var f in t)if(t.hasOwnProperty(f)){var v=GQ(f,n),g="left"===f?i:o,y=d[f]-p[f];h[v]=v===f?g+y:g-y}OQ(e,h),// force relayout
DQ(e),("left"in t||"top"in t)&&MQ(e,c);var m={};for(var x in t)if(t.hasOwnProperty(x)){var b=GQ(x,n),_=t[x]-d[x];m[b]=x===b?h[b]+_:h[b]-_}OQ(e,m)}function UQ(e,t){var n=NQ(e),i=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(CQ());if(n&&"none"!==n){var i=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}(e),o={x:i.x,y:i.y};"left"in t&&(o.x=i.x+t.left-n.left),"top"in t&&(o.y=i.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),i=n.getPropertyValue("transform")||n.getPropertyValue(CQ());if(i&&"none"!==i){var o,r=i.match(kQ);r?((o=(r=r[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,o[5]=t.y,TQ(e,"matrix(".concat(o.join(","),")"))):((o=i.match(AQ)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,o[13]=t.y,TQ(e,"matrix3d(".concat(o.join(","),")")))}else TQ(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,o)}function YQ(e,t){for(var n=0;n<e.length;n++)t(e[n])}function XQ(e){return"border-box"===IQ(e,"boxSizing")}"undefined"!=typeof window&&(IQ=window.getComputedStyle?function(e,t,n){var i=n,o="",r=zQ(e);// https://github.com/kissyteam/kissy/issues/61
return(i=i||r.defaultView.getComputedStyle(e,null))&&(o=i.getPropertyValue(t)||i[t]),o}:function(e,t){// currentStyle maybe null
// http://msdn.microsoft.com/en-us/library/ms535231.aspx
var n=e[VQ]&&e[VQ][t];// 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值
// 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19
// 在 ie 下不对，需要直接用 offset 方式
// borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了
// From the awesome hack by Dean Edwards
// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291
// If we're not dealing with a regular pixel number
// but a number that has a weird ending, we need to convert it to pixels
// exclude left right for relativity
if(BQ.test(n)&&!FQ.test(t)){// Remember the original values
var i=e.style,o=i[HQ],r=e[jQ][HQ];// prevent flashing of content
e[jQ][HQ]=e[VQ][HQ],// Put in the new values to get a computed value out
i[HQ]="fontSize"===t?"1em":n||0,n=i.pixelLeft+"px",// Revert the changed values
i[HQ]=o,e[jQ][HQ]=r}return""===n?"auto":n});var qQ=["margin","border","padding"];function ZQ(e,t,n){var i,o={},r=e.style;// Remember the old values, and insert the new ones
for(i in t)t.hasOwnProperty(i)&&(o[i]=r[i],r[i]=t[i]);// Revert the old values
for(i in n.call(e),t)t.hasOwnProperty(i)&&(r[i]=o[i])}function $Q(e,t,n){var i,o,r,a=0;for(o=0;o<t.length;o++)if(i=t[o])for(r=0;r<n.length;r++){var l=void 0;l="border"===i?"".concat(i).concat(n[r],"Width"):i+n[r],a+=parseFloat(IQ(e,l))||0}return a}var JQ={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};
/*
       得到元素的大小信息
       @param elem
       @param name
       @param {String} [extra]  'padding' : (css width) + padding
       'border' : (css width) + padding + border
       'margin' : (css width) + padding + border + margin
       */
function QQ(e,t,n){var i=n;if(RQ(e))return"width"===t?JQ.viewportWidth(e):JQ.viewportHeight(e);if(9===e.nodeType)return"width"===t?JQ.docWidth(e):JQ.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],r="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=XQ(e),l=0;(null==r||r<=0)&&(r=void 0,(null==(// Fall back to computed then un computed css if necessary
l=IQ(e,t))||Number(l)<0)&&(l=e.style[t]||0),// Normalize '', auto, and prepare for extra
l=Math.floor(parseFloat(l))||0),void 0===i&&(i=a?1:-1);var s=void 0!==r||a,u=r||l;return-1===i?s?u-$Q(e,["border","padding"],o):l:s?1===i?u:u+(2===i?-$Q(e,["border"],o):$Q(e,["margin"],o)):l+$Q(e,qQ.slice(i),o)}YQ(["Width","Height"],(function(e){JQ["doc".concat(e)]=function(t){var n=t.document;return Math.max(// firefox chrome documentElement.scrollHeight< body.scrollHeight
// ie standard mode : documentElement.scrollHeight> body.scrollHeight
n.documentElement["scroll".concat(e)],// quirks : documentElement.scrollHeight 最大等于可视窗口多一点？
n.body["scroll".concat(e)],JQ["viewport".concat(e)](n))},JQ["viewport".concat(e)]=function(t){// pc browser includes scrollbar in window.innerWidth
var n="client".concat(e),i=t.document,o=i.body,r=i.documentElement[n];// 标准模式取 documentElement
// backcompat 取 body
return"CSS1Compat"===i.compatMode&&r||o&&o[n]||r}}));var e0={position:"absolute",visibility:"hidden",display:"block"};// fix #119 : https://github.com/kissyteam/kissy/issues/119
function t0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,o=t[0];// in case elem is window
// elem.offsetWidth === undefined
return 0!==o.offsetWidth?i=QQ.apply(void 0,t):ZQ(o,e0,(function(){i=QQ.apply(void 0,t)})),i}function n0(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}YQ(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);JQ["outer".concat(t)]=function(t,n){return t&&t0(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];JQ[e]=function(t,i){var o=i;return void 0!==o?t?(XQ(t)&&(o+=$Q(t,["padding","border"],n)),OQ(t,e,o)):void 0:t&&t0(t,e,-1)}}));var i0={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:zQ,offset:function(e,t,n){if(void 0===t)return NQ(e);!function(e,t,n){if(n.ignoreShake){var i=NQ(e),o=i.left.toFixed(0),r=i.top.toFixed(0),a=t.left.toFixed(0),l=t.top.toFixed(0);if(o===a&&r===l)return}n.useCssRight||n.useCssBottom?KQ(e,t,n):n.useCssTransform&&CQ()in document.body.style?UQ(e,t):KQ(e,t,n)}(e,t,n||{})},isWindow:RQ,each:YQ,css:OQ,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:n0,getWindowScrollLeft:function(e){return LQ(e)},getWindowScrollTop:function(e){return EQ(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)i0.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};n0(i0,JQ);
/**
       * 得到会导致元素显示不全的祖先元素
       */
var o0=i0.getParent;function r0(e){if(i0.isWindow(e)||9===e.nodeType)return null;// ie 这个也不是完全可行
/*
         <div style="width: 50px;height: 100px;overflow: hidden">
         <div style="width: 50px;height: 100px;position: relative;" id="d6">
         元素 6 高 100px 宽 50px<br/>
         </div>
         </div>
         */
// element.offsetParent does the right thing in ie7 and below. Return parent with layout!
//  In other browsers it only includes elements with position absolute, relative or
// fixed, not elements with overflow set to auto or scroll.
//        if (UA.ie && ieMode < 8) {
//            return element.offsetParent;
//        }
// 统一的 offsetParent 方法
var t,n=i0.getDocument(e).body,i=i0.css(e,"position");if(!("fixed"===i||"absolute"===i))return"html"===e.nodeName.toLowerCase()?null:o0(e);for(t=o0(e);t&&t!==n&&9!==t.nodeType;t=o0(t))if("static"!==(i=i0.css(t,"position")))return t;return null}var a0=i0.getParent;
/**
       * 获得元素的显示部分的区域
       */
function l0(e,t){// Determine the size of the visible rect by climbing the dom accounting for
// all scrollable containers.
for(var n={left:0,right:1/0,top:0,bottom:1/0},i=r0(e),o=i0.getDocument(e),r=o.defaultView||o.parentWindow,a=o.body,l=o.documentElement;i;){// clientWidth is zero for inline block elements in ie.
if(-1!==navigator.userAgent.indexOf("MSIE")&&0===i.clientWidth||// body may have overflow set on it, yet we still get the entire
// viewport. In some browsers, el.offsetParent may be
// document.documentElement, so check for that too.
i===a||i===l||"visible"===i0.css(i,"overflow")){if(i===a||i===l)break}else{var s=i0.offset(i);// add border
s.left+=i.clientLeft,s.top+=i.clientTop,n.top=Math.max(n.top,s.top),n.right=Math.min(n.right,// consider area without scrollBar
s.left+i.clientWidth),n.bottom=Math.min(n.bottom,s.top+i.clientHeight),n.left=Math.max(n.left,s.left)}i=r0(i)}// Set element position to fixed
// make sure absolute element itself don't affect it's visible area
// https://github.com/ant-design/ant-design/issues/7601
var u=null;i0.isWindow(e)||9===e.nodeType||(u=e.style.position,"absolute"===i0.css(e,"position")&&(e.style.position="fixed"));var c=i0.getWindowScrollLeft(r),d=i0.getWindowScrollTop(r),p=i0.viewportWidth(r),h=i0.viewportHeight(r),f=l.scrollWidth,v=l.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(f=r.innerWidth),"hidden"===g.overflowY&&(v=r.innerHeight),// Reset element position after calculate the visible area
e.style&&(e.style.position=u),t||function(e){if(i0.isWindow(e)||9===e.nodeType)return!1;var t=i0.getDocument(e),n=t.body,i=null;for(i=a0(e);// 修复元素位于 document.documentElement 下导致崩溃问题
i&&i!==n&&i!==t;i=a0(i))if("fixed"===i0.css(i,"position"))return!0;return!1}(e))// Clip by viewport's size.
n.left=Math.max(n.left,c),n.top=Math.max(n.top,d),n.right=Math.min(n.right,c+p),n.bottom=Math.min(n.bottom,d+h);else{// Clip by document's size.
var y=Math.max(f,c+p);n.right=Math.min(n.right,y);var m=Math.max(v,d+h);n.bottom=Math.min(n.bottom,m)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function s0(e){var t,n,i;if(i0.isWindow(e)||9===e.nodeType){var o=i0.getWindow(e);t={left:i0.getWindowScrollLeft(o),top:i0.getWindowScrollTop(o)},n=i0.viewportWidth(o),i=i0.viewportHeight(o)}else t=i0.offset(e),n=i0.outerWidth(e),i=i0.outerHeight(e);return t.width=n,t.height=i,t}
/**
       * 获取 node 上的 align 对齐点 相对于页面的坐标
       */function u0(e,t){var n=t.charAt(0),i=t.charAt(1),o=e.width,r=e.height,a=e.left,l=e.top;return"c"===n?l+=r/2:"b"===n&&(l+=r),"c"===i?a+=o/2:"r"===i&&(a+=o),{left:a,top:l}}function c0(e,t,n,i,o){var r=u0(t,n[1]),a=u0(e,n[0]),l=[a.left-r.left,a.top-r.top];return{left:Math.round(e.left-l[0]+i[0]-o[0]),top:Math.round(e.top-l[1]+i[1]-o[1])}}
/**
       * align dom node flexibly
       * @author yiminghe@gmail.com
       */
// http://yiminghe.iteye.com/blog/1124720
function d0(e,t,n){return e.left<n.left||e.left+t.width>n.right}function p0(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function h0(e,t,n){var i=[];return i0.each(e,(function(e){i.push(e.replace(t,(function(e){return n[e]})))})),i}function f0(e,t){return e[t]=-e[t],e}function v0(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function g0(e,t){e[0]=v0(e[0],t.width),e[1]=v0(e[1],t.height)}
/**
       * @param el
       * @param tgtRegion 参照节点所占的区域: { left, top, width, height }
       * @param align
       */function y0(e,t,n,i){var o=n.points,r=n.offset||[0,0],a=n.targetOffset||[0,0],l=n.overflow,s=n.source||e;r=[].concat(r),a=[].concat(a);var u={},c=0,d=l0(s,!(!(l=l||{})||!l.alwaysByViewport)),p=s0(s);// 将 offset 转换成数值，支持百分比
g0(r,p),g0(a,t);// 当前节点将要被放置的位置
var h=c0(p,t,o,r,a),f=i0.merge(p,h);// 当前节点将要所处的区域
// 如果可视区域不能完全放置当前节点时允许调整
if(d&&(l.adjustX||l.adjustY)&&i){if(l.adjustX&&d0(h,p,d)){// 对齐位置反下
var v=h0(o,/[lr]/gi,{l:"r",r:"l"}),g=f0(r,0),y=f0(a,0);// 偏移量也反下
(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(c0(p,t,v,g,y),p,d)||(c=1,o=v,r=g,a=y)}if(l.adjustY&&p0(h,p,d)){// 对齐位置反下
var m=h0(o,/[tb]/gi,{t:"b",b:"t"}),x=f0(r,1),b=f0(a,1);// 偏移量也反下
(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(c0(p,t,m,x,b),p,d)||(c=1,o=m,r=x,a=b)}// 如果失败，重新计算当前节点将要被放置的位置
c&&(h=c0(p,t,o,r,a),i0.mix(f,h));var _=d0(h,p,d),w=p0(h,p,d);// 检查反下后的位置是否可以放下了，如果仍然放不下：
// 1. 复原修改过的定位参数
if(_||w){var S=o;// 重置对应部分的翻转逻辑
_&&(S=h0(o,/[lr]/gi,{l:"r",r:"l"})),w&&(S=h0(o,/[tb]/gi,{t:"b",b:"t"})),o=S,r=n.offset||[0,0],a=n.targetOffset||[0,0]}// 2. 只有指定了可以调整当前方向才调整
u.adjustX=l.adjustX&&_,u.adjustY=l.adjustY&&w,// 确实要调整，甚至可能会调整高度宽度
(u.adjustX||u.adjustY)&&(f=function(e,t,n,i){var o=i0.clone(e),r={width:t.width,height:t.height};return i.adjustX&&o.left<n.left&&(o.left=n.left),// Left edge inside and right edge outside viewport, try to resize it.
i.resizeWidth&&o.left>=n.left&&o.left+r.width>n.right&&(r.width-=o.left+r.width-n.right),// Right edge outside viewport, try to move it.
i.adjustX&&o.left+r.width>n.right&&(// 保证左边界和可视区域左边界对齐
o.left=Math.max(n.right-r.width,n.left)),// Top edge outside viewport, try to move it.
i.adjustY&&o.top<n.top&&(o.top=n.top),// Top edge inside and bottom edge outside viewport, try to resize it.
i.resizeHeight&&o.top>=n.top&&o.top+r.height>n.bottom&&(r.height-=o.top+r.height-n.bottom),// Bottom edge outside viewport, try to move it.
i.adjustY&&o.top+r.height>n.bottom&&(// 保证上边界和可视区域上边界对齐
o.top=Math.max(n.bottom-r.height,n.top)),i0.mix(o,r)}(h,p,d,u))}// need judge to in case set fixed with in css on height auto element
return f.width!==p.width&&i0.css(s,"width",i0.width(s)+f.width-p.width),f.height!==p.height&&i0.css(s,"height",i0.height(s)+f.height-p.height),// https://github.com/kissyteam/kissy/issues/190
// 相对于屏幕位置没变，而 left/top 变了
// 例如 <div 'relative'><el absolute></div>
i0.offset(s,{left:f.left,top:f.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:r,targetOffset:a,overflow:u}}
/**
       *  2012-04-26 yiminghe@gmail.com
       *   - 优化智能对齐算法
       *   - 慎用 resizeXX
       *
       *  2011-07-13 yiminghe@gmail.com note:
       *   - 增加智能对齐，以及大小调整选项
       **/function m0(e,t,n){var i=n.target||t,o=s0(i),r=!function(e,t){var n=l0(e,t),i=s0(e);return!n||i.left+i.width<=n.left||i.top+i.height<=n.top||i.left>=n.right||i.top>=n.bottom}(i,n.overflow&&n.overflow.alwaysByViewport);return y0(e,o,n,r)}function x0(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e;if(Array.isArray(e)&&(o=_X(e)[0]),!o)return null;var r=W(o,t,i);// cloneVNode内部是合并属性，这里改成覆盖属性
return r.props=n?JU(JU({},r.props),t):r.props,Eq("object"!==XU(r.props.class),"class must be string"),r}m0.__getOffsetParent=r0,m0.__getVisibleRectForElement=l0;var b0=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function _0(e,t){var n=null,i=null;var o=new RY((function(e){var o=jY(e,1)[0].target;if(document.documentElement.contains(o)){var r=o.getBoundingClientRect(),a=r.width,l=r.height,s=Math.floor(a),u=Math.floor(l);n===s&&i===u||// https://webkit.org/blog/9997/resizeobserver-in-webkit/
Promise.resolve().then((function(){t({width:s,height:u})})),n=s,i=u}}));return e&&o.observe(e),function(){o.disconnect()}}
/**
       * Performs a
       * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
       * comparison between two values to determine if they are equivalent.
       *
       * @static
       * @memberOf _
       * @since 4.0.0
       * @category Lang
       * @param {*} value The value to compare.
       * @param {*} other The other value to compare.
       * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
       * @example
       *
       * var object = { 'a': 1 };
       * var other = { 'a': 1 };
       *
       * _.eq(object, object);
       * // => true
       *
       * _.eq(object, other);
       * // => false
       *
       * _.eq('a', 'a');
       * // => true
       *
       * _.eq('a', Object('a'));
       * // => false
       *
       * _.eq(NaN, NaN);
       * // => true
       */
function w0(e,t){return e===t||e!=e&&t!=t}
/**
       * Gets the index at which the `key` is found in `array` of key-value pairs.
       *
       * @private
       * @param {Array} array The array to inspect.
       * @param {*} key The key to search for.
       * @returns {number} Returns the index of the matched value, else `-1`.
       */function S0(e,t){for(var n=e.length;n--;)if(w0(e[n][0],t))return n;return-1}/** Used for built-in method references. */var C0=Array.prototype.splice;/** Built-in value references. */
/**
       * Creates an list cache object.
       *
       * @private
       * @constructor
       * @param {Array} [entries] The key-value pairs to cache.
       */
function M0(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}// Add methods to `ListCache`.
/**
       * Checks if `value` is the
       * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
       * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
       *
       * @static
       * @memberOf _
       * @since 0.1.0
       * @category Lang
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is an object, else `false`.
       * @example
       *
       * _.isObject({});
       * // => true
       *
       * _.isObject([1, 2, 3]);
       * // => true
       *
       * _.isObject(_.noop);
       * // => true
       *
       * _.isObject(null);
       * // => false
       */
function T0(e){var t=u(e);return null!=e&&("object"==t||"function"==t)}/** `Object#toString` result references. */M0.prototype.clear=
/**
       * Removes all key-value entries from the list cache.
       *
       * @private
       * @name clear
       * @memberOf ListCache
       */
function(){this.__data__=[],this.size=0},M0.prototype.delete=
/**
       * Removes `key` and its value from the list cache.
       *
       * @private
       * @name delete
       * @memberOf ListCache
       * @param {string} key The key of the value to remove.
       * @returns {boolean} Returns `true` if the entry was removed, else `false`.
       */
function(e){var t=this.__data__,n=S0(t,e);return!(n<0)&&(n==t.length-1?t.pop():C0.call(t,n,1),--this.size,!0)}
/**
       * Gets the list cache value for `key`.
       *
       * @private
       * @name get
       * @memberOf ListCache
       * @param {string} key The key of the value to get.
       * @returns {*} Returns the entry value.
       */,M0.prototype.get=function(e){var t=this.__data__,n=S0(t,e);return n<0?void 0:t[n][1]}
/**
       * Checks if a list cache value for `key` exists.
       *
       * @private
       * @name has
       * @memberOf ListCache
       * @param {string} key The key of the entry to check.
       * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
       */,M0.prototype.has=function(e){return S0(this.__data__,e)>-1}
/**
       * Sets the list cache `key` to `value`.
       *
       * @private
       * @name set
       * @memberOf ListCache
       * @param {string} key The key of the value to set.
       * @param {*} value The value to set.
       * @returns {Object} Returns the list cache instance.
       */,M0.prototype.set=function(e,t){var n=this.__data__,i=S0(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};
/**
       * Checks if `value` is classified as a `Function` object.
       *
       * @static
       * @memberOf _
       * @since 0.1.0
       * @category Lang
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is a function, else `false`.
       * @example
       *
       * _.isFunction(_);
       * // => true
       *
       * _.isFunction(/abc/);
       * // => false
       */
function I0(e){if(!T0(e))return!1;// The use of `Object#toString` avoids issues with the `typeof` operator
// in Safari 9 which returns 'object' for typed arrays and other constructors.
var t=eX(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}/** Used to detect overreaching core-js shims. */var k0,A0=UY["__core-js_shared__"],D0=(k0=/[^.]+$/.exec(A0&&A0.keys&&A0.keys.IE_PROTO||""))?"Symbol(src)_1."+k0:"";/** Used for built-in method references. */var O0=Function.prototype.toString;/** Used to resolve the decompiled source of functions. */
/**
       * Converts `func` to its source code.
       *
       * @private
       * @param {Function} func The function to convert.
       * @returns {string} Returns the source code.
       */
function P0(e){if(null!=e){try{return O0.call(e)}catch(qX){}try{return e+""}catch(qX){}}return""}
/**
       * Used to match `RegExp`
       * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
       */var L0=/^\[object .+?Constructor\]$/,E0=Function.prototype,N0=Object.prototype,R0=E0.toString,z0=N0.hasOwnProperty,B0=RegExp("^"+R0.call(z0).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");/** Used to detect host constructors (Safari). */
/**
       * The base implementation of `_.isNative` without bad shim checks.
       *
       * @private
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is a native function,
       *  else `false`.
       */
function F0(e){return!(!T0(e)||(t=e,D0&&D0 in t))&&(I0(e)?B0:L0).test(P0(e));
/**
       * Checks if `func` has its source masked.
       *
       * @private
       * @param {Function} func The function to check.
       * @returns {boolean} Returns `true` if `func` is masked, else `false`.
       */
var t}
/**
       * Gets the value at `key` of `object`.
       *
       * @private
       * @param {Object} [object] The object to query.
       * @param {string} key The key of the property to get.
       * @returns {*} Returns the property value.
       */
/**
       * Gets the native function at `key` of `object`.
       *
       * @private
       * @param {Object} object The object to query.
       * @param {string} key The key of the method to get.
       * @returns {*} Returns the function if it's native, else `undefined`.
       */
function V0(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return F0(n)?n:void 0}/* Built-in method references that are verified to be native. */var j0=V0(UY,"Map"),H0=V0(Object,"create");/** Used to stand-in for `undefined` hash values. */var G0=Object.prototype.hasOwnProperty;/** Used for built-in method references. */ /** Used for built-in method references. */var W0=Object.prototype.hasOwnProperty;/** Used to check objects for own properties. */
/**
       * Creates a hash object.
       *
       * @private
       * @constructor
       * @param {Array} [entries] The key-value pairs to cache.
       */
function K0(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}// Add methods to `Hash`.
/**
       * Gets the data for `map`.
       *
       * @private
       * @param {Object} map The map to query.
       * @param {string} key The reference key.
       * @returns {*} Returns the map data.
       */
function U0(e,t){var n,i,o=e.__data__;return("string"==(i=u(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}
/**
       * Removes `key` and its value from the map.
       *
       * @private
       * @name delete
       * @memberOf MapCache
       * @param {string} key The key of the value to remove.
       * @returns {boolean} Returns `true` if the entry was removed, else `false`.
       */
/**
       * Creates a map cache object to store key-value pairs.
       *
       * @private
       * @constructor
       * @param {Array} [entries] The key-value pairs to cache.
       */
function Y0(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}// Add methods to `MapCache`.
K0.prototype.clear=
/**
       * Removes all key-value entries from the hash.
       *
       * @private
       * @name clear
       * @memberOf Hash
       */
function(){this.__data__=H0?H0(null):{},this.size=0}
/**
       * Removes `key` and its value from the hash.
       *
       * @private
       * @name delete
       * @memberOf Hash
       * @param {Object} hash The hash to modify.
       * @param {string} key The key of the value to remove.
       * @returns {boolean} Returns `true` if the entry was removed, else `false`.
       */,K0.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},K0.prototype.get=
/**
       * Gets the hash value for `key`.
       *
       * @private
       * @name get
       * @memberOf Hash
       * @param {string} key The key of the value to get.
       * @returns {*} Returns the entry value.
       */
function(e){var t=this.__data__;if(H0){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return G0.call(t,e)?t[e]:void 0},K0.prototype.has=
/**
       * Checks if a hash value for `key` exists.
       *
       * @private
       * @name has
       * @memberOf Hash
       * @param {string} key The key of the entry to check.
       * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
       */
function(e){var t=this.__data__;return H0?void 0!==t[e]:W0.call(t,e)}/** Used to stand-in for `undefined` hash values. */,K0.prototype.set=
/**
       * Sets the hash `key` to `value`.
       *
       * @private
       * @name set
       * @memberOf Hash
       * @param {string} key The key of the value to set.
       * @param {*} value The value to set.
       * @returns {Object} Returns the hash instance.
       */
function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H0&&void 0===t?"__lodash_hash_undefined__":t,this},Y0.prototype.clear=
/**
       * Removes all key-value entries from the map.
       *
       * @private
       * @name clear
       * @memberOf MapCache
       */
function(){this.size=0,this.__data__={hash:new K0,map:new(j0||M0),string:new K0}}
/**
       * Checks if `value` is suitable for use as unique object key.
       *
       * @private
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
       */,Y0.prototype.delete=function(e){var t=U0(this,e).delete(e);return this.size-=t?1:0,t}
/**
       * Gets the map value for `key`.
       *
       * @private
       * @name get
       * @memberOf MapCache
       * @param {string} key The key of the value to get.
       * @returns {*} Returns the entry value.
       */,Y0.prototype.get=function(e){return U0(this,e).get(e)}
/**
       * Checks if a map value for `key` exists.
       *
       * @private
       * @name has
       * @memberOf MapCache
       * @param {string} key The key of the entry to check.
       * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
       */,Y0.prototype.has=function(e){return U0(this,e).has(e)}
/**
       * Sets the map `key` to `value`.
       *
       * @private
       * @name set
       * @memberOf MapCache
       * @param {string} key The key of the value to set.
       * @param {*} value The value to set.
       * @returns {Object} Returns the map cache instance.
       */,Y0.prototype.set=function(e,t){var n=U0(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};
/**
       * Creates a stack cache object to store key-value pairs.
       *
       * @private
       * @constructor
       * @param {Array} [entries] The key-value pairs to cache.
       */
function X0(e){var t=this.__data__=new M0(e);this.size=t.size}// Add methods to `Stack`.
X0.prototype.clear=
/**
       * Removes all key-value entries from the stack.
       *
       * @private
       * @name clear
       * @memberOf Stack
       */
function(){this.__data__=new M0,this.size=0}
/**
       * Removes `key` and its value from the stack.
       *
       * @private
       * @name delete
       * @memberOf Stack
       * @param {string} key The key of the value to remove.
       * @returns {boolean} Returns `true` if the entry was removed, else `false`.
       */,X0.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}
/**
       * Gets the stack value for `key`.
       *
       * @private
       * @name get
       * @memberOf Stack
       * @param {string} key The key of the value to get.
       * @returns {*} Returns the entry value.
       */,X0.prototype.get=function(e){return this.__data__.get(e)}
/**
       * Checks if a stack value for `key` exists.
       *
       * @private
       * @name has
       * @memberOf Stack
       * @param {string} key The key of the entry to check.
       * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
       */,X0.prototype.has=function(e){return this.__data__.has(e)},X0.prototype.set=
/**
       * Sets the stack `key` to `value`.
       *
       * @private
       * @name set
       * @memberOf Stack
       * @param {string} key The key of the value to set.
       * @param {*} value The value to set.
       * @returns {Object} Returns the stack cache instance.
       */
function(e,t){var n=this.__data__;if(n instanceof M0){var i=n.__data__;if(!j0||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Y0(i)}return n.set(e,t),this.size=n.size,this};
/**
       *
       * Creates an array cache object to store unique values.
       *
       * @private
       * @constructor
       * @param {Array} [values] The values to cache.
       */
function q0(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Y0;++t<n;)this.add(e[t])}// Add methods to `SetCache`.
/**
       * A specialized version of `_.some` for arrays without support for iteratee
       * shorthands.
       *
       * @private
       * @param {Array} [array] The array to iterate over.
       * @param {Function} predicate The function invoked per iteration.
       * @returns {boolean} Returns `true` if any element passes the predicate check,
       *  else `false`.
       */
function Z0(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}
/**
       * Checks if a `cache` value for `key` exists.
       *
       * @private
       * @param {Object} cache The cache to query.
       * @param {string} key The key of the entry to check.
       * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
       */function $0(e,t){return e.has(t)}/** Used to compose bitmasks for value comparisons. */q0.prototype.add=q0.prototype.push=
/**
       * Adds `value` to the array cache.
       *
       * @private
       * @name add
       * @memberOf SetCache
       * @alias push
       * @param {*} value The value to cache.
       * @returns {Object} Returns the cache instance.
       */
function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}
/**
       * Checks if `value` is in the array cache.
       *
       * @private
       * @name has
       * @memberOf SetCache
       * @param {*} value The value to search for.
       * @returns {number} Returns `true` if `value` is found, else `false`.
       */,q0.prototype.has=function(e){return this.__data__.has(e)};
/**
       * A specialized version of `baseIsEqualDeep` for arrays with support for
       * partial deep comparisons.
       *
       * @private
       * @param {Array} array The array to compare.
       * @param {Array} other The other array to compare.
       * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
       * @param {Function} customizer The function to customize comparisons.
       * @param {Function} equalFunc The function to determine equivalents of values.
       * @param {Object} stack Tracks traversed `array` and `other` objects.
       * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
       */
function J0(e,t,n,i,o,r){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;// Check that cyclic values are equal.
var u=r.get(e),c=r.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,h=2&n?new q0:void 0;// Ignore non-index properties.
for(r.set(e,t),r.set(t,e);++d<l;){var f=e[d],v=t[d];if(i)var g=a?i(v,f,d,t,e,r):i(f,v,d,e,t,r);if(void 0!==g){if(g)continue;p=!1;break}// Recursively compare arrays (susceptible to call stack limits).
if(h){if(!Z0(t,(function(e,t){if(!$0(h,t)&&(f===e||o(f,e,n,i,r)))return h.push(t)}))){p=!1;break}}else if(f!==v&&!o(f,v,n,i,r)){p=!1;break}}return r.delete(e),r.delete(t),p}/** Built-in value references. */var Q0=UY.Uint8Array;
/**
       * Converts `map` to its key-value pairs.
       *
       * @private
       * @param {Object} map The map to convert.
       * @returns {Array} Returns the key-value pairs.
       */
function e1(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}
/**
       * Converts `set` to an array of its values.
       *
       * @private
       * @param {Object} set The set to convert.
       * @returns {Array} Returns the values.
       */function t1(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}/** Used to compose bitmasks for value comparisons. */var n1=YY?YY.prototype:void 0,i1=n1?n1.valueOf:void 0;/** `Object#toString` result references. */
/**
       * Checks if `value` is classified as an `Array` object.
       *
       * @static
       * @memberOf _
       * @since 0.1.0
       * @category Lang
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is an array, else `false`.
       * @example
       *
       * _.isArray([1, 2, 3]);
       * // => true
       *
       * _.isArray(document.body.children);
       * // => false
       *
       * _.isArray('abc');
       * // => false
       *
       * _.isArray(_.noop);
       * // => false
       */
var o1=Array.isArray;/** Used for built-in method references. */var r1=Object.prototype.propertyIsEnumerable,a1=Object.getOwnPropertySymbols,l1=a1?function(e){return null==e?[]:(e=Object(e),
/**
       * A specialized version of `_.filter` for arrays without support for
       * iteratee shorthands.
       *
       * @private
       * @param {Array} [array] The array to iterate over.
       * @param {Function} predicate The function invoked per iteration.
       * @returns {Array} Returns the new filtered array.
       */
function(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var a=e[n];t(a,n,e)&&(r[o++]=a)}return r}
/**
       * This method returns a new empty array.
       *
       * @static
       * @memberOf _
       * @since 4.13.0
       * @category Util
       * @returns {Array} Returns the new empty array.
       * @example
       *
       * var arrays = _.times(2, _.stubArray);
       *
       * console.log(arrays);
       * // => [[], []]
       *
       * console.log(arrays[0] === arrays[1]);
       * // => false
       */(a1(e),(function(t){return r1.call(e,t)})))}:function(){return[]},s1=l1;/** Built-in value references. */
/**
       * The base implementation of `_.isArguments`.
       *
       * @private
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is an `arguments` object,
       */
function u1(e){return iX(e)&&"[object Arguments]"==eX(e)}/** Used for built-in method references. */var c1=Object.prototype,d1=c1.hasOwnProperty,p1=c1.propertyIsEnumerable,h1=u1(function(){return arguments}())?u1:function(e){return iX(e)&&d1.call(e,"callee")&&!p1.call(e,"callee")},f1=h1;/** Used to check objects for own properties. */ /** Detect free variable `exports`. */var v1="object"==u(e)&&e&&!e.nodeType&&e,g1=v1&&"object"==u(n)&&n&&!n.nodeType&&n,y1=g1&&g1.exports===v1?UY.Buffer:void 0,m1=(y1?y1.isBuffer:void 0)||
/**
       * This method returns `false`.
       *
       * @static
       * @memberOf _
       * @since 4.13.0
       * @category Util
       * @returns {boolean} Returns `false`.
       * @example
       *
       * _.times(2, _.stubFalse);
       * // => [false, false]
       */
function(){return!1},x1=/^(?:0|[1-9]\d*)$/;/** Detect free variable `module`. */
/**
       * Checks if `value` is a valid array-like index.
       *
       * @private
       * @param {*} value The value to check.
       * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
       * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
       */
function b1(e,t){var n=u(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&x1.test(e))&&e>-1&&e%1==0&&e<t}/** Used as references for various `Number` constants. */
/**
       * Checks if `value` is a valid array-like length.
       *
       * **Note:** This method is loosely based on
       * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
       *
       * @static
       * @memberOf _
       * @since 4.0.0
       * @category Lang
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
       * @example
       *
       * _.isLength(3);
       * // => true
       *
       * _.isLength(Number.MIN_VALUE);
       * // => false
       *
       * _.isLength(Infinity);
       * // => false
       *
       * _.isLength('3');
       * // => false
       */
function _1(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}/** `Object#toString` result references. */var w1={};w1["[object Float32Array]"]=w1["[object Float64Array]"]=w1["[object Int8Array]"]=w1["[object Int16Array]"]=w1["[object Int32Array]"]=w1["[object Uint8Array]"]=w1["[object Uint8ClampedArray]"]=w1["[object Uint16Array]"]=w1["[object Uint32Array]"]=!0,w1["[object Arguments]"]=w1["[object Array]"]=w1["[object ArrayBuffer]"]=w1["[object Boolean]"]=w1["[object DataView]"]=w1["[object Date]"]=w1["[object Error]"]=w1["[object Function]"]=w1["[object Map]"]=w1["[object Number]"]=w1["[object Object]"]=w1["[object RegExp]"]=w1["[object Set]"]=w1["[object String]"]=w1["[object WeakMap]"]=!1;/** Detect free variable `exports`. */var S1,C1="object"==u(e)&&e&&!e.nodeType&&e,M1=C1&&"object"==u(n)&&n&&!n.nodeType&&n,T1=M1&&M1.exports===C1&&WY.process,I1=function(){try{// Use `util.types` for Node.js 10+.
var e=M1&&M1.require&&M1.require("util").types;return e||T1&&T1.binding&&T1.binding("util");// Legacy `process.binding('util')` for Node.js < 10.
}catch(qX){}}(),k1=I1&&I1.isTypedArray,A1=k1?(S1=k1,function(e){return S1(e)}):
/**
       * The base implementation of `_.isTypedArray` without Node.js optimizations.
       *
       * @private
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
       */
function(e){return iX(e)&&_1(e.length)&&!!w1[eX(e)]}
/**
       * The base implementation of `_.unary` without support for storing metadata.
       *
       * @private
       * @param {Function} func The function to cap arguments for.
       * @returns {Function} Returns the new capped function.
       */,D1=Object.prototype.hasOwnProperty;/** Detect free variable `module`. */
/**
       * Creates an array of the enumerable property names of the array-like `value`.
       *
       * @private
       * @param {*} value The value to query.
       * @param {boolean} inherited Specify returning inherited property names.
       * @returns {Array} Returns the array of property names.
       */
function O1(e,t){var n=o1(e),i=!n&&f1(e),o=!n&&!i&&m1(e),r=!n&&!i&&!o&&A1(e),a=n||i||o||r,l=a?
/**
       * The base implementation of `_.times` without support for iteratee shorthands
       * or max array length checks.
       *
       * @private
       * @param {number} n The number of times to invoke `iteratee`.
       * @param {Function} iteratee The function invoked per iteration.
       * @returns {Array} Returns the array of results.
       */
function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}/** `Object#toString` result references. */(e.length,String):[],s=l.length;for(var u in e)!t&&!D1.call(e,u)||a&&(// Safari 9 has enumerable `arguments.length` in strict mode.
"length"==u||// Node.js 0.10 has enumerable non-index properties on buffers.
o&&("offset"==u||"parent"==u)||// PhantomJS 2 has enumerable non-index properties on typed arrays.
r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||// Skip index properties.
b1(u,s))||l.push(u);return l}/** Used for built-in method references. */var P1=Object.prototype;
/**
       * Checks if `value` is likely a prototype object.
       *
       * @private
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
       */ /* Built-in method references for those with the same name as other `lodash` methods. */var L1=tX(Object.keys,Object),E1=Object.prototype.hasOwnProperty;
/**
       * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
       *
       * @private
       * @param {Object} object The object to query.
       * @returns {Array} Returns the array of property names.
       */
function N1(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||P1))return L1(e);var t,n,i=[];for(var o in Object(e))E1.call(e,o)&&"constructor"!=o&&i.push(o);return i}
/**
       * Checks if `value` is array-like. A value is considered array-like if it's
       * not a function and has a `value.length` that's an integer greater than or
       * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
       *
       * @static
       * @memberOf _
       * @since 4.0.0
       * @category Lang
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
       * @example
       *
       * _.isArrayLike([1, 2, 3]);
       * // => true
       *
       * _.isArrayLike(document.body.children);
       * // => true
       *
       * _.isArrayLike('abc');
       * // => true
       *
       * _.isArrayLike(_.noop);
       * // => false
       */
/**
       * Creates an array of the own enumerable property names of `object`.
       *
       * **Note:** Non-object values are coerced to objects. See the
       * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
       * for more details.
       *
       * @static
       * @since 0.1.0
       * @memberOf _
       * @category Object
       * @param {Object} object The object to query.
       * @returns {Array} Returns the array of property names.
       * @example
       *
       * function Foo() {
       *   this.a = 1;
       *   this.b = 2;
       * }
       *
       * Foo.prototype.c = 3;
       *
       * _.keys(new Foo);
       * // => ['a', 'b'] (iteration order is not guaranteed)
       *
       * _.keys('hi');
       * // => ['0', '1']
       */
function R1(e){return null!=(t=e)&&_1(t.length)&&!I0(t)?O1(e):N1(e);var t}
/**
       * Creates an array of own enumerable property names and symbols of `object`.
       *
       * @private
       * @param {Object} object The object to query.
       * @returns {Array} Returns the array of property names and symbols.
       */function z1(e){
/**
       * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
       * `keysFunc` and `symbolsFunc` to get the enumerable property names and
       * symbols of `object`.
       *
       * @private
       * @param {Object} object The object to query.
       * @param {Function} keysFunc The function to get the keys of `object`.
       * @param {Function} symbolsFunc The function to get the symbols of `object`.
       * @returns {Array} Returns the array of property names and symbols.
       */return function(e,t,n){var i=t(e);return o1(e)?i:
/**
       * Appends the elements of `values` to `array`.
       *
       * @private
       * @param {Array} array The array to modify.
       * @param {Array} values The values to append.
       * @returns {Array} Returns `array`.
       */
function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}(i,n(e))}(e,R1,s1)}/** Used to compose bitmasks for value comparisons. */var B1=Object.prototype.hasOwnProperty;/** Used for built-in method references. */ /* Built-in method references that are verified to be native. */var F1=V0(UY,"DataView"),V1=V0(UY,"Promise"),j1=V0(UY,"Set"),H1=V0(UY,"WeakMap"),G1="[object Map]",W1="[object Promise]",K1="[object Set]",U1="[object WeakMap]",Y1="[object DataView]",X1=P0(F1),q1=P0(j0),Z1=P0(V1),$1=P0(j1),J1=P0(H1),Q1=eX;// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
(F1&&Q1(new F1(new ArrayBuffer(1)))!=Y1||j0&&Q1(new j0)!=G1||V1&&Q1(V1.resolve())!=W1||j1&&Q1(new j1)!=K1||H1&&Q1(new H1)!=U1)&&(Q1=function(e){var t=eX(e),n="[object Object]"==t?e.constructor:void 0,i=n?P0(n):"";if(i)switch(i){case X1:return Y1;case q1:return G1;case Z1:return W1;case $1:return K1;case J1:return U1}return t});var e2=Q1,t2="[object Arguments]",n2="[object Array]",i2="[object Object]",o2=Object.prototype.hasOwnProperty;/** Used to compose bitmasks for value comparisons. */
/**
       * A specialized version of `baseIsEqual` for arrays and objects which performs
       * deep comparisons and tracks traversed objects enabling objects with circular
       * references to be compared.
       *
       * @private
       * @param {Object} object The object to compare.
       * @param {Object} other The other object to compare.
       * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
       * @param {Function} customizer The function to customize comparisons.
       * @param {Function} equalFunc The function to determine equivalents of values.
       * @param {Object} [stack] Tracks traversed `object` and `other` objects.
       * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
       */
function r2(e,t,n,i,o,r){var a=o1(e),l=o1(t),s=a?n2:e2(e),u=l?n2:e2(t),c=(s=s==t2?i2:s)==i2,d=(u=u==t2?i2:u)==i2,p=s==u;if(p&&m1(e)){if(!m1(t))return!1;a=!0,c=!1}if(p&&!c)return r||(r=new X0),a||A1(e)?J0(e,t,n,i,o,r):
/**
       * A specialized version of `baseIsEqualDeep` for comparing objects of
       * the same `toStringTag`.
       *
       * **Note:** This function only supports comparing values with tags of
       * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
       *
       * @private
       * @param {Object} object The object to compare.
       * @param {Object} other The other object to compare.
       * @param {string} tag The `toStringTag` of the objects to compare.
       * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
       * @param {Function} customizer The function to customize comparisons.
       * @param {Function} equalFunc The function to determine equivalents of values.
       * @param {Object} stack Tracks traversed `object` and `other` objects.
       * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
       */
function(e,t,n,i,o,r,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new Q0(e),new Q0(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":// Coerce booleans to `1` or `0` and dates to milliseconds.
// Invalid dates are coerced to `NaN`.
return w0(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":// Coerce regexes to strings and treat strings, primitives and objects,
// as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
// for more details.
return e==t+"";case"[object Map]":var l=e1;case"[object Set]":var s=1&i;if(l||(l=t1),e.size!=t.size&&!s)return!1;// Assume cyclic values are equal.
var u=a.get(e);if(u)return u==t;i|=2,// Recursively compare objects (susceptible to call stack limits).
a.set(e,t);var c=J0(l(e),l(t),i,o,r,a);return a.delete(e),c;case"[object Symbol]":if(i1)return i1.call(e)==i1.call(t)}return!1}(e,t,s,n,i,o,r);if(!(1&n)){var h=c&&o2.call(e,"__wrapped__"),f=d&&o2.call(t,"__wrapped__");if(h||f){var v=h?e.value():e,g=f?t.value():t;return r||(r=new X0),o(v,g,n,i,r)}}return!!p&&(r||(r=new X0),
/**
       * A specialized version of `baseIsEqualDeep` for objects with support for
       * partial deep comparisons.
       *
       * @private
       * @param {Object} object The object to compare.
       * @param {Object} other The other object to compare.
       * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
       * @param {Function} customizer The function to customize comparisons.
       * @param {Function} equalFunc The function to determine equivalents of values.
       * @param {Object} stack Tracks traversed `object` and `other` objects.
       * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
       */
function(e,t,n,i,o,r){var a=1&n,l=z1(e),s=l.length;if(s!=z1(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:B1.call(t,c)))return!1}// Check that cyclic values are equal.
var d=r.get(e),p=r.get(t);if(d&&p)return d==t&&p==e;var h=!0;r.set(e,t),r.set(t,e);for(var f=a;++u<s;){var v=e[c=l[u]],g=t[c];if(i)var y=a?i(g,v,c,t,e,r):i(v,g,c,e,t,r);// Recursively compare objects (susceptible to call stack limits).
if(!(void 0===y?v===g||o(v,g,n,i,r):y)){h=!1;break}f||(f="constructor"==c)}if(h&&!f){var m=e.constructor,x=t.constructor;// Non `Object` object instances with different constructors are not equal.
m==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,n,i,o,r))}
/**
       * The base implementation of `_.isEqual` which supports partial comparisons
       * and tracks traversed objects.
       *
       * @private
       * @param {*} value The value to compare.
       * @param {*} other The other value to compare.
       * @param {boolean} bitmask The bitmask flags.
       *  1 - Unordered comparison
       *  2 - Partial comparison
       * @param {Function} [customizer] The function to customize comparisons.
       * @param {Object} [stack] Tracks traversed `value` and `other` objects.
       * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
       */function a2(e,t,n,i,o){return e===t||(null==e||null==t||!iX(e)&&!iX(t)?e!=e&&t!=t:r2(e,t,n,i,a2,o))}
/**
       * Performs a deep comparison between two values to determine if they are
       * equivalent.
       *
       * **Note:** This method supports comparing arrays, array buffers, booleans,
       * date objects, error objects, maps, numbers, `Object` objects, regexes,
       * sets, strings, symbols, and typed arrays. `Object` objects are compared
       * by their own, not inherited, enumerable properties. Functions and DOM
       * nodes are compared by strict equality, i.e. `===`.
       *
       * @static
       * @memberOf _
       * @since 0.1.0
       * @category Lang
       * @param {*} value The value to compare.
       * @param {*} other The other value to compare.
       * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
       * @example
       *
       * var object = { 'a': 1 };
       * var other = { 'a': 1 };
       *
       * _.isEqual(object, other);
       * // => true
       *
       * object === other;
       * // => false
       */function l2(e,t){return a2(e,t)}var s2={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function u2(e){return"function"!=typeof e?null:e()}function c2(e){return"object"===XU(e)&&e?e:null}var d2=a({compatConfig:{MODE:3},name:"Align",props:s2,emits:["align"],setup:function(e,t){var n=t.expose,i=t.slots,o=s({}),r=s(),a=function(e,t){var n=!1,i=null;function o(){clearTimeout(i)}return[function r(a){if(n&&!0!==a)o(),i=setTimeout((function(){n=!1,r()}),t.value);else{if(!1===e())// Not delay since callback cancelled self
return;n=!0,o(),i=setTimeout((function(){n=!1}),t.value)}},function(){n=!1,o()}]}((function(){var t=e.disabled,n=e.target,i=e.align,a=e.onAlign;if(!t&&n&&r.value){var l,s=r.value,u=u2(n),c=c2(n);o.value.element=u,o.value.point=c,o.value.align=i;// IE lose focus after element realign
// We should record activeElement and restore later
var d=document.activeElement;// We only align when element is visible
return u&&b0(u)?l=m0(s,u,i):c&&(l=
/**
       * `tgtPoint`: { pageX, pageY } or { clientX, clientY }.
       * If client position provided, will internal convert to page position.
       */
function(e,t,n){var i,o,r=i0.getDocument(e),a=r.defaultView||r.parentWindow,l=i0.getWindowScrollLeft(a),s=i0.getWindowScrollTop(a),u=i0.viewportWidth(a),c=i0.viewportHeight(a),d={left:i="pageX"in t?t.pageX:l+t.clientX,top:o="pageY"in t?t.pageY:s+t.clientY,width:0,height:0},p=i>=0&&i<=l+u&&o>=0&&o<=s+c,h=[n.points[0],"cc"];return y0(e,d,mQ(mQ({},n),{},{points:h}),p)}(s,c,i)),function(e,t){// Focus back if is in the container
e!==document.activeElement&&rQ(t,e)&&"function"==typeof e.focus&&e.focus()}(d,s),a&&l&&a(s,l),!0}return!1}),L((function(){return e.monitorBufferTime}))),l=jY(a,2),u=l[0],p=l[1],h=s({cancel:function(){}}),f=s({cancel:function(){}}),v=function(){var t,n,i=e.target,a=u2(i),l=c2(i);r.value!==f.value.element&&(f.value.cancel(),f.value.element=r.value,f.value.cancel=_0(r.value,u)),o.value.element===a&&((t=o.value.point)===(n=l)||t&&n&&("pageX"in n&&"pageY"in n?t.pageX===n.pageX&&t.pageY===n.pageY:"clientX"in n&&"clientY"in n&&t.clientX===n.clientX&&t.clientY===n.clientY))&&l2(o.value.align,e.align)||(u(),// Add resize observer
h.value.element!==a&&(h.value.cancel(),h.value.element=a,h.value.cancel=_0(a,u)))};d((function(){V((function(){v()}))})),A((function(){V((function(){v()}))})),// Listen for disabled change
c((function(){return e.disabled}),(function(e){e?p():u()}),{immediate:!0,flush:"post"});// Listen for window resize
var g=s(null);return c((function(){return e.monitorWindowResize}),(function(e){e?g.value||(g.value=RX(window,"resize",u)):g.value&&(g.value.remove(),g.value=null)}),{flush:"post"}),D((function(){h.value.cancel(),f.value.cancel(),g.value&&g.value.remove(),p()})),n({forceAlign:function(){return u(!0)}}),function(){var e=null==i?void 0:i.default();return e?x0(e[0],{ref:r},!0,!0):null}}}),p2=a({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:uQ,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup:function(e,t){var n,i,o,r=t.expose,a=t.attrs,l=t.slots,u=s(),p=s(),h=s(),g=jY((n=K(e,"stretch"),i=s({width:0,height:0}),[L((function(){var e={};if(n.value){var t=i.value,o=t.width,r=t.height;// Stretch with target
-1!==n.value.indexOf("height")&&r?e.height="".concat(r,"px"):-1!==n.value.indexOf("minHeight")&&r&&(e.minHeight="".concat(r,"px")),-1!==n.value.indexOf("width")&&o?e.width="".concat(o,"px"):-1!==n.value.indexOf("minWidth")&&o&&(e.minWidth="".concat(o,"px"))}return e})),function(e){i.value={width:e.offsetWidth,height:e.offsetHeight}}// Merge stretch style
]),2),y=g[0],m=g[1],x=s(!1);c((function(){return e.visible}),(function(t){clearTimeout(o),t?o=setTimeout((function(){x.value=e.visible})):x.value=!1}),{immediate:!0});// ======================== Status ========================
var b=function(e,t){var n=s(null),i=s(),o=s(!1);function r(e){o.value||(n.value=e)}function a(){DX.cancel(i.value)}return c(e,(function(){r("measure")}),{immediate:!0,flush:"post"}),d((function(){// Go next status
c(n,(function(){"measure"===n.value&&t(),n.value&&(i.value=DX(z$(G$.mark((function e(){var t,i;return G$.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=gQ.indexOf(n.value),(i=gQ[t+1])&&-1!==t&&r(i);case 3:case"end":return e.stop()}}),e)})))))}),{immediate:!0,flush:"post"})})),G((function(){o.value=!0,a()})),[n,function(e){a(),i.value=DX((function(){// Only align should be manually trigger
var t=n.value;switch(n.value){case"align":t="motion";break;case"motion":t="stable"}r(t),null==e||e()}))}]}(x,(function(){e.stretch&&m(e.getRootDomNode())})),w=jY(b,2),S=w[0],C=w[1],M=s(),T=function(){var e;null===(e=u.value)||void 0===e||e.forceAlign()},I=function(t,n){var i,o=e.getClassNameFromAlign(n),r=h.value;(h.value!==o&&(h.value=o),"align"===S.value)&&(// Repeat until not more align needed
r!==o?Promise.resolve().then((function(){T()})):C((function(){var e;null===(e=M.value)||void 0===e||e.call(M)})),null===(i=e.onAlign)||void 0===i||i.call(e,t,n))},k=L((function(){var t="object"===XU(e.animation)?e.animation:pQ(e);return["onAfterEnter","onAfterLeave"].forEach((function(e){var n=t[e];t[e]=function(e){C(),// 结束后，强制 stable
S.value="stable",null==n||n(e)}})),t})),A=function(){return new Promise((function(e){M.value=e}))};// ======================== Aligns ========================
c([k,S],(function(){k.value||"motion"!==S.value||C()}),{immediate:!0}),r({forceAlign:T,getElement:function(){return p.value.$el||p.value}});var D=L((function(){var t;return null===(t=e.align)||void 0===t||!t.points||"align"!==S.value&&"stable"!==S.value}));return function(){var t,n=e.zIndex,i=e.align,o=e.prefixCls,r=e.destroyPopupOnHide,s=e.onMouseenter,c=e.onMouseleave,d=e.onTouchstart,g=void 0===d?function(){}:d,m=e.onMousedown,b=S.value,w=[JU(JU({},y.value),{},{zIndex:n,opacity:"motion"!==b&&"stable"!==b&&x.value?0:null,// pointerEvents: statusValue === 'stable' ? null : 'none',
pointerEvents:x.value||"stable"===b?null:"none"}),a.style],C=fX(null===(t=l.default)||void 0===t?void 0:t.call(l,{visible:e.visible}));// Wrapper when multiple children
C.length>1&&(C=_("div",{class:"".concat(o,"-content")},[C]));var M=fY(o,a.class,h.value),T=x.value||!e.visible?Bq(k.value.name,k.value):{};return _(N,JU(JU({ref:p},T),{},{onBeforeEnter:A}),{default:function(){return!r||e.visible?f(_(d2,{target:e.point?e.point:e.getRootDomNode,key:"popup",ref:u,monitorWindowResize:!0,disabled:D.value,align:i,onAlign:I},{default:function(){return _("div",JU(JU({class:M,onMouseenter:s,onMouseleave:c,onMousedown:U(m,["capture"])},ZU({},NX?"onTouchstartPassive":"onTouchstart",U(g,["capture"]))),{},{style:w}),[C])}}),[[v,x.value]]):null}})}}}),h2=a({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:dQ,setup:function(e,t){var n=t.attrs,i=t.slots,o=t.expose,r=s(!1),a=s(!1),l=s();return c([function(){return e.visible},function(){return e.mobile}],(function(){r.value=e.visible,e.visible&&e.mobile&&(a.value=!0)}),{immediate:!0,flush:"post"}),o({forceAlign:function(){var e;null===(e=l.value)||void 0===e||e.forceAlign()},getElement:function(){var e;return null===(e=l.value)||void 0===e?void 0:e.getElement()}}),function(){var t=JU(JU(JU({},e),n),{},{visible:r.value}),o=a.value?_(vQ,JU(JU({},t),{},{mobile:e.mobile,ref:l}),{default:i.default}):_(p2,JU(JU({},t),{},{ref:l}),{default:i.default});return _("div",null,[_(hQ,t,null),o])}}});function f2(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function v2(e,t,n){return JU(JU({},e[t]||{}),n)}var g2={methods:{setState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n="function"==typeof e?e(this.$data,this.$props):e;if(this.getDerivedStateFromProps){var i=this.getDerivedStateFromProps(yX(this),JU(JU({},this.$data),n));if(null===i)return;n=JU(JU({},n),i||{})}QU(this.$data,n),this._.isMounted&&this.$forceUpdate(),V((function(){t&&t()}))},__emit:function(){// 直接调用事件，底层组件不需要vueTool记录events
var e=[].slice.call(arguments,0),t=e[0];t="on".concat(t[0].toUpperCase()).concat(t.substring(1));var n=this.$props[t]||this.$attrs[t];if(e.length&&n)if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)n[i].apply(n,GY(e.slice(1)));else n.apply(void 0,GY(e.slice(1)))}}},y2=Symbol("TriggerContextKey"),m2=Symbol("PortalContextKey"),x2=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inTriggerContext:!0};E(m2,{inTriggerContext:t.inTriggerContext,shouldRender:L((function(){var t=e||{},n=t.sPopupVisible,i=t.popupRef,o=t.forceRender,r=t.autoDestroy,a=!1;// if (popPortal) return true;
return(n||i||o)&&(a=!0),!n&&r&&(a=!1),a}))})},b2=a({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:Sq.func.isRequired,didUpdate:Function},setup:function(e,t){var n,i=t.slots,o=!0,r=function(){x2({},{inTriggerContext:!1});var e=P(m2,{shouldRender:L((function(){return!1})),inTriggerContext:!1});return{shouldRender:L((function(){return e.shouldRender.value||!1===e.inTriggerContext}))}}().shouldRender;Y((function(){o=!1,r.value&&(n=e.getContainer())}));var a=c(r,(function(){r.value&&!n&&(n=e.getContainer()),n&&a()}));return A((function(){V((function(){var t;r.value&&(null===(t=e.didUpdate)||void 0===t||t.call(e,e))}))})),G((function(){n&&n.parentNode&&n.parentNode.removeChild(n)})),function(){return r.value?o?null===(e=i.default)||void 0===e?void 0:e.call(i):n?_(R,{to:n},i):null:null;var e}}});function _2(){}var w2=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],S2=a({compatConfig:{MODE:3},name:"Trigger",mixins:[g2],inheritAttrs:!1,props:{action:Sq.oneOfType([Sq.string,Sq.arrayOf(Sq.string)]).def([]),showAction:Sq.any.def([]),hideAction:Sq.any.def([]),getPopupClassNameFromAlign:Sq.any.def((function(){return""})),onPopupVisibleChange:Function,afterPopupVisibleChange:Sq.func.def(_2),popup:Sq.any,popupStyle:{type:Object,default:void 0},prefixCls:Sq.string.def("rc-trigger-popup"),popupClassName:Sq.string.def(""),popupPlacement:String,builtinPlacements:Sq.object,popupTransitionName:String,popupAnimation:Sq.any,mouseEnterDelay:Sq.number.def(0),mouseLeaveDelay:Sq.number.def(.1),zIndex:Number,focusDelay:Sq.number.def(0),blurDelay:Sq.number.def(.15),getPopupContainer:Function,getDocument:Sq.func.def((function(e){return e?e.ownerDocument:window.document})),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},// onPopupAlign: PropTypes.func.def(noop),
popupAlign:Sq.object.def((function(){return{}})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function,// portal context will change
tryPopPortal:Boolean},setup:function(e){var t=L((function(){var t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;return t&&i?v2(i,t,n):n})),n=e.tryPopPortal?P(y2,{setPortal:function(){},popPortal:!1}):{setPortal:function(){},popPortal:!1},i=n.setPortal,o=n.popPortal,r=s(null);return{popPortal:o,setPortal:i,vcTriggerContext:P("vcTriggerContext",{}),popupRef:r,setPopupRef:function(e){r.value=e},triggerRef:s(null),align:t,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data:function(){var e,t,n=this,i=this.$props;return t=void 0!==this.popupVisible?!!i.popupVisible:!!i.defaultPopupVisible,w2.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),null===(e=this.setPortal)||void 0===e||e.call(this,_(b2,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},{default:this.getComponent})),{prevPopupVisible:t,sPopupVisible:t,point:null}},watch:{popupVisible:function(e){void 0!==e&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=e)}},created:function(){E("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown}),x2(this)},deactivated:function(){this.setPopupVisible(!1)},mounted:function(){var e=this;this.$nextTick((function(){e.updatedCal()}))},updated:function(){var e=this;this.$nextTick((function(){e.updatedCal()}))},beforeUnmount:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),DX.cancel(this.attachId)},methods:{updatedCal:function(){var e,t=this.$props;// We must listen to `mousedown` or `touchstart`, edge case:
// https://github.com/ant-design/ant-design/issues/5804
// https://github.com/react-component/calendar/issues/250
// https://github.com/react-component/trigger/issues/50
this.$data.sPopupVisible?(this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextmenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=RX(e,"mousedown",this.onDocumentClick)),// always hide on mobile
this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=RX(e,"touchstart",this.onDocumentClick,!!NX&&{passive:!1})),// close popup when trigger type contains 'onContextmenu' and document is scrolling.
!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=RX(e,"scroll",this.onContextmenuClose)),// close popup when trigger type contains 'onContextmenu' and window is blur.
!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=RX(window,"blur",this.onContextmenuClose))):this.clearOutsideHandler()},onMouseenter:function(e){var t=this.$props.mouseEnterDelay;this.fireEvents("onMouseenter",e),this.delaySetPopupVisible(!0,t,t?null:e)},onMouseMove:function(e){this.fireEvents("onMousemove",e),this.setPoint(e)},onMouseleave:function(e){this.fireEvents("onMouseleave",e),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter:function(){this.clearDelayTimer()},onPopupMouseleave:function(e){var t;e&&e.relatedTarget&&!e.relatedTarget.setTimeout&&rQ(null===(t=this.popupRef)||void 0===t?void 0:t.getElement(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("onFocus",e),// incase focusin and focusout
this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown:function(e){this.fireEvents("onMousedown",e),this.preClickTime=Date.now()},onTouchstart:function(e){this.fireEvents("onTouchstart",e),this.preTouchTime=Date.now()},onBlur:function(e){rQ(e.target,e.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu:function(e){e.preventDefault(),this.fireEvents("onContextmenu",e),this.setPopupVisible(!0,e)},onContextmenuClose:function(){this.isContextmenuToShow()&&this.close()},onClick:function(e){// focus will trigger click
if(this.fireEvents("onClick",e),this.focusTime){var t;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,// Only prevent default when all the action is click.
// https://github.com/ant-design/ant-design/issues/17043
// https://github.com/ant-design/ant-design/issues/17291
this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault(),e&&e.domEvent&&e.domEvent.preventDefault();var n=!this.$data.sPopupVisible;(this.isClickToHide()&&!n||n&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,e)},onPopupMouseDown:function(){var e=this,t=this.vcTriggerContext,n=void 0===t?{}:t;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout((function(){e.hasPopupMouseDown=!1}),0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},onDocumentClick:function(e){if(!this.$props.mask||this.$props.maskClosable){var t=e.target,n=this.getRootDomNode(),i=this.getPopupDomNode();// mousedown on the target should also close popup when action is contextMenu.
// https://github.com/ant-design/ant-design/issues/29853
rQ(n,t)&&!this.isContextMenuOnly()||rQ(i,t)||this.hasPopupMouseDown||// https://github.com/vuejs/core/issues/4462
// vue 动画bug导致 https://github.com/vueComponent/ant-design-vue/issues/5259，
// 改成延时解决
this.delaySetPopupVisible(!1,.1)}},getPopupDomNode:function(){var e;// for test
return(null===(e=this.popupRef)||void 0===e?void 0:e.getElement())||null},getRootDomNode:function(){var e=this.$props.getTriggerDOMNode;if(e){var t=gX(this.triggerRef);return gX(e(t))}try{var n=gX(this.triggerRef);if(n)return n}catch(i){// Do nothing
}return gX(this)},handleGetPopupClassFromAlign:function(e){var t=[],n=this.$props,i=n.popupPlacement,o=n.builtinPlacements,r=n.prefixCls,a=n.alignPoint,l=n.getPopupClassNameFromAlign;return i&&o&&t.push(function(e,t,n,i){for(var o=n.points,r=Object.keys(e),a=0;a<r.length;a+=1){var l=r[a];if(f2(e[l].points,o,i))return"".concat(t,"-placement-").concat(l)}return""}(o,r,e,a)),l&&t.push(l(e)),t.join(" ")},getPopupAlign:function(){var e=this.$props,t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;return t&&i?v2(i,t,n):n},getComponent:function(){var e=this,t={};this.isMouseEnterToShow()&&(t.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(t.onMouseleave=this.onPopupMouseleave),t.onMousedown=this.onPopupMouseDown,t[NX?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;var n=this.handleGetPopupClassFromAlign,i=this.getRootDomNode,o=this.getContainer,r=this.$attrs,a=this.$props,l=a.prefixCls,s=a.destroyPopupOnHide,u=a.popupClassName,c=a.popupAnimation,d=a.popupTransitionName,p=a.popupStyle,h=a.mask,f=a.maskAnimation,v=a.maskTransitionName,g=a.zIndex,y=a.stretch,m=a.alignPoint,x=a.mobile,b=a.forceRender,w=this.$data,S=w.sPopupVisible,C=w.point,M=JU(JU({prefixCls:l,destroyPopupOnHide:s,visible:S,point:m?C:null,align:this.align,animation:c,getClassNameFromAlign:n,stretch:y,getRootDomNode:i,mask:h,zIndex:g,transitionName:d,maskAnimation:f,maskTransitionName:v,getContainer:o,class:u,style:p,onAlign:r.onPopupAlign||_2},t),{},{ref:this.setPopupRef,mobile:x,forceRender:b});return _(h2,M,{default:this.$slots.popup||function(){return mX(e,"popup")}})},attachParent:function(e){var t=this;DX.cancel(this.attachId);var n,i=this.$props,o=i.getPopupContainer,r=i.getDocument,a=this.getRootDomNode();o?(a||0===o.length)&&(// Compatible for legacy getPopupContainer with domNode argument.
// If no need `domNode` argument, will call directly.
// https://codesandbox.io/s/eloquent-mclean-ss93m?file=/src/App.js
n=o(a)):n=r(this.getRootDomNode()).body,n?n.appendChild(e):// Retry after frame render in case parent not ready
this.attachId=DX((function(){t.attachParent(e)}))},getContainer:function(){var e=(0,this.$props.getDocument)(this.getRootDomNode()).createElement("div");// Make sure default popup container will never cause scrollbar appearing
// https://github.com/react-component/trigger/issues/41
return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",this.attachParent(e),e},setPopupVisible:function(e,t){var n=this.alignPoint,i=this.sPopupVisible,o=this.onPopupVisibleChange;this.clearDelayTimer(),i!==e&&(hX(this,"popupVisible")||this.setState({sPopupVisible:e,prevPopupVisible:i}),o&&o(e)),// Always record the point position since mouseEnterDelay will delay the show
n&&t&&e&&this.setPoint(t)},setPoint:function(e){this.$props.alignPoint&&e&&this.setState({point:{pageX:e.pageX,pageY:e.pageY}})},handlePortalUpdate:function(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible:function(e,t,n){var i=this,o=1e3*t;if(this.clearDelayTimer(),o){var r=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Date.now();function i(){Date.now()-n>=t?e.call():o.id=lQ(i)}var o={id:lQ(i)};return o}((function(){i.setPopupVisible(e,r),i.clearDelayTimer()}),o)}else this.setPopupVisible(e,n)},clearDelayTimer:function(){this.delayTimer&&(sQ(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(e){var t=function(){},n=xX(this);return this.childOriginEvents[e]&&n[e]?this["fire".concat(e)]:t=this.childOriginEvents[e]||n[e]||t},isClickToShow:function(){var e=this.$props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isContextMenuOnly:function(){var e=this.$props.action;return"contextmenu"===e||1===e.length&&"contextmenu"===e[0]},isContextmenuToShow:function(){var e=this.$props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextmenu")||-1!==n.indexOf("contextmenu")},isClickToHide:function(){var e=this.$props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},isMouseEnterToShow:function(){var e=this.$props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseenter")},isMouseLeaveToHide:function(){var e=this.$props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseleave")},isFocusToShow:function(){var e=this.$props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},isBlurToHide:function(){var e=this.$props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},forcePopupAlign:function(){var e;this.$data.sPopupVisible&&(null===(e=this.popupRef)||void 0===e||e.forceAlign())},fireEvents:function(e,t){this.childOriginEvents[e]&&this.childOriginEvents[e](t);var n=this.$props[e]||this.$attrs[e];n&&n(t)},close:function(){this.setPopupVisible(!1)}},render:function(){var e=this,t=this.$attrs,n=_X(vX(this)),i=this.$props.alignPoint,o=n[0];this.childOriginEvents=xX(o);var r={key:"trigger"};this.isContextmenuToShow()?r.onContextmenu=this.onContextmenu:r.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(r.onClick=this.onClick,r.onMousedown=this.onMousedown,r[NX?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(r.onClick=this.createTwoChains("onClick"),r.onMousedown=this.createTwoChains("onMousedown"),r[NX?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(r.onMouseenter=this.onMouseenter,i&&(r.onMousemove=this.onMouseMove)):r.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?r.onMouseleave=this.onMouseleave:r.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(r.onFocus=this.onFocus,r.onBlur=this.onBlur):(r.onFocus=this.createTwoChains("onFocus"),r.onBlur=function(t){!t||t.relatedTarget&&rQ(t.target,t.relatedTarget)||e.createTwoChains("onBlur")(t)});var a=fY(o&&o.props&&o.props.class,t.class);a&&(r.class=a);var l=x0(o,JU(JU({},r),{},{ref:"triggerRef"}),!0,!0);if(this.popPortal)return l;var s=_(b2,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},{default:this.getComponent});return _(m,null,[s,l])}}),C2=["empty"],M2=a({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:Sq.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:Sq.oneOfType([Number,Boolean]).def(!0),popupElement:Sq.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function},setup:function(e,t){var n=t.slots,i=t.attrs,o=t.expose,r=L((function(){return function(e){// Enable horizontal overflow auto-adjustment when a custom dropdown width is provided
var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(e.dropdownMatchSelectWidth)})),a=s();return o({getPopupElement:function(){return a.value}}),function(){var t=JU(JU({},e),i),o=t.empty,l=void 0!==o&&o,s=zX(t,C2),u=s.visible,c=s.dropdownAlign,d=s.prefixCls,p=s.popupElement,h=s.dropdownClassName,f=s.dropdownStyle,v=s.direction,g=void 0===v?"ltr":v,y=s.placement,m=s.dropdownMatchSelectWidth,x=s.containerWidth,b=s.dropdownRender,w=s.animation,S=s.transitionName,C=s.getPopupContainer,M=s.getTriggerDOMNode,T=s.onPopupVisibleChange,I=s.onPopupMouseEnter,k="".concat(d,"-dropdown"),A=p;b&&(A=b({menuNode:p,props:e}));var D=w?"".concat(k,"-").concat(w):S,O=JU({minWidth:"".concat(x,"px")},f);return"number"==typeof m?O.width="".concat(m,"px"):m&&(O.width="".concat(x,"px")),_(S2,JU(JU({},e),{},{showAction:T?["click"]:[],hideAction:T?["click"]:[],popupPlacement:y||("rtl"===g?"bottomRight":"bottomLeft"),builtinPlacements:r.value,prefixCls:k,popupTransitionName:D,popupAlign:c,popupVisible:u,getPopupContainer:C,popupClassName:fY(h,ZU({},"".concat(k,"-empty"),l)),popupStyle:O,getTriggerDOMNode:M,onPopupVisibleChange:T}),{default:n.default,popup:function(){return _("div",{ref:a,onMouseenter:I},[A])}})}}}),T2=M2,I2={
/**
         * MAC_ENTER
         */
MAC_ENTER:3,
/**
         * BACKSPACE
         */
BACKSPACE:8,
/**
         * TAB
         */
TAB:9,
/**
         * NUMLOCK on FF/Safari Mac
         */
NUM_CENTER:12,
/**
         * ENTER
         */
ENTER:13,
/**
         * SHIFT
         */
SHIFT:16,
/**
         * CTRL
         */
CTRL:17,
/**
         * ALT
         */
ALT:18,
/**
         * PAUSE
         */
PAUSE:19,
/**
         * CAPS_LOCK
         */
CAPS_LOCK:20,
/**
         * ESC
         */
ESC:27,
/**
         * SPACE
         */
SPACE:32,
/**
         * PAGE_UP
         */
PAGE_UP:33,
/**
         * PAGE_DOWN
         */
PAGE_DOWN:34,
/**
         * END
         */
END:35,
/**
         * HOME
         */
HOME:36,
/**
         * LEFT
         */
LEFT:37,
/**
         * UP
         */
UP:38,
/**
         * RIGHT
         */
RIGHT:39,
/**
         * DOWN
         */
DOWN:40,
/**
         * PRINT_SCREEN
         */
PRINT_SCREEN:44,
/**
         * INSERT
         */
INSERT:45,
/**
         * DELETE
         */
DELETE:46,
/**
         * ZERO
         */
ZERO:48,
/**
         * ONE
         */
ONE:49,
/**
         * TWO
         */
TWO:50,
/**
         * THREE
         */
THREE:51,
/**
         * FOUR
         */
FOUR:52,
/**
         * FIVE
         */
FIVE:53,
/**
         * SIX
         */
SIX:54,
/**
         * SEVEN
         */
SEVEN:55,
/**
         * EIGHT
         */
EIGHT:56,
/**
         * NINE
         */
NINE:57,
/**
         * QUESTION_MARK
         */
QUESTION_MARK:63,
/**
         * A
         */
A:65,
/**
         * B
         */
B:66,
/**
         * C
         */
C:67,
/**
         * D
         */
D:68,
/**
         * E
         */
E:69,
/**
         * F
         */
F:70,
/**
         * G
         */
G:71,
/**
         * H
         */
H:72,
/**
         * I
         */
I:73,
/**
         * J
         */
J:74,
/**
         * K
         */
K:75,
/**
         * L
         */
L:76,
/**
         * M
         */
M:77,
/**
         * N
         */
N:78,
/**
         * O
         */
O:79,
/**
         * P
         */
P:80,
/**
         * Q
         */
Q:81,
/**
         * R
         */
R:82,
/**
         * S
         */
S:83,
/**
         * T
         */
T:84,
/**
         * U
         */
U:85,
/**
         * V
         */
V:86,
/**
         * W
         */
W:87,
/**
         * X
         */
X:88,
/**
         * Y
         */
Y:89,
/**
         * Z
         */
Z:90,
/**
         * META
         */
META:91,
/**
         * WIN_KEY_RIGHT
         */
WIN_KEY_RIGHT:92,
/**
         * CONTEXT_MENU
         */
CONTEXT_MENU:93,
/**
         * NUM_ZERO
         */
NUM_ZERO:96,
/**
         * NUM_ONE
         */
NUM_ONE:97,
/**
         * NUM_TWO
         */
NUM_TWO:98,
/**
         * NUM_THREE
         */
NUM_THREE:99,
/**
         * NUM_FOUR
         */
NUM_FOUR:100,
/**
         * NUM_FIVE
         */
NUM_FIVE:101,
/**
         * NUM_SIX
         */
NUM_SIX:102,
/**
         * NUM_SEVEN
         */
NUM_SEVEN:103,
/**
         * NUM_EIGHT
         */
NUM_EIGHT:104,
/**
         * NUM_NINE
         */
NUM_NINE:105,
/**
         * NUM_MULTIPLY
         */
NUM_MULTIPLY:106,
/**
         * NUM_PLUS
         */
NUM_PLUS:107,
/**
         * NUM_MINUS
         */
NUM_MINUS:109,
/**
         * NUM_PERIOD
         */
NUM_PERIOD:110,
/**
         * NUM_DIVISION
         */
NUM_DIVISION:111,
/**
         * F1
         */
F1:112,
/**
         * F2
         */
F2:113,
/**
         * F3
         */
F3:114,
/**
         * F4
         */
F4:115,
/**
         * F5
         */
F5:116,
/**
         * F6
         */
F6:117,
/**
         * F7
         */
F7:118,
/**
         * F8
         */
F8:119,
/**
         * F9
         */
F9:120,
/**
         * F10
         */
F10:121,
/**
         * F11
         */
F11:122,
/**
         * F12
         */
F12:123,
/**
         * NUMLOCK
         */
NUMLOCK:144,
/**
         * SEMICOLON
         */
SEMICOLON:186,
/**
         * DASH
         */
DASH:189,
/**
         * EQUALS
         */
EQUALS:187,
/**
         * COMMA
         */
COMMA:188,
/**
         * PERIOD
         */
PERIOD:190,
/**
         * SLASH
         */
SLASH:191,
/**
         * APOSTROPHE
         */
APOSTROPHE:192,
/**
         * SINGLE_QUOTE
         */
SINGLE_QUOTE:222,
/**
         * OPEN_SQUARE_BRACKET
         */
OPEN_SQUARE_BRACKET:219,
/**
         * BACKSLASH
         */
BACKSLASH:220,
/**
         * CLOSE_SQUARE_BRACKET
         */
CLOSE_SQUARE_BRACKET:221,
/**
         * WIN_KEY
         */
WIN_KEY:224,
/**
         * MAC_FF_META
         */
MAC_FF_META:224,
/**
         * WIN_IME
         */
WIN_IME:229,// ======================== Function ========================
/**
         * whether text and modified key is entered at the same time.
         */
isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||// Function keys don't generate text
t>=I2.F1&&t<=I2.F12)return!1;// The following keys are quite harmless, even in combination with
// CTRL, ALT or SHIFT.
switch(t){case I2.ALT:case I2.CAPS_LOCK:case I2.CONTEXT_MENU:case I2.CTRL:case I2.DOWN:case I2.END:case I2.ESC:case I2.HOME:case I2.INSERT:case I2.LEFT:case I2.MAC_FF_META:case I2.META:case I2.NUMLOCK:case I2.NUM_CENTER:case I2.PAGE_DOWN:case I2.PAGE_UP:case I2.PAUSE:case I2.PRINT_SCREEN:case I2.RIGHT:case I2.SHIFT:case I2.UP:case I2.WIN_KEY:case I2.WIN_KEY_RIGHT:return!1;default:return!0}},
/**
         * whether character is entered.
         */
isCharacterKey:function(e){if(e>=I2.ZERO&&e<=I2.NINE)return!0;if(e>=I2.NUM_ZERO&&e<=I2.NUM_MULTIPLY)return!0;if(e>=I2.A&&e<=I2.Z)return!0;// Safari sends zero key code for non-latin characters.
if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case I2.SPACE:case I2.QUESTION_MARK:case I2.NUM_PLUS:case I2.NUM_MINUS:case I2.NUM_PERIOD:case I2.NUM_DIVISION:case I2.SEMICOLON:case I2.DASH:case I2.EQUALS:case I2.COMMA:case I2.PERIOD:case I2.SLASH:case I2.APOSTROPHE:case I2.SINGLE_QUOTE:case I2.OPEN_SQUARE_BRACKET:case I2.BACKSLASH:case I2.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},k2=I2,A2=function(e,t){var n,i,o=t.slots,r=e.class,a=e.customizeIcon,l=e.customizeIconProps,s=e.onMousedown,u=e.onClick;return i="function"==typeof a?a(l):a,_("span",{class:r,onMousedown:function(e){e.preventDefault(),s&&s(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:u,"aria-hidden":!0},[void 0!==i?i:_("span",{class:r.split(/\s+/).map((function(e){return"".concat(e,"-icon")}))},[null===(n=o.default)||void 0===n?void 0:n.call(o)])])};A2.inheritAttrs=!1,A2.displayName="TransBtn",A2.props={class:String,customizeIcon:Sq.any,customizeIconProps:Sq.any,onMousedown:Function,onClick:Function};var D2=A2;function O2(e){e.target.composing=!0}function P2(e){// prevent triggering an input event for no reason
e.target.composing&&(e.target.composing=!1,function(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(e.target,"input"))}function L2(e,t,n,i){e.addEventListener(t,n,i)}var E2={created:function(e,t){t.modifiers&&t.modifiers.lazy||(L2(e,"compositionstart",O2),L2(e,"compositionend",P2),// Safari < 10.2 & UIWebView doesn't fire compositionend when
// switching focus before confirming composition choice
// this also fixes the issue where some browsers e.g. iOS Chrome
// fires "change" instead of "input" on autocomplete.
L2(e,"change",P2))}},N2={inputRef:Sq.any,prefixCls:String,id:String,inputElement:Sq.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:Sq.oneOfType([Sq.number,Sq.string]),/** Pass accessibility props to input */attrs:Sq.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},R2=a({compatConfig:{MODE:3},name:"Input",inheritAttrs:!1,props:N2,setup:function(e){var t=null,n=P("VCSelectContainerEvent");return function(){var i,o,r=e.prefixCls,a=e.id,l=e.inputElement,s=e.disabled,u=e.tabindex,c=e.autofocus,d=e.autocomplete,p=e.editable,h=e.activeDescendantId,v=e.value,g=e.onKeydown,y=e.onMousedown,m=e.onChange,x=e.onPaste,b=e.onCompositionstart,w=e.onCompositionend,S=e.onFocus,C=e.onBlur,M=e.open,T=e.inputRef,I=e.attrs,k=l||f(_("input",null,null),[[E2]]),A=k.props||{},D=A.onKeydown,O=A.onInput,P=A.onFocus,L=A.onBlur,E=A.onMousedown,N=A.onCompositionstart,R=A.onCompositionend,z=A.style;return k=x0(k,QU(JU(JU(JU({type:"search"},A),{},{id:a,ref:T,disabled:s,tabindex:u,autocomplete:d||"off",autofocus:c,class:fY("".concat(r,"-selection-search-input"),null===(i=k)||void 0===i||null===(o=i.props)||void 0===o?void 0:o.class),role:"combobox","aria-expanded":M,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":h},I),{},{value:p?v:"",readonly:!p,unselectable:p?null:"on",style:JU(JU({},z),{},{opacity:p?null:0}),onKeydown:function(e){g(e),D&&D(e)},onMousedown:function(e){y(e),E&&E(e)},onInput:function(e){m(e),O&&O(e)},onCompositionstart:function(e){b(e),N&&N(e)},onCompositionend:function(e){w(e),R&&R(e)},onPaste:x,onFocus:function(){clearTimeout(t),P&&P(arguments.length<=0?void 0:arguments[0]),S&&S(arguments.length<=0?void 0:arguments[0]),null==n||n.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t=setTimeout((function(){L&&L(i[0]),C&&C(i[0]),null==n||n.blur(i[0])}),100)}}),"textarea"===k.type?{}:{type:"search"}),!0,!0),k}}}),z2=R2,B2="".concat("accept acceptcharset accesskey action allowfullscreen allowtransparency\nalt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge\ncharset checked classid classname colspan cols content contenteditable contextmenu\ncontrols coords crossorigin data datetime default defer dir disabled download draggable\nenctype form formaction formenctype formmethod formnovalidate formtarget frameborder\nheaders height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity\nis keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media\nmediagroup method min minlength multiple muted name novalidate nonce open\noptimum pattern placeholder poster preload radiogroup readonly rel required\nreversed role rowspan rows sandbox scope scoped scrolling seamless selected\nshape size sizes span spellcheck src srcdoc srclang srcset start step style\nsummary tabindex target title type usemap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown\n    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick\n    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown\n    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel\n    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough\n    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata\n    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError").split(/[\s\n]+/),F2="aria-",V2="data-";function j2(e,t){return 0===e.indexOf(t)}
/**
       * Picker props from exist props with filter
       * @param props Passed props
       * @param ariaOnly boolean | { aria?: boolean; data?: boolean; attr?: boolean; } filter config
       */function H2(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:JU({},n);var i={};return Object.keys(e).forEach((function(n){(// Aria
t.aria&&("role"===n||j2(n,F2))||// Data
t.data&&j2(n,V2)||// Attr
t.attr&&(B2.includes(n)||B2.includes(n.toLowerCase())))&&(i[n]=e[n])})),i}var G2=Symbol("OverflowContextProviderKey"),W2=a({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup:function(e,t){var n=t.slots;return E(G2,L((function(){return e.value}))),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}}),K2=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"],U2=void 0,Y2=a({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:Sq.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:Sq.any,invalidate:Boolean},setup:function(e,t){var n=t.slots,i=t.expose,o=L((function(){return e.responsive&&!e.display})),r=s();// ================================ Effect ================================
function a(t){e.registerSize(e.itemKey,t)}return i({itemNodeRef:r}),D((function(){a(null)})),function(){var t,i=e.prefixCls,l=e.invalidate,s=e.item,u=e.renderItem,c=e.responsive;e.registerSize,e.itemKey,e.display;var d,p=e.order,h=e.component,f=void 0===h?"div":h,v=zX(e,K2),g=null===(t=n.default)||void 0===t?void 0:t.call(n),y=u&&s!==U2?u(s):g;l||(d={opacity:o.value?0:1,height:o.value?0:U2,overflowY:o.value?"hidden":U2,order:c?p:U2,pointerEvents:o.value?"none":U2,position:o.value?"absolute":U2});var m={};// 使用 disabled  避免结构不一致 导致子组件 rerender
return o.value&&(m["aria-hidden"]=!0),_(CX,{disabled:!c,onResize:function(e){a(e.offsetWidth)}},{default:function(){return _(f,JU(JU(JU({class:fY(!l&&i),style:d},m),v),{},{ref:r}),{default:function(){return[y]}})}})}}}),X2=["component"],q2=["className"],Z2=["class"],$2=a({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:Sq.any,title:Sq.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function}},setup:function(e,t){var n=t.slots,i=t.attrs,o=P(G2,L((function(){return null})));return function(){// Render directly when context not provided
if(!o.value){var t,r=e.component,a=void 0===r?"div":r,l=zX(e,X2);return _(a,JU(JU({},l),i),{default:function(){return[null===(t=n.default)||void 0===t?void 0:t.call(n)]}})}var s=o.value,u=s.className,c=zX(s,q2),d=i.class,p=zX(i,Z2);// Do not pass context to sub item to avoid multiple measure
return _(W2,{value:null},{default:function(){return[_(Y2,JU(JU(JU({class:fY(u,d)},c),p),e),n)]}})}}}),J2=["class","style"],Q2="responsive",e5="invalidate";function t5(e){return"+ ".concat(e.length," ...")}var n5=a({name:"Overflow",inheritAttrs:!1,props:{id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],/** Used for `responsive`. It will limit render node to avoid perf issue */itemWidth:{type:Number,default:10},renderItem:Function,/** @private Do not use in your production. Render raw node that need wrap Item by developer self */renderRawItem:Function,maxCount:[Number,String],renderRest:Function,/** @private Do not use in your production. Render raw node that need wrap Item by developer self */renderRawRest:Function,suffix:Sq.any,component:String,itemComponent:Sq.any,/** @private This API may be refactor since not well design */onVisibleChange:Function,/** When set to `full`, ssr will render full items by default and remove at client side */ssr:String,onMousedown:Function},emits:["visibleChange"],setup:function(e,t){var n=t.attrs,i=t.emit,o=t.slots,r=L((function(){return"full"===e.ssr})),a=s(null),l=L((function(){return a.value||0})),u=s(new Map),d=s(0),p=s(0),h=s(0),f=s(null),v=s(null),g=L((function(){return null===v.value&&r.value?Number.MAX_SAFE_INTEGER:v.value||0})),y=s(!1),m=L((function(){return"".concat(e.prefixCls,"-item")})),x=L((function(){return Math.max(d.value,p.value)})),b=L((function(){return!(!e.data.length||e.maxCount!==Q2)})),w=L((function(){return e.maxCount===e5})),S=L((function(){return b.value||"number"==typeof e.maxCount&&e.data.length>e.maxCount})),C=L((function(){var t=e.data;return b.value?t=null===a.value&&r.value?e.data:e.data.slice(0,Math.min(e.data.length,l.value/e.itemWidth)):"number"==typeof e.maxCount&&(t=e.data.slice(0,e.maxCount)),t})),M=L((function(){return b.value?e.data.slice(g.value+1):e.data.slice(C.value.length)})),T=function(t,n){var i;return"function"==typeof e.itemKey?e.itemKey(t):null!==(i=e.itemKey&&(null==t?void 0:t[e.itemKey]))&&void 0!==i?i:n},I=L((function(){return e.renderItem||function(e){return e}})),k=function(t,n){v.value=t,n||(y.value=t<e.data.length-1,i("visibleChange",t))},A=function(e,t){a.value=t.clientWidth},D=function(e,t){var n=new Map(u.value);null===t?n.delete(e):n.set(e,t),u.value=n},O=function(e,t){d.value=p.value,p.value=t},P=function(e,t){h.value=t},E=function(e){return u.value.get(T(C.value[e],e))};return c([l,u,p,h,function(){return e.itemKey},C],(function(){if(l.value&&x.value&&C.value){var t=h.value,n=C.value.length,i=n-1;// When data count change to 0, reset this since not loop will reach
if(!n)return k(0),void(f.value=null);for(var o=0;o<n;o+=1){var r=E(o);// Break since data not ready
if(void 0===r){k(o-1,!0);break}// Find best match
if(t+=r,// Only one means `totalWidth` is the final width
0===i&&t<=l.value||// Last two width will be the final width
o===i-1&&t+E(i)<=l.value){// Additional check if match the end
k(i),f.value=null;break}if(t+x.value>l.value){// Can not hold all the content to show rest
k(o-1),f.value=t-r-h.value+p.value;break}}e.suffix&&E(0)+h.value>l.value&&(f.value=null)}})),function(){// ================================ Render ================================
var t=y.value&&!!M.value.length,i=e.itemComponent,r=e.renderRawItem,a=e.renderRawRest,l=e.renderRest,s=e.prefixCls,u=void 0===s?"rc-overflow":s,c=e.suffix,d=e.component,p=void 0===d?"div":d,h=e.id,v=e.onMousedown,x=n.class,k=n.style,L=zX(n,J2),E={};null!==f.value&&b.value&&(E={position:"absolute",left:"".concat(f.value,"px"),top:0});var N={prefixCls:m.value,responsive:b.value,component:i,invalidate:w.value},R=r?function(e,t){var n=T(e,t);return _(W2,{key:n,value:JU(JU({},N),{},{order:t,item:e,itemKey:n,registerSize:D,display:t<=g.value})},{default:function(){return[r(e,t)]}})}:function(e,t){var n=T(e,t);return _(Y2,JU(JU({},N),{},{order:t,key:n,item:e,renderItem:I.value,itemKey:n,registerSize:D,display:t<=g.value}),null)},z=function(){return null},B={order:t?g.value:Number.MAX_SAFE_INTEGER,className:"".concat(m.value," ").concat(m.value,"-rest"),registerSize:O,display:t};// >>>>> Choice render fun by `renderRawItem`
if(a)a&&(z=function(){return _(W2,{value:JU(JU({},N),B)},{default:function(){return[a(M.value)]}})});else{var F=l||t5;z=function(){return _(Y2,JU(JU({},N),B),{default:function(){return"function"==typeof F?F(M.value):F}})}}// 使用 disabled  避免结构不一致 导致子组件 rerender
return _(CX,{disabled:!b.value,onResize:A},{default:function(){var e;return _(p,JU({id:h,class:fY(!w.value&&u,x),style:k,onMousedown:v},L),{default:function(){return[C.value.map(R),S.value?z():null,c&&_(Y2,JU(JU({},N),{},{order:g.value,class:"".concat(m.value,"-suffix"),registerSize:P,display:!0,style:E}),{default:function(){return c}}),null===(e=o.default)||void 0===e?void 0:e.call(o)]}})}})}}});n5.Item=$2,n5.RESPONSIVE=Q2,n5.INVALIDATE=e5;var i5=n5,o5=Symbol("TreeSelectLegacyContextPropsKey");
/**
       * BaseSelect provide some parsed data into context.
       * You can use this hooks to get them.
       */function r5(){return P(o5,{})}var a5={id:String,prefixCls:String,values:Sq.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:Sq.any,placeholder:Sq.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:Sq.oneOfType([Sq.number,Sq.string]),removeIcon:Sq.any,choiceTransitionName:String,maxTagCount:Sq.oneOfType([Sq.number,Sq.string]),maxTagTextLength:Number,maxTagPlaceholder:Sq.any.def((function(){return function(e){return"+ ".concat(e.length," ...")}})),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},l5=function(e){e.preventDefault(),e.stopPropagation()},s5=a({name:"MultipleSelectSelector",inheritAttrs:!1,props:a5,setup:function(e){var t=s(),n=s(0),i=s(!1),o=r5(),r=L((function(){return"".concat(e.prefixCls,"-selection")})),a=L((function(){return e.open||"tags"===e.mode?e.searchValue:""})),l=L((function(){return"tags"===e.mode||e.showSearch&&(e.open||i.value)}));// ===================== Render ======================
// >>> Render Selector Node. Includes Item & Rest
function u(t,n,i,o,a){return _("span",{class:fY("".concat(r.value,"-item"),ZU({},"".concat(r.value,"-item-disabled"),i)),title:"string"==typeof t||"number"==typeof t?t.toString():void 0},[_("span",{class:"".concat(r.value,"-item-content")},[n]),o&&_(D2,{class:"".concat(r.value,"-item-remove"),onMousedown:l5,onClick:a,customizeIcon:e.removeIcon},{default:function(){return[X("×")]}})])}function p(t){var n=t.disabled,i=t.label,r=t.value,a=t.option,l=!e.disabled&&!n,s=i;if("number"==typeof e.maxTagTextLength&&("string"==typeof i||"number"==typeof i)){var c=String(s);c.length>e.maxTagTextLength&&(s="".concat(c.slice(0,e.maxTagTextLength),"..."))}var d=function(n){var i;n&&n.stopPropagation(),null===(i=e.onRemove)||void 0===i||i.call(e,t)};return"function"==typeof e.tagRender?function(t,n,i,r,a,l){var s,u=l;// For TreeSelect
return o.keyEntities&&(u=(null===(s=o.keyEntities[t])||void 0===s?void 0:s.node)||{}),_("span",{key:t,onMousedown:function(t){l5(t),e.onToggleOpen(!open)}},[e.tagRender({label:n,value:t,disabled:i,closable:r,onClose:a,option:u})])}(r,s,n,l,d,a):u(i,s,n,l,d)}function h(t){var n=e.maxTagPlaceholder,i=void 0===n?function(e){return"+ ".concat(e.length," ...")}:n,o="function"==typeof i?i(t):i;return u(o,o,!1)}// We measure width and set to the input immediately
return d((function(){c(a,(function(){n.value=t.value.scrollWidth}),{flush:"post",immediate:!0})})),function(){var o=e.id,s=e.prefixCls,u=e.values,c=e.open,d=e.inputRef,f=e.placeholder,v=e.disabled,g=e.autofocus,y=e.autocomplete,x=e.activeDescendantId,b=e.tabindex,w=e.onInputChange,S=e.onInputPaste,C=e.onInputKeyDown,M=e.onInputMouseDown,T=e.onInputCompositionStart,I=e.onInputCompositionEnd,k=_("div",{class:"".concat(r.value,"-search"),style:{width:n.value+"px"},key:"input"},[_(z2,{inputRef:d,open:c,prefixCls:s,id:o,inputElement:null,disabled:v,autofocus:g,autocomplete:y,editable:l.value,activeDescendantId:x,value:a.value,onKeydown:C,onMousedown:M,onChange:w,onPaste:S,onCompositionstart:T,onCompositionend:I,tabindex:b,attrs:H2(e,!0),onFocus:function(){return i.value=!0},onBlur:function(){return i.value=!1}},null),_("span",{ref:t,class:"".concat(r.value,"-search-mirror"),"aria-hidden":!0},[a.value,X(" ")])]),A=_(i5,{prefixCls:"".concat(r.value,"-overflow"),data:u,renderItem:p,renderRest:h,suffix:k,itemKey:"key",maxCount:e.maxTagCount,key:"overflow"},null);// >>> Input Node
return _(m,null,[A,!u.length&&!a.value&&_("span",{class:"".concat(r.value,"-placeholder")},[f])])}}}),u5=s5,c5={inputElement:Sq.any,id:String,prefixCls:String,values:Sq.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:Sq.any,placeholder:Sq.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:Sq.oneOfType([Sq.number,Sq.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},d5=a({name:"SingleSelector",setup:function(e){var t=s(!1),n=L((function(){return"combobox"===e.mode})),i=L((function(){return n.value||e.showSearch})),o=L((function(){var i=e.searchValue||"";return n.value&&e.activeValue&&!t.value&&(i=e.activeValue),i})),r=r5();c([n,function(){return e.activeValue}],(function(){n.value&&(t.value=!1)}),{immediate:!0});// Not show text when closed expect combobox mode
var a=L((function(){return!("combobox"!==e.mode&&!e.open&&!e.showSearch)&&!!o.value})),l=L((function(){var t=e.values[0];return!t||"string"!=typeof t.label&&"number"!=typeof t.label?void 0:t.label.toString()})),u=function(){if(e.values[0])return null;var t=a.value?{visibility:"hidden"}:void 0;return _("span",{class:"".concat(e.prefixCls,"-selection-placeholder"),style:t},[e.placeholder])};return function(){var s,c=e.inputElement,d=e.prefixCls,p=e.id,h=e.values,f=e.inputRef,v=e.disabled,g=e.autofocus,y=e.autocomplete,x=e.activeDescendantId,b=e.open,w=e.tabindex,S=e.optionLabelRender,C=e.onInputKeyDown,M=e.onInputMouseDown,T=e.onInputChange,I=e.onInputPaste,k=e.onInputCompositionStart,A=e.onInputCompositionEnd,D=h[0],O=null;// custom tree-select title by slot
// For TreeSelect
if(D&&r.customSlots){var P,L,E,N=null!==(P=D.key)&&void 0!==P?P:D.value,R=(null===(L=r.keyEntities[N])||void 0===L?void 0:L.node)||{};"function"==typeof(O=r.customSlots[null===(E=R.slots)||void 0===E?void 0:E.title]||r.customSlots.title||D.label)&&(O=O(R));//  else if (treeSelectContext.value.slots.titleRender) {
//   // 因历史 title 是覆盖逻辑，新增 titleRender，所有的 title 都走一遍 titleRender
//   titleNode = treeSelectContext.value.slots.titleRender(item.option?.data || {});
// }
}else O=S&&D?S(D.option):null==D?void 0:D.label;return _(m,null,[_("span",{class:"".concat(d,"-selection-search")},[_(z2,{inputRef:f,prefixCls:d,id:p,open:b,inputElement:c,disabled:v,autofocus:g,autocomplete:y,editable:i.value,activeDescendantId:x,value:o.value,onKeydown:C,onMousedown:M,onChange:function(e){t.value=!0,T(e)},onPaste:I,onCompositionstart:k,onCompositionend:A,tabindex:w,attrs:H2(e,!0)},null)]),!n.value&&D&&!a.value&&_("span",{class:"".concat(d,"-selection-item"),title:l.value},[_(m,{key:null!==(s=D.key)&&void 0!==s?s:D.value},[O])]),u()])}}});d5.props=c5,d5.inheritAttrs=!1;var p5=d5;/** keyCode Judgment function */
/**
       * Locker return cached mark.
       * If set to `true`, will return `true` in a short time even if set `false`.
       * If set to `false` and then set to `true`, will change to `true`.
       * And after time duration, it will back to `null` automatically.
       */
function h5(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=null;function i(i){(i||null===n)&&(n=i),clearTimeout(e),e=setTimeout((function(){n=null}),t)}return G((function(){clearTimeout(e)})),[function(){return n},i]}var f5=a({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},/** Display in the Selector value, it's not same as `value` prop */values:Sq.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:Sq.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:Sq.oneOfType([Sq.number,Sq.string]),disabled:{type:Boolean,default:void 0},placeholder:Sq.any,removeIcon:Sq.any,// Tags
maxTagCount:Sq.oneOfType([Sq.number,Sq.string]),maxTagTextLength:Number,maxTagPlaceholder:Sq.any,tagRender:Function,optionLabelRender:Function,/** Check if `tokenSeparators` contains `\n` or `\r\n` */tokenWithEnter:{type:Boolean,default:void 0},// Motion
choiceTransitionName:String,onToggleOpen:{type:Function},/** `onSearch` returns go next step boolean to check if need do toggle open */onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},
/**
           * @private get real dom for trigger align.
           * This may be removed after React provides replacement of `findDOMNode`
           */
domRef:Function},setup:function(e,t){var n=t.expose,i=function e(t){e.current=t},o=!1,r=jY(h5(0),2),a=r[0],l=r[1],s=function(t){var n,i=t.which;i!==k2.UP&&i!==k2.DOWN||t.preventDefault(),e.onInputKeyDown&&e.onInputKeyDown(t),i!==k2.ENTER||"tags"!==e.mode||o||e.open||// When menu isn't open, OptionList won't trigger a value change
// So when enter is pressed, the tag's input value should be emitted here to let selector know
e.onSearchSubmit(t.target.value),n=i,[// System function button
k2.ESC,k2.SHIFT,k2.BACKSPACE,k2.TAB,k2.WIN_KEY,k2.ALT,k2.META,k2.WIN_KEY_RIGHT,k2.CTRL,k2.SEMICOLON,k2.EQUALS,k2.CAPS_LOCK,k2.CONTEXT_MENU,// F1-F12
k2.F1,k2.F2,k2.F3,k2.F4,k2.F5,k2.F6,k2.F7,k2.F8,k2.F9,k2.F10,k2.F11,k2.F12].includes(n)||e.onToggleOpen(!0)},u=function(){l(!0)},c=null,d=function(t){!1!==e.onSearch(t,!0,o)&&e.onToggleOpen(!0)},p=function(){o=!0},h=function(t){o=!1,// Trigger search again to support `tokenSeparators` with typewriting
"combobox"!==e.mode&&d(t.target.value)},f=function(t){var n=t.target.value;// Pasted text should replace back to origin content
if(e.tokenWithEnter&&c&&/[\r\n]/.test(c)){// CRLF will be treated as a single space for input element
var i=c.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");n=n.replace(i,c)}c=null,d(n)},v=function(e){var t=e.clipboardData.getData("text");c=t},g=function(e){e.target!==i.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){i.current.focus()})):i.current.focus())},y=function(t){var n=a();t.target===i.current||n||t.preventDefault(),("combobox"===e.mode||e.showSearch&&n)&&e.open||(e.open&&e.onSearch("",!0,!1),e.onToggleOpen())};return n({focus:function(){i.current.focus()},blur:function(){i.current.blur()}}),function(){var t=e.prefixCls,n=e.domRef,o=e.mode,r={inputRef:i,onInputKeyDown:s,onInputMouseDown:u,onInputChange:f,onInputPaste:v,onInputCompositionStart:p,onInputCompositionEnd:h},a=_("multiple"===o||"tags"===o?u5:p5,JU(JU({},e),r),null);return _("div",{ref:n,class:"".concat(t,"-selector"),onClick:g,onMousedown:y},[a])}}}),v5=f5;
/**
       * BaseSelect provide some parsed data into context.
       * You can use this hooks to get them.
       */
var g5=Symbol("BaseSelectContextKey");
/**
       * Converts ref to reactive.
       *
       * @see https://vueuse.org/toReactive
       * @param objectRef A ref of object
       */
function y5(e){if(!q(e))return k(e);var t=new Proxy({},{get:function(t,n,i){return Reflect.get(e.value,n,i)},set:function(t,n,i){return e.value[n]=i,!0},deleteProperty:function(t,n){return Reflect.deleteProperty(e.value,n)},has:function(t,n){return Reflect.has(e.value,n)},ownKeys:function(){return Object.keys(e.value)},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}});return k(t)}var m5=["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"],x5=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],b5=function(){return{showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},// MISC
tabindex:Number,autofocus:Boolean,notFoundContent:Sq.any,placeholder:Sq.any,onClear:Function,choiceTransitionName:String,// >>> Mode
mode:String,// >>> Status
disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},// >>> Open
open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},// >>> Customize Input
/** @private Internal usage. Do not use in your production. */getInputElement:{type:Function},/** @private Internal usage. Do not use in your production. */getRawInputElement:{type:Function},// >>> Selector
maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:Sq.any,// >>> Search
tokenSeparators:{type:Array},// >>> Icons
allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:Sq.any,/** Clear all icon */clearIcon:Sq.any,/** Selector remove icon */removeIcon:Sq.any,// >>> Dropdown
animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},// >>> Focus
showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},// >>> Rest Events
onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}};function _5(e){return"tags"===e||"multiple"===e}var w5=a({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:cX(JU(JU({},{prefixCls:String,id:String,omitDomProps:Array,// >>> Value
displayValues:Array,onDisplayValuesChange:Function,// >>> Active
/** Current dropdown list active item string value */activeValue:String,/** Link search input with target element */activeDescendantId:String,onActiveValueChange:Function,// >>> Search
searchValue:String,/** Trigger onSearch, return false to prevent trigger open event */onSearch:Function,/** Trigger when search text match the `tokenSeparators`. Will provide split content */onSearchSplit:Function,maxLength:Number,OptionList:Sq.any,/** Tell if provided `options` is empty */emptyOptions:Boolean}),b5()),{showAction:[],notFoundContent:"Not Found"}),setup:function(e,t){var n=t.attrs,i=t.expose,o=t.slots,r=L((function(){return _5(e.mode)})),a=L((function(){return void 0!==e.showSearch?e.showSearch:r.value||"combobox"===e.mode})),l=s(!1);d((function(){l.value=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4)))}()}));var u=r5(),p=s(null),h=function e(t){e.current=t},f=s(null),v=s(null),g=s(null),y=
/**
       * Similar with `useLock`, but this hook will always execute last value.
       * When set to `true`, it will keep `true` for a short time even if `false` is set.
       */
function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=s(!1),i=function(){clearTimeout(e)};d((function(){i()}));var o=function(o,r){i(),e=setTimeout((function(){n.value=o,r&&r()}),t)};return[n,o,i]}(),m=jY(y,3),x=m[0],b=m[1],w=m[2];// ============================== Refs ==============================
i({focus:function(){var e;null===(e=v.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=v.value)||void 0===e||e.blur()},scrollTo:function(e){var t;return null===(t=g.value)||void 0===t?void 0:t.scrollTo(e)}});var S=L((function(){var t;if("combobox"!==e.mode)return e.searchValue;var n=null===(t=e.displayValues[0])||void 0===t?void 0:t.value;return"string"==typeof n||"number"==typeof n?String(n):""})),C=void 0!==e.open?e.open:e.defaultOpen,M=s(C),T=s(C),I=function(t){M.value=void 0!==e.open?e.open:t,T.value=M.value};// ============================== Open ==============================
c((function(){return e.open}),(function(){I(e.open)}));// Not trigger `open` in `combobox` when `notFoundContent` is empty
var k=L((function(){return!e.notFoundContent&&e.emptyOptions}));j((function(){T.value=M.value,(e.disabled||k.value&&T.value&&"combobox"===e.mode)&&(T.value=!1)}));var A=L((function(){return!k.value&&T.value})),D=function(t){var n=void 0!==t?t:!T.value;M.value===n||e.disabled||(I(n),e.onDropdownVisibleChange&&e.onDropdownVisibleChange(n))},P=L((function(){return(e.tokenSeparators||[]).some((function(e){return["\n","\r\n"].includes(e)}))})),N=function(t,n,i){var o,r=!0,a=t;null===(o=e.onActiveValueChange)||void 0===o||o.call(e,null);// Check if match the `tokenSeparators`
var l,s=i?null:function(e,t){if(!t||!t.length)return null;var n=!1,i=function e(t,i){var o=tQ(i),r=o[0],a=o.slice(1);if(!r)return[t];var l=t.split(r);return n=n||l.length>1,l.reduce((function(t,n){return[].concat(GY(t),GY(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?i:null}(t,e.tokenSeparators);// Ignore combobox since it's not split-able
"combobox"!==e.mode&&s&&(a="",null===(l=e.onSearchSplit)||void 0===l||l.call(e,s),// Should close when paste finish
D(!1),// Tell Selector that break next actions
r=!1);return e.onSearch&&S.value!==a&&e.onSearch(a,{source:n?"typing":"effect"}),r},R=function(t){var n;// prevent empty tags from appearing when you click the Enter button
t&&t.trim()&&(null===(n=e.onSearch)||void 0===n||n.call(e,t,{source:"submit"}))};// Close will clean up single mode search text
c(T,(function(){T.value||r.value||"combobox"===e.mode||N("",!1,!1)}),{immediate:!0,flush:"post"}),// ============================ Disabled ============================
// Close dropdown & remove focus state when disabled change
c((function(){return e.disabled}),(function(){M.value&&e.disabled&&I(!1)}),{immediate:!0});// ============================ Keyboard ============================
/**
           * We record input value here to check if can press to clean up by backspace
           * - null: Key is not down, this is reset by key up
           * - true: Search text is empty when first time backspace down
           * - false: Search text is not empty when first time backspace down
           */
var z=jY(h5(),2),B=z[0],F=z[1],V=function(t){var n,i,o=B(),a=t.which;// Remove value by `backspace`
if(a===k2.ENTER&&(// Do not submit form when type in the input
"combobox"!==e.mode&&t.preventDefault(),// We only manage open state here, close logic should handle by list component
T.value||D(!0)),F(!!S.value),a===k2.BACKSPACE&&!o&&r.value&&!S.value&&e.displayValues.length){for(var l=GY(e.displayValues),s=null,u=l.length-1;u>=0;u-=1){var c=l[u];if(!c.disabled){l.splice(u,1),s=c;break}}s&&e.onDisplayValuesChange(l,{type:"remove",values:[s]})}for(var d=arguments.length,p=new Array(d>1?d-1:0),h=1;h<d;h++)p[h-1]=arguments[h];T.value&&g.value&&(i=g.value).onKeydown.apply(i,[t].concat(p));null===(n=e.onKeydown)||void 0===n||n.call.apply(n,[e,t].concat(p))},H=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r;T.value&&g.value&&(r=g.value).onKeyup.apply(r,[t].concat(i));e.onKeyup&&e.onKeyup.apply(e,[t].concat(i))},W=function(t){var n=e.displayValues.filter((function(e){return e!==t}));e.onDisplayValuesChange(n,{type:"remove",values:[t]})},K=s(!1);// KeyDown
E("VCSelectContainerEvent",{focus:function(){b(!0),e.disabled||(e.onFocus&&!K.value&&e.onFocus.apply(e,arguments),// `showAction` should handle `focus` if set
e.showAction&&e.showAction.includes("focus")&&D(!0)),K.value=!0},blur:function(){if(b(!1,(function(){K.value=!1,D(!1)})),!e.disabled){var t=S.value;t&&(// `tags` mode should move `searchValue` into values
"tags"===e.mode?e.onSearch(t,{source:"submit"}):"multiple"===e.mode&&// `multiple` mode only clean the search value but not trigger event
e.onSearch("",{source:"blur"})),e.onBlur&&e.onBlur.apply(e,arguments)}}});// Give focus back of Select
var U=[];d((function(){U.forEach((function(e){return clearTimeout(e)})),U.splice(0,U.length)})),G((function(){U.forEach((function(e){return clearTimeout(e)})),U.splice(0,U.length)}));var Y=function(t){var n,i,o=t.target,r=null===(n=f.value)||void 0===n?void 0:n.getPopupElement();// We should give focus back to selector if clicked item is not focusable
if(r&&r.contains(o)){var a=setTimeout((function(){var e,t=U.indexOf(a);(-1!==t&&U.splice(t,1),w(),l.value||r.contains(document.activeElement))||(null===(e=v.value)||void 0===e||e.focus())}));U.push(a)}for(var s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];null===(i=e.onMousedown)||void 0===i||i.call.apply(i,[e,t].concat(u))},q=s(null),$=O(),J=function(){// We need force update here since popup dom is render async
$.update()};// ============================= Dropdown ==============================
return d((function(){c(A,(function(){if(A.value){var e,t=Math.ceil(null===(e=p.value)||void 0===e?void 0:e.offsetWidth);q.value===t||Number.isNaN(t)||(q.value=t)}}),{immediate:!0,flush:"post"})})),// Close when click on non-select element
function(e,t,n){function i(i){var o,r,a,l=i.target;l.shadowRoot&&i.composed&&(l=i.composedPath()[0]||l);var s=[null===(o=e[0])||void 0===o?void 0:o.value,null===(r=e[1])||void 0===r||null===(a=r.value)||void 0===a?void 0:a.getPopupElement()];t.value&&s.every((function(e){return e&&!e.contains(l)&&e!==l}))&&// Should trigger close
n(!1)}d((function(){window.addEventListener("mousedown",i)})),G((function(){window.removeEventListener("mousedown",i)}))}([p,f],A,D),function(e){E(g5,e)}(y5(JU(JU({},Z(e)),{},{open:T,triggerOpen:A,showSearch:a,multiple:r,toggleOpen:D}))),function(){var t,i=JU(JU({},e),n),l=i.prefixCls,s=i.id;i.open,i.defaultOpen;var c=i.mode;i.showSearch,i.searchValue,i.onSearch;var d=i.allowClear,y=i.clearIcon,m=i.showArrow,b=i.inputIcon,w=i.disabled,C=i.loading,M=i.getInputElement,I=i.getPopupContainer,k=i.placement,O=i.animation,L=i.transitionName,E=i.dropdownStyle,z=i.dropdownClassName,B=i.dropdownMatchSelectWidth,F=i.dropdownRender,j=i.dropdownAlign;i.showAction;var G=i.direction;i.tokenSeparators;var K=i.tagRender,U=i.optionLabelRender;i.onPopupScroll,i.onDropdownVisibleChange,i.onFocus,i.onBlur,i.onKeyup,i.onKeydown,i.onMousedown;var Z,$=i.onClear,Q=i.omitDomProps,ee=i.getRawInputElement,te=i.displayValues,ne=i.onDisplayValuesChange,ie=i.emptyOptions,oe=i.activeDescendantId,re=i.activeValue,ae=i.OptionList,le=zX(i,m5),se="combobox"===c&&M&&M()||null,ue="function"==typeof ee&&ee(),ce=JU({},le);// ============================= Input ==============================
// Only works in `combobox`
ue&&(Z=function(e){D(e)}),x5.forEach((function(e){delete ce[e]})),null==Q||Q.forEach((function(e){delete ce[e]}));// ============================= Arrow ==============================
var de,pe,he=void 0!==m?m:C||!r.value&&"combobox"!==c;he&&(de=_(D2,{class:fY("".concat(l,"-arrow"),ZU({},"".concat(l,"-arrow-loading"),C)),customizeIcon:b,customizeIconProps:{loading:C,searchValue:S.value,open:T.value,focused:x.value,showSearch:a.value}},null));// ============================= Clear ==============================
!w&&d&&(te.length||S.value)&&(pe=_(D2,{class:"".concat(l,"-clear"),onMousedown:function(){null==$||$(),ne([],{type:"clear",values:te}),N("",!1,!1)},customizeIcon:y},{default:function(){return[X("×")]}}));// =========================== OptionList ===========================
var fe=_(ae,{ref:g},JU(JU({},u.customSlots),{},{option:o.option})),ve=fY(l,n.class,(ZU(t={},"".concat(l,"-focused"),x.value),ZU(t,"".concat(l,"-multiple"),r.value),ZU(t,"".concat(l,"-single"),!r.value),ZU(t,"".concat(l,"-allow-clear"),d),ZU(t,"".concat(l,"-show-arrow"),he),ZU(t,"".concat(l,"-disabled"),w),ZU(t,"".concat(l,"-loading"),C),ZU(t,"".concat(l,"-open"),T.value),ZU(t,"".concat(l,"-customize-input"),se),ZU(t,"".concat(l,"-show-search"),a.value),t)),ge=_(T2,{ref:f,disabled:w,prefixCls:l,visible:A.value,popupElement:fe,containerWidth:q.value,animation:O,transitionName:L,dropdownStyle:E,dropdownClassName:z,direction:G,dropdownMatchSelectWidth:B,dropdownRender:F,dropdownAlign:j,placement:k,getPopupContainer:I,empty:ie,getTriggerDOMNode:function(){return h.current},onPopupVisibleChange:Z,onPopupMouseEnter:J},{default:function(){return ue?wX(ue)&&x0(ue,{ref:h},!1,!0):_(v5,JU(JU({},e),{},{domRef:h,prefixCls:l,inputElement:se,ref:v,id:s,showSearch:a.value,mode:c,activeDescendantId:oe,tagRender:K,optionLabelRender:U,values:te,open:T.value,onToggleOpen:D,activeValue:re,searchValue:S.value,onSearch:N,onSearchSubmit:R,onRemove:W,tokenWithEnter:P.value}),null)}});// ============================= Select =============================
// Render raw
return ue?ge:_("div",JU(JU({},ce),{},{class:ve,ref:p,onMousedown:Y,onKeydown:V,onKeyup:H}),[x.value&&!T.value&&_("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},["".concat(te.map((function(e){var t=e.label,n=e.value;return["number","string"].includes(XU(t))?t:n})).join(", "))]),ge,de,pe])}}}),S5=function(e,t){var n,i=e.height,o=e.offset,r=e.prefixCls,a=e.onInnerResize,l=t.slots,s={},u={display:"flex",flexDirection:"column"};return void 0!==o&&(s={height:"".concat(i,"px"),position:"relative",overflow:"hidden"},u=JU(JU({},u),{},{transform:"translateY(".concat(o,"px)"),position:"absolute",left:0,right:0,top:0})),_("div",{style:s},[_(CX,{onResize:function(e){e.offsetHeight&&a&&a()}},{default:function(){return[_("div",{style:u,class:fY(ZU({},"".concat(r,"-holder-inner"),r))},[null===(n=l.default)||void 0===n?void 0:n.call(l)])]}})])};S5.displayName="Filter",S5.inheritAttrs=!1,S5.props={prefixCls:String,/** Virtual filler height. Should be `count * itemMinHeight` */height:Number,/** Set offset of visible items. Should be the top of start item position */offset:Number,onInnerResize:Function};var C5=S5,M5=function(e,t){var n,i=e.setRef,o=t.slots,r=fX(null===(n=o.default)||void 0===n?void 0:n.call(o));return r&&r.length?W(r[0],{ref:i}):r};M5.props={setRef:{type:Function,default:function(){}}};var T5=M5;function I5(e){return"touches"in e?e.touches[0].pageY:e.pageY}var k5=a({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup:function(){return{moveRaf:null,scrollbarRef:function e(t){e.current=t},thumbRef:function e(t){e.current=t},visibleTimeout:null,state:k({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler:function(){this.delayHidden()},flush:"post"}},mounted:function(){var e,t;null===(e=this.scrollbarRef.current)||void 0===e||e.addEventListener("touchstart",this.onScrollbarTouchStart,!!NX&&{passive:!1}),null===(t=this.thumbRef.current)||void 0===t||t.addEventListener("touchstart",this.onMouseDown,!!NX&&{passive:!1})},beforeUnmount:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden:function(){var e=this;clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout((function(){e.state.visible=!1}),2e3)},onScrollbarTouchStart:function(e){e.preventDefault()},onContainerMouseDown:function(e){e.stopPropagation(),e.preventDefault()},// ======================= Clean =======================
patchEvents:function(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,!!NX&&{passive:!1}),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,!!NX&&{passive:!1}),this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,!!NX&&{passive:!1}),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,!!NX&&{passive:!1}),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp),DX.cancel(this.moveRaf)},// ======================= Thumb =======================
onMouseDown:function(e){var t=this.$props.onStartMove;QU(this.state,{dragging:!0,pageY:I5(e),startTop:this.getTop()}),t(),this.patchEvents(),e.stopPropagation(),e.preventDefault()},onMouseMove:function(e){var t=this.state,n=t.dragging,i=t.pageY,o=t.startTop,r=this.$props.onScroll;if(DX.cancel(this.moveRaf),n){var a=o+(I5(e)-i),l=this.getEnableScrollRange(),s=this.getEnableHeightRange(),u=s?a/s:0,c=Math.ceil(u*l);this.moveRaf=DX((function(){r(c)}))}},onMouseUp:function(){var e=this.$props.onStopMove;this.state.dragging=!1,e(),this.removeEvents()},// ===================== Calculate =====================
getSpinHeight:function(){var e=this.$props,t=e.height,n=t/e.count*10;return n=Math.max(n,20),n=Math.min(n,t/2),Math.floor(n)},getEnableScrollRange:function(){var e=this.$props;return e.scrollHeight-e.height||0},getEnableHeightRange:function(){return this.$props.height-this.getSpinHeight()||0},getTop:function(){var e=this.$props.scrollTop,t=this.getEnableScrollRange(),n=this.getEnableHeightRange();return 0===e||0===t?0:e/t*n},// Not show scrollbar when height is large than scrollHeight
showScroll:function(){var e=this.$props,t=e.height;return e.scrollHeight>t}},render:function(){// eslint-disable-next-line no-unused-vars
var e=this.state,t=e.dragging,n=e.visible,i=this.$props.prefixCls,o=this.getSpinHeight()+"px",r=this.getTop()+"px",a=this.showScroll(),l=a&&n;return _("div",{ref:this.scrollbarRef,class:fY("".concat(i,"-scrollbar"),ZU({},"".concat(i,"-scrollbar-show"),a)),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:l?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[_("div",{ref:this.thumbRef,class:fY("".concat(i,"-scrollbar-thumb"),ZU({},"".concat(i,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:o,top:r,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});var A5="object"===("undefined"==typeof navigator?"undefined":XU(navigator))&&/Firefox/i.test(navigator.userAgent),D5=function(e,t){// Do lock for a wheel when scrolling
var n=!1,i=null;function o(){clearTimeout(i),n=!0,i=setTimeout((function(){n=!1}),50)}return function(r){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=// Pass origin wheel when on the top
r<0&&e.value||// Pass origin wheel when on the bottom
r>0&&t.value;return a&&l?(// No need lock anymore when it's smooth offset from touchMove interval
clearTimeout(i),n=!1):l&&!n||o(),!n&&l}};var O5=["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"],P5=[],L5={overflowY:"auto",overflowAnchor:"none"};var E5=a({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:Sq.array,height:Number,itemHeight:Number,/** If not match virtual scroll condition, Set List still use height of container. */fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},/** Set `false` will always use real scroll instead of virtual one */virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup:function(e,t){var n=t.expose,i=L((function(){var t=e.height,n=e.itemHeight;return!(!1===e.virtual||!t||!n)})),o=L((function(){var t=e.height,n=e.itemHeight,o=e.data;return i.value&&o&&n*o.length>t})),r=k({scrollTop:0,scrollMoving:!1}),a=L((function(){return e.data||P5})),l=$([]);// ================================= MISC =================================
c(a,(function(){l.value=J(a.value).slice()}),{immediate:!0});// eslint-disable-next-line @typescript-eslint/no-unused-vars
var u=$((function(e){}));c((function(){return e.itemKey}),(function(e){u.value="function"==typeof e?e:function(t){return null==t?void 0:t[e]}}),{immediate:!0});var p=s(),h=s(),f=s(),v=function(e){return u.value(e)},g={getKey:v};// ================================ Scroll ================================
function y(e){var t=function(e){var t=e;Number.isNaN(T.value)||(t=Math.min(t,T.value));return t=Math.max(t,0),t}("function"==typeof e?e(r.scrollTop):e);p.value&&(p.value.scrollTop=t),r.scrollTop=t}// ================================ Height ================================
var m=function(e,t,n,i){var o=new Map,r=new Map,a=s(Symbol("update"));c(e,(function(){a.value=Symbol("update")}));var l=0;function u(){var e=l+=1;Promise.resolve().then((function(){// Only collect when it's latest call
e===l&&// let changed = false;
o.forEach((function(e,t){if(e&&e.offsetParent){var n=e.offsetHeight;r.get(t)!==n&&(//changed = true;
a.value=Symbol("update"),r.set(t,e.offsetHeight))}}))}))}return[function(e,r){var a=t(e),l=o.get(a);r?(o.set(a,r.$el||r),u()):o.delete(a),// Instance changed
!l!=!r&&(r?null==n||n(e):null==i||i(e))},u,r,a]}(l,v,null,null),x=jY(m,4),b=x[0],_=x[1],w=x[2],S=x[3],C=k({scrollHeight:void 0,start:0,end:0,offset:void 0}),M=s(0);d((function(){V((function(){var e;M.value=(null===(e=h.value)||void 0===e?void 0:e.offsetHeight)||0}))})),A((function(){V((function(){var e;M.value=(null===(e=h.value)||void 0===e?void 0:e.offsetHeight)||0}))})),c([i,l],(function(){i.value||QU(C,{scrollHeight:void 0,start:0,end:l.value.length-1,offset:void 0})}),{immediate:!0}),c([i,l,M,o],(function(){// Always use virtual scroll bar in avoid shaking
i.value&&!o.value&&QU(C,{scrollHeight:M.value,start:0,end:l.value.length-1,offset:void 0})}),{immediate:!0}),c([o,i,function(){return r.scrollTop},l,S,function(){return e.height},M],(function(){if(i.value&&o.value){for(var t,n,a,s=0,u=l.value.length,c=l.value,d=r.scrollTop,p=e.itemHeight,h=d+e.height,f=0;f<u;f+=1){var g=c[f],y=v(g),m=w.get(y);void 0===m&&(m=p);var x=s+m;void 0===t&&x>=d&&(t=f,n=s),// Check item bottom in the range. We will render additional one item for motion usage
void 0===a&&x>h&&(a=f),s=x}// Fallback to normal if not match. This code should never reach
/* istanbul ignore next */void 0===t&&(t=0,n=0),void 0===a&&(a=u-1),// Give cache to improve scroll experience
a=Math.min(a+1,u),QU(C,{scrollHeight:s,start:t,end:a,offset:n})}}),{immediate:!0});// =============================== In Range ===============================
var T=L((function(){return C.scrollHeight-e.height}));var I=L((function(){return r.scrollTop<=0})),D=L((function(){return r.scrollTop>=T.value})),O=D5(I,D);// Since this added in global,should use ref to keep update
var P=function(e,t,n,i){var o=0,r=null,a=null,l=!1,s=D5(t,n);return[function(t){if(e.value){DX.cancel(r);var n=t.deltaY;o+=n,a=n,// Do nothing when scroll at the edge, Skip check when is in scroll
s(n)||(// Proxy of scroll events
A5||t.preventDefault(),r=DX((function(){i(o*(l?10:1)),o=0})))}}// A patch for firefox
,function(t){e.value&&(l=t.detail===a)}]}(i,I,D,(function(e){y((function(t){return t+e}))})),E=jY(P,2),N=E[0],R=E[1];// Mobile touch move
// Firefox only
function z(e){i.value&&e.preventDefault()}!function(e,t,n){var i=!1,o=0,r=null,a=null,l=function(){r&&(r.removeEventListener("touchmove",s),r.removeEventListener("touchend",u))},s=function(e){if(i){var t=Math.ceil(e.touches[0].pageY),r=o-t;o=t,n(r)&&e.preventDefault(),// Smooth interval
clearInterval(a),a=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(a)}),16)}},u=function(){i=!1,l()},p=function(e){l(),1!==e.touches.length||i||(i=!0,o=Math.ceil(e.touches[0].pageY),(r=e.target).addEventListener("touchmove",s,{passive:!1}),r.addEventListener("touchend",u))},h=function(){};d((function(){document.addEventListener("touchmove",h,{passive:!1}),c(e,(function(e){t.value.removeEventListener("touchstart",p),l(),clearInterval(a),e&&t.value.addEventListener("touchstart",p,{passive:!1})}),{immediate:!0})})),G((function(){document.removeEventListener("touchmove",h)}))}(i,p,(function(e,t){return!O(e,t)&&(N({preventDefault:function(){},deltaY:e}),!0)}));var B=function(){p.value&&(p.value.removeEventListener("wheel",N,!!NX&&{passive:!1}),p.value.removeEventListener("DOMMouseScroll",R),p.value.removeEventListener("MozMousePixelScroll",z))};j((function(){V((function(){p.value&&(B(),p.value.addEventListener("wheel",N,!!NX&&{passive:!1}),p.value.addEventListener("DOMMouseScroll",R),p.value.addEventListener("MozMousePixelScroll",z))}))})),G((function(){B()}));// ================================= Ref ==================================
var F=function(e,t,n,i,o,r,a,l){var s;return function(u){// When not argument provided, we think dev may want to show the scrollbar
if(null!=u){// Normal scroll logic
DX.cancel(s);var c=t.value,d=i.itemHeight;if("number"==typeof u)a(u);else if(u&&"object"===XU(u)){var p,h=u.align;p="index"in u?u.index:c.findIndex((function(e){return o(e)===u.key}));var f=u.offset,v=void 0===f?0:f;// We will retry 3 times in case dynamic height shaking
!function t(i,l){if(!(i<0)&&e.value){var u=e.value.clientHeight,f=!1,g=l;// Go to next frame if height not exist
if(u){for(var y=l||h,m=0,x=0,b=0,_=Math.min(c.length,p),w=0// Get top & bottom
;w<=_;w+=1){var S=o(c[w]);x=m;var C=n.get(S);m=b=x+(void 0===C?d:C),w===p&&void 0===C&&(f=!0)}var M=e.value.scrollTop,T=null;// Scroll to
switch(y){case"top":T=x-v;break;case"bottom":T=b-u+v;break;default:x<M?g="top":b>M+u&&(g="bottom")}null!==T&&T!==M&&a(T)}// We will retry since element may not sync height as it described
s=DX((function(){f&&r(),t(i-1,g)}))}}(5)}}else l()}}(p,l,w,e,v,_,y,(function(){var e;null===(e=f.value)||void 0===e||e.delayHidden()}));n({scrollTo:F});var H=L((function(){var t=null;return e.height&&(t=JU(ZU({},e.fullHeight?"height":"maxHeight",e.height+"px"),L5),i.value&&(t.overflowY="hidden",r.scrollMoving&&(t.pointerEvents="none"))),t}));// ================================ Effect ================================
/** We need told outside that some list not rendered */return c([function(){return C.start},function(){return C.end},l],(function(){if(e.onVisibleChange){var t=l.value.slice(C.start,C.end+1);e.onVisibleChange(t,l.value)}}),{flush:"post"}),{state:r,mergedData:l,componentStyle:H,onFallbackScroll:// When data size reduce. It may trigger native scroll event back to fit scroll position
function(t){var n,i=t.currentTarget.scrollTop;Math.abs(i-r.scrollTop)>=1&&y(i),// Trigger origin onScroll
null===(n=e.onScroll)||void 0===n||n.call(e,t)},onScrollBar:// ================================ Scroll ================================
function(e){y(e)},componentRef:p,useVirtual:i,calRes:C,collectHeight:_,setInstance:b,sharedConfig:g,scrollBarRef:f,fillerInnerRef:h}},render:function(){var e=this,t=JU(JU({},this.$props),this.$attrs),n=t.prefixCls,i=void 0===n?"rc-virtual-list":n,o=t.height;t.itemHeight,t.fullHeight,t.data,t.itemKey,t.virtual;var r=t.component,a=void 0===r?"div":r;t.onScroll;var l=t.children,s=void 0===l?this.$slots.default:l,u=t.style,c=t.class,d=zX(t,O5),p=fY(i,c),h=this.state.scrollTop,f=this.calRes,v=f.scrollHeight,g=f.offset,y=f.start,m=f.end,x=this.componentStyle,b=this.onFallbackScroll,w=this.onScrollBar,S=this.useVirtual,C=this.collectHeight,M=this.sharedConfig,T=this.setInstance,I=this.mergedData;return _("div",JU({style:JU(JU({},u),{},{position:"relative"}),class:p},d),[_(a,{class:"".concat(i,"-holder"),style:x,ref:"componentRef",onScroll:b},{default:function(){return[_(C5,{prefixCls:i,height:v,offset:g,onInnerResize:C,ref:"fillerInnerRef"},{default:function(){return function(e,t,n,i,o,r){var a=r.getKey;return e.slice(t,n+1).map((function(e,n){var r=o(e,t+n,{}),l=a(e);return _(T5,{key:l,setRef:function(t){return i(e,t)}},{default:function(){return[r]}})}))}(I,y,m,T,s,M)}})]}}),S&&_(k5,{ref:"scrollBarRef",prefixCls:i,scrollTop:h,height:o,scrollHeight:v,count:I.length,onScroll:w,onStartMove:function(){e.state.scrollMoving=!0},onStopMove:function(){e.state.scrollMoving=!1}},null)])}}),N5=E5;
/**
       * BaseSelect provide some parsed data into context.
       * You can use this hooks to get them.
       */
var R5=Symbol("SelectContextKey");var z5=["disabled","title","children","style","class","className"];function B5(e){return"string"==typeof e||"number"==typeof e}
/**
       * Using virtual list of option display.
       * Will fallback to dom if use customize render.
       */var F5=a({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,slots:["option"],setup:function(e,t){var n=t.expose,i=t.slots,o=P(g5,{}),r=P(R5,{}),a=L((function(){return"".concat(o.prefixCls,"-item")})),l=function(e,t,n){var i=s(e());return c(t,(function(t,o){n?n(t,o)&&(i.value=e()):i.value=e()})),i}/* istanbul ignore file */((function(){return r.flattenOptions}),[function(){return o.open},function(){return r.flattenOptions}],(function(e){return e[0]})),u=function e(t){e.current=t},d=function(e){e.preventDefault()},p=function(e){u.current&&u.current.scrollTo("number"==typeof e?{index:e}:e)},h=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=l.value.length,i=0;i<n;i+=1){var o=(e+i*t+n)%n,r=l.value[o],a=r.group,s=r.data;if(!a&&!s.disabled)return o}return-1},f=k({activeIndex:h(0)}),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f.activeIndex=e;var n={source:t?"keyboard":"mouse"},i=l.value[e];// Trigger active event
i?r.onActiveValue(i.value,e,n):r.onActiveValue(null,-1,n)};// Auto active first item when list length or searchValue changed
c([function(){return l.value.length},function(){return o.searchValue}],(function(){v(!1!==r.defaultActiveFirstOption?h(0):-1)}),{immediate:!0});// https://github.com/ant-design/ant-design/issues/34975
var g=function(e){return r.rawValues.has(e)&&"combobox"!==o.mode};// Auto scroll to item position in single mode
c([function(){return o.open},function(){return o.searchValue}],(function(){if(!o.multiple&&o.open&&1===r.rawValues.size){var e=Array.from(r.rawValues)[0],t=J(l.value).findIndex((function(t){return t.data[r.fieldNames.value]===e}));-1!==t&&(v(t),V((function(){p(t)})))}// Force trigger scrollbar visible when open
o.open&&V((function(){var e;null===(e=u.current)||void 0===e||e.scrollTo(void 0)}))}),{immediate:!0,flush:"post"});// ========================== Values ==========================
var y=function(e){void 0!==e&&r.onSelect(e,{selected:!r.rawValues.has(e)}),// Single mode should always close by select
o.multiple||o.toggleOpen(!1)},x=function(e){return"function"==typeof e.label?e.label():e.label};function b(e){var t=l.value[e];if(!t)return null;var n=t.data||{},i=n.value,r=t.group,a=H2(n,!0),s=x(t);return t?_("div",JU(JU({"aria-label":"string"!=typeof s||r?null:s},a),{},{key:e,role:r?"presentation":"option",id:"".concat(o.id,"_list_").concat(e),"aria-selected":g(i)}),[i]):null}return n({onKeydown:function(e){var t=e.which,n=e.ctrlKey;switch(t){// >>> Arrow keys & ctrl + n/p on Mac
case k2.N:case k2.P:case k2.UP:case k2.DOWN:var i=0;if(t===k2.UP?i=-1:t===k2.DOWN?i=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===k2.N?i=1:t===k2.P&&(i=-1)),0!==i){var r=h(f.activeIndex+i,i);p(r),v(r,!0)}break;// >>> Select
case k2.ENTER:// value
var a=l.value[f.activeIndex];a&&!a.data.disabled?y(a.value):y(void 0),o.open&&e.preventDefault();break;// >>> Close
case k2.ESC:o.toggleOpen(!1),o.open&&e.stopPropagation()}},onKeyup:function(){},scrollTo:function(e){p(e)}}),function(){// const {
//   renderItem,
//   listRef,
//   onListMouseDown,
//   itemPrefixCls,
//   setActive,
//   onSelectValue,
//   memoFlattenOptions,
//   $slots,
// } = this as any;
var e=o.id,t=o.notFoundContent,n=o.onPopupScroll,s=r.menuItemSelectedIcon,c=r.fieldNames,p=r.virtual,h=r.listHeight,w=r.listItemHeight,S=i.option,C=f.activeIndex,M=Object.keys(c).map((function(e){return c[e]}));// ========================== Render ==========================
return 0===l.value.length?_("div",{role:"listbox",id:"".concat(e,"_list"),class:"".concat(a.value,"-empty"),onMousedown:d},[t]):_(m,null,[_("div",{role:"listbox",id:"".concat(e,"_list"),style:{height:0,width:0,overflow:"hidden"}},[b(C-1),b(C),b(C+1)]),_(N5,{itemKey:"key",ref:u,data:l.value,height:h,itemHeight:w,fullHeight:!1,onMousedown:d,onScroll:n,virtual:p},{default:function(e,t){var n,i=e.group,o=e.groupOption,r=e.data,l=e.value,u=r.key,c="function"==typeof e.label?e.label():e.label;// Group
if(i){var d,p=null!==(d=r.title)&&void 0!==d?d:B5(c)&&c;return _("div",{class:fY(a.value,"".concat(a.value,"-group")),title:p},[S?S(r):void 0!==c?c:u])}var h=r.disabled,f=r.title;r.children;var m=r.style,b=r.class,w=r.className,T=zX(r,z5),I=ZJ(T,M),k=g(l),A="".concat(a.value,"-option"),D=fY(a.value,A,b,w,(ZU(n={},"".concat(A,"-grouped"),o),ZU(n,"".concat(A,"-active"),C===t&&!h),ZU(n,"".concat(A,"-disabled"),h),ZU(n,"".concat(A,"-selected"),k),n)),O=x(e),P=!s||"function"==typeof s||k,L="number"==typeof O?O:O||l,E=B5(L)?L.toString():void 0;return void 0!==f&&(E=f),_("div",JU(JU({},I),{},{"aria-selected":k,class:D,title:E,onMousemove:function(e){T.onMousemove&&T.onMousemove(e),C===t||h||v(t)},onClick:function(e){h||y(l),T.onClick&&T.onClick(e)},style:m}),[_("div",{class:"".concat(A,"-content")},[S?S(r):L]),wX(s)||k,P&&_(D2,{class:"".concat(a.value,"-option-state"),customizeIcon:s,customizeIconProps:{isSelected:k}},{default:function(){return[k?"✓":null]}})])}})])}}}),V5=F5,j5=["value","disabled"];function H5(e){var t=e.key,n=e.children,i=e.props,o=i.value,r=i.disabled,a=zX(i,j5);return JU({key:t,value:void 0!==o?o:t,children:null==n?void 0:n.default,disabled:r||""===r},a)}function G5(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=fX(e).map((function(e,n){var i;if(!wX(e)||!e.type)return null;var o=e.type.isSelectOptGroup,r=e.key,a=e.children,l=e.props;if(t||!o)return H5(e);var s=a&&a.default?a.default():void 0,u=(null==l?void 0:l.label)||(null===(i=a.label)||void 0===i?void 0:i.call(a))||r;return JU(JU({key:"__RC_SELECT_GRP__".concat(null===r?n:String(r),"__")},l),{},{label:u,options:G5(s||[])})})).filter((function(e){return e}));return n}
/**
       * Parse `children` to `options` if `options` is not provided.
       * Then flatten the `options`.
       */function W5(e,t,n){var i=$(),o=$(),r=$(),a=$([]);return c([e,t],(function(){e.value?a.value=J(e.value).slice():a.value=G5(t.value)}),{immediate:!0,deep:!0}),j((function(){var e=a.value,t=new Map,l=new Map,s=n.value;!function e(n){// for loop to speed up collection speed
for(var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=0;o<n.length;o+=1){var r=n[o];!r[s.options]||i?(t.set(r[s.value],r),l.set(r[s.label],r)):e(r[s.options],!0)}}(e),i.value=e,o.value=t,r.value=l})),{options:i,valueOptions:o,labelOptions:r}}var K5=0,U5=AJ();/** Is client side and not jsdom */ /** Get unique id for accessibility usage */function Y5(){var e;// Test never reach
/* istanbul ignore if */return U5?(e=K5,K5+=1):e="TEST_OR_SSR",e}function X5(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function q5(e,t){return X5(e).join("").toUpperCase().includes(t)}function Z5(e,t){var n=t||{},i=n.defaultValue,o=n.value,r=void 0===o?s():o,a="function"==typeof e?e():e;void 0!==r.value&&(a=w(r)),void 0!==i&&(a="function"==typeof i?i():i);var l=s(a),u=s(a);return j((function(){var e=void 0!==r.value?r.value:l.value;t.postState&&(e=t.postState(e)),u.value=e})),// Effect of reset value to `undefined`
c(r,(function(){l.value=r.value})),[u,function(e){var n=u.value;l.value=e,J(u.value)!==e&&t.onChange&&t.onChange(e,n)}]}function $5(e){var t="function"==typeof e?e():e,n=s(t);return[n,function(e){n.value=e}]}var J5=["inputValue"];function Q5(){return JU(JU({},b5()),{},{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},// >>> Field Names
fieldNames:Object,// >>> Search
/** @deprecated Use `searchValue` instead */inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},// >>> Select
onSelect:Function,onDeselect:Function,// >>> Options
/**
           * In Select, `false` means do nothing.
           * In TreeSelect, `false` will highlight match item.
           * It's by design.
           */
filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,// >>> Icon
menuItemSelectedIcon:Sq.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:Sq.any,defaultValue:Sq.any,onChange:Function,children:Array})}var e3=a({compatConfig:{MODE:3},name:"Select",inheritAttrs:!1,props:cX(Q5(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup:function(e,t){var n=t.expose,i=t.attrs,o=t.slots,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(""),t="rc_select_".concat(Y5());// Inner id for accessibility usage. Only work in client side
return e.value||t}(K(e,"id")),a=L((function(){return _5(e.mode)})),l=L((function(){return!(e.options||!e.children)})),u=L((function(){return(void 0!==e.filterOption||"combobox"!==e.mode)&&e.filterOption})),c=L((function(){return iQ(e.fieldNames,l.value)})),d=jY(Z5("",{value:L((function(){return void 0!==e.searchValue?e.searchValue:e.inputValue})),postState:function(e){return e||""}}),2),p=d[0],h=d[1],f=W5(K(e,"options"),K(e,"children"),c),v=f.valueOptions,g=f.labelOptions,y=f.options,m=function(t){// Convert to labelInValue type
return X5(t).map((function(t){var n,i,o,r,a,l;// Fill label & value
(l=t)&&"object"===XU(l)?(o=t.key,i=t.label,n=null!==(a=t.value)&&void 0!==a?a:o):n=t;var s,u=v.value.get(n);u&&(// Fill missing props
void 0===i&&(i=null==u?void 0:u[e.optionLabelProp||c.value.label]),void 0===o&&(o=null!==(s=null==u?void 0:u.key)&&void 0!==s?s:n),r=null==u?void 0:u.disabled);return{label:i,value:n,key:o,disabled:r,option:u}}))},x=jY(Z5(e.defaultValue,{value:K(e,"value")}),2),b=x[0],w=x[1],S=function(e,t){var n=$({values:new Map,options:new Map});return[L((function(){var i=n.value,o=i.values,r=i.options,a=e.value.map((function(e){var t;return void 0===e.label?JU(JU({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),l=new Map,s=new Map;// Fill label by cache
return a.forEach((function(e){l.set(e.value,e),s.set(e.value,t.value.get(e.value)||r.get(e.value))})),n.value.values=l,n.value.options=s,a})),function(e){return t.value.get(e)||n.value.options.get(e)}]}(L((function(){var t,n=m(b.value);// combobox no need save value when it's empty
return"combobox"!==e.mode||null!==(t=n[0])&&void 0!==t&&t.value?n:[]})),v),C=jY(S,2),M=C[0],T=C[1],I=L((function(){// `null` need show as placeholder instead
// https://github.com/ant-design/ant-design/issues/25057
if(!e.mode&&1===M.value.length){var t=M.value[0];if(null===t.value&&(null===t.label||void 0===t.label))return[]}return M.value.map((function(e){var t;return JU(JU({},e),{},{label:null!==(t="function"==typeof e.label?e.label():e.label)&&void 0!==t?t:e.value})}))})),k=L((function(){return new Set(M.value.map((function(e){return e.value})))}));j((function(){if("combobox"===e.mode){var t,n=null===(t=M.value[0])||void 0===t?void 0:t.value;null!=n&&h(String(n))}}),{flush:"post"});// ======================= Display Option =======================
// Create a placeholder item if not exist in `options`
var A=function(e,t){var n,i=null!=t?t:e;return ZU(n={},c.value.value,e),ZU(n,c.value.label,i),n},D=$();// Fill tag as option if mode is `tags`
j((function(){if("tags"===e.mode){// >>> Tag mode
var t=y.value.slice();// Check if value exist in options (include new patch item)
// Fill current value as option
GY(M.value).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(e){var n=e.value;(function(e){return v.value.has(e)})(n)||t.push(A(n,e.label))})),D.value=t}else D.value=y.value}));var O,P,N,R,z,B=(O=D,P=c,N=p,R=u,z=K(e,"optionFilterProp"),L((function(){var e=N.value,t=null==z?void 0:z.value,n=null==R?void 0:R.value;if(!e||!1===n)return O.value;var i=P.value,o=i.options,r=i.label,a=i.value,l=[],s="function"==typeof n,u=e.toUpperCase(),c=s?n:function(e,n){// Use provided `optionFilterProp`
return t?q5(n[t],u):// Auto select `label` or `value` by option type
n[o]?q5(n["children"!==r?r:"label"],u):q5(n[a],u)},d=s?function(e){return oQ(e)}:function(e){return e};return O.value.forEach((function(t){// Group should check child options
if(t[o])if(c(e,d(t)))l.push(t);else{// Check option
var n=t[o].filter((function(t){return c(e,d(t))}));n.length&&l.push(JU(JU({},t),{},ZU({},o,n)))}else c(e,d(t))&&l.push(t)})),l}))),F=L((function(){return"tags"!==e.mode||!p.value||B.value.some((function(t){return t[e.optionFilterProp||"value"]===p.value}))?B.value:[A(p.value)].concat(GY(B.value));// Fill search value as option
})),V=L((function(){return e.filterSort?GY(F.value).sort((function(t,n){return e.filterSort(t,n)})):F.value})),H=L((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,i=t.childrenAsData,o=[],r=iQ(n,!1),a=r.label,l=r.value,s=r.options;function u(e,t){e.forEach((function(e){var n=e[a];if(t||!(s in e)){var r=e[l];// Option
o.push({key:nQ(e,o.length),groupOption:t,data:e,label:n,value:r})}else{var c=n;void 0===c&&i&&(c=e.label),// Option Group
o.push({key:nQ(e,o.length),group:!0,data:e,label:c}),u(e[s],!0)}}))}return u(e,!1),o}(V.value,{fieldNames:c.value,childrenAsData:l.value})})),G=function(t){var n=m(t);if(w(n),e.onChange&&(// Trigger event only when value changed
n.length!==M.value.length||n.some((function(e,t){var n;return(null===(n=M.value[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){var i=e.labelInValue?n.map((function(e){return JU(JU({},e),{},{originLabel:e.label,label:"function"==typeof e.label?e.label():e.label})})):n.map((function(e){return e.value})),o=n.map((function(e){return oQ(T(e.value))}));e.onChange(// Value
a.value?i:i[0],// Option
a.value?o:o[0])}},W=jY($5(null),2),U=W[0],Y=W[1],X=jY($5(0),2),q=X[0],Z=X[1],J=L((function(){return void 0!==e.defaultActiveFirstOption?e.defaultActiveFirstOption:"combobox"!==e.mode})),Q=function(t,n){var i=function(){var n,i=T(t),o=null==i?void 0:i[c.value.label];return[e.labelInValue?{label:"function"==typeof o?o():o,originLabel:o,value:t,key:null!==(n=null==i?void 0:i.key)&&void 0!==n?n:t}:t,oQ(i)]};if(n&&e.onSelect){var o=jY(i(),2),r=o[0],a=o[1];e.onSelect(r,a)}else if(!n&&e.onDeselect){var l=jY(i(),2),s=l[0],u=l[1];e.onDeselect(s,u)}},ee=function(e,t){G(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){Q(e.value,!1)}))},te=function(t,n){// [Submit] Tag mode should flush input
if(h(t),Y(null),"submit"!==n.source){var i;if("blur"!==n.source)"combobox"===e.mode&&G(t),null===(i=e.onSearch)||void 0===i||i.call(e,t)}else{var o=(t||"").trim();// prevent empty tags from appearing when you click the Enter button
if(o){var r=Array.from(new Set([].concat(GY(k.value),[o])));G(r),Q(o,!0),h("")}}},ne=function(t){var n=t;"tags"!==e.mode&&(n=t.map((function(e){var t=g.value.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var i=Array.from(new Set([].concat(GY(k.value),GY(n))));G(i),i.forEach((function(e){Q(e,!0)}))},ie=L((function(){return!1!==e.virtual&&!1!==e.dropdownMatchSelectWidth}));// Fill options with search value if needed
!function(e){E(R5,e)}(y5(JU(JU({},f),{},{flattenOptions:H,onActiveValue:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.source,r=void 0===o?"keyboard":o;Z(n),e.backfill&&"combobox"===e.mode&&null!==t&&"keyboard"===r&&Y(String(t))},defaultActiveFirstOption:J,onSelect:function(t,n){var i,o=!a.value||n.selected;// Single mode always trigger select only with option list
i=o?a.value?[].concat(GY(M.value),[t]):[t]:M.value.filter((function(e){return e.value!==t})),G(i),Q(t,o),// Clean search value if single or configured
"combobox"===e.mode?// setSearchValue(String(val));
Y(""):a.value&&!e.autoClearSearchValue||(h(""),Y(""))},menuItemSelectedIcon:K(e,"menuItemSelectedIcon"),rawValues:k,fieldNames:c,virtual:ie,listHeight:K(e,"listHeight"),listItemHeight:K(e,"listItemHeight"),childrenAsData:l})));var oe=s();n({focus:function(){var e;null===(e=oe.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=oe.value)||void 0===e||e.blur()},scrollTo:function(e){var t;null===(t=oe.value)||void 0===t||t.scrollTo(e)}});var re=L((function(){return ZJ(e,["id","mode","prefixCls","backfill","fieldNames",// Search
"inputValue","searchValue","onSearch","autoClearSearchValue",// Select
"onSelect","onDeselect","dropdownMatchSelectWidth",// Options
"filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight",// Value
"value","defaultValue","labelInValue","onChange"])}));return function(){return _(w5,JU(JU(JU({},re.value),i),{},{id:r,prefixCls:e.prefixCls,ref:oe,omitDomProps:J5,mode:e.mode,displayValues:I.value,onDisplayValuesChange:ee,searchValue:p.value,onSearch:te,onSearchSplit:ne,dropdownMatchSelectWidth:e.dropdownMatchSelectWidth,OptionList:V5,emptyOptions:!H.value.length,activeValue:U.value,activeDescendantId:"".concat(r,"_list_").concat(q.value)}),o)}}}),t3=function(){return null};t3.isSelectOption=!0,t3.displayName="ASelectOption";var n3=t3,i3=function(){return null};i3.isSelectOptGroup=!0,i3.displayName="ASelectOptGroup";var o3=i3,r3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};// This icon file is generated automatically.
function a3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){l3(e,t,n[t])}))}return e}function l3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s3=function(e,t){var n=a3({},e,t.attrs);return _(JZ,a3({},n,{icon:r3}),null)};s3.displayName="DownOutlined",s3.inheritAttrs=!1;var u3=s3,c3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};// This icon file is generated automatically.
function d3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){p3(e,t,n[t])}))}return e}function p3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h3=function(e,t){var n=d3({},e,t.attrs);return _(JZ,d3({},n,{icon:c3}),null)};h3.displayName="CheckOutlined",h3.inheritAttrs=!1;var f3=h3,v3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};// This icon file is generated automatically.
function g3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){y3(e,t,n[t])}))}return e}function y3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m3=function(e,t){var n=g3({},e,t.attrs);return _(JZ,g3({},n,{icon:v3}),null)};m3.displayName="SearchOutlined",m3.inheritAttrs=!1;var x3=m3;var b3=Symbol("ContextProps"),_3=Symbol("InternalContextProps"),w3={id:L((function(){})),onFieldBlur:function(){},onFieldChange:function(){},clearValidate:function(){}},S3={addFormItemField:function(){},removeFormItemField:function(){}},C3=function(){var e=P(_3,S3),t=Symbol("FormItemFieldKey"),n=O();return e.addFormItemField(t,n.type),G((function(){e.removeFormItemField(t)})),// We should prevent the passing of context for children
E(_3,S3),E(b3,w3),P(b3,w3)};a({compatConfig:{MODE:3},name:"AFormItemRest",setup:function(e,t){var n=t.slots;return E(_3,S3),E(b3,w3),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}});var M3=function(){return JU(JU({},ZJ(Q5(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{},{value:{type:[Array,Object,String,Number]},defaultValue:{type:[Array,Object,String,Number]},notFoundContent:Sq.any,suffixIcon:Sq.any,itemIcon:Sq.any,size:String,mode:String,bordered:{type:Boolean,default:!0},transitionName:String,choiceTransitionName:{type:String,default:""},"onUpdate:value":Function})},T3="SECRET_COMBOBOX_MODE_DO_NOT_USE",I3=a({compatConfig:{MODE:3},name:"ASelect",Option:n3,OptGroup:o3,inheritAttrs:!1,props:cX(M3(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:T3,// emits: ['change', 'update:value', 'blur'],
slots:["notFoundContent","suffixIcon","itemIcon","removeIcon","clearIcon","dropdownRender","option","placeholder","tagRender","maxTagPlaceholder","optionLabel"],setup:function(e,t){var n=t.attrs,i=t.emit,o=t.slots,r=t.expose,a=s(),l=C3(),u=L((function(){var t=e.mode;if("combobox"!==t)return t===T3?"combobox":t})),c=qJ("select",e),d=c.prefixCls,p=c.direction,h=c.configProvider,f=c.size,v=c.getPrefixCls,g=L((function(){return v()})),y=L((function(){return function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}(g.value,"slide-up",e.transitionName)})),m=L((function(){var t;return fY((ZU(t={},"".concat(d.value,"-lg"),"large"===f.value),ZU(t,"".concat(d.value,"-sm"),"small"===f.value),ZU(t,"".concat(d.value,"-rtl"),"rtl"===p.value),ZU(t,"".concat(d.value,"-borderless"),!e.bordered),t))})),x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i("update:value",t[0]),i.apply(void 0,["change"].concat(t)),l.onFieldChange()},b=function(e){i("blur",e),l.onFieldBlur()};r({blur:function(){var e;null===(e=a.value)||void 0===e||e.blur()},focus:function(){var e;null===(e=a.value)||void 0===e||e.focus()},scrollTo:function(e){var t;null===(t=a.value)||void 0===t||t.scrollTo(e)}});var w=L((function(){return"multiple"===u.value||"tags"===u.value}));return function(){var t,i,r,s=e.notFoundContent,c=e.listHeight,f=void 0===c?256:c,v=e.listItemHeight,g=void 0===v?24:v,S=e.getPopupContainer,C=e.dropdownClassName,M=e.virtual,T=e.dropdownMatchSelectWidth,I=e.id,k=void 0===I?l.id.value:I,A=e.placeholder,D=void 0===A?null===(t=o.placeholder)||void 0===t?void 0:t.call(o):A,O=h.renderEmpty,P=h.getPopupContainer;r=void 0!==s?s:o.notFoundContent?o.notFoundContent():"combobox"===u.value?null:O("Select");// ===================== Icons =====================
var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.loading,i=e.multiple,o=e.prefixCls,r=e.suffixIcon||t.suffixIcon&&t.suffixIcon(),a=e.clearIcon||t.clearIcon&&t.clearIcon(),l=e.menuItemSelectedIcon||t.menuItemSelectedIcon&&t.menuItemSelectedIcon(),s=e.removeIcon||t.removeIcon&&t.removeIcon(),u=a;a||(u=_(p$,null,null));// Arrow item icon
var c=null;if(void 0!==r)c=r;else if(n)c=_(n$,{spin:!0},null);else{var d="".concat(o,"-suffix");c=function(e){var t=e.open,n=e.showSearch;return _(t&&n?x3:u3,{class:d},null)}}// Checked item icon
return{clearIcon:u,suffixIcon:c,itemIcon:void 0!==l?l:i?_(f3,null,null):null,removeIcon:void 0!==s?s:_(vJ,null,null)}}(JU(JU({},e),{},{multiple:w.value,prefixCls:d.value}),o),E=L.suffixIcon,N=L.itemIcon,R=L.removeIcon,z=L.clearIcon,B=ZJ(e,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered"]),F=fY(C,ZU({},"".concat(d.value,"-dropdown-").concat(p.value),"rtl"===p.value));return _(e3,JU(JU(JU({ref:a,virtual:M,dropdownMatchSelectWidth:T},B),n),{},{placeholder:D,listHeight:f,listItemHeight:g,mode:u.value,prefixCls:d.value,direction:p.value,inputIcon:E,menuItemSelectedIcon:N,removeIcon:R,clearIcon:z,notFoundContent:r,class:[m.value,n.class],getPopupContainer:S||P,dropdownClassName:F,onChange:x,onBlur:b,id:k,dropdownRender:B.dropdownRender||o.dropdownRender,transitionName:y.value,children:null===(i=o.default)||void 0===i?void 0:i.call(o),tagRender:e.tagRender||o.tagRender,optionLabelRender:o.optionLabel,maxTagPlaceholder:e.maxTagPlaceholder||o.maxTagPlaceholder}),{option:o.option})}}});/* istanbul ignore next */I3.install=function(e){return e.component(I3.name,I3),e.component(I3.Option.displayName,I3.Option),e.component(I3.OptGroup.displayName,I3.OptGroup),e},I3.Option,I3.OptGroup;var k3=I3,A3={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)",xxxl:"(min-width: 2000px)"},D3=new Map,O3=-1,P3={},L3={matchHandlers:{},dispatch:function(e){return P3=e,D3.forEach((function(e){return e(P3)})),D3.size>=1},subscribe:function(e){return D3.size||this.register(),O3+=1,D3.set(O3,e),e(P3),O3},unsubscribe:function(e){D3.delete(e),D3.size||this.unregister()},unregister:function(){var e=this;Object.keys(A3).forEach((function(t){var n=A3[t],i=e.matchHandlers[n];null==i||i.mql.removeListener(null==i?void 0:i.listener)})),D3.clear()},register:function(){var e=this;Object.keys(A3).forEach((function(t){var n=A3[t],i=function(n){var i=n.matches;e.dispatch(JU(JU({},P3),{},ZU({},t,i)))},o=window.matchMedia(n);o.addListener(i),e.matchHandlers[n]={mql:o,listener:i},i(o)}))}},E3=L3;function N3(){var e=s({}),t=null;return d((function(){t=E3.subscribe((function(t){e.value=t}))})),D((function(){E3.unsubscribe(t)})),e}function R3(e){var t=$();return j((function(){t.value=e()}),{flush:"sync"}),t}var z3={adjustX:1,adjustY:1},B3=[0,0],F3={left:{points:["cr","cl"],overflow:z3,offset:[-4,0],targetOffset:B3},right:{points:["cl","cr"],overflow:z3,offset:[4,0],targetOffset:B3},top:{points:["bc","tc"],overflow:z3,offset:[0,-4],targetOffset:B3},bottom:{points:["tc","bc"],overflow:z3,offset:[0,4],targetOffset:B3},topLeft:{points:["bl","tl"],overflow:z3,offset:[0,-4],targetOffset:B3},leftTop:{points:["tr","tl"],overflow:z3,offset:[-4,0],targetOffset:B3},topRight:{points:["br","tr"],overflow:z3,offset:[0,-4],targetOffset:B3},rightTop:{points:["tl","tr"],overflow:z3,offset:[4,0],targetOffset:B3},bottomRight:{points:["tr","br"],overflow:z3,offset:[0,4],targetOffset:B3},rightBottom:{points:["bl","br"],overflow:z3,offset:[4,0],targetOffset:B3},bottomLeft:{points:["tl","bl"],overflow:z3,offset:[0,4],targetOffset:B3},leftBottom:{points:["br","bl"],overflow:z3,offset:[-4,0],targetOffset:B3}},V3={prefixCls:String,id:String,overlayInnerStyle:Sq.any},j3=a({compatConfig:{MODE:3},name:"Content",props:V3,slots:["overlay"],setup:function(e,t){var n=t.slots;return function(){var t;return _("div",{class:"".concat(e.prefixCls,"-inner"),id:e.id,role:"tooltip",style:e.overlayInnerStyle},[null===(t=n.overlay)||void 0===t?void 0:t.call(n)])}}}),H3=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"];function G3(){}var W3=a({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:Sq.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:Sq.string.def("right"),transitionName:String,animation:Sq.any,afterVisibleChange:Sq.func.def((function(){})),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:Sq.string.def("rc-tooltip"),mouseEnterDelay:Sq.number.def(.1),mouseLeaveDelay:Sq.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:Sq.object.def((function(){return{}})),arrowContent:Sq.any.def(null),tipId:String,builtinPlacements:Sq.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function},slots:["arrowContent","overlay"],setup:function(e,t){var n=t.slots,i=t.attrs,o=t.expose,r=s(),a=function(){var t=e.prefixCls,i=e.tipId,o=e.overlayInnerStyle;return[_("div",{class:"".concat(t,"-arrow"),key:"arrow"},[SX(n,e,"arrowContent")]),_(j3,{key:"content",prefixCls:t,id:i,overlayInnerStyle:o},{overlay:n.overlay})]};o({getPopupDomNode:function(){return r.value.getPopupDomNode()},triggerDOM:r,forcePopupAlign:function(){var e;return null===(e=r.value)||void 0===e?void 0:e.forcePopupAlign()}});var l=s(!1),u=s(!1);return j((function(){var t=e.destroyTooltipOnHide;if("boolean"==typeof t)l.value=t;else if(t&&"object"===XU(t)){var n=t.keepParent;l.value=!0===n,u.value=!1===n}})),function(){var t=e.overlayClassName,o=e.trigger,s=e.mouseEnterDelay,c=e.mouseLeaveDelay,d=e.overlayStyle,p=e.prefixCls,h=e.afterVisibleChange,f=e.transitionName,v=e.animation,g=e.placement,y=e.align;e.destroyTooltipOnHide;var m=e.defaultVisible,x=JU({},zX(e,H3));void 0!==e.visible&&(x.popupVisible=e.visible);var b=JU(JU(JU({popupClassName:t,prefixCls:p,action:o,builtinPlacements:F3,popupPlacement:g,popupAlign:y,afterPopupVisibleChange:h,popupTransitionName:f,popupAnimation:v,defaultPopupVisible:m,destroyPopupOnHide:l.value,autoDestroy:u.value,mouseLeaveDelay:c,popupStyle:d,mouseEnterDelay:s},x),i),{},{onPopupVisibleChange:e.onVisibleChange||G3,onPopupAlign:e.onPopupAlign||G3,ref:r,popup:a()});return _(S2,b,{default:n.default})}}});OX("success","processing","error","default","warning");var K3=OX("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),U3={adjustX:1,adjustY:1},Y3={adjustX:0,adjustY:0},X3=[0,0];function q3(e){return"boolean"==typeof e?e?U3:Y3:JU(JU({},Y3),e)}function Z3(e){var t=e.arrowWidth,n=void 0===t?4:t,i=e.horizontalArrowShift,o=void 0===i?16:i,r=e.verticalArrowShift,a=void 0===r?8:r,l=e.autoAdjustOverflow,s=e.arrowPointAtCenter,u={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(o+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[o+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[o+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(o+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(u).forEach((function(e){u[e]=s?JU(JU({},u[e]),{},{overflow:q3(l),targetOffset:X3}):JU(JU({},F3[e]),{},{overflow:q3(l)}),u[e].ignoreShake=!0})),u}function $3(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,n=e.length;t<n;t++)if(void 0!==e[t])return e[t]}var J3=new RegExp("^(".concat(K3.join("|"),")(-inverse)?$")),Q3=a({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:cX(JU(JU({},{trigger:[String,Array],visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:{type:Object,default:void 0},overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:{type:Object,default:void 0},builtinPlacements:{type:Object,default:void 0},children:Array,onVisibleChange:Function,"onUpdate:visible":Function}),{},{title:Sq.any}),{trigger:"hover",transitionName:"zoom-big-fast",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:["title"],// emits: ['update:visible', 'visibleChange'],
setup:function(e,t){var n,i=t.slots,o=t.emit,r=t.attrs,a=t.expose,l=qJ("tooltip",e),u=l.prefixCls,p=l.getPopupContainer,h=s($3([e.visible,e.defaultVisible])),f=s();d((function(){Eq(void 0===e.defaultVisible,"Tooltip","'defaultVisible' is deprecated, please use 'v-model:visible'")})),c((function(){return e.visible}),(function(e){DX.cancel(n),n=DX((function(){h.value=!!e}))}));var v=function(){var t,n=null!==(t=e.title)&&void 0!==t?t:i.title;return!n&&0!==n},g=function(t){var n=v();void 0===e.visible&&(h.value=!n&&t),n||(o("update:visible",t),o("visibleChange",t))};a({getPopupDomNode:function(){return f.value.getPopupDomNode()},visible:h,forcePopupAlign:function(){var e;return null===(e=f.value)||void 0===e?void 0:e.forcePopupAlign()}});var y=L((function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,i=e.autoAdjustOverflow;return t||Z3({arrowPointAtCenter:n,autoAdjustOverflow:i})})),m=function(e){return e||""===e},x=function(e){var t=e.type;if("object"===XU(t)&&e.props&&((!0===t.__ANT_BUTTON||"button"===t)&&m(e.props.disabled)||!0===t.__ANT_SWITCH&&(m(e.props.disabled)||m(e.props.loading)))){// Pick some layout related style properties up to span
// Prevent layout bugs like https://github.com/ant-design/ant-design/issues/5254
var n=function(e,t){var n={},i=JU({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete i[t])})),{picked:n,omitted:i}}(function(e,t){var n=((M(e)?e.props:e.$attrs)||{}).style||{};if("string"==typeof n)n=pX(n,t);else if(t&&n){// 驼峰化
var i={};return Object.keys(n).forEach((function(e){return i[lY(e)]=n[e]})),i}return n}(e),["position","left","right","top","bottom","float","display","zIndex"]),i=n.picked,o=n.omitted,r=JU(JU({display:"inline-block"},i),{},{cursor:"not-allowed",lineHeight:1,width:e.props&&e.props.block?"100%":null}),a=x0(e,{style:JU(JU({},o),{},{pointerEvents:"none"})},!0);return _("span",{style:r,class:"".concat(u.value,"-disabled-compatible-wrapper")},[a])}return e},b=function(){var t,n;return null!==(t=e.title)&&void 0!==t?t:null===(n=i.title)||void 0===n?void 0:n.call(i)},w=function(e,t){var n=y.value,i=Object.keys(n).filter((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}))[0];// 当前返回的位置
if(i){// 根据当前坐标设置动画点
var o=e.getBoundingClientRect(),r={top:"50%",left:"50%"};i.indexOf("top")>=0||i.indexOf("Bottom")>=0?r.top="".concat(o.height-t.offset[1],"px"):(i.indexOf("Top")>=0||i.indexOf("bottom")>=0)&&(r.top="".concat(-t.offset[1],"px")),i.indexOf("left")>=0||i.indexOf("Right")>=0?r.left="".concat(o.width-t.offset[0],"px"):(i.indexOf("right")>=0||i.indexOf("Left")>=0)&&(r.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(r.left," ").concat(r.top)}};return function(){var t,n,o,a=e.openClassName,l=e.color,s=e.overlayClassName,c=null!==(t=_X(null===(n=i.default)||void 0===n?void 0:n.call(i)))&&void 0!==t?t:null;c=1===c.length?c[0]:c;var d=h.value;// Hide tooltip when there is no title
if(void 0===e.visible&&v()&&(d=!1),!c)return null;var m,S,C=x(wX(c)?c:_("span",null,[c])),M=fY((ZU(o={},a||"".concat(u.value,"-open"),!0),ZU(o,C.props&&C.props.class,C.props&&C.props.class),o)),T=fY(s,ZU({},"".concat(u.value,"-").concat(l),l&&J3.test(l)));l&&!J3.test(l)&&(m={backgroundColor:l},S={backgroundColor:l});var I=JU(JU(JU({},r),e),{},{prefixCls:u.value,getPopupContainer:p.value,builtinPlacements:y.value,visible:d,ref:f,overlayClassName:T,overlayInnerStyle:m,onVisibleChange:g,onPopupAlign:w});return _(W3,I,{default:function(){return[h.value?x0(C,{class:M}):C]},arrowContent:function(){return _("span",{class:"".concat(u.value,"-arrow-content"),style:S},null)},overlay:b})}}}),e4=PX(Q3),t4={adjustX:1,adjustY:1},n4=[0,0],i4={topLeft:{points:["bl","tl"],overflow:t4,offset:[0,-4],targetOffset:n4},topCenter:{points:["bc","tc"],overflow:t4,offset:[0,-4],targetOffset:n4},topRight:{points:["br","tr"],overflow:t4,offset:[0,-4],targetOffset:n4},bottomLeft:{points:["tl","bl"],overflow:t4,offset:[0,4],targetOffset:n4},bottomCenter:{points:["tc","bc"],overflow:t4,offset:[0,4],targetOffset:n4},bottomRight:{points:["tr","br"],overflow:t4,offset:[0,4],targetOffset:n4}},o4=["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"],r4=a({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:Sq.string.def("rc-dropdown"),transitionName:String,overlayClassName:Sq.string.def(""),openClassName:String,animation:Sq.any,align:Sq.object,overlayStyle:{type:Object,default:void 0},placement:Sq.string.def("bottomLeft"),overlay:Sq.any,trigger:Sq.oneOfType([Sq.string,Sq.arrayOf(Sq.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:Sq.array,hideAction:Sq.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:Sq.number.def(.15),mouseLeaveDelay:Sq.number.def(.1)},emits:["visibleChange","overlayClick"],slots:["overlay"],setup:function(e,t){var n=t.slots,i=t.emit,o=t.expose,r=s(!!e.visible);c((function(){return e.visible}),(function(e){void 0!==e&&(r.value=e)}));var a=s();o({triggerRef:a});var l=function(t){void 0===e.visible&&(r.value=!1),i("overlayClick",t)},u=function(t){void 0===e.visible&&(r.value=t),i("visibleChange",t)},d=function(){var t,i=null===(t=n.overlay)||void 0===t?void 0:t.call(n),o={prefixCls:"".concat(e.prefixCls,"-menu"),onClick:l,getPopupContainer:function(){return a.value.getPopupDomNode()}};return _(m,null,[e.arrow&&_("div",{class:"".concat(e.prefixCls,"-arrow")},null),x0(i,o,!1)])},p=L((function(){var t=e.minOverlayWidthMatchTrigger;return void 0===t?!e.alignPoint:t})),h=function(){var t,i=null===(t=n.default)||void 0===t?void 0:t.call(n);return r.value&&i?x0(i[0],{class:e.openClassName||"".concat(e.prefixCls,"-open")},!1):i},f=L((function(){return e.hideAction||-1===e.trigger.indexOf("contextmenu")?e.hideAction:["click"]}));return function(){var t=e.prefixCls,n=e.arrow,i=e.showAction,o=e.overlayStyle,l=e.trigger,s=e.placement,c=e.align,v=e.getPopupContainer,g=e.transitionName,y=e.animation,m=e.overlayClassName,x=zX(e,o4);return _(S2,JU(JU({},x),{},{prefixCls:t,ref:a,popupClassName:fY(m,ZU({},"".concat(t,"-show-arrow"),n)),popupStyle:o,builtinPlacements:i4,action:l,showAction:i,hideAction:f.value||[],popupPlacement:s,popupAlign:c,popupTransitionName:g,popupAnimation:y,popupVisible:r.value,stretch:p.value?"minWidth":"",onPopupVisibleChange:u,getPopupContainer:v}),{popup:d,default:h})}}}),a4={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},l4={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s4=[],u4=[];function c4(e,t,n){e.addEventListener(t,n,!1)}function d4(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];for(var r in o)if(r in e){n.push(o[r]);break}}}"AnimationEvent"in window||(delete a4.animationstart.animation,delete l4.animationend.animation),"TransitionEvent"in window||(delete a4.transitionstart.transition,delete l4.transitionend.transition),t(a4,s4),t(l4,u4)}();var p4,h4={// Start events
startEvents:s4,addStartEventListener:function(e,t){0!==s4.length?s4.forEach((function(n){c4(e,n,t)})):setTimeout(t,0)},removeStartEventListener:function(e,t){0!==s4.length&&s4.forEach((function(n){d4(e,n,t)}))},// End events
endEvents:u4,addEndEventListener:function(e,t){0!==u4.length?u4.forEach((function(n){c4(e,n,t)})):setTimeout(t,0)},removeEndEventListener:function(e,t){0!==u4.length&&u4.forEach((function(n){d4(e,n,t)}))}};// Where el is the DOM element you'd like to test for visibility
function f4(e){return!e||null===e.offsetParent}var v4=a({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(e,t){var n=t.slots,i=t.expose,o=O(),r=qJ("",e),a=r.csp,l=r.prefixCls;i({csp:a});var s=null,u=null,c=null,p=!1,h=null,f=!1,v=function(e){if(!f){var t=gX(o);e&&e.target===t&&(p||m(t))}},g=function(e){e&&"fadeEffect"===e.animationName&&m(e.target)},y=function(){var t=e.insertExtraNode;return"".concat(l.value,t?"-click-animating":"-click-animating-without-extra-node")},m=function(t){if(t&&t!==h&&t instanceof Element){var n=e.insertExtraNode,i=y();t.setAttribute(i,"false"),// edge has bug on `removeAttribute` #14466
p4&&(p4.innerHTML=""),n&&h&&t.contains(h)&&t.removeChild(h),h4.removeStartEventListener(t,v),h4.removeEndEventListener(t,g)}},x=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){// Fix radio button click twice
if("INPUT"!==n.target.tagName&&!f4(n.target)){m(t);// Get wave color from target
var i=getComputedStyle(t).getPropertyValue("border-top-color")||// Firefox Compatible
getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");u=setTimeout((function(){return function(t,n){var i=e.insertExtraNode;if(!(e.disabled||!t||f4(t)||t.className.indexOf("-leave")>=0)){(h=document.createElement("div")).className="".concat(l.value,"-click-animating-node");var o,r=y();t.removeAttribute(r),t.setAttribute(r,"true"),// Not white or transparent or grey
p4=p4||document.createElement("style"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&function(e){// eslint-disable-next-line no-useless-escape
var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}(n)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(n)&&// any transparent rgba color
"transparent"!==n&&(// Add nonce if CSP exist
null!==(o=a.value)&&void 0!==o&&o.nonce&&(p4.nonce=a.value.nonce),h.style.borderColor=n,p4.innerHTML="\n        [".concat(l.value,"-click-animating-without-extra-node='true']::after, .").concat(l.value,"-click-animating-node {\n          --antd-wave-shadow-color: ").concat(n,";\n        }"),document.body.contains(p4)||document.body.appendChild(p4)),i&&t.appendChild(h),h4.addStartEventListener(t,v),h4.addEndEventListener(t,g)}}(t,i)}),0),DX.cancel(c),p=!0,// Render to trigger transition event cost 3 frames. Let's delay 10 frames to reset this.
c=DX((function(){p=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}};return d((function(){V((function(){var e=gX(o);1===e.nodeType&&(s=x(e))}))})),G((function(){s&&s.cancel(),clearTimeout(u),f=!0})),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)[0]}}}),g4=function(){return{prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:Sq.any,href:String,target:String,title:String,onClick:{type:Function},onMousedown:{type:Function}}},y4=function(e){e&&(e.style.width="0px",e.style.opacity="0",e.style.transform="scale(0)")},m4=function(e){V((function(){e&&(e.style.width="".concat(e.scrollWidth,"px"),e.style.opacity="1",e.style.transform="scale(1)")}))},x4=function(e){e&&e.style&&(e.style.width=null,e.style.opacity=null,e.style.transform=null)},b4=a({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup:function(e){return function(){var t=e.existIcon,n=e.prefixCls,i=e.loading;if(t)return _("span",{class:"".concat(n,"-loading-icon")},[_(n$,null,null)]);var o=!!i;return _(N,{name:"".concat(n,"-loading-icon-motion"),onBeforeEnter:y4,onEnter:m4,onAfterEnter:x4,onBeforeLeave:m4,onLeave:function(e){setTimeout((function(){y4(e)}))},onAfterLeave:x4},{default:function(){return[o?_("span",{class:"".concat(n,"-loading-icon")},[_(n$,null,null)]):null]}})}}}),_4=/^[\u4e00-\u9fa5]{2}$/,w4=_4.test.bind(_4);function S4(e){return"text"===e||"link"===e}var C4=a({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:cX(g4(),{type:"default"}),slots:["icon"],// emits: ['click', 'mousedown'],
setup:function(e,t){var n=t.slots,i=t.attrs,o=t.emit,r=qJ("btn",e),a=r.prefixCls,l=r.autoInsertSpaceInButton,u=r.direction,p=r.size,h=s(null),f=s(void 0),v=!1,g=s(!1),y=s(!1),m=L((function(){return!1!==l.value})),x=L((function(){return"object"===XU(e.loading)&&e.loading.delay?e.loading.delay||!0:!!e.loading}));c(x,(function(e){clearTimeout(f.value),"number"==typeof x.value?f.value=setTimeout((function(){g.value=e}),x.value):g.value=e}),{immediate:!0});var b=L((function(){var t,n=e.type,i=e.shape,o=void 0===i?"default":i,r=e.ghost,l=e.block,s=e.danger,c=a.value,d={large:"lg",small:"sm",middle:void 0},h=p.value,f=h&&d[h]||"";return ZU(t={},"".concat(c),!0),ZU(t,"".concat(c,"-").concat(n),n),ZU(t,"".concat(c,"-").concat(o),"default"!==o&&o),ZU(t,"".concat(c,"-").concat(f),f),ZU(t,"".concat(c,"-loading"),g.value),ZU(t,"".concat(c,"-background-ghost"),r&&!S4(n)),ZU(t,"".concat(c,"-two-chinese-chars"),y.value&&m.value),ZU(t,"".concat(c,"-block"),l),ZU(t,"".concat(c,"-dangerous"),!!s),ZU(t,"".concat(c,"-rtl"),"rtl"===u.value),t})),w=function(){// Fix for HOC usage like <FormatMessage />
var e=h.value;if(e&&!1!==l.value){var t=e.textContent;v&&w4(t)?y.value||(y.value=!0):y.value&&(y.value=!1)}},S=function(t){// https://github.com/ant-design/ant-design/issues/30207
g.value||e.disabled?t.preventDefault():o("click",t)};return j((function(){RJ(!(e.ghost&&S4(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")})),d(w),A(w),G((function(){f.value&&clearTimeout(f.value)})),function(){var t,o,r=e.icon,l=void 0===r?null===(t=n.icon)||void 0===t?void 0:t.call(n):r,s=fX(null===(o=n.default)||void 0===o?void 0:o.call(n));v=1===s.length&&!l&&!S4(e.type);var u=e.type,c=e.htmlType,d=e.disabled,p=e.href,f=e.title,y=e.target,x=e.onMousedown,w=g.value?"loading":l,C=JU(JU({},i),{},{title:f,disabled:d,class:[b.value,i.class,ZU({},"".concat(a.value,"-icon-only"),0===s.length&&!!w)],onClick:S,onMousedown:x});// https://github.com/vueComponent/ant-design-vue/issues/4930
d||delete C.disabled;var M=l&&!g.value?l:_(b4,{existIcon:!!l,prefixCls:a.value,loading:!!g.value},null),T=s.map((function(e){return function(e,t){var n=t?" ":"";if(e.type===I){var i=e.children.trim();return w4(i)&&(i=i.split("").join(n)),_("span",null,[i])}return e}(e,v&&m.value)}));if(void 0!==p)return _("a",JU(JU({},C),{},{href:p,target:y,ref:h}),[M,T]);var k=_("button",JU(JU({},C),{},{ref:h,type:c}),[M,T]);return S4(u)?k:_(v4,{ref:"wave",disabled:!!g.value},{default:function(){return[k]}})}}});var M4=a({compatConfig:{MODE:3},name:"AButtonGroup",props:{prefixCls:String,size:{type:String}},setup:function(e,t){var n=t.slots,i=qJ("btn-group",e),o=i.prefixCls,r=i.direction,a=L((function(){var t,n="";switch(e.size){case"large":n="lg";break;case"small":n="sm"}return ZU(t={},"".concat(o.value),!0),ZU(t,"".concat(o.value,"-").concat(n),n),ZU(t,"".concat(o.value,"-rtl"),"rtl"===r.value),t}));return function(){var e;return _("div",{class:a.value},[fX(null===(e=n.default)||void 0===e?void 0:e.call(n))])}}});C4.Group=M4,/* istanbul ignore next */C4.install=function(e){return e.component(C4.name,C4),e.component(M4.name,M4),e};var T4=function(){return{arrow:{type:[Boolean,Object],default:void 0},trigger:{type:[Array,String]},overlay:Sq.any,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},align:{type:Object},getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:{type:Object,default:void 0},forceRender:{type:Boolean,default:void 0},mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:void 0},onVisibleChange:{type:Function},"onUpdate:visible":{type:Function}}},I4=g4(),k4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};function A4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){D4(e,t,n[t])}))}return e}function D4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O4=function(e,t){var n=A4({},e,t.attrs);return _(JZ,A4({},n,{icon:k4}),null)};O4.displayName="EllipsisOutlined",O4.inheritAttrs=!1;var P4=O4,L4=["type","disabled","loading","htmlType","class","overlay","trigger","align","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:visible"],E4=C4.Group,N4=a({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:cX(JU(JU({},T4()),{},{type:I4.type,size:String,htmlType:I4.htmlType,href:String,disabled:{type:Boolean,default:void 0},prefixCls:String,icon:Sq.any,title:String,loading:I4.loading,onClick:{type:Function}}),{trigger:"hover",placement:"bottomRight",type:"default"}),// emits: ['click', 'visibleChange', 'update:visible'],
slots:["icon","leftButton","rightButton","overlay"],setup:function(e,t){var n=t.slots,i=t.attrs,o=t.emit,r=function(e){o("update:visible",e),o("visibleChange",e)},a=qJ("dropdown-button",e),l=a.prefixCls,s=a.direction,u=a.getPopupContainer;return function(){var t,o,a=JU(JU({},e),i),c=a.type,d=void 0===c?"default":c,p=a.disabled,h=a.loading,f=a.htmlType,v=a.class,g=void 0===v?"":v,y=a.overlay,m=void 0===y?null===(t=n.overlay)||void 0===t?void 0:t.call(n):y,x=a.trigger,b=a.align,w=a.visible;a.onVisibleChange;var S=a.placement,C=void 0===S?"rtl"===s.value?"bottomLeft":"bottomRight":S,M=a.href,T=a.title,I=a.icon,k=void 0===I?(null===(o=n.icon)||void 0===o?void 0:o.call(n))||_(P4,null,null):I,A=a.mouseEnterDelay,D=a.mouseLeaveDelay,O=a.overlayClassName,P=a.overlayStyle,L=a.destroyPopupOnHide,E=a.onClick;a["onUpdate:visible"];var N=zX(a,L4),R={align:b,disabled:p,trigger:p?[]:x,placement:C,getPopupContainer:u.value,onVisibleChange:r,mouseEnterDelay:A,mouseLeaveDelay:D,visible:w,overlayClassName:O,overlayStyle:P,destroyPopupOnHide:L},z=_(C4,{type:d,disabled:p,loading:h,onClick:E,htmlType:f,href:M,title:T},{default:n.default}),B=_(C4,{type:d,icon:k},null);return _(E4,JU(JU({},N),{},{class:fY(l.value,g)}),{default:function(){return[n.leftButton?n.leftButton({button:z}):z,_(H4,R,{default:function(){return[n.rightButton?n.rightButton({button:B}):B]},overlay:function(){return m}})]}})}}}),R4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};function z4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){B4(e,t,n[t])}))}return e}function B4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F4=function(e,t){var n=z4({},e,t.attrs);return _(JZ,z4({},n,{icon:R4}),null)};F4.displayName="RightOutlined",F4.inheritAttrs=!1;var V4=F4,j4=a({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:cX(T4(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),// emits: ['visibleChange', 'update:visible'],
slots:["overlay"],setup:function(e,t){var n=t.slots,i=t.attrs,o=t.emit,r=qJ("dropdown",e),a=r.prefixCls,l=r.rootPrefixCls,s=r.direction,u=r.getPopupContainer,c=L((function(){var t=e.placement,n=void 0===t?"":t,i=e.transitionName;return void 0!==i?i:n.indexOf("top")>=0?"".concat(l.value,"-slide-down"):"".concat(l.value,"-slide-up")})),d=function(){var t,i,o,r=e.overlay||(null===(t=n.overlay)||void 0===t?void 0:t.call(n)),l=Array.isArray(r)?r[0]:r;// rc-dropdown already can process the function of overlay, but we have check logic here.
// So we need render the element to check and pass back to rc-dropdown.
if(!l)return null;var s=l.props||{};// Warning if use other mode
RJ(!s.mode||"vertical"===s.mode,"Dropdown",'mode="'.concat(s.mode,"\" is not supported for Dropdown's Menu."));// menu cannot be selectable in dropdown defaultly
var u=s.selectable,c=void 0!==u&&u,d=s.expandIcon,p=void 0===d?null===(i=l.children)||void 0===i||null===(o=i.expandIcon)||void 0===o?void 0:o.call(i):d,h=void 0!==p&&wX(p)?p:_("span",{class:"".concat(a.value,"-menu-submenu-arrow")},[_(V4,{class:"".concat(a.value,"-menu-submenu-arrow-icon")},null)]);return wX(l)?x0(l,{mode:"vertical",selectable:c,expandIcon:function(){return h}}):l},p=L((function(){var t=e.placement;if(!t)return"rtl"===s.value?"bottomRight":"bottomLeft";if(t.includes("Center")){var n=t.slice(0,t.indexOf("Center"));return RJ(!t.includes("Center"),"Dropdown","You are using '".concat(t,"' placement in Dropdown, which is deprecated. Try to use '").concat(n,"' instead.")),n}return t})),h=function(e){o("update:visible",e),o("visibleChange",e)};return function(){var t,o,r,l=e.arrow,f=e.trigger,v=e.disabled,g=e.overlayClassName,y=null===(t=n.default)||void 0===t?void 0:t.call(n)[0],m=x0(y,QU({class:fY(null==y||null===(o=y.props)||void 0===o?void 0:o.class,ZU({},"".concat(a.value,"-rtl"),"rtl"===s.value),"".concat(a.value,"-trigger"))},v?{disabled:v}:{})),x=fY(g,ZU({},"".concat(a.value,"-rtl"),"rtl"===s.value)),b=v?[]:f;b&&-1!==b.indexOf("contextmenu")&&(r=!0);var w=Z3({arrowPointAtCenter:"object"===XU(l)&&l.pointAtCenter,autoAdjustOverflow:!0}),S=ZJ(JU(JU(JU({},e),i),{},{builtinPlacements:w,overlayClassName:x,arrow:l,alignPoint:r,prefixCls:a.value,getPopupContainer:u.value,transitionName:c.value,trigger:b,onVisibleChange:h,placement:p.value}),["overlay","onUpdate:visible"]);return _(r4,S,{default:function(){return[m]},overlay:d})}}});j4.Button=N4;var H4=j4;function G4(e,t,n,i){return function(e,t,n,i){var o=n?n.call(i,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==XU(e)||!e||"object"!==XU(t)||!t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;// Test for A's keys different from B.
for(var l=Object.prototype.hasOwnProperty.bind(t),s=0;s<r.length;s++){var u=r[s];if(!l(u))return!1;var c=e[u],d=t[u];if(!1===(o=n?n.call(i,c,d,u):void 0)||void 0===o&&c!==d)return!1}return!0}(J(e),J(t),n,i)}var W4=Symbol("menuContextKey"),K4=function(e){E(W4,e)},U4=function(){return P(W4)},Y4=Symbol("ForceRenderKey"),X4=function(){return P(Y4,!1)},q4=Symbol("menuFirstLevelContextKey"),Z4=function(e){E(q4,e)},$4=a({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0},isRootMenu:{type:Boolean,default:void 0}},setup:function(e,t){var n=t.slots,i=JU({},U4());// 确保传入的属性不会动态增删
// 不需要 watch 变化
return void 0!==e.mode&&(i.mode=K(e,"mode")),void 0!==e.isRootMenu&&(i.isRootMenu=K(e,"isRootMenu")),void 0!==e.overflowDisabled&&(i.overflowDisabled=K(e,"overflowDisabled")),K4(i),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}}),J4=K4;
/**
       * The base implementation of `_.isNaN` without support for number objects.
       *
       * @private
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
       */
function Q4(e){return e!=e}
/**
       * A specialized version of `_.indexOf` which performs strict equality
       * comparisons of values, i.e. `===`.
       *
       * @private
       * @param {Array} array The array to inspect.
       * @param {*} value The value to search for.
       * @param {number} fromIndex The index to search from.
       * @returns {number} Returns the index of the matched value, else `-1`.
       */
/**
       * A specialized version of `_.includes` for arrays without support for
       * specifying an index to search from.
       *
       * @private
       * @param {Array} [array] The array to inspect.
       * @param {*} target The value to search for.
       * @returns {boolean} Returns `true` if `target` is found, else `false`.
       */
function e6(e,t){return!!(null==e?0:e.length)&&
/**
       * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
       *
       * @private
       * @param {Array} array The array to inspect.
       * @param {*} value The value to search for.
       * @param {number} fromIndex The index to search from.
       * @returns {number} Returns the index of the matched value, else `-1`.
       */
function(e,t,n){return t==t?function(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}(e,t,n):
/**
       * The base implementation of `_.findIndex` and `_.findLastIndex` without
       * support for iteratee shorthands.
       *
       * @private
       * @param {Array} array The array to inspect.
       * @param {Function} predicate The function invoked per iteration.
       * @param {number} fromIndex The index to search from.
       * @param {boolean} [fromRight] Specify iterating from right to left.
       * @returns {number} Returns the index of the matched value, else `-1`.
       */
function(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}(e,Q4,n)}(e,t,0)>-1}
/**
       * This function is like `arrayIncludes` except that it accepts a comparator.
       *
       * @private
       * @param {Array} [array] The array to inspect.
       * @param {*} target The value to search for.
       * @param {Function} comparator The comparator invoked per element.
       * @returns {boolean} Returns `true` if `target` is found, else `false`.
       */function t6(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}
/**
       * This method returns `undefined`.
       *
       * @static
       * @memberOf _
       * @since 2.3.0
       * @category Util
       * @example
       *
       * _.times(2, _.noop);
       * // => [undefined, undefined]
       */ /** Used as references for various `Number` constants. */var n6=j1&&1/t1(new j1([,-0]))[1]==1/0?function(e){return new j1(e)}:function(){// No operation performed.
};
/**
       * Creates a set object of `values`.
       *
       * @private
       * @param {Array} values The values to add to the set.
       * @returns {Object} Returns the new set.
       */
/**
       * Creates a duplicate-free version of an array, using
       * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
       * for equality comparisons, in which only the first occurrence of each element
       * is kept. The order of result values is determined by the order they occur
       * in the array.
       *
       * @static
       * @memberOf _
       * @since 0.1.0
       * @category Array
       * @param {Array} array The array to inspect.
       * @returns {Array} Returns the new duplicate free array.
       * @example
       *
       * _.uniq([2, 1, 2]);
       * // => [2, 1]
       */
function i6(e){return e&&e.length?
/**
       * The base implementation of `_.uniqBy` without support for iteratee shorthands.
       *
       * @private
       * @param {Array} array The array to inspect.
       * @param {Function} [iteratee] The iteratee invoked per element.
       * @param {Function} [comparator] The comparator invoked per element.
       * @returns {Array} Returns the new duplicate free array.
       */
function(e,t,n){var i=-1,o=e6,r=e.length,a=!0,l=[],s=l;if(n)a=!1,o=t6;else if(r>=200){var u=t?null:n6(e);if(u)return t1(u);a=!1,o=$0,s=new q0}else s=t?[]:l;e:for(;++i<r;){var c=e[i],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var p=s.length;p--;)if(s[p]===d)continue e;t&&s.push(d),l.push(c)}else o(s,d,n)||(s!==l&&s.push(d),l.push(c))}return l}(e):[]}var o6=Symbol("siderCollapsed"),r6="$$__vc-menu-more__key",a6=Symbol("KeyPathContext"),l6=function(){return P(a6,{parentEventKeys:L((function(){return[]})),parentKeys:L((function(){return[]})),parentInfo:{}})},s6=Symbol("measure"),u6=a({compatConfig:{MODE:3},setup:function(e,t){var n=t.slots;// 不需要响应式
return E(s6,!0),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}}),c6=function(){return P(s6,!1)},d6=function(e,t,n){var i=l6(),o=i.parentEventKeys,r=i.parentKeys,a=L((function(){return[].concat(GY(o.value),[e])})),l=L((function(){return[].concat(GY(r.value),[t])}));return E(a6,{parentEventKeys:a,parentKeys:l,parentInfo:n}),l};function p6(e){var t=U4(),n=t.mode,i=t.rtl,o=t.inlineIndent;return L((function(){return"inline"!==n.value?null:i.value?{paddingRight:"".concat(e.value*o.value,"px")}:{paddingLeft:"".concat(e.value*o.value,"px")}}))}var h6=0,f6=a({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:{id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:Sq.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function},// emits: ['mouseenter', 'mouseleave', 'click', 'keydown', 'focus'],
slots:["icon","title"],setup:function(e,t){var n=t.slots,i=t.emit,o=t.attrs,r=O(),a=c6(),l="symbol"===XU(r.vnode.key)?String(r.vnode.key):r.vnode.key;RJ("symbol"!==XU(r.vnode.key),"MenuItem",'MenuItem `:key="'.concat(String(l),'"` not support Symbol type'));var u="menu_item_".concat(++h6,"_$$_").concat(l),d=l6(),p=d.parentEventKeys,h=d.parentKeys,f=U4(),v=f.prefixCls,g=f.activeKeys,y=f.disabled,m=f.changeActiveKeys,x=f.rtl,b=f.inlineCollapsed,w=f.siderCollapsed,S=f.onItemClick,C=f.selectedKeys,M=f.registerMenuInfo,T=f.unRegisterMenuInfo,I=P(q4,!0),k=s(!1),A=L((function(){return[].concat(GY(h.value),[l])}));M(u,{eventKey:u,key:l,parentEventKeys:p,parentKeys:h,isLeaf:!0}),G((function(){T(u)})),c(g,(function(){k.value=!!g.value.find((function(e){return e===l}))}),{immediate:!0});var D=L((function(){return y.value||e.disabled})),E=L((function(){return C.value.includes(l)})),N=L((function(){var t,n="".concat(v.value,"-item");return ZU(t={},"".concat(n),!0),ZU(t,"".concat(n,"-danger"),e.danger),ZU(t,"".concat(n,"-active"),k.value),ZU(t,"".concat(n,"-selected"),E.value),ZU(t,"".concat(n,"-disabled"),D.value),t})),R=function(t){return{key:l,eventKey:u,keyPath:A.value,eventKeyPath:[].concat(GY(p.value),[u]),domEvent:t,item:JU(JU({},e),o)}},z=function(e){if(!D.value){var t=R(e);i("click",e),S(t)}},B=function(e){D.value||(m(A.value),i("mouseenter",e))},F=function(e){D.value||(m([]),i("mouseleave",e))},V=function(e){if(i("keydown",e),e.which===k2.ENTER){var t=R(e);// Legacy. Key will also trigger click event
i("click",e),S(t)}},j=function(e){m(A.value),i("focus",e)},H=function(e,t){var n=_("span",{class:"".concat(v.value,"-title-content")},[t]);// inline-collapsed.md demo 依赖 span 来隐藏文字,有 icon 属性，则内部包裹一个 span
// ref: https://github.com/ant-design/ant-design/pull/23456
return(!e||wX(t)&&"span"===t.type)&&t&&b.value&&I&&"string"==typeof t?_("div",{class:"".concat(v.value,"-inline-collapsed-noicon")},[t.charAt(0)]):n},W=p6(L((function(){return A.value.length})));return function(){var t,i,r,s;if(a)return null;var u=null!==(t=e.title)&&void 0!==t?t:null===(i=n.title)||void 0===i?void 0:i.call(n),c=fX(null===(r=n.default)||void 0===r?void 0:r.call(n)),d=c.length,p=u;void 0===u?p=I&&d?c:"":!1===u&&(p="");var h={title:p};w.value||b.value||(h.title=null,// Reset `visible` to fix control mode tooltip display not correct
// ref: https://github.com/ant-design/ant-design/issues/16742
h.visible=!1);// ============================ Render ============================
var f={};"option"===e.role&&(f["aria-selected"]=E.value);var g=SX(n,e,"icon");return _(e4,JU(JU({},h),{},{placement:x.value?"left":"right",overlayClassName:"".concat(v.value,"-inline-collapsed-tooltip")}),{default:function(){return[_(i5.Item,JU(JU(JU({component:"li"},o),{},{id:e.id,style:JU(JU({},o.style||{}),W.value),class:[N.value,(s={},ZU(s,"".concat(o.class),!!o.class),ZU(s,"".concat(v.value,"-item-only-child"),1===(g?d+1:d)),s)],role:e.role||"menuitem",tabindex:e.disabled?null:-1,"data-menu-id":l,"aria-disabled":e.disabled},f),{},{onMouseenter:B,onMouseleave:F,onClick:z,onKeydown:V,onFocus:j,title:"string"==typeof u?u:void 0}),{default:function(){return[x0(g,{class:"".concat(v.value,"-item-icon")},!1),H(g,c)]}})]}})}}}),v6={adjustX:1,adjustY:1},g6={topLeft:{points:["bl","tl"],overflow:v6,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:v6,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:v6,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:v6,offset:[4,0]}},y6={topLeft:{points:["bl","tl"],overflow:v6,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:v6,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:v6,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:v6,offset:[4,0]}},m6={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},x6=a({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,// popup: React.ReactNode;
popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:["popup"],emits:["visibleChange"],setup:function(e,t){var n=t.slots,i=t.emit,o=s(!1),r=U4(),a=r.getPopupContainer,l=r.rtl,u=r.subMenuOpenDelay,d=r.subMenuCloseDelay,p=r.builtinPlacements,h=r.triggerSubMenuAction,f=r.isRootMenu,v=r.forceSubMenuRender,g=r.motion,y=r.defaultMotions,m=X4(),x=L((function(){return l.value?JU(JU({},y6),p.value):JU(JU({},g6),p.value)})),b=L((function(){return m6[e.mode]})),w=s();c((function(){return e.visible}),(function(e){DX.cancel(w.value),w.value=DX((function(){o.value=e}))}),{immediate:!0}),G((function(){DX.cancel(w.value)}));var S=function(e){i("visibleChange",e)},C=L((function(){var t,n,i=g.value||(null===(t=y.value)||void 0===t?void 0:t[e.mode])||(null===(n=y.value)||void 0===n?void 0:n.other),o="function"==typeof i?i():i;return o?Bq(o.name,{css:!0}):void 0}));return function(){var t=e.prefixCls,i=e.popupClassName,r=e.mode,s=e.popupOffset,c=e.disabled;return _(S2,{prefixCls:t,popupClassName:fY("".concat(t,"-popup"),ZU({},"".concat(t,"-rtl"),l.value),i),stretch:"horizontal"===r?"minWidth":null,getPopupContainer:f.value?a.value:function(e){return e.parentNode},builtinPlacements:x.value,popupPlacement:b.value,popupVisible:o.value,popupAlign:s&&{offset:s},action:c?[]:[h.value],mouseEnterDelay:u.value,mouseLeaveDelay:d.value,onPopupVisibleChange:S,forceRender:m||v.value,popupAnimation:C.value},{popup:n.popup,default:n.default})}}}),b6=function(e,t){var n,i=t.slots,o=t.attrs,r=U4(),a=r.prefixCls,l=r.mode;return _("ul",JU(JU({},o),{},{class:fY(a.value,"".concat(a.value,"-sub"),"".concat(a.value,"-").concat("inline"===l.value?"inline":"vertical")),"data-menu-list":!0}),[null===(n=i.default)||void 0===n?void 0:n.call(i)])};b6.displayName="SubMenuList";var _6=b6,w6=a({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup:function(e,t){var n=t.slots,i=L((function(){return"inline"})),o=U4(),r=o.motion,a=o.mode,l=o.defaultMotions,u=L((function(){return a.value===i.value})),d=s(!u.value),p=L((function(){return!!u.value&&e.open}));// ================================= Effect =================================
// Reset destroy state when mode change back
c(a,(function(){u.value&&(d.value=!1)}),{flush:"post"});var h=L((function(){var t,n,o=r.value||(null===(t=l.value)||void 0===t?void 0:t[i.value])||(null===(n=l.value)||void 0===n?void 0:n.other);return JU(JU({},"function"==typeof o?o():o),{},{appear:e.keyPath.length<=1})}));return function(){var t;return d.value?null:_($4,{mode:i.value},{default:function(){return[_(N,h.value,{default:function(){return[f(_(_6,{id:e.id},{default:function(){return[null===(t=n.default)||void 0===t?void 0:t.call(n)]}}),[[v,p.value]])]}})]}})}}}),S6=0,C6=a({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:{icon:Sq.any,title:Sq.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function},slots:["icon","title","expandIcon"],// emits: ['titleClick', 'mouseenter', 'mouseleave'],
setup:function(e,t){var n,i,o=t.slots,r=t.attrs,a=t.emit;Z4(!1);var l=c6(),u=O(),d="symbol"===XU(u.vnode.key)?String(u.vnode.key):u.vnode.key;RJ("symbol"!==XU(u.vnode.key),"SubMenu",'SubMenu `:key="'.concat(String(d),'"` not support Symbol type'));var p=uX(d)?d:"sub_menu_".concat(++S6,"_$$_not_set_key"),h=null!==(n=e.eventKey)&&void 0!==n?n:uX(d)?"sub_menu_".concat(++S6,"_$$_").concat(d):p,f=l6(),v=f.parentEventKeys,g=f.parentInfo,y=f.parentKeys,x=L((function(){return[].concat(GY(y.value),[p])})),b=s([]),w={eventKey:h,key:p,parentEventKeys:v,childrenEventKeys:b,parentKeys:y};null===(i=g.childrenEventKeys)||void 0===i||i.value.push(h),G((function(){var e;g.childrenEventKeys&&(g.childrenEventKeys.value=null===(e=g.childrenEventKeys)||void 0===e?void 0:e.value.filter((function(e){return e!=h})))})),d6(h,p,w);var S=U4(),C=S.prefixCls,M=S.activeKeys,T=S.disabled,I=S.changeActiveKeys,k=S.mode,A=S.inlineCollapsed,D=S.antdMenuTheme,P=S.openKeys,N=S.overflowDisabled,R=S.onOpenChange,z=S.registerMenuInfo,B=S.unRegisterMenuInfo,F=S.selectedSubMenuKeys,V=S.expandIcon,j=null!=d,H=!l&&(X4()||!j);!function(e){E(Y4,e)}(H),(l&&j||!l&&!j||H)&&(z(h,w),G((function(){B(h)})));var W=L((function(){return"".concat(C.value,"-submenu")})),K=L((function(){return T.value||e.disabled})),U=s(),Y=s(),X=L((function(){return P.value.includes(p)})),q=L((function(){return!N.value&&X.value})),Z=L((function(){return F.value.includes(p)})),$=s(!1);c(M,(function(){$.value=!!M.value.find((function(e){return e===p}))}),{immediate:!0});// =============================== Events ===============================
// >>>> Title click
var J=function(e){// Skip if disabled
K.value||(a("titleClick",e,p),// Trigger open by click when mode is `inline`
"inline"===k.value&&R(p,!X.value))},Q=function(e){K.value||(I(x.value),a("mouseenter",e))},ee=function(e){K.value||(I([]),a("mouseleave",e))},te=p6(L((function(){return x.value.length}))),ne=function(e){"inline"!==k.value&&R(p,e)},ie=function(){I(x.value)},oe=h&&"".concat(h,"-popup"),re=L((function(){return fY(C.value,"".concat(C.value,"-").concat(D.value),e.popupClassName)})),ae=L((function(){return"inline"!==k.value&&x.value.length>1?"vertical":k.value})),le=L((function(){return"horizontal"===k.value?"vertical":k.value})),se=L((function(){return"horizontal"===ae.value?"vertical":ae.value})),ue=function(){var t=W.value,n=SX(o,e,"icon"),i=e.expandIcon||o.expandIcon||V.value,r=function(e,t){if(!t)return A.value&&!y.value.length&&e&&"string"==typeof e?_("div",{class:"".concat(C.value,"-inline-collapsed-noicon")},[e.charAt(0)]):_("span",{class:"".concat(C.value,"-title-content")},[e]);// inline-collapsed.md demo 依赖 span 来隐藏文字,有 icon 属性，则内部包裹一个 span
// ref: https://github.com/ant-design/ant-design/pull/23456
var n=wX(e)&&"span"===e.type;return _(m,null,[x0(t,{class:"".concat(C.value,"-item-icon")},!1),n?e:_("span",{class:"".concat(C.value,"-title-content")},[e])])}(SX(o,e,"title"),n);return _("div",{style:te.value,class:"".concat(t,"-title"),tabindex:K.value?null:-1,ref:U,title:"string"==typeof r?r:null,"data-menu-id":p,"aria-expanded":q.value,"aria-haspopup":!0,"aria-controls":oe,"aria-disabled":K.value,onClick:J,onFocus:ie},[r,"horizontal"!==k.value&&i?i(JU(JU({},e),{},{isOpen:q.value})):_("i",{class:"".concat(t,"-arrow")},null)])};return function(){var t,n;if(l)return j?null===(n=o.default)||void 0===n?void 0:n.call(o):null;var i=W.value,a=function(){return null};// 包裹一层，保持结构一致，防止动画丢失
// https://github.com/vueComponent/ant-design-vue/issues/4325
return a=N.value||"inline"===k.value?function(){return _(x6,null,{default:ue})}:function(){return _(x6,{mode:ae.value,prefixCls:i,visible:!e.internalPopupClose&&q.value,popupClassName:re.value,popupOffset:e.popupOffset,disabled:K.value,onVisibleChange:ne},{default:function(){return[ue()]},popup:function(){return _($4,{mode:se.value,isRootMenu:!1},{default:function(){return[_(_6,{id:oe,ref:Y},{default:o.default})]}})}})},_($4,{mode:le.value},{default:function(){return[_(i5.Item,JU(JU({component:"li"},r),{},{role:"none",class:fY(i,"".concat(i,"-").concat(k.value),r.class,(t={},ZU(t,"".concat(i,"-open"),q.value),ZU(t,"".concat(i,"-active"),$.value),ZU(t,"".concat(i,"-selected"),Z.value),ZU(t,"".concat(i,"-disabled"),K.value),t)),onMouseenter:Q,onMouseleave:ee,"data-submenu-id":p}),{default:function(){return _(m,null,[a(),!N.value&&_(w6,{id:oe,open:q.value,keyPath:x.value},{default:o.default})])}})]}})}}});function M6(e,t){if(e.classList)return e.classList.contains(t);var n=e.className;return" ".concat(n," ").indexOf(" ".concat(t," "))>-1}function T6(e,t){e.classList?e.classList.add(t):M6(e,t)||(e.className="".concat(e.className," ").concat(t))}function I6(e,t){if(e.classList)e.classList.remove(t);else if(M6(e,t)){var n=e.className;e.className=" ".concat(n," ").replace(" ".concat(t," ")," ")}}var k6=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ant-motion-collapse",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{name:e,appear:t,css:!0,onBeforeEnter:function(t){t.style.height="0px",t.style.opacity="0",T6(t,e)},onEnter:function(e){V((function(){e.style.height="".concat(e.scrollHeight,"px"),e.style.opacity="1"}))},onAfterEnter:function(t){t&&(I6(t,e),t.style.height=null,t.style.opacity=null)},onBeforeLeave:function(t){T6(t,e),t.style.height="".concat(t.offsetHeight,"px"),t.style.opacity=null},onLeave:function(e){setTimeout((function(){e.style.height="0px",e.style.opacity="0"}))},onAfterLeave:function(t){t&&(I6(t,e),t.style&&(t.style.height=null,t.style.opacity=null))}}},A6=[],D6=a({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:{id:String,prefixCls:String,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},motion:Object,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:.1},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function},slots:["expandIcon","overflowedIndicator"],setup:function(e,t){var n=t.slots,i=t.emit,o=t.attrs,r=qJ("menu",e),a=r.prefixCls,l=r.direction,u=r.getPrefixCls,p=s({}),h=P(o6,s(void 0)),f=L((function(){return void 0!==h.value?h.value:e.inlineCollapsed})),v=s(!1);d((function(){v.value=!0})),j((function(){RJ(!(!0===e.inlineCollapsed&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),RJ(!(void 0!==h.value&&!0===e.inlineCollapsed),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")}));var g=s([]),y=s([]),x=s({});c(p,(function(){for(var e={},t=0,n=Object.values(p.value);t<n.length;t++){var i=n[t];e[i.key]=i}x.value=e}),{flush:"post"}),j((function(){if(void 0!==e.activeKey){var t=[],n=e.activeKey?x.value[e.activeKey]:void 0;t=n&&void 0!==e.activeKey?i6([].concat(w(n.parentKeys),e.activeKey)):[],G4(g.value,t)||(g.value=t)}})),c((function(){return e.selectedKeys}),(function(e){e&&(y.value=e.slice())}),{immediate:!0,deep:!0});var b=s([]);c([x,y],(function(){var e=[];y.value.forEach((function(t){var n=x.value[t];n&&(e=e.concat(w(n.parentKeys)))})),e=i6(e),G4(b.value,e)||(b.value=e)}),{immediate:!0});// >>>>> Trigger select
var S,C=s([]);c((function(){return e.openKeys}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.value;G4(C.value,e)||(C.value=e.slice())}),{immediate:!0,deep:!0});var M=L((function(){return!!e.disabled})),T=L((function(){return"rtl"===l.value})),I=s("vertical"),k=s(!1);j((function(){"inline"!==e.mode&&"vertical"!==e.mode||!f.value?(I.value=e.mode,k.value=!1):(I.value="vertical",k.value=f.value)}));var A=L((function(){return"inline"===I.value})),D=function(e){C.value=e,i("update:openKeys",e),i("openChange",e)},O=s(C.value),E=s(!1);// Cache
c(C,(function(){A.value&&(O.value=C.value)}),{immediate:!0}),// Restore
c(A,(function(){E.value?A.value?C.value=O.value:// Trigger open event in case its in control
D(A6):E.value=!0}),{immediate:!0});var N=L((function(){var t;return ZU(t={},"".concat(a.value),!0),ZU(t,"".concat(a.value,"-root"),!0),ZU(t,"".concat(a.value,"-").concat(I.value),!0),ZU(t,"".concat(a.value,"-inline-collapsed"),k.value),ZU(t,"".concat(a.value,"-rtl"),T.value),ZU(t,"".concat(a.value,"-").concat(e.theme),!0),t})),z=L((function(){return u()})),B=L((function(){return{horizontal:{name:"".concat(z.value,"-slide-up")},inline:k6,other:{name:"".concat(z.value,"-zoom-big")}}}));Z4(!0);var F=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],i=p.value;return t.forEach((function(t){var o=i[t],r=o.key,a=o.childrenEventKeys;n.push.apply(n,[r].concat(GY(e(w(a)))))})),n},V=s(0),H=L((function(){return e.expandIcon||n.expandIcon?function(t){var i=e.expandIcon||n.expandIcon;return x0(i="function"==typeof i?i(t):i,{class:"".concat(a.value,"-submenu-expand-icon")},!1)}:null}));// ========================= Open =========================
/**
           * Click for item. SubMenu do not have selection status
           */return J4({store:p,prefixCls:a,activeKeys:g,openKeys:C,selectedKeys:y,changeActiveKeys:function(t){clearTimeout(S),S=setTimeout((function(){void 0===e.activeKey&&(g.value=t),i("update:activeKey",t[t.length-1])}))},disabled:M,rtl:T,mode:I,inlineIndent:L((function(){return e.inlineIndent})),subMenuCloseDelay:L((function(){return e.subMenuCloseDelay})),subMenuOpenDelay:L((function(){return e.subMenuOpenDelay})),builtinPlacements:L((function(){return e.builtinPlacements})),triggerSubMenuAction:L((function(){return e.triggerSubMenuAction})),getPopupContainer:L((function(){return e.getPopupContainer})),inlineCollapsed:k,antdMenuTheme:L((function(){return e.theme})),siderCollapsed:h,defaultMotions:L((function(){return v.value?B.value:null})),motion:L((function(){return v.value?e.motion:null})),overflowDisabled:s(void 0),onOpenChange:function(e,t){var n,i=(null===(n=x.value[e])||void 0===n?void 0:n.childrenEventKeys)||[],o=C.value.filter((function(t){return t!==e}));if(t)o.push(e);else if("inline"!==I.value){// We need find all related popup to close
var r=F(w(i));o=i6(o.filter((function(e){return!r.includes(e)})))}G4(C,o)||D(o)},onItemClick:function(t){i("click",t),function(t){if(e.selectable){// Insert or Remove
var n,o=t.key,r=y.value.includes(o);n=e.multiple?r?y.value.filter((function(e){return e!==o})):[].concat(GY(y.value),[o]):[o];// Trigger event
var a=JU(JU({},t),{},{selectedKeys:n});G4(n,y.value)||(void 0===e.selectedKeys&&(y.value=n),i("update:selectedKeys",n),r&&e.multiple?i("deselect",a):i("select",a)),"inline"!==I.value&&!e.multiple&&C.value.length&&D(A6)}}(t)},registerMenuInfo:function(e,t){p.value=JU(JU({},p.value),{},ZU({},e,t))},unRegisterMenuInfo:function(e){delete p.value[e],p.value=JU({},p.value)},selectedSubMenuKeys:b,isRootMenu:s(!0),expandIcon:H,forceSubMenuRender:L((function(){return e.forceSubMenuRender}))}),function(){var t,i,r=fX(null===(t=n.default)||void 0===t?void 0:t.call(n)),l=V.value>=r.length-1||"horizontal"!==I.value||e.disabledOverflow,s="horizontal"!==I.value||e.disabledOverflow?r:// Need wrap for overflow dropdown that do not response for open
r.map((function(e,t){// Always wrap provider to avoid sub node re-mount
return _($4,{key:e.key,overflowDisabled:t>V.value},{default:function(){return e}})})),u=(null===(i=n.overflowedIndicator)||void 0===i?void 0:i.call(n))||_(P4,null,null);return _(i5,JU(JU({},o),{},{onMousedown:e.onMousedown,prefixCls:"".concat(a.value,"-overflow"),component:"ul",itemComponent:f6,class:[N.value,o.class],role:"menu",id:e.id,data:s,renderRawItem:function(e){return e},renderRawRest:function(e){// We use origin list since wrapped list use context to prevent open
var t=e.length,n=t?r.slice(-t):null;return _(m,null,[_(C6,{eventKey:r6,key:r6,title:u,disabled:l,internalPopupClose:0===t},{default:function(){return n}}),_(u6,null,{default:function(){return[_(C6,{eventKey:r6,key:r6,title:u,disabled:l,internalPopupClose:0===t},{default:function(){return n}})]}})])},maxCount:"horizontal"!==I.value||e.disabledOverflow?i5.INVALIDATE:i5.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){V.value=e}}),{default:function(){return[_(R,{to:"body"},{default:function(){return[_("div",{style:{display:"none"},"aria-hidden":!0},[_(u6,null,{default:function(){return[s]}})])]}})]}})}}}),O6=a({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:{title:Sq.any},slots:["title"],setup:function(e,t){var n=t.slots,i=t.attrs,o=U4().prefixCls,r=L((function(){return"".concat(o.value,"-item-group")})),a=c6();return function(){var t,o;return a?null===(t=n.default)||void 0===t?void 0:t.call(n):_("li",JU(JU({},i),{},{onClick:function(e){return e.stopPropagation()},class:r.value}),[_("div",{title:"string"==typeof e.title?e.title:void 0,class:"".concat(r.value,"-title")},[SX(n,e,"title")]),_("ul",{class:"".concat(r.value,"-list")},[null===(o=n.default)||void 0===o?void 0:o.call(n)])])}}}),P6=a({compatConfig:{MODE:3},name:"AMenuDivider",props:{prefixCls:String,dashed:Boolean},setup:function(e){var t=qJ("menu",e).prefixCls,n=L((function(){var n;return ZU(n={},"".concat(t.value,"-item-divider"),!0),ZU(n,"".concat(t.value,"-item-divider-dashed"),!!e.dashed),n}));return function(){return _("li",{class:n.value},null)}}});/* istanbul ignore next */D6.install=function(e){return e.component(D6.name,D6),e.component(f6.name,f6),e.component(C6.name,C6),e.component(P6.name,P6),e.component(O6.name,O6),e},D6.Item=f6,D6.Divider=P6,D6.SubMenu=C6,D6.ItemGroup=O6;/** Used to match a single whitespace character. */var L6=/\s/;
/**
       * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace
       * character of `string`.
       *
       * @private
       * @param {string} string The string to inspect.
       * @returns {number} Returns the index of the last non-whitespace character.
       */ /** Used to match leading whitespace. */var E6=/^\s+/;
/**
       * The base implementation of `_.trim`.
       *
       * @private
       * @param {string} string The string to trim.
       * @returns {string} Returns the trimmed string.
       */function N6(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&L6.test(e.charAt(t)););return t}(e)+1).replace(E6,""):e}/** Used as references for various `Number` constants. */var R6=/^[-+]0x[0-9a-f]+$/i,z6=/^0b[01]+$/i,B6=/^0o[0-7]+$/i,F6=parseInt;/** Used to detect bad signed hexadecimal string values. */
/**
       * Converts `value` to a number.
       *
       * @static
       * @memberOf _
       * @since 4.0.0
       * @category Lang
       * @param {*} value The value to process.
       * @returns {number} Returns the number.
       * @example
       *
       * _.toNumber(3.2);
       * // => 3.2
       *
       * _.toNumber(Number.MIN_VALUE);
       * // => 5e-324
       *
       * _.toNumber(Infinity);
       * // => Infinity
       *
       * _.toNumber('3.2');
       * // => 3.2
       */
function V6(e){if("number"==typeof e)return e;if(
/**
       * Checks if `value` is classified as a `Symbol` primitive or object.
       *
       * @static
       * @memberOf _
       * @since 4.0.0
       * @category Lang
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
       * @example
       *
       * _.isSymbol(Symbol.iterator);
       * // => true
       *
       * _.isSymbol('abc');
       * // => false
       */
function(e){return"symbol"==u(e)||iX(e)&&"[object Symbol]"==eX(e)}(e))return NaN;if(T0(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=T0(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=N6(e);var n=z6.test(e);return n||B6.test(e)?F6(e.slice(2),n?2:8):R6.test(e)?NaN:+e}var j6=["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"],H6={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:Sq.any,required:Boolean},G6=a({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:cX(H6,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup:function(e,t){var n=t.attrs,i=t.emit,o=t.expose,r=s(void 0===e.checked?e.defaultChecked:e.checked),a=s();c((function(){return e.checked}),(function(){r.value=e.checked})),o({focus:function(){var e;null===(e=a.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=a.value)||void 0===e||e.blur()}});var l=s(),u=function(t){if(!e.disabled){void 0===e.checked&&(r.value=t.target.checked),t.shiftKey=l.value;var n={target:JU(JU({},e),{},{checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t};// fix https://github.com/vueComponent/ant-design-vue/issues/3047
// 受控模式下维持现有状态
void 0!==e.checked&&(a.value.checked=!!e.checked),i("change",n),l.value=!1}},d=function(e){i("click",e),// onChange没能获取到shiftKey，使用onClick hack
l.value=e.shiftKey};return function(){var t,i=e.prefixCls,o=e.name,l=e.id,s=e.type,c=e.disabled,p=e.readonly,h=e.tabindex,f=e.autofocus,v=e.value,g=e.required,y=zX(e,j6),m=n.class,x=n.onFocus,b=n.onBlur,w=n.onKeydown,S=n.onKeypress,C=n.onKeyup,M=JU(JU({},y),n),T=Object.keys(M).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=M[t]),e}),{}),I=fY(i,m,(ZU(t={},"".concat(i,"-checked"),r.value),ZU(t,"".concat(i,"-disabled"),c),t)),k=JU(JU({name:o,id:l,type:s,readonly:p,disabled:c,tabindex:h,class:"".concat(i,"-input"),checked:!!r.value,autofocus:f,value:v},T),{},{onChange:u,onClick:d,onFocus:x,onBlur:b,onKeydown:w,onKeypress:S,onKeyup:C,required:g});return _("span",{class:I},[_("input",JU({ref:a},k),null),_("span",{class:"".concat(i,"-inner")},null)])}}}),W6=["prefixCls","id"],K6=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Sq.any,name:String,id:String,autofocus:{type:Boolean,default:void 0},onChange:Function,onFocus:Function,onBlur:Function,onClick:Function,"onUpdate:checked":Function,"onUpdate:value":Function}},U6=a({compatConfig:{MODE:3},name:"ARadio",props:K6(),// emits: ['update:checked', 'update:value', 'change', 'blur', 'focus'],
setup:function(e,t){var n=t.emit,i=t.expose,o=t.slots,r=C3(),a=s(),l=P("radioGroupContext",void 0),u=qJ("radio",e),c=u.prefixCls,d=u.direction;i({focus:function(){a.value.focus()},blur:function(){a.value.blur()}});var p=function(e){var t=e.target.checked;n("update:checked",t),n("update:value",t),n("change",e),r.onFieldChange()},h=function(e){n("change",e),l&&l.onRadioChange&&l.onRadioChange(e)};return function(){var t,n=l;e.prefixCls;var i=e.id,s=void 0===i?r.id.value:i,u=zX(e,W6),f=JU({prefixCls:c.value,id:s},ZJ(u,["onUpdate:checked","onUpdate:value"]));n?(f.name=n.props.name,f.onChange=h,f.checked=e.value===n.stateValue.value,f.disabled=e.disabled||n.props.disabled):f.onChange=p;var v=fY((ZU(t={},"".concat(c.value,"-wrapper"),!0),ZU(t,"".concat(c.value,"-wrapper-checked"),f.checked),ZU(t,"".concat(c.value,"-wrapper-disabled"),f.disabled),ZU(t,"".concat(c.value,"-wrapper-rtl"),"rtl"===d.value),t));return _("label",{class:v},[_(G6,JU(JU({},f),{},{type:"radio",ref:a}),null),o.default&&_("span",null,[o.default()])])}}}),Y6=OX("large","default","small"),X6=a({compatConfig:{MODE:3},name:"ARadioGroup",props:{prefixCls:String,value:Sq.any,size:Sq.oneOf(Y6),options:{type:Array},disabled:{type:Boolean,default:void 0},name:String,buttonStyle:{type:String,default:"outline"},id:String,optionType:{type:String,default:"default"},onChange:Function,"onUpdate:value":Function},// emits: ['update:value', 'change'],
setup:function(e,t){var n=t.slots,i=t.emit,o=C3(),r=qJ("radio",e),a=r.prefixCls,l=r.direction,u=r.size,d=s(e.value),p=s(!1);c((function(){return e.value}),(function(e){d.value=e,p.value=!1}));return E("radioGroupContext",{onRadioChange:function(t){var n=d.value,r=t.target.value;"value"in e||(d.value=r),// nextTick for https://github.com/vueComponent/ant-design-vue/issues/1280
p.value||r===n||(p.value=!0,i("update:value",r),i("change",t),o.onFieldChange()),V((function(){p.value=!1}))},stateValue:d,props:e}),function(){var t,i=e.options,r=e.optionType,s=e.buttonStyle,c=e.id,p=void 0===c?o.id.value:c,h="".concat(a.value,"-group"),f=fY(h,"".concat(h,"-").concat(s),(ZU(t={},"".concat(h,"-").concat(u.value),u.value),ZU(t,"".concat(h,"-rtl"),"rtl"===l.value),t)),v=null;if(i&&i.length>0){var g="button"===r?"".concat(a.value,"-button"):a.value;v=i.map((function(t){if("string"==typeof t||"number"==typeof t)return _(U6,{key:t,prefixCls:g,disabled:e.disabled,value:t,checked:d.value===t},{default:function(){return[t]}});var n=t.value,i=t.disabled,o=t.label;return _(U6,{key:"radio-group-value-options-".concat(n),prefixCls:g,disabled:i||e.disabled,value:n,checked:d.value===n},{default:function(){return[o]}})}))}else{var y;v=null===(y=n.default)||void 0===y?void 0:y.call(n)}return _("div",{class:f,id:p},[v])}}}),q6=a({compatConfig:{MODE:3},name:"ARadioButton",props:K6(),setup:function(e,t){var n=t.slots,i=qJ("radio-button",e).prefixCls,o=P("radioGroupContext",void 0);return function(){var t,r=JU(JU({},e),{},{prefixCls:i.value});return o&&(r.onChange=o.onRadioChange,r.checked=r.value===o.stateValue.value,r.disabled=r.disabled||o.props.disabled),_(U6,r,{default:function(){return[null===(t=n.default)||void 0===t?void 0:t.call(n)]}})}}});U6.Group=X6,U6.Button=q6,/* istanbul ignore next */U6.install=function(e){return e.component(U6.name,U6),e.component(U6.Group.name,U6.Group),e.component(U6.Button.name,U6.Button),e};var Z6=function(e){if(AJ()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function $6(e,t){return Array.isArray(e)||void 0===t?Z6(e):function(e,t){if(!Z6(e))return!1;var n=document.createElement("div"),i=n.style[e];return n.style[e]=t,n.style[e]!==i}(e,t)}
/**
       * Gets the timestamp of the number of milliseconds that have elapsed since
       * the Unix epoch (1 January 1970 00:00:00 UTC).
       *
       * @static
       * @memberOf _
       * @since 2.4.0
       * @category Date
       * @returns {number} Returns the timestamp.
       * @example
       *
       * _.defer(function(stamp) {
       *   console.log(_.now() - stamp);
       * }, _.now());
       * // => Logs the number of milliseconds it took for the deferred invocation.
       */var J6=function(){return UY.Date.now()},Q6=Math.max,e8=Math.min;
/**
       * Creates a debounced function that delays invoking `func` until after `wait`
       * milliseconds have elapsed since the last time the debounced function was
       * invoked. The debounced function comes with a `cancel` method to cancel
       * delayed `func` invocations and a `flush` method to immediately invoke them.
       * Provide `options` to indicate whether `func` should be invoked on the
       * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
       * with the last arguments provided to the debounced function. Subsequent
       * calls to the debounced function return the result of the last `func`
       * invocation.
       *
       * **Note:** If `leading` and `trailing` options are `true`, `func` is
       * invoked on the trailing edge of the timeout only if the debounced function
       * is invoked more than once during the `wait` timeout.
       *
       * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
       * until to the next tick, similar to `setTimeout` with a timeout of `0`.
       *
       * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
       * for details over the differences between `_.debounce` and `_.throttle`.
       *
       * @static
       * @memberOf _
       * @since 0.1.0
       * @category Function
       * @param {Function} func The function to debounce.
       * @param {number} [wait=0] The number of milliseconds to delay.
       * @param {Object} [options={}] The options object.
       * @param {boolean} [options.leading=false]
       *  Specify invoking on the leading edge of the timeout.
       * @param {number} [options.maxWait]
       *  The maximum time `func` is allowed to be delayed before it's invoked.
       * @param {boolean} [options.trailing=true]
       *  Specify invoking on the trailing edge of the timeout.
       * @returns {Function} Returns the new debounced function.
       * @example
       *
       * // Avoid costly calculations while the window size is in flux.
       * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
       *
       * // Invoke `sendMail` when clicked, debouncing subsequent calls.
       * jQuery(element).on('click', _.debounce(sendMail, 300, {
       *   'leading': true,
       *   'trailing': false
       * }));
       *
       * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
       * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
       * var source = new EventSource('/stream');
       * jQuery(source).on('message', debounced);
       *
       * // Cancel the trailing debounced invocation.
       * jQuery(window).on('popstate', debounced.cancel);
       */
function t8(e,t,n){var i,o,r,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=i,r=o;return i=o=void 0,u=t,a=e.apply(r,n)}function f(e){// Invoke the leading edge.
// Reset any `maxWait` timer.
return u=e,// Start the timer for the trailing edge.
l=setTimeout(g,t),c?h(e):a}function v(e){var n=e-s;// Either this is the first call, activity has stopped and we're at the
// trailing edge, the system time has gone backwards and we're treating
// it as the trailing edge, or we've hit the `maxWait` limit.
return void 0===s||n>=t||n<0||d&&e-u>=r}function g(){var e=J6();if(v(e))return y(e);// Restart the timer.
l=setTimeout(g,function(e){var n=t-(e-s);return d?e8(n,r-(e-u)):n}(e))}function y(e){// Only invoke if we have `lastArgs` which means `func` has been
// debounced at least once.
return l=void 0,p&&i?h(e):(i=o=void 0,a)}function m(){var e=J6(),n=v(e);if(i=arguments,o=this,s=e,n){if(void 0===l)return f(s);if(d)// Handle invocations in a tight loop.
return clearTimeout(l),l=setTimeout(g,t),h(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=V6(t)||0,T0(n)&&(c=!!n.leading,r=(d="maxWait"in n)?Q6(V6(n.maxWait)||0,t):r,p="trailing"in n?!!n.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=s=o=l=void 0},m.flush=function(){return void 0===l?a:y(J6())},m}
/**
       * Webpack has bug for import loop, which is not the same behavior as ES module.
       * When util.js imports the TreeNode for tree generate will cause treeContextTypes be empty.
       */var n8=Symbol("TreeContextKey"),i8=a({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup:function(e,t){var n=t.slots;return E(n8,L((function(){return e.value}))),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}}),o8=function(){return P(n8,L((function(){return{}})))},r8=Symbol("KeysStateKey"),a8=function(){return P(r8,{expandedKeys:$([]),selectedKeys:$([]),loadedKeys:$([]),loadingKeys:$([]),checkedKeys:$([]),halfCheckedKeys:$([]),expandedKeysSet:L((function(){return new Set})),selectedKeysSet:L((function(){return new Set})),loadedKeysSet:L((function(){return new Set})),loadingKeysSet:L((function(){return new Set})),checkedKeysSet:L((function(){return new Set})),halfCheckedKeysSet:L((function(){return new Set})),flattenNodes:$([])})},l8=function(e){for(var t=e.prefixCls,n=e.level,i=e.isStart,o=e.isEnd,r="".concat(t,"-indent-unit"),a=[],l=0;l<n;l+=1){var s;a.push(_("span",{key:l,class:(s={},ZU(s,r,!0),ZU(s,"".concat(r,"-start"),i[l]),ZU(s,"".concat(r,"-end"),o[l]),s)},null))}return _("span",{"aria-hidden":"true",class:"".concat(t,"-indent")},[a])},s8={eventKey:[String,Number],prefixCls:String,// By parent
// expanded: { type: Boolean, default: undefined },
// selected: { type: Boolean, default: undefined },
// checked: { type: Boolean, default: undefined },
// loaded: { type: Boolean, default: undefined },
// loading: { type: Boolean, default: undefined },
// halfChecked: { type: Boolean, default: undefined },
// dragOver: { type: Boolean, default: undefined },
// dragOverGapTop: { type: Boolean, default: undefined },
// dragOverGapBottom: { type: Boolean, default: undefined },
// pos: String,
title:Sq.any,/** New added in Tree for easy data access */data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},// By user
isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:Sq.any,switcherIcon:Sq.any,domRef:{type:Function}},u8={prefixCls:{type:String},// data: { type: Array as PropType<FlattenNode[]> },
motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},// expandedKeys: { type: Array as PropType<Key[]> },
// selectedKeys: { type: Array as PropType<Key[]> },
// checkedKeys: { type: Array as PropType<Key[]> },
// loadedKeys: { type: Array as PropType<Key[]> },
// loadingKeys: { type: Array as PropType<Key[]> },
// halfCheckedKeys: { type: Array as PropType<Key[]> },
// keyEntities: { type: Object as PropType<Record<Key, DataEntity<DataNode>>> },
// dragging: { type: Boolean as PropType<boolean> },
// dragOverNodeKey: { type: [String, Number] as PropType<Key> },
// dropPosition: { type: Number as PropType<number> },
// Virtual list
height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},c8=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:Sq.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:Sq.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},
/**
           * Used for `rc-tree-select` only.
           * Do not use in your production code directly since this will be refactor.
           */
onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:Sq.any,switcherIcon:Sq.any,// Virtual List
height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},// direction for drag logic
direction:{type:String}}},d8=["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"],p8="open",h8="close",f8=a({compatConfig:{MODE:3},name:"TreeNode",inheritAttrs:!1,props:s8,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,t){var n=t.attrs,i=t.slots,o=t.expose;e.data,"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map((function(e){return"`v-slot:"+e+"` "})),"instead");var r=s(!1),a=o8(),l=a8(),u=l.expandedKeysSet,c=l.selectedKeysSet,p=l.loadedKeysSet,h=l.loadingKeysSet,f=l.checkedKeysSet,v=l.halfCheckedKeysSet,g=a.value,y=g.dragOverNodeKey,m=g.dropPosition,x=g.keyEntities,b=L((function(){return O8(e.eventKey,{expandedKeysSet:u.value,selectedKeysSet:c.value,loadedKeysSet:p.value,loadingKeysSet:h.value,checkedKeysSet:f.value,halfCheckedKeysSet:v.value,dragOverNodeKey:y,dropPosition:m,keyEntities:x})})),w=R3((function(){return b.value.expanded})),S=R3((function(){return b.value.selected})),C=R3((function(){return b.value.checked})),M=R3((function(){return b.value.loaded})),T=R3((function(){return b.value.loading})),I=R3((function(){return b.value.halfChecked})),D=R3((function(){return b.value.dragOver})),P=R3((function(){return b.value.dragOverGapTop})),E=R3((function(){return b.value.dragOverGapBottom})),N=R3((function(){return b.value.pos})),R=s(),z=L((function(){var t=e.eventKey;return!!((a.value.keyEntities[t]||{}).children||[]).length})),B=L((function(){var t=e.isLeaf,n=a.value.loadData,i=z.value;return!1!==t&&(t||!n&&!i||n&&M.value&&!i)})),F=L((function(){return B.value?null:w.value?p8:h8})),V=L((function(){var t=e.disabled;return!(!a.value.disabled&&!t)})),j=L((function(){var t=e.checkable,n=a.value.checkable;// Return false if tree or treeNode is not checkable
return!(!n||!1===t)&&n})),H=L((function(){var t=e.selectable,n=a.value.selectable;// Ignore when selectable is undefined or null
return"boolean"==typeof t?t:n})),G=L((function(){var t=e.data;return JU(JU({active:e.active,checkable:e.checkable,disableCheckbox:e.disableCheckbox,disabled:e.disabled,selectable:e.selectable},t),{},{dataRef:t,data:t,isLeaf:B.value,checked:C.value,expanded:w.value,loading:T.value,selected:S.value,halfChecked:I.value})})),W=O(),K=L((function(){var t=e.eventKey,n=(a.value.keyEntities[t]||{}).parent;return JU(JU({},P8(QU({},e,b.value))),{},{parent:n})})),U=k({eventData:K,eventKey:L((function(){return e.eventKey})),selectHandle:R,pos:N,key:W.vnode.key});o(U);var Y=function(e){(0,a.value.onNodeDoubleClick)(e,K.value)},X=function(t){if(!V.value){var n=e.disableCheckbox,i=a.value.onNodeCheck;if(j.value&&!n){t.preventDefault();var o=!C.value;i(t,K.value,o)}}},q=function(e){(0,a.value.onNodeClick)(e,K.value),H.value?function(e){if(!V.value){var t=a.value.onNodeSelect;e.preventDefault(),t(e,K.value)}}(e):X(e)},Z=function(e){(0,a.value.onNodeMouseEnter)(e,K.value)},$=function(e){(0,a.value.onNodeMouseLeave)(e,K.value)},J=function(e){(0,a.value.onNodeContextMenu)(e,K.value)},Q=function(e){var t=a.value.onNodeDragStart;e.stopPropagation(),r.value=!0,t(e,U);try{// ie throw error
// firefox-need-it
e.dataTransfer.setData("text/plain","")}catch(n){// empty
}},ee=function(e){var t=a.value.onNodeDragEnter;e.preventDefault(),e.stopPropagation(),t(e,U)},te=function(e){var t=a.value.onNodeDragOver;e.preventDefault(),e.stopPropagation(),t(e,U)},ne=function(e){var t=a.value.onNodeDragLeave;e.stopPropagation(),t(e,U)},ie=function(e){var t=a.value.onNodeDragEnd;e.stopPropagation(),r.value=!1,t(e,U)},oe=function(e){var t=a.value.onNodeDrop;e.preventDefault(),e.stopPropagation(),r.value=!1,t(e,U)},re=function(e){var t=a.value.onNodeExpand;T.value||t(e,K.value)},ae=function(){var e=a.value,t=e.draggable,n=e.prefixCls;return null!=t&&t.icon?_("span",{class:"".concat(n,"-draggable-icon")},[t.icon]):null},le=function(){//const { expanded, loading, loaded } = props;
var e=a.value,t=e.loadData,n=e.onNodeLoad;T.value||// read from state to avoid loadData at same time
t&&w.value&&!B.value&&(// We needn't reload data when has children in sync logic
// It's only needed in node expanded
z.value||M.value||n(K.value))};d((function(){le()})),A((function(){// https://github.com/vueComponent/ant-design-vue/issues/4835
le()}));// Switcher
var se=function(){var t,n,o,r,l,s,u,c=a.value.prefixCls,d=(r=e.switcherIcon,l=void 0===r?i.switcherIcon||(null===(t=a.value.slots)||void 0===t?void 0:t[null===(n=e.data)||void 0===n||null===(o=n.slots)||void 0===o?void 0:o.switcherIcon]):r,s=a.value.switcherIcon,// if switcherIconDom is null, no render switcher span
"function"==typeof(u=l||s)?u(G.value):u);// if switcherIconDom is null, no render switcher span
if(B.value)return!1!==d?_("span",{class:fY("".concat(c,"-switcher"),"".concat(c,"-switcher-noop"))},[d]):null;var p=fY("".concat(c,"-switcher"),"".concat(c,"-switcher_").concat(w.value?p8:h8));return!1!==d?_("span",{onClick:re,class:p},[d]):null},ue=function(){var t,n,i=e.disableCheckbox,o=a.value.prefixCls,r=V.value;return j.value?_("span",{class:fY("".concat(o,"-checkbox"),C.value&&"".concat(o,"-checkbox-checked"),!C.value&&I.value&&"".concat(o,"-checkbox-indeterminate"),(r||i)&&"".concat(o,"-checkbox-disabled")),onClick:X},[null===(t=(n=a.value).customCheckable)||void 0===t?void 0:t.call(n)]):null},ce=function(){var e=a.value.prefixCls;return _("span",{class:fY("".concat(e,"-iconEle"),"".concat(e,"-icon__").concat(F.value||"docu"),T.value&&"".concat(e,"-icon_loading"))},null)},de=function(){var t=e.disabled,n=e.eventKey,i=a.value,o=i.draggable,r=i.dropLevelOffset,l=i.dropPosition,s=i.prefixCls,u=i.indent,c=i.dropIndicatorRender,d=i.dragOverNodeKey,p=i.direction;return!t&&!1!==o&&d===n?c({dropPosition:l,dropLevelOffset:r,indent:u,prefixCls:s,direction:p}):null},pe=function(){var t,n,o,l,s,u,c=e.icon,d=void 0===c?i.icon:c,p=e.data,h=i.title||(null===(t=a.value.slots)||void 0===t?void 0:t[null===(n=e.data)||void 0===n||null===(o=n.slots)||void 0===o?void 0:o.title])||(null===(l=a.value.slots)||void 0===l?void 0:l.title)||e.title,f=a.value,v=f.prefixCls,g=f.showIcon,y=f.icon,m=f.loadData,x=V.value,b="".concat(v,"-node-content-wrapper");if(g){var w,C,M=d||(null===(w=a.value.slots)||void 0===w?void 0:w[null==p||null===(C=p.slots)||void 0===C?void 0:C.icon])||y;s=M?_("span",{class:fY("".concat(v,"-iconEle"),"".concat(v,"-icon__customize"))},["function"==typeof M?M(G.value):M]):ce()}else m&&T.value&&(s=ce());// Title
u=void 0===(u="function"==typeof h?h(G.value):h)?"---":u;var I=_("span",{class:"".concat(v,"-title")},[u]);return _("span",{ref:R,title:"string"==typeof h?h:"",class:fY("".concat(b),"".concat(b,"-").concat(F.value||"normal"),!x&&(S.value||r.value)&&"".concat(v,"-node-selected")),onMouseenter:Z,onMouseleave:$,onContextmenu:J,onClick:q,onDblclick:Y},[s,I,de()])};// Checkbox
return function(){var t,i=JU(JU({},e),n),o=i.eventKey,r=i.isLeaf,l=i.isStart,s=i.isEnd,u=i.domRef,c=i.active;i.data;var d,p,h=i.onMousemove,f=i.selectable,v=zX(i,d8),g=a.value,y=g.prefixCls,m=g.filterTreeNode,x=g.keyEntities,b=g.dropContainerKey,M=g.dropTargetKey,k=g.draggingNodeKey,A=V.value,O=H2(v,{aria:!0,data:!0}),L=(x[o]||{}).level,N=s[s.length-1],R=(d=e.data,!(!(p=a.value.draggable)||p.nodeDraggable&&!p.nodeDraggable(d))),z=!A&&R,B=k===o,F=void 0!==f?{"aria-selected":!!f}:void 0;// console.log(1);
return _("div",JU(JU({ref:u,class:fY(n.class,"".concat(y,"-treenode"),(t={},ZU(t,"".concat(y,"-treenode-disabled"),A),ZU(t,"".concat(y,"-treenode-switcher-").concat(w.value?"open":"close"),!r),ZU(t,"".concat(y,"-treenode-checkbox-checked"),C.value),ZU(t,"".concat(y,"-treenode-checkbox-indeterminate"),I.value),ZU(t,"".concat(y,"-treenode-selected"),S.value),ZU(t,"".concat(y,"-treenode-loading"),T.value),ZU(t,"".concat(y,"-treenode-active"),c),ZU(t,"".concat(y,"-treenode-leaf-last"),N),ZU(t,"".concat(y,"-treenode-draggable"),z),ZU(t,"dragging",B),ZU(t,"drop-target",M===o),ZU(t,"drop-container",b===o),ZU(t,"drag-over",!A&&D.value),ZU(t,"drag-over-gap-top",!A&&P.value),ZU(t,"drag-over-gap-bottom",!A&&E.value),ZU(t,"filter-node",m&&m(K.value)),t)),style:n.style,draggable:z,"aria-grabbed":B,onDragstart:z?Q:void 0,onDragenter:R?ee:void 0,onDragover:R?te:void 0,onDragleave:R?ne:void 0,onDrop:R?oe:void 0,onDragend:R?ie:void 0,onMousemove:h},F),O),[_(l8,{prefixCls:y,level:L,isStart:l,isEnd:s},null),ae(),se(),ue(),pe()])}}});function v8(e,t){if(!e)return[];var n=e.slice(),i=n.indexOf(t);return i>=0&&n.splice(i,1),n}function g8(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function y8(e){return e.split("-")}function m8(e,t){return"".concat(e,"-").concat(t)}function x8(e){return e&&e.type&&e.type.isTreeNode}function b8(e){if(e.parent){var t=y8(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}// Only used when drag, not affect SSR.
function _8(e,t,n,i,o,r,a,l,s,u){var c,d=e.clientX,p=e.clientY,h=e.target.getBoundingClientRect(),f=h.top,v=h.height,g=(("rtl"===u?-1:1)*(((null==o?void 0:o.x)||0)-d)-12)/i,y=l[n.eventKey];if(p<f+v/2){// first half, set abstract drop node to previous node
var m=a.findIndex((function(e){return e.key===y.key})),x=a[m<=0?0:m-1].key;y=l[x]}var b=y.key,_=y,w=y.key,S=0,C=0;// Only allow cross level drop when dragging on a non-expanded node
if(!s.has(b))for(var M=0;M<g&&b8(y);M+=1)y=y.parent,C+=1;var T,I=t.eventData,k=y.node,A=!0;return T=y8(y.pos),0===Number(T[T.length-1])&&0===y.level&&p<f+v/2&&r({dragNode:I,dropNode:k,dropPosition:-1})&&y.key===n.eventKey?// first half of first node in first level
S=-1:(_.children||[]).length&&s.has(w)?// drop on expanded node
// only allow drop inside
r({dragNode:I,dropNode:k,dropPosition:0})?S=0:A=!1:0===C?g>-1.5?// | Node     | <- abstractDropNode
// | -^-===== | <- mousePosition
// 1. try drop after
// 2. do not allow drop
r({dragNode:I,dropNode:k,dropPosition:1})?S=1:A=!1:// | Node     | <- abstractDropNode
// | ---==^== | <- mousePosition
// whether it has children or doesn't has children
// always
// 1. try drop inside
// 2. try drop after
// 3. do not allow drop
r({dragNode:I,dropNode:k,dropPosition:0})?S=0:r({dragNode:I,dropNode:k,dropPosition:1})?S=1:A=!1:// | Node1 | <- abstractDropNode
//      |  Node2  |
// --^--|----=====| <- mousePosition
// 1. try insert after Node1
// 2. do not allow drop
r({dragNode:I,dropNode:k,dropPosition:1})?S=1:A=!1,{dropPosition:S,dropLevelOffset:C,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:w,dropContainerKey:0===S?null:(null===(c=y.parent)||void 0===c?void 0:c.key)||null,dropAllowed:A}}
/**
       * Return selectedKeys according with multiple prop
       * @param selectedKeys
       * @param props
       * @returns [string]
       */function w8(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}
/**
       * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style
       */function S8(e){if(!e)return null;// Convert keys to object format
var t;if(Array.isArray(e))// [Legacy] Follow the api doc
t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==XU(e))return null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}
/**
       * If user use `autoExpandParent` we should get the list of parent node
       * @param keyList
       * @param keyEntities
       */function C8(e,t){var n=new Set;function i(e){if(!n.has(e)){var o=t[e];if(o){n.add(e);var r=o.parent;o.node.disabled||r&&i(r.key)}}}return(e||[]).forEach((function(e){i(e)})),GY(n)}var M8=["title","icon","switcherIcon"];function T8(e,t){return null!=e?e:t}function I8(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}
/**
       * Convert `children` of Tree into `treeData` structure.
       */function k8(e){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=_X(t);return n.map((function(t){var n,i,o,r;// Filter invalidate node
if(!x8(t))return null;for(var a=t.children||{},l=t.key,s={},u=0,c=Object.entries(t.props);u<c.length;u++){var d=jY(c[u],2),p=d[0],h=d[1];s[Q(p)]=h}var f=s.isLeaf,v=s.checkable,g=s.selectable,y=s.disabled,m=s.disableCheckbox,x={isLeaf:f||""===f||void 0,checkable:v||""===v||void 0,selectable:g||""===g||void 0,disabled:y||""===y||void 0,disableCheckbox:m||""===m||void 0},b=JU(JU({},s),x),_=s.title,w=void 0===_?null===(n=a.title)||void 0===n?void 0:n.call(a,b):_,S=s.icon,C=void 0===S?null===(i=a.icon)||void 0===i?void 0:i.call(a,b):S,M=s.switcherIcon,T=void 0===M?null===(o=a.switcherIcon)||void 0===o?void 0:o.call(a,b):M,I=zX(s,M8),k=null===(r=a.default)||void 0===r?void 0:r.call(a),A=JU(JU({},I),{},{title:w,icon:C,switcherIcon:T,key:l,isLeaf:f},x),D=e(k);// 默认值为 undefined
return D.length&&(A.children=D),A}))}(e)}
/**
       * Flat nest tree data into flatten list. This is used for virtual list render.
       * @param treeNodeList Origin data node list
       * @param expandedKeys
       * need expanded keys, provides `true` means all expanded (used in `rc-tree-select`).
       */
/**
       * Traverse all the data by `treeData`.
       * Please not use it out of the `rc-tree` since we may refactor this code.
       */
function A8(e,t,// To avoid too many params, let use config instead of origin param
n){var i,o=("object"===XU(n)?n:{externalGetKey:n})||{},r=o.childrenPropName,a=o.externalGetKey,l=I8(o.fieldNames),s=l.key,u=l.children,c=r||u;a?"string"==typeof a?i=function(e){return e[a]}:"function"==typeof a&&(i=function(e){return a(e)}):i=function(e,t){return T8(e[s],t)},// Process
function n(o,r,a,l){var s=o?o[c]:e,u=o?m8(a.pos,r):"0",d=o?[].concat(GY(l),[o]):[];// Process node if is not root
if(o){var p=i(o,u),h={node:o,index:r,pos:u,key:p,parentPos:a.node?a.pos:null,level:a.level+1,nodes:d};t(h)}// Process children node
s&&s.forEach((function(e,t){n(e,t,{node:o,pos:u,level:a?a.level+1:-1},d)}))}(null)}
/**
       * Convert `treeData` into entity records.
       */function D8(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,i=t.processEntity,o=t.onProcessFinished,r=t.externalGetKey,a=t.childrenPropName,l=t.fieldNames,/** @deprecated Use `config.externalGetKey` instead */s=arguments.length>2?arguments[2]:void 0,u=r||s,c={},d={},p={posEntities:c,keyEntities:d};return n&&(p=n(p)||p),A8(e,(function(e){var t=e.node,n=e.index,o=e.pos,r=e.key,a=e.parentPos,l=e.level,s={node:t,nodes:e.nodes,index:n,key:r,pos:o,level:l},u=T8(r,o);c[o]=s,d[u]=s,// Fill children
s.parent=c[a],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),i&&i(s,p)}),{externalGetKey:u,childrenPropName:a,fieldNames:l}),o&&o(p),p}
/**
       * Get TreeNode props with Tree props.
       */function O8(e,t){var n=t.expandedKeysSet,i=t.selectedKeysSet,o=t.loadedKeysSet,r=t.loadingKeysSet,a=t.checkedKeysSet,l=t.halfCheckedKeysSet,s=t.dragOverNodeKey,u=t.dropPosition,c=t.keyEntities[e];return{eventKey:e,expanded:n.has(e),selected:i.has(e),loaded:o.has(e),loading:r.has(e),checked:a.has(e),halfChecked:l.has(e),pos:String(c?c.pos:""),parent:c.parent,// [Legacy] Drag props
// Since the interaction of drag is changed, the semantic of the props are
// not accuracy, I think it should be finally removed
dragOver:s===e&&0===u,dragOverGapTop:s===e&&-1===u,dragOverGapBottom:s===e&&1===u}}function P8(e){var t=e.data,n=e.expanded,i=e.selected,o=e.checked,r=e.loaded,a=e.loading,l=e.halfChecked,s=e.dragOver,u=e.dragOverGapTop,c=e.dragOverGapBottom,d=e.pos,p=e.active,h=e.eventKey,f=JU(JU({dataRef:t},t),{},{expanded:n,selected:i,checked:o,loaded:r,loading:a,halfChecked:l,dragOver:s,dragOverGapTop:u,dragOverGapBottom:c,pos:d,active:p,eventKey:h,key:h});return"props"in f||Object.defineProperty(f,"props",{get:function(){return e}}),f}function L8(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function E8(e){var t=e||{},n=t.disabled,i=t.disableCheckbox,o=t.checkable;return!(!n&&!i)||!1===o}// Fill miss keys
/**
       * Conduct with keys.
       * @param keyList current key list
       * @param keyEntities key - dataEntity map
       * @param mode `fill` to fill missing key, `clean` to remove useless key
       */
function N8(e,t,n,i,o,r){var a;a=r||E8;// We only handle exist keys
var l,s=new Set(e.filter((function(e){return!!n[e]})));return l=!0===t?function(e,t,n,i){// Add checked keys top to bottom
for(var o=new Set(e),r=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,a=void 0===r?[]:r;o.has(t)&&!i(n)&&a.filter((function(e){return!i(e.node)})).forEach((function(e){o.add(e.key)}))}));// Add checked keys from bottom to top
for(var l=new Set,s=n;s>=0;s-=1)(t.get(s)||new Set).forEach((function(e){var t=e.parent,n=e.node;// Skip if no need to check
if(!i(n)&&e.parent&&!l.has(e.parent.key))// Skip if parent is disabled
if(i(e.parent.node))l.add(t.key);else{var a=!0,s=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);a&&!n&&(a=!1),s||!n&&!r.has(t)||(s=!0)})),a&&o.add(t.key),s&&r.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(L8(r,o))}}// Remove useless key
(s,o,i,a):function(e,t,n,i,o){// Remove checked keys from top to bottom
for(var r=new Set(e),a=new Set(t),l=0;l<=i;l+=1)(n.get(l)||new Set).forEach((function(e){var t=e.key,n=e.node,i=e.children,l=void 0===i?[]:i;r.has(t)||a.has(t)||o(n)||l.filter((function(e){return!o(e.node)})).forEach((function(e){r.delete(e.key)}))}));// Remove checked keys form bottom to top
a=new Set;for(var s=new Set,u=i;u>=0;u-=1)(n.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;// Skip if no need to check
if(!o(n)&&e.parent&&!s.has(e.parent.key))// Skip if parent is disabled
if(o(e.parent.node))s.add(t.key);else{var i=!0,l=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);i&&!n&&(i=!1),l||!n&&!a.has(t)||(l=!0)})),i||r.delete(t.key),l&&a.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(L8(a,r))}}(s,t.halfCheckedKeys,o,i,a),l}function R8(e){var t=s(0),n=$();return j((function(){var i=new Map,o=0,r=e.value||{};// Convert entities by level for calculation
for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var l=r[a],s=l.level,u=i.get(s);u||(u=new Set,i.set(s,u)),u.add(l),o=Math.max(o,s)}t.value=o,n.value=i})),{maxLevel:t,levelEntities:n}}// This icon file is generated automatically.
var z8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};function B8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){F8(e,t,n[t])}))}return e}function F8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V8=function(e,t){var n=B8({},e,t.attrs);return _(JZ,B8({},n,{icon:z8}),null)};V8.displayName="LeftOutlined",V8.inheritAttrs=!1;var j8=V8,H8=Symbol("CheckboxGroupContext"),G8=["indeterminate","skipGroup","id"],W8=["onMouseenter","onMouseleave","onInput","class","style"],K8=a({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:JU(JU({},{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Sq.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}),{},{indeterminate:{type:Boolean,default:!1}}),// emits: ['change', 'update:checked'],
setup:function(e,t){var n=t.emit,i=t.attrs,o=t.slots,r=t.expose,a=C3(),l=qJ("checkbox",e),u=l.prefixCls,c=l.direction,p=P(H8,void 0),h=Symbol("checkboxUniId");j((function(){!e.skipGroup&&p&&p.registerValue(h,e.value)})),G((function(){p&&p.cancelValue(h)})),d((function(){Eq(void 0!==e.checked||p||void 0===e.value,"Checkbox","`value` is not validate prop, do you mean `checked`?")}));var f=function(e){var t=e.target.checked;n("update:checked",t),n("change",e)},v=s();return r({focus:function(){var e;null===(e=v.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=v.value)||void 0===e||e.blur()}}),function(){var t,r,l=fX(null===(t=o.default)||void 0===t?void 0:t.call(o)),s=e.indeterminate,d=e.skipGroup,h=e.id,g=void 0===h?a.id.value:h,y=zX(e,G8),m=i.onMouseenter,x=i.onMouseleave;i.onInput;var b=i.class,w=i.style,S=zX(i,W8),C=JU(JU({},y),{},{id:g,prefixCls:u.value},S);p&&!d?(C.onChange=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];n.apply(void 0,["change"].concat(i)),p.toggleOption({label:l,value:e.value})},C.name=p.name.value,C.checked=-1!==p.mergedValue.value.indexOf(e.value),C.disabled=e.disabled||p.disabled.value,C.indeterminate=s):C.onChange=f;var M=fY((ZU(r={},"".concat(u.value,"-wrapper"),!0),ZU(r,"".concat(u.value,"-rtl"),"rtl"===c.value),ZU(r,"".concat(u.value,"-wrapper-checked"),C.checked),ZU(r,"".concat(u.value,"-wrapper-disabled"),C.disabled),r),b),T=fY(ZU({},"".concat(u.value,"-indeterminate"),s));return _("label",{class:M,style:w,onMouseenter:m,onMouseleave:x},[_(G6,JU(JU({},C),{},{class:T,ref:v}),null),l.length?_("span",null,[l]):null])}}});var U8,Y8=a({compatConfig:{MODE:3},name:"ACheckboxGroup",props:JU(JU({},{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}}),// emits: ['change', 'update:value'],
setup:function(e,t){var n=t.slots,i=t.emit,o=t.expose,r=C3(),a=qJ("checkbox",e),l=a.prefixCls,u=a.direction,d=s((void 0===e.value?e.defaultValue:e.value)||[]);c((function(){return e.value}),(function(){d.value=e.value||[]}));var p=L((function(){return e.options.map((function(e){return"string"==typeof e||"number"==typeof e?{label:e,value:e}:e}))})),h=s(Symbol()),f=s(new Map),v=s(new Map);c(h,(function(){var e,t=new Map,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=FY(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}(f.value.values());try{for(n.s();!(e=n.n()).done;){var i=e.value;t.set(i,!0)}}catch(o){n.e(o)}finally{n.f()}v.value=t}));return E(H8,{cancelValue:function(e){f.value.delete(e),h.value=Symbol()},registerValue:function(e,t){f.value.set(e,t),h.value=Symbol()},toggleOption:function(t){var n=d.value.indexOf(t.value),o=GY(d.value);-1===n?o.push(t.value):o.splice(n,1),void 0===e.value&&(d.value=o);var a=o.filter((function(e){return v.value.has(e)})).sort((function(e,t){return p.value.findIndex((function(t){return t.value===e}))-p.value.findIndex((function(e){return e.value===t}))}));i("update:value",a),i("change",a),r.onFieldChange()},mergedValue:d,name:L((function(){return e.name})),disabled:L((function(){return e.disabled}))}),o({mergedValue:d}),function(){var t,i=e.id,o=void 0===i?r.id.value:i,a=null,s="".concat(l.value,"-group");return p.value&&p.value.length>0&&(a=p.value.map((function(t){var i;return _(K8,{prefixCls:l.value,key:t.value.toString(),disabled:"disabled"in t?t.disabled:e.disabled,indeterminate:t.indeterminate,value:t.value,checked:-1!==d.value.indexOf(t.value),onChange:t.onChange,class:"".concat(s,"-item")},{default:function(){return[void 0===t.label?null===(i=n.label)||void 0===i?void 0:i.call(n,t):t.label]}})}))),_("div",{class:[s,ZU({},"".concat(s,"-rtl"),"rtl"===u.value)],id:o},[a||(null===(t=n.default)||void 0===t?void 0:t.call(n))])}}});function X8(e){if("undefined"==typeof document)return 0;if(e||void 0===U8){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var o=t.offsetWidth;n.style.overflow="scroll";var r=t.offsetWidth;o===r&&(r=n.clientWidth),document.body.removeChild(n),U8=o-r}return U8}function q8(e){var t=e.match(/^(.*)px$/),n=Number(null==t?void 0:t[1]);return Number.isNaN(n)?X8():n}K8.Group=Y8,/* istanbul ignore next */K8.install=function(e){return e.component(K8.name,K8),e.component(Y8.name,Y8),e},H4.Button=N4,/* istanbul ignore next */H4.install=function(e){return e.component(H4.name,H4),e.component(N4.name,N4),e};var Z8=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:Sq.oneOfType([Sq.string,Sq.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:Sq.any,addonAfter:Sq.any,prefix:Sq.any,suffix:Sq.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}},$8=Z8,J8=function(){return JU(JU({},ZJ(Z8(),["prefix","addonBefore","addonAfter","suffix"])),{},{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function Q8(e,t,n,i,o){var r;return fY(e,(ZU(r={},"".concat(e,"-sm"),"small"===n),ZU(r,"".concat(e,"-lg"),"large"===n),ZU(r,"".concat(e,"-disabled"),i),ZU(r,"".concat(e,"-rtl"),"rtl"===o),ZU(r,"".concat(e,"-borderless"),!t),r))}var e7=function(e){return null!=e&&(!Array.isArray(e)||_X(e).length)};function t7(e){return e7(e.addonBefore)||e7(e.addonAfter)}var n7=["text","input"],i7=a({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:Sq.oneOf(OX("text","input")),value:Sq.any,defaultValue:Sq.any,allowClear:{type:Boolean,default:void 0},element:Sq.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:Sq.any,prefix:Sq.any,addonBefore:Sq.any,addonAfter:Sq.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,t){var n=t.slots,i=t.attrs,o=s(),r=function(t){var n;if(null!==(n=o.value)&&void 0!==n&&n.contains(t.target)){var i=e.triggerFocus;null==i||i()}},a=function(t){var i,o=e.allowClear,r=e.value,a=e.disabled,l=e.readonly,s=e.handleReset,u=e.suffix,c=void 0===u?n.suffix:u;if(!o)return null;var d=!a&&!l&&r,p="".concat(t,"-clear-icon");return _(p$,{onClick:s,onMousedown:function(e){return e.preventDefault()},class:fY((i={},ZU(i,"".concat(p,"-hidden"),!d),ZU(i,"".concat(p,"-has-suffix"),!!c),i),p),role:"button"},null)},l=function(t,l){var s,u,c,d,p=e.focused,h=e.value,f=e.prefix,v=void 0===f?null===(s=n.prefix)||void 0===s?void 0:s.call(n):f,g=e.size,y=e.suffix,m=void 0===y?null===(u=n.suffix)||void 0===u?void 0:u.call(n):y,x=e.disabled,b=e.allowClear,w=e.direction,S=e.readonly,C=e.bordered,M=e.hidden,T=e.addonAfter,I=void 0===T?n.addonAfter:T,k=e.addonBefore,A=void 0===k?n.addonBefore:k,D=function(t){var i,o=e.suffix,r=void 0===o?null===(i=n.suffix)||void 0===i?void 0:i.call(n):o,l=e.allowClear;return r||l?_("span",{class:"".concat(t,"-suffix")},[a(t),r]):null}(t);if(!(e7((d={prefix:v,suffix:m,allowClear:b}).prefix)||e7(d.suffix)||e7(d.allowClear)))return x0(l,{value:h});var O=v?_("span",{class:"".concat(t,"-prefix")},[v]):null,P=fY("".concat(t,"-affix-wrapper"),(ZU(c={},"".concat(t,"-affix-wrapper-focused"),p),ZU(c,"".concat(t,"-affix-wrapper-disabled"),x),ZU(c,"".concat(t,"-affix-wrapper-sm"),"small"===g),ZU(c,"".concat(t,"-affix-wrapper-lg"),"large"===g),ZU(c,"".concat(t,"-affix-wrapper-input-with-clear-btn"),m&&b&&h),ZU(c,"".concat(t,"-affix-wrapper-rtl"),"rtl"===w),ZU(c,"".concat(t,"-affix-wrapper-readonly"),S),ZU(c,"".concat(t,"-affix-wrapper-borderless"),!C),ZU(c,"".concat(i.class),!t7({addonAfter:I,addonBefore:A})&&i.class),c));return _("span",{ref:o,class:P,style:i.style,onMouseup:r,hidden:M},[O,x0(l,{style:null,value:h,class:Q8(t,C,g,x)}),D])};return function(){var t,o=e.prefixCls,r=e.inputType,s=e.element,u=void 0===s?null===(t=n.element)||void 0===t?void 0:t.call(n):s;return r===n7[0]?function(t,o){var r,l=e.value,s=e.allowClear,u=e.direction,c=e.bordered,d=e.hidden,p=e.addonAfter,h=void 0===p?n.addonAfter:p,f=e.addonBefore,v=void 0===f?n.addonBefore:f;if(!s)return x0(o,{value:l});var g=fY("".concat(t,"-affix-wrapper"),"".concat(t,"-affix-wrapper-textarea-with-clear-btn"),(ZU(r={},"".concat(t,"-affix-wrapper-rtl"),"rtl"===u),ZU(r,"".concat(t,"-affix-wrapper-borderless"),!c),ZU(r,"".concat(i.class),!t7({addonAfter:h,addonBefore:v})&&i.class),r));return _("span",{class:g,style:i.style,hidden:d},[x0(o,{style:null,value:l}),a(t)])}(o,u):function(t,o){var r,a,l,s=e.addonBefore,u=void 0===s?null===(r=n.addonBefore)||void 0===r?void 0:r.call(n):s,c=e.addonAfter,d=void 0===c?null===(a=n.addonAfter)||void 0===a?void 0:a.call(n):c,p=e.size,h=e.direction,f=e.hidden;// Not wrap when there is not addons
if(!t7({addonBefore:u,addonAfter:d}))return o;var v="".concat(t,"-group"),g="".concat(v,"-addon"),y=u?_("span",{class:g},[u]):null,m=d?_("span",{class:g},[d]):null,x=fY("".concat(t,"-wrapper"),v,ZU({},"".concat(v,"-rtl"),"rtl"===h)),b=fY("".concat(t,"-group-wrapper"),(ZU(l={},"".concat(t,"-group-wrapper-sm"),"small"===p),ZU(l,"".concat(t,"-group-wrapper-lg"),"large"===p),ZU(l,"".concat(t,"-group-wrapper-rtl"),"rtl"===h),l),i.class);// Need another wrapper for changing display:table to display:inline-block
// and put style prop in wrapper
return _("span",{class:b,style:i.style,hidden:f},[_("span",{class:x},[y,x0(o,{style:null}),m])])}(o,l(o,u))}}});function o7(e){return null==e?"":String(e)}function r7(e,t,n,i){if(n){var o=t;if("click"===t.type){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});// click clear icon
//event = Object.create(e);
var r=e.cloneNode(!0);return o.target=r,o.currentTarget=r,// change target ref value cause e.target.value should be '' when clear input
r.value="",void n(o)}// Trigger by composition event, this means we need force change the input value
if(void 0!==i)return Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=e,o.currentTarget=e,e.value=i,void n(o);n(o)}}function a7(e,t){if(e){e.focus(t);// Selection content
var n=(t||{}).cursor;if(n){var i=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(i,i);break;default:e.setSelectionRange(0,i)}}}}var l7=a({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:$8(),setup:function(e,t){var n,i=t.slots,o=t.attrs,r=t.expose,a=t.emit,l=s(),u=s(),p=C3(),h=qJ("input",e),v=h.direction,g=h.prefixCls,y=h.size,x=h.autocomplete,b=s(void 0===e.value?e.defaultValue:e.value),w=s(!1);c((function(){return e.value}),(function(){b.value=e.value})),c((function(){return e.disabled}),(function(){void 0!==e.value&&(b.value=e.value),e.disabled&&(w.value=!1)}));var S=function(){// https://github.com/ant-design/ant-design/issues/20541
n=setTimeout((function(){var e;"password"===(null===(e=l.value)||void 0===e?void 0:e.getAttribute("type"))&&l.value.hasAttribute("value")&&l.value.removeAttribute("value")}))},C=function(e){a7(l.value,e)};r({focus:C,blur:function(){var e;null===(e=l.value)||void 0===e||e.blur()},input:l,stateValue:b,setSelectionRange:function(e,t,n){var i;null===(i=l.value)||void 0===i||i.setSelectionRange(e,t,n)},select:function(){var e;null===(e=l.value)||void 0===e||e.select()}});var M=function(t){var n=e.onFocus;w.value=!0,null==n||n(t),V((function(){S()}))},T=function(t){var n=e.onBlur;w.value=!1,null==n||n(t),p.onFieldBlur(),V((function(){S()}))},I=function(e){a("update:value",e.target.value),a("change",e),a("input",e),p.onFieldChange()},k=O(),A=function(t,n){b.value!==t&&(void 0===e.value?b.value=t:V((function(){l.value.value!==b.value&&k.update()})),V((function(){n&&n()})))},D=function(e){r7(l.value,e,I),A("",(function(){C()}))},P=function(t){var n=t.target,i=n.value,o=n.composing;// https://github.com/vueComponent/ant-design-vue/issues/2203
if(!((t.isComposing||o)&&e.lazy||b.value===i)){var r=t.target.value;r7(l.value,t,I),A(r,(function(){S()}))}},L=function(e){13===e.keyCode&&a("pressEnter",e),a("keydown",e)};d((function(){S()})),G((function(){clearTimeout(n)}));var E=function(){var t,n=e.addonBefore,r=void 0===n?i.addonBefore:n,a=e.addonAfter,s=void 0===a?i.addonAfter:a,u=e.disabled,c=e.bordered,d=void 0===c||c,h=e.valueModifiers,m=void 0===h?{}:h,b=e.htmlSize,w=ZJ(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear",// Input elements must be either controlled or uncontrolled,
// specify either the value prop, or the defaultValue prop, but not both.
"defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),S=JU(JU(JU({},w),o),{},{autocomplete:x.value,onChange:P,onInput:P,onFocus:M,onBlur:T,onKeydown:L,class:fY(Q8(g.value,d,y.value,u,v.value),ZU({},o.class,o.class&&!r&&!s)),ref:l,key:"ant-input",size:b,id:null!==(t=w.id)&&void 0!==t?t:p.id.value});m.lazy&&delete S.onInput,S.autofocus||delete S.autofocus;var C=_("input",ZJ(S,["size"]),null);return f(C,[[E2]])},N=function(){var t,n=b.value,o=e.maxlength,r=e.suffix,a=void 0===r?null===(t=i.suffix)||void 0===t?void 0:t.call(i):r,l=e.showCount,s=Number(o)>0;if(a||l){var u=GY(o7(n)).length,c=null;return c="object"===XU(l)?l.formatter({count:u,maxlength:o}):"".concat(u).concat(s?" / ".concat(o):""),_(m,null,[!!l&&_("span",{class:fY("".concat(g.value,"-show-count-suffix"),ZU({},"".concat(g.value,"-show-count-has-suffix"),!!a))},[c]),a])}return null};return function(){var t=JU(JU(JU({},o),e),{},{prefixCls:g.value,inputType:"input",value:o7(b.value),handleReset:D,focused:w.value&&!e.disabled});return _(i7,JU(JU({},ZJ(t,["element","valueModifiers","suffix","showCount"])),{},{ref:u}),JU(JU({},i),{},{element:E,suffix:N}))}}}),s7=a({compatConfig:{MODE:3},name:"AInputGroup",props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0},onMouseenter:{type:Function},onMouseleave:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},setup:function(e,t){var n=t.slots,i=qJ("input-group",e),o=i.prefixCls,r=i.direction,a=L((function(){var t,n=o.value;return ZU(t={},"".concat(n),!0),ZU(t,"".concat(n,"-lg"),"large"===e.size),ZU(t,"".concat(n,"-sm"),"small"===e.size),ZU(t,"".concat(n,"-compact"),e.compact),ZU(t,"".concat(n,"-rtl"),"rtl"===r.value),t}));return function(){var t;return _("span",{class:a.value,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave,onFocus:e.onFocus,onBlur:e.onBlur},[null===(t=n.default)||void 0===t?void 0:t.call(n)])}}}),u7=/iPhone/i,c7=/iPod/i,d7=/iPad/i,p7=/\bAndroid(?:.+)Mobile\b/i,h7=/Android/i,f7=/\bAndroid(?:.+)SD4930UR\b/i,v7=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,g7=/Windows Phone/i,y7=/\bWindows(?:.+)ARM\b/i,m7=/BlackBerry/i,x7=/BB10/i,b7=/Opera Mini/i,_7=/\b(CriOS|Chrome)(?:.+)Mobile/i,w7=/Mobile(?:.+)Firefox\b/i;// Match 'Mobile' AND 'Firefox'
function S7(e,t){return e.test(t)}function C7(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),n=t.split("[FBAN");// Facebook mobile app's integrated browser adds a bunch of strings that
// match everything. Strip it out if it exists.
void 0!==n[1]&&(t=jY(n,1)[0]);// Twitter mobile app's integrated browser on iPad adds a "Twitter for
// iPhone" string. Same probably happens on other tablet platforms.
// This will confuse detection so strip it out if it exists.
void 0!==(n=t.split("Twitter"))[1]&&(t=jY(n,1)[0]);var i={apple:{phone:S7(u7,t)&&!S7(g7,t),ipod:S7(c7,t),tablet:!S7(u7,t)&&S7(d7,t)&&!S7(g7,t),device:(S7(u7,t)||S7(c7,t)||S7(d7,t))&&!S7(g7,t)},amazon:{phone:S7(f7,t),tablet:!S7(f7,t)&&S7(v7,t),device:S7(f7,t)||S7(v7,t)},android:{phone:!S7(g7,t)&&S7(f7,t)||!S7(g7,t)&&S7(p7,t),tablet:!S7(g7,t)&&!S7(f7,t)&&!S7(p7,t)&&(S7(v7,t)||S7(h7,t)),device:!S7(g7,t)&&(S7(f7,t)||S7(v7,t)||S7(p7,t)||S7(h7,t))||S7(/\bokhttp\b/i,t)},windows:{phone:S7(g7,t),tablet:S7(y7,t),device:S7(g7,t)||S7(y7,t)},other:{blackberry:S7(m7,t),blackberry10:S7(x7,t),opera:S7(b7,t),firefox:S7(w7,t),chrome:S7(_7,t),device:S7(m7,t)||S7(x7,t)||S7(b7,t)||S7(w7,t)||S7(_7,t)},// Additional
any:null,phone:null,tablet:null};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,// excludes 'other' devices and ipods, targeting touchscreen phones
i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}var M7,T7=JU(JU({},C7()),{},{isMobile:C7}),I7=["disabled","loading","addonAfter","suffix"],k7=a({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:JU(JU({},$8()),{},{inputPrefixCls:String,// 不能设置默认值 https://github.com/vueComponent/ant-design-vue/issues/1916
enterButton:Sq.any,onSearch:{type:Function}}),setup:function(e,t){var n=t.slots,i=t.attrs,o=t.expose,r=t.emit,a=s();o({focus:function(){var e;null===(e=a.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=a.value)||void 0===e||e.blur()}});var l=function(e){r("update:value",e.target.value),e&&e.target&&"click"===e.type&&r("search",e.target.value,e),r("change",e)},u=function(e){var t;document.activeElement===(null===(t=a.value)||void 0===t?void 0:t.input)&&e.preventDefault()},c=function(e){var t;r("search",null===(t=a.value)||void 0===t?void 0:t.stateValue,e),T7.tablet||a.value.focus()},d=qJ("input-search",e),p=d.prefixCls,h=d.getPrefixCls,f=d.direction,v=d.size,g=L((function(){return h("input",e.inputPrefixCls)}));return function(){var t,o,r,s,d,h,y=e.disabled,m=e.loading,x=e.addonAfter,b=void 0===x?null===(t=n.addonAfter)||void 0===t?void 0:t.call(n):x,w=e.suffix,S=void 0===w?null===(o=n.suffix)||void 0===o?void 0:o.call(n):w,C=zX(e,I7),M=e.enterButton,T=void 0===M?null!==(r=null===(s=n.enterButton)||void 0===s?void 0:s.call(n))&&void 0!==r&&r:M,I="boolean"==typeof(T=T||""===T)?_(x3,null,null):null,k="".concat(p.value,"-button"),A=Array.isArray(T)?T[0]:T,D=A.type&&
/**
       * Checks if `value` is a plain object, that is, an object created by the
       * `Object` constructor or one with a `[[Prototype]]` of `null`.
       *
       * @static
       * @memberOf _
       * @since 0.8.0
       * @category Lang
       * @param {*} value The value to check.
       * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
       * @example
       *
       * function Foo() {
       *   this.a = 1;
       * }
       *
       * _.isPlainObject(new Foo);
       * // => false
       *
       * _.isPlainObject([1, 2, 3]);
       * // => false
       *
       * _.isPlainObject({ 'x': 0, 'y': 0 });
       * // => true
       *
       * _.isPlainObject(Object.create(null));
       * // => true
       */
function(e){if(!iX(e)||"[object Object]"!=eX(e))return!1;var t=nX(e);if(null===t)return!0;var n=lX.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&aX.call(n)==sX}(A.type)&&A.type.__ANT_BUTTON;if(D||"button"===A.tagName)h=x0(A,JU({onMousedown:u,onClick:c,key:"enterButton"},D?{class:k,size:v.value}:{}),!1);else{var O=I&&!T;h=_(C4,{class:k,type:T?"primary":void 0,size:v.value,disabled:y,key:"enterButton",onMousedown:u,onClick:c,loading:m,icon:O?I:null},{default:function(){return[O?null:I||T]}})}b&&(h=[h,b]);var P=fY(p.value,(ZU(d={},"".concat(p.value,"-rtl"),"rtl"===f.value),ZU(d,"".concat(p.value,"-").concat(v.value),!!v.value),ZU(d,"".concat(p.value,"-with-button"),!!T),d),i.class);return _(l7,JU(JU(JU({ref:a},ZJ(C,["onUpdate:value","onSearch","enterButton"])),i),{},{onPressEnter:c,size:v.value,prefixCls:g.value,addonAfter:h,suffix:S,onChange:l,class:P,disabled:y}),n)}}}),A7="\n min-height:0 !important;\n max-height:none !important;\n height:0 !important;\n visibility:hidden !important;\n overflow:hidden !important;\n position:absolute !important;\n z-index:-1000 !important;\n top:0 !important;\n right:0 !important\n",D7=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],O7={};function P7(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&O7[n])return O7[n];var i=window.getComputedStyle(e),o=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),r=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),a=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),l=D7.map((function(e){return"".concat(e,":").concat(i.getPropertyValue(e))})).join(";"),s={sizingStyle:l,paddingSize:r,borderSize:a,boxSizing:o};return t&&n&&(O7[n]=s),s}var L7=a({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:J8(),setup:function(e,t){var n,i,o=t.attrs,r=t.emit,a=t.expose,l=s(),u=s({}),p=s(0);G((function(){DX.cancel(n),DX.cancel(i)}));// https://github.com/ant-design/ant-design/issues/21870
var h=function(){var t=e.autoSize||e.autosize;if(t&&l.value){var n=t.minRows,o=t.maxRows;u.value=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;M7||((M7=document.createElement("textarea")).setAttribute("tab-index","-1"),M7.setAttribute("aria-hidden","true"),document.body.appendChild(M7)),// Fix wrap="off" issue
// https://github.com/ant-design/ant-design/issues/6577
e.getAttribute("wrap")?M7.setAttribute("wrap",e.getAttribute("wrap")):M7.removeAttribute("wrap");// Copy all CSS properties that have an impact on the height of the content in
// the textbox
var o=P7(e,t),r=o.paddingSize,a=o.borderSize,l=o.boxSizing,s=o.sizingStyle;// Need to have the overflow attribute to hide the scrollbar otherwise
// text-lines will not calculated properly as the shadow will technically be
// narrower for content
M7.setAttribute("style","".concat(s,";").concat(A7)),M7.value=e.value||e.placeholder||"";var u,c=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,p=M7.scrollHeight;if("border-box"===l?// border-box: add border, since height = content + padding + border
p+=a:"content-box"===l&&(// remove padding, since height = content
p-=r),null!==n||null!==i){// measure height of a textarea with a single row
M7.value=" ";var h=M7.scrollHeight-r;null!==n&&(c=h*n,"border-box"===l&&(c=c+r+a),p=Math.max(c,p)),null!==i&&(d=h*i,"border-box"===l&&(d=d+r+a),u=p>d?"":"hidden",p=Math.min(d,p))}return{height:"".concat(p,"px"),minHeight:"".concat(c,"px"),maxHeight:"".concat(d,"px"),overflowY:u,resize:"none"}}(l.value,!1,n,o),p.value=1,DX.cancel(i),i=DX((function(){p.value=2,i=DX((function(){p.value=0,function(){try{if(document.activeElement===l.value){var e=l.value.selectionStart,t=l.value.selectionEnd;l.value.setSelectionRange(e,t)}}catch(qX){// Fix error in Chrome:
// Failed to read the 'selectionStart' property from 'HTMLInputElement'
// http://stackoverflow.com/q/21177489/3040605
}}()}))}))}},v=function(t){0===p.value&&(r("resize",t),(e.autoSize||e.autosize)&&(DX.cancel(n),n=DX(h)))};Eq(void 0===e.autosize,"Input.TextArea","autosize is deprecated, please use autoSize instead.");c((function(){return e.value}),(function(){V((function(){h()}))})),d((function(){V((function(){h()}))}));var g=O();return a({resizeTextarea:h,textArea:l,instance:g}),function(){return t=e.prefixCls,n=e.autoSize,i=e.autosize,r=e.disabled,a=ZJ(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","lazy","maxlength","valueModifiers"]),s=fY(t,o.class,ZU({},"".concat(t,"-disabled"),r)),c=[o.style,u.value,1===p.value?{overflowX:"hidden",overflowY:"hidden"}:null],(d=JU(JU(JU({},a),o),{},{style:c,class:s})).autofocus||delete d.autofocus,0===d.rows&&delete d.rows,_(CX,{onResize:v,disabled:!(n||i)},{default:function(){return[f(_("textarea",JU(JU({},d),{},{ref:l}),null),[[E2]])]}});var t,n,i,r,a,s,c,d}}}),E7=L7;function N7(e,t){return GY(e||"").slice(0,t).join("")}function R7(e,t,n,i){var o=n;return e?// 光标在尾部，直接截断
o=N7(n,i):GY(t||"").length<n.length&&GY(n||"").length>i&&(// 光标在中间，如果最后的值超过最大值，则采用原先的值
o=t),o}var z7=a({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:J8(),setup:function(e,t){var n=t.attrs,i=t.expose,o=t.emit,r=C3(),a=s(void 0===e.value?e.defaultValue:e.value),l=s(),u=s(""),d=qJ("input",e),p=d.prefixCls,h=d.size,f=d.direction,v=L((function(){return""===e.showCount||e.showCount||!1})),g=L((function(){return Number(e.maxlength)>0})),y=s(!1),m=s(),x=s(0),b=function(e){y.value=!0,// 拼音输入前保存一份旧值
m.value=u.value,// 保存旧的光标位置
x.value=e.currentTarget.selectionStart,o("compositionstart",e)},w=function(t){y.value=!1;var n,i=t.currentTarget.value;g.value&&(i=R7(x.value>=e.maxlength+1||x.value===(null===(n=m.value)||void 0===n?void 0:n.length),m.value,i,e.maxlength));// Patch composition onChange when value changed
i!==u.value&&(M(i),r7(t.currentTarget,t,k,i)),o("compositionend",t)},S=O();c((function(){return e.value}),(function(){var t;S.vnode.props,a.value=null!==(t=e.value)&&void 0!==t?t:""}));var C=function(e){var t;a7(null===(t=l.value)||void 0===t?void 0:t.textArea,e)},M=function(t,n){a.value!==t&&(void 0===e.value?a.value=t:V((function(){var e,t,n;l.value.textArea.value!==u.value&&(null===(e=l.value)||void 0===e||null===(t=(n=e.instance).update)||void 0===t||t.call(n))})),V((function(){n&&n()})))},T=function(e){13===e.keyCode&&o("pressEnter",e),o("keydown",e)},I=function(t){var n=e.onBlur;null==n||n(t),r.onFieldBlur()},k=function(e){o("update:value",e.target.value),o("change",e),o("input",e),r.onFieldChange()},A=function(e){r7(l.value.textArea,e,k),M("",(function(){C()}))},D=function(t){var n=t.target.composing,i=t.target.value;if(y.value=!(!t.isComposing&&!n),!(y.value&&e.lazy||a.value===i)){if(g.value){// 1. 复制粘贴超过maxlength的情况 2.未超过maxlength的情况
var o=t.target;i=R7(o.selectionStart>=e.maxlength+1||o.selectionStart===i.length||!o.selectionStart,u.value,i,e.maxlength)}r7(t.currentTarget,t,k,i),M(i)}},P=function(){var t,i,o,a=n.style,s=n.class,u=e.bordered,c=void 0===u||u,d=JU(JU(JU({},ZJ(e,["allowClear"])),n),{},{style:v.value?{}:a,class:(t={},ZU(t,"".concat(p.value,"-borderless"),!c),ZU(t,"".concat(s),s&&!v.value),ZU(t,"".concat(p.value,"-sm"),"small"===h.value),ZU(t,"".concat(p.value,"-lg"),"large"===h.value),t),showCount:null,prefixCls:p.value,onInput:D,onChange:D,onBlur:I,onKeydown:T,onCompositionstart:b,onCompositionend:w});return null!==(i=e.valueModifiers)&&void 0!==i&&i.lazy&&delete d.onInput,_(E7,JU(JU({},d),{},{id:null!==(o=d.id)&&void 0!==o?o:r.id.value,ref:l,maxlength:e.maxlength}),null)};return i({focus:C,blur:function(){var e,t;null===(e=l.value)||void 0===e||null===(t=e.textArea)||void 0===t||t.blur()},resizableTextArea:l}),j((function(){var t=o7(a.value);y.value||!g.value||null!==e.value&&void 0!==e.value||(// fix #27612 将value转为数组进行截取，解决 '😂'.length === 2 等emoji表情导致的截取乱码的问题
t=N7(t,e.maxlength)),u.value=t})),function(){var t=e.maxlength,i=e.bordered,o=void 0===i||i,r=e.hidden,a=n.style,l=n.class,s=JU(JU(JU({},e),n),{},{prefixCls:p.value,inputType:"text",handleReset:A,direction:f.value,bordered:o,style:v.value?void 0:a}),c=_(i7,JU(JU({},s),{},{value:u.value}),{element:P});if(v.value){var d=GY(u.value).length,h="";h="object"===XU(v.value)?v.value.formatter({count:d,maxlength:t}):"".concat(d).concat(g.value?" / ".concat(t):""),c=_("div",{hidden:r,class:fY("".concat(p.value,"-textarea"),ZU({},"".concat(p.value,"-textarea-rtl"),"rtl"===f.value),"".concat(p.value,"-textarea-show-count"),l),style:a,"data-count":"object"!==XU(h)?h:void 0},[c])}return c}}}),B7={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};// This icon file is generated automatically.
function F7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){V7(e,t,n[t])}))}return e}function V7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j7=function(e,t){var n=F7({},e,t.attrs);return _(JZ,F7({},n,{icon:B7}),null)};j7.displayName="EyeOutlined",j7.inheritAttrs=!1;var H7=j7,G7={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};// This icon file is generated automatically.
function W7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){K7(e,t,n[t])}))}return e}function K7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U7=function(e,t){var n=W7({},e,t.attrs);return _(JZ,W7({},n,{icon:G7}),null)};U7.displayName="EyeInvisibleOutlined",U7.inheritAttrs=!1;var Y7=U7,X7=["size","visibilityToggle"],q7={click:"onClick",hover:"onMouseover"},Z7=function(e){return _(e?H7:Y7,null,null)},$7=a({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:JU(JU({},$8()),{},{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},iconRender:Function}),setup:function(e,t){var n=t.slots,i=t.attrs,o=t.expose,r=s(!1),a=function(){e.disabled||(r.value=!r.value)},l=s();o({focus:function(){var e;null===(e=l.value)||void 0===e||e.focus()},blur:function(){var e;null===(e=l.value)||void 0===e||e.blur()}});var u=qJ("input-password",e),c=u.prefixCls,d=u.getPrefixCls,p=L((function(){return d("input",e.inputPrefixCls)})),h=function(){var t=e.size,o=e.visibilityToggle,s=zX(e,X7),u=o&&function(t){var i,o=e.action,l=e.iconRender,s=void 0===l?n.iconRender||Z7:l,u=q7[o]||"",c=s(r.value),d=(ZU(i={},u,a),ZU(i,"class","".concat(t,"-icon")),ZU(i,"key","passwordIcon"),ZU(i,"onMousedown",(function(e){// Prevent focused state lost
// https://github.com/ant-design/ant-design/issues/15173
e.preventDefault()})),ZU(i,"onMouseup",(function(e){// Prevent caret position change
// https://github.com/ant-design/ant-design/issues/23524
e.preventDefault()})),i);return x0(wX(c)?c:_("span",null,[c]),d)}(c.value),d=fY(c.value,i.class,ZU({},"".concat(c.value,"-").concat(t),!!t)),h=JU(JU(JU({},ZJ(s,["suffix","iconRender","action"])),i),{},{type:r.value?"text":"password",class:d,prefixCls:p.value,suffix:u});return t&&(h.size=t),_(l7,JU({ref:l},h),n)};return function(){return h()}}});function J7(e){var t=e.getBoundingClientRect(),n=document.documentElement;// < ie8 不支持 win.pageXOffset, 则使用 docElem.scrollLeft
return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function Q7(e){if(null==e)throw new TypeError("Cannot destructure "+e)}l7.Group=s7,l7.Search=k7,l7.TextArea=z7,l7.Password=$7,/* istanbul ignore next */l7.install=function(e){return e.component(l7.name,l7),e.component(l7.Group.name,l7.Group),e.component(l7.Search.name,l7.Search),e.component(l7.TextArea.name,l7.TextArea),e.component(l7.Password.name,l7.Password),e};var e9=["class","style"],t9=null;var n9=a({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:cX({prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:Sq.any,delay:Number,indicator:Sq.any},{size:"default",spinning:!0,wrapperClassName:""}),setup:function(){return{originalUpdateSpinning:null,configProvider:P("configProvider",YJ)}},data:function(){var e=this.spinning,t=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(e,this.delay);return{sSpinning:e&&!t}},created:function(){this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props)},mounted:function(){this.updateSpinning()},updated:function(){var e=this;V((function(){e.debouncifyUpdateSpinning(),e.updateSpinning()}))},beforeUnmount:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(e){var t=(e||this.$props).delay;t&&(this.cancelExistingSpin(),this.updateSpinning=t8(this.originalUpdateSpinning,t))},updateSpinning:function(){var e=this.spinning;this.sSpinning!==e&&(this.sSpinning=e)},cancelExistingSpin:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()},renderIndicator:function(e){var t="".concat(e,"-dot"),n=mX(this,"indicator");// should not be render default indicator when indicator value is null
return null===n?null:(Array.isArray(n)&&(n=1===n.length?n[0]:n),M(n)?W(n,{class:t}):t9&&M(t9())?W(t9(),{class:t}):_("span",{class:"".concat(t," ").concat(e,"-dot-spin")},[_("i",{class:"".concat(e,"-dot-item")},null),_("i",{class:"".concat(e,"-dot-item")},null),_("i",{class:"".concat(e,"-dot-item")},null),_("i",{class:"".concat(e,"-dot-item")},null)]))}},render:function(){var e,t,n,i=this.$props,o=i.size,r=i.prefixCls,a=i.tip,l=void 0===a?null===(e=(t=this.$slots).tip)||void 0===e?void 0:e.call(t):a,s=i.wrapperClassName,u=this.$attrs,c=u.class,d=u.style,p=zX(u,e9),h=this.configProvider,f=h.getPrefixCls,v=h.direction,g=f("spin",r),y=this.sSpinning,m=(ZU(n={},g,!0),ZU(n,"".concat(g,"-sm"),"small"===o),ZU(n,"".concat(g,"-lg"),"large"===o),ZU(n,"".concat(g,"-spinning"),y),ZU(n,"".concat(g,"-show-text"),!!l),ZU(n,"".concat(g,"-rtl"),"rtl"===v),ZU(n,c,!!c),n),x=_("div",JU(JU({},p),{},{style:d,class:m}),[this.renderIndicator(g),l?_("div",{class:"".concat(g,"-text")},[l]):null]),b=vX(this);if(b&&b.length){var w,S=(ZU(w={},"".concat(g,"-container"),!0),ZU(w,"".concat(g,"-blur"),y),w);return _("div",{class:["".concat(g,"-nested-loading"),s]},[y&&_("div",{key:"loading"},[x]),_("div",{class:S,key:"container"},[b])])}return x}});n9.setDefaultIndicator=function(e){var t=e.indicator;t9="function"==typeof t?t:function(){return _(t,null,null)}},/* istanbul ignore next */n9.install=function(e){return e.component(n9.name,n9),e};// This icon file is generated automatically.
var i9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};function o9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r9(e,t,n[t])}))}return e}function r9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a9=function(e,t){var n=o9({},e,t.attrs);return _(JZ,o9({},n,{icon:i9}),null)};a9.displayName="DoubleLeftOutlined",a9.inheritAttrs=!1;var l9=a9,s9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};// This icon file is generated automatically.
function u9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c9(e,t,n[t])}))}return e}function c9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d9=function(e,t){var n=u9({},e,t.attrs);return _(JZ,u9({},n,{icon:s9}),null)};d9.displayName="DoubleRightOutlined",d9.inheritAttrs=!1;var p9=d9,h9=a({compatConfig:{MODE:3},inheritAttrs:!1,props:M3(),Option:k3.Option,setup:function(e,t){var n=t.attrs,i=t.slots;return function(){var t=JU(JU({},e),{},{size:"small"},n);return _(k3,t,i)}}}),f9=a({compatConfig:{MODE:3},name:"Pager",inheritAttrs:!1,props:{rootPrefixCls:String,page:Number,active:{type:Boolean,default:void 0},last:{type:Boolean,default:void 0},locale:Sq.object,showTitle:{type:Boolean,default:void 0},itemRender:{type:Function,default:function(){}},onClick:{type:Function},onKeypress:{type:Function}},eimt:["click","keypress"],setup:function(e,t){var n=t.emit,i=t.attrs,o=function(){n("click",e.page)},r=function(t){n("keypress",t,o,e.page)};return function(){var t,n=e.showTitle,a=e.page,l=e.itemRender,s=i.class,u=i.style,c="".concat(e.rootPrefixCls,"-item"),d=fY(c,"".concat(c,"-").concat(e.page),(ZU(t={},"".concat(c,"-active"),e.active),ZU(t,"".concat(c,"-disabled"),!e.page),t),s);return _("li",{onClick:o,onKeypress:r,title:n?String(a):null,tabindex:"0",class:d,style:u},[l({page:a,type:"page",originalElement:_("a",{rel:"nofollow"},[a])})])}}}),v9=13,g9=38,y9=40,m9=a({compatConfig:{MODE:3},props:{disabled:{type:Boolean,default:void 0},changeSize:Function,quickGo:Function,selectComponentClass:Sq.any,current:Number,pageSizeOptions:Sq.array.def(["10","20","50","100"]),pageSize:Number,buildOptionText:Function,locale:Sq.object,rootPrefixCls:String,selectPrefixCls:String,goButton:Sq.any},setup:function(e){var t=s(""),n=L((function(){return!t.value||isNaN(t.value)?void 0:Number(t.value)})),i=function(t){return"".concat(t.value," ").concat(e.locale.items_per_page)},o=function(e){var n=e.target,i=n.value,o=n.composing;e.isComposing||o||t.value===i||(t.value=i)},r=function(i){var o=e.goButton,r=e.quickGo,a=e.rootPrefixCls;o||""===t.value||(i.relatedTarget&&(i.relatedTarget.className.indexOf("".concat(a,"-item-link"))>=0||i.relatedTarget.className.indexOf("".concat(a,"-item"))>=0)||r(n.value),t.value="")},a=function(i){""!==t.value&&(i.keyCode!==v9&&"click"!==i.type||(// https://github.com/vueComponent/ant-design-vue/issues/1316
e.quickGo(n.value),t.value=""))},l=L((function(){var t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}));return function(){var n=e.rootPrefixCls,s=e.locale,u=e.changeSize,c=e.quickGo,d=e.goButton,p=e.selectComponentClass,h=e.selectPrefixCls,v=e.pageSize,g=e.disabled,y="".concat(n,"-options"),m=null,x=null,b=null;if(!u&&!c)return null;if(u&&p){var w=e.buildOptionText||i,S=l.value.map((function(e,t){return _(p.Option,{key:t,value:e},{default:function(){return[w({value:e})]}})}));m=_(p,{disabled:g,prefixCls:h,showSearch:!1,class:"".concat(y,"-size-changer"),optionLabelProp:"children",value:(v||l.value[0]).toString(),onChange:function(e){return u(Number(e))},getPopupContainer:function(e){return e.parentNode}},{default:function(){return[S]}})}return c&&(d&&(b="boolean"==typeof d?_("button",{type:"button",onClick:a,onKeyup:a,disabled:g,class:"".concat(y,"-quick-jumper-button")},[s.jump_to_confirm]):_("span",{onClick:a,onKeyup:a},[d])),x=_("div",{class:"".concat(y,"-quick-jumper")},[s.jump_to,f(_("input",{disabled:g,type:"text",value:t.value,onInput:o,onChange:o,onKeyup:a,onBlur:r},null),[[E2]]),s.page,b])),_("li",{class:"".concat(y)},[m,x])}}}),x9=["class"];function b9(e,t,n){var i=void 0===e?t.statePageSize:e;return Math.floor((n.total-1)/i)+1}var _9=a({compatConfig:{MODE:3},name:"Pagination",mixins:[g2],inheritAttrs:!1,props:{disabled:{type:Boolean,default:void 0},prefixCls:Sq.string.def("rc-pagination"),selectPrefixCls:Sq.string.def("rc-select"),current:Number,defaultCurrent:Sq.number.def(1),total:Sq.number.def(0),pageSize:Number,defaultPageSize:Sq.number.def(10),hideOnSinglePage:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:void 0},showLessItems:{type:Boolean,default:!1},// showSizeChange: PropTypes.func.def(noop),
selectComponentClass:Sq.any,showPrevNextJumpers:{type:Boolean,default:!0},showQuickJumper:Sq.oneOfType([Sq.looseBool,Sq.object]).def(!1),showTitle:{type:Boolean,default:!0},pageSizeOptions:Sq.arrayOf(Sq.oneOfType([Sq.number,Sq.string])),buildOptionText:Function,showTotal:Function,simple:{type:Boolean,default:void 0},locale:Sq.object.def({// Options.jsx
items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",// Pagination.jsx
prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"}),itemRender:Sq.func.def((function(e){return e.originalElement})),prevIcon:Sq.any,nextIcon:Sq.any,jumpPrevIcon:Sq.any,jumpNextIcon:Sq.any,totalBoundaryShowSizeChanger:Sq.number.def(50)},data:function(){var e=this.$props,t=$3([this.current,this.defaultCurrent]),n=$3([this.pageSize,this.defaultPageSize]);return{stateCurrent:t=Math.min(t,b9(n,void 0,e)),stateCurrentInputValue:t,statePageSize:n}},watch:{current:function(e){this.setState({stateCurrent:e,stateCurrentInputValue:e})},pageSize:function(e){var t={},n=this.stateCurrent,i=b9(e,this.$data,this.$props);n=n>i?i:n,hX(this,"current")||(t.stateCurrent=n,t.stateCurrentInputValue=n),t.statePageSize=e,this.setState(t)},stateCurrent:function(e,t){var n=this;// When current page change, fix focused style of prev item
// A hacky solution of https://github.com/ant-design/ant-design/issues/8948
this.$nextTick((function(){if(n.$refs.paginationNode){var e=n.$refs.paginationNode.querySelector(".".concat(n.prefixCls,"-item-").concat(t));e&&document.activeElement===e&&e.blur()}}))},total:function(){var e={},t=b9(this.pageSize,this.$data,this.$props);if(hX(this,"current")){var n=Math.min(this.current,t);e.stateCurrent=n,e.stateCurrentInputValue=n}else{var i=this.stateCurrent;i=0===i&&t>0?1:Math.min(this.stateCurrent,t),e.stateCurrent=i}this.setState(e)}},methods:{getJumpPrevPage:function(){return Math.max(1,this.stateCurrent-(this.showLessItems?3:5))},getJumpNextPage:function(){return Math.min(b9(void 0,this.$data,this.$props),this.stateCurrent+(this.showLessItems?3:5))},getItemIcon:function(e,t){var n=this.$props.prefixCls;return mX(this,e,this.$props)||_("button",{type:"button","aria-label":t,class:"".concat(n,"-item-link")},null)},getValidValue:function(e){var t=e.target.value,n=b9(void 0,this.$data,this.$props),i=this.$data.stateCurrentInputValue;return""===t?t:isNaN(Number(t))?i:t>=n?n:Number(t)},isValid:function(e){return"number"==typeof(t=e)&&isFinite(t)&&Math.floor(t)===t&&e!==this.stateCurrent;// 是否是正整数
var t},shouldDisplayQuickJumper:function(){var e=this.$props,t=e.showQuickJumper,n=e.pageSize;return!(e.total<=n)&&t},// calculatePage (p) {
//   let pageSize = p
//   if (typeof pageSize === 'undefined') {
//     pageSize = this.statePageSize
//   }
//   return Math.floor((this.total - 1) / pageSize) + 1
// },
handleKeyDown:function(e){e.keyCode!==g9&&e.keyCode!==y9||e.preventDefault()},handleKeyUp:function(e){if(!e.isComposing&&!e.target.composing){var t=this.getValidValue(e);t!==this.stateCurrentInputValue&&this.setState({stateCurrentInputValue:t}),e.keyCode===v9?this.handleChange(t):e.keyCode===g9?this.handleChange(t-1):e.keyCode===y9&&this.handleChange(t+1)}},changePageSize:function(e){var t=this.stateCurrent,n=t,i=b9(e,this.$data,this.$props);t=t>i?i:t,// fix the issue:
// Once 'total' is 0, 'current' in 'onShowSizeChange' is 0, which is not correct.
0===i&&(t=this.stateCurrent),"number"==typeof e&&(hX(this,"pageSize")||this.setState({statePageSize:e}),hX(this,"current")||this.setState({stateCurrent:t,stateCurrentInputValue:t})),this.__emit("update:pageSize",e),t!==n&&this.__emit("update:current",t),this.__emit("showSizeChange",t,e),this.__emit("change",t,e)},handleChange:function(e){var t=this.$props.disabled,n=e;if(this.isValid(n)&&!t){var i=b9(void 0,this.$data,this.$props);return n>i?n=i:n<1&&(n=1),hX(this,"current")||this.setState({stateCurrent:n,stateCurrentInputValue:n}),// this.__emit('input', page)
this.__emit("update:current",n),this.__emit("change",n,this.statePageSize),n}return this.stateCurrent},prev:function(){this.hasPrev()&&this.handleChange(this.stateCurrent-1)},next:function(){this.hasNext()&&this.handleChange(this.stateCurrent+1)},jumpPrev:function(){this.handleChange(this.getJumpPrevPage())},jumpNext:function(){this.handleChange(this.getJumpNextPage())},hasPrev:function(){return this.stateCurrent>1},hasNext:function(){return this.stateCurrent<b9(void 0,this.$data,this.$props)},getShowSizeChanger:function(){var e=this.$props,t=e.showSizeChanger,n=e.total,i=e.totalBoundaryShowSizeChanger;return void 0!==t?t:n>i},runIfEnter:function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];t.apply(void 0,i)}},runIfEnterPrev:function(e){this.runIfEnter(e,this.prev)},runIfEnterNext:function(e){this.runIfEnter(e,this.next)},runIfEnterJumpPrev:function(e){this.runIfEnter(e,this.jumpPrev)},runIfEnterJumpNext:function(e){this.runIfEnter(e,this.jumpNext)},handleGoTO:function(e){e.keyCode!==v9&&"click"!==e.type||this.handleChange(this.stateCurrentInputValue)},renderPrev:function(e){var t=(0,this.$props.itemRender)({page:e,type:"prev",originalElement:this.getItemIcon("prevIcon","prev page")}),n=!this.hasPrev();return wX(t)?x0(t,n?{disabled:n}:{}):t},renderNext:function(e){var t=(0,this.$props.itemRender)({page:e,type:"next",originalElement:this.getItemIcon("nextIcon","next page")}),n=!this.hasNext();return wX(t)?x0(t,n?{disabled:n}:{}):t}},render:function(){var e,t=this.$props,n=t.prefixCls,i=t.disabled,o=t.hideOnSinglePage,r=t.total,a=t.locale,l=t.showQuickJumper,s=t.showLessItems,u=t.showTitle,c=t.showTotal,d=t.simple,p=t.itemRender,h=t.showPrevNextJumpers,v=t.jumpPrevIcon,g=t.jumpNextIcon,y=t.selectComponentClass,m=t.selectPrefixCls,x=t.pageSizeOptions,b=this.stateCurrent,w=this.statePageSize,S=dX(this.$attrs).extraAttrs,C=S.class,M=zX(S,x9);// When hideOnSinglePage is true and there is only 1 page, hide the pager
if(!0===o&&this.total<=w)return null;var T=b9(void 0,this.$data,this.$props),I=[],k=null,A=null,D=null,O=null,P=null,L=l&&l.goButton,E=s?1:2,N=b-1>0?b-1:0,R=b+1<T?b+1:T,z=this.hasPrev(),B=this.hasNext();if(d)return L&&(P="boolean"==typeof L?_("button",{type:"button",onClick:this.handleGoTO,onKeyup:this.handleGoTO},[a.jump_to_confirm]):_("span",{onClick:this.handleGoTO,onKeyup:this.handleGoTO},[L]),P=_("li",{title:u?"".concat(a.jump_to).concat(b,"/").concat(T):null,class:"".concat(n,"-simple-pager")},[P])),_("ul",JU({class:fY("".concat(n," ").concat(n,"-simple"),ZU({},"".concat(n,"-disabled"),i),C)},M),[_("li",{title:u?a.prev_page:null,onClick:this.prev,tabindex:z?0:null,onKeypress:this.runIfEnterPrev,class:fY("".concat(n,"-prev"),ZU({},"".concat(n,"-disabled"),!z)),"aria-disabled":!z},[this.renderPrev(N)]),_("li",{title:u?"".concat(b,"/").concat(T):null,class:"".concat(n,"-simple-pager")},[f(_("input",{type:"text",value:this.stateCurrentInputValue,disabled:i,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onInput:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"},null),[[E2]]),_("span",{class:"".concat(n,"-slash")},[X("／")]),T]),_("li",{title:u?a.next_page:null,onClick:this.next,tabindex:B?0:null,onKeypress:this.runIfEnterNext,class:fY("".concat(n,"-next"),ZU({},"".concat(n,"-disabled"),!B)),"aria-disabled":!B},[this.renderNext(R)]),P]);if(T<=3+2*E){var F={locale:a,rootPrefixCls:n,showTitle:u,itemRender:p,onClick:this.handleChange,onKeypress:this.runIfEnter};T||I.push(_(f9,JU(JU({},F),{},{key:"noPager",page:1,class:"".concat(n,"-item-disabled")}),null));for(var V=1;V<=T;V+=1){var j=b===V;I.push(_(f9,JU(JU({},F),{},{key:V,page:V,active:j}),null))}}else{var H=s?a.prev_3:a.prev_5,G=s?a.next_3:a.next_5;h&&(k=_("li",{title:this.showTitle?H:null,key:"prev",onClick:this.jumpPrev,tabindex:"0",onKeypress:this.runIfEnterJumpPrev,class:fY("".concat(n,"-jump-prev"),ZU({},"".concat(n,"-jump-prev-custom-icon"),!!v))},[p({page:this.getJumpPrevPage(),type:"jump-prev",originalElement:this.getItemIcon("jumpPrevIcon","prev page")})]),A=_("li",{title:this.showTitle?G:null,key:"next",tabindex:"0",onClick:this.jumpNext,onKeypress:this.runIfEnterJumpNext,class:fY("".concat(n,"-jump-next"),ZU({},"".concat(n,"-jump-next-custom-icon"),!!g))},[p({page:this.getJumpNextPage(),type:"jump-next",originalElement:this.getItemIcon("jumpNextIcon","next page")})])),O=_(f9,{locale:a,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:T,page:T,active:!1,showTitle:u,itemRender:p},null),D=_(f9,{locale:a,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:1,page:1,active:!1,showTitle:u,itemRender:p},null);var W=Math.max(1,b-E),K=Math.min(b+E,T);b-1<=E&&(K=1+2*E),T-b<=E&&(W=T-2*E);for(var U=W;U<=K;U+=1){var Y=b===U;I.push(_(f9,{locale:a,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:U,page:U,active:Y,showTitle:u,itemRender:p},null))}b-1>=2*E&&3!==b&&(I[0]=_(f9,{locale:a,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:W,page:W,class:"".concat(n,"-item-after-jump-prev"),active:!1,showTitle:this.showTitle,itemRender:p},null),I.unshift(k)),T-b>=2*E&&b!==T-2&&(I[I.length-1]=_(f9,{locale:a,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:K,page:K,class:"".concat(n,"-item-before-jump-next"),active:!1,showTitle:this.showTitle,itemRender:p},null),I.push(A)),1!==W&&I.unshift(D),K!==T&&I.push(O)}var q=null;c&&(q=_("li",{class:"".concat(n,"-total-text")},[c(r,[0===r?0:(b-1)*w+1,b*w>r?r:b*w])]));var Z=!z||!T,$=!B||!T,J=this.buildOptionText||this.$slots.buildOptionText;return _("ul",JU(JU({unselectable:"on",ref:"paginationNode"},M),{},{class:fY((e={},ZU(e,"".concat(n),!0),ZU(e,"".concat(n,"-disabled"),i),e),C)}),[q,_("li",{title:u?a.prev_page:null,onClick:this.prev,tabindex:Z?null:0,onKeypress:this.runIfEnterPrev,class:fY("".concat(n,"-prev"),ZU({},"".concat(n,"-disabled"),Z)),"aria-disabled":Z},[this.renderPrev(N)]),I,_("li",{title:u?a.next_page:null,onClick:this.next,tabindex:$?null:0,onKeypress:this.runIfEnterNext,class:fY("".concat(n,"-next"),ZU({},"".concat(n,"-disabled"),$)),"aria-disabled":$},[this.renderNext(R)]),_(m9,{disabled:i,locale:a,rootPrefixCls:n,selectComponentClass:y,selectPrefixCls:m,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:b,pageSize:w,pageSizeOptions:x,buildOptionText:J||null,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:L},null)])}}),w9=["size","itemRender","buildOptionText","selectComponentClass","responsive"],S9=a({compatConfig:{MODE:3},name:"APagination",inheritAttrs:!1,props:{total:Number,defaultCurrent:Number,disabled:{type:Boolean,default:void 0},current:Number,defaultPageSize:Number,pageSize:Number,hideOnSinglePage:{type:Boolean,default:void 0},showSizeChanger:{type:Boolean,default:void 0},pageSizeOptions:Array,buildOptionText:Function,showQuickJumper:{type:[Boolean,Object],default:void 0},showTotal:Function,size:String,simple:{type:Boolean,default:void 0},locale:Object,prefixCls:String,selectPrefixCls:String,totalBoundaryShowSizeChanger:Number,selectComponentClass:String,itemRender:Function,role:String,responsive:Boolean,showLessItems:{type:Boolean,default:void 0},onChange:Function,onShowSizeChange:Function,"onUpdate:current":Function,"onUpdate:pageSize":Function},// emits: ['change', 'showSizeChange', 'update:current', 'update:pageSize'],
setup:function(e,t){var n=t.slots,i=t.attrs,o=qJ("pagination",e),r=o.prefixCls,a=o.configProvider,l=o.direction,s=L((function(){return a.getPrefixCls("select",e.selectPrefixCls)})),u=N3(),c=jY(WX("Pagination",BX,K(e,"locale")),1)[0];return function(){var t,o=e.size,a=e.itemRender,d=void 0===a?n.itemRender:a,p=e.buildOptionText,h=void 0===p?n.buildOptionText:p,f=e.selectComponentClass,v=e.responsive,g=zX(e,w9),y="small"===o||!(null===(t=u.value)||void 0===t||!t.xs||o||!v),m=JU(JU(JU(JU({},g),function(e){var t=_("span",{class:"".concat(e,"-item-ellipsis")},[X("•••")]),n=_("button",{class:"".concat(e,"-item-link"),type:"button",tabindex:-1},[_(j8,null,null)]),i=_("button",{class:"".concat(e,"-item-link"),type:"button",tabindex:-1},[_(V4,null,null)]),o=_("a",{rel:"nofollow",class:"".concat(e,"-item-link")},[_("div",{class:"".concat(e,"-item-container")},[_(l9,{class:"".concat(e,"-item-link-icon")},null),t])]),r=_("a",{rel:"nofollow",class:"".concat(e,"-item-link")},[_("div",{class:"".concat(e,"-item-container")},[_(p9,{class:"".concat(e,"-item-link-icon")},null),t])]);// change arrows direction in right-to-left direction
if("rtl"===l.value){var a=[i,n];n=a[0],i=a[1];var s=[r,o];o=s[0],r=s[1]}return{prevIcon:n,nextIcon:i,jumpPrevIcon:o,jumpNextIcon:r}}(r.value)),{},{prefixCls:r.value,selectPrefixCls:s.value,selectComponentClass:f||(y?h9:k3),locale:c.value,buildOptionText:h},i),{},{class:fY(ZU({mini:y},"".concat(r.value,"-rtl"),"rtl"===l.value),i.class),itemRender:d});return _(_9,m,null)}}}),C9=PX(S9),M9=Symbol("TableContextProps"),T9=function(){return P(M9,{})};function I9(e){return null==e?[]:Array.isArray(e)?e:[e]}function k9(e,t){// Skip if path is empty
if(!t&&"number"!=typeof t)return e;for(var n=I9(t),i=e,o=0;o<n.length;o+=1){if(!i)return null;i=i[n[o]]}return i}function A9(e){var t=[],n={};return e.forEach((function(e){for(var i=e||{},o=i.key,r=i.dataIndex,a=o||I9(r).join("-")||"RC_TABLE_KEY";n[a];)a="".concat(a,"_next");n[a]=!0,t.push(a)})),t}function D9(e){return null!=e}var O9=Symbol("SlotsContextProps"),P9=function(){return P(O9,L((function(){return{}})))},L9=Symbol("ContextProps"),E9="RC_TABLE_INTERNAL_COL_DEFINE",N9=Symbol("HoverContextProps"),R9=s(!1),z9=function(){return R9},B9=["colSpan","rowSpan","style","class"];var F9=a({name:"Cell",props:["prefixCls","record","index","renderIndex","dataIndex","customRender","component","colSpan","rowSpan","fixLeft","fixRight","firstFixLeft","lastFixLeft","firstFixRight","lastFixRight","appendNode","additionalProps","ellipsis","align","rowType","isSticky","column","cellType","transformCellText"],slots:["appendNode"],setup:function(e,t){var n=t.slots,i=P9(),o=P(N9,{startRow:s(-1),endRow:s(-1),onHover:function(){}}),r=o.onHover,a=o.startRow,l=o.endRow,u=L((function(){var t,n,i,o;return null!==(t=null!==(n=e.colSpan)&&void 0!==n?n:null===(i=e.additionalProps)||void 0===i?void 0:i.colSpan)&&void 0!==t?t:null===(o=e.additionalProps)||void 0===o?void 0:o.colspan})),c=L((function(){var t,n,i,o;return null!==(t=null!==(n=e.rowSpan)&&void 0!==n?n:null===(i=e.additionalProps)||void 0===i?void 0:i.rowSpan)&&void 0!==t?t:null===(o=e.additionalProps)||void 0===o?void 0:o.rowspan})),d=R3((function(){/** Check if cell is in hover range */return function(e,t,n,i){return e<=i&&e+t-1>=n}(e.index,c.value||1,a.value,l.value)})),p=z9(),h=function(t){var n,i=e.record,o=e.additionalProps;i&&r(-1,-1),null==o||null===(n=o.onMouseleave)||void 0===n||n.call(o,t)},f=function e(t){var n=_X(t)[0];return M(n)?n.type===I?n.children:Array.isArray(n.children)?e(n.children):void 0:n};return function(){var t,o,a,l,s,v,g,y,m,x=e.prefixCls,b=e.record,w=e.index,S=e.renderIndex,C=e.dataIndex,T=e.customRender,I=e.component,k=void 0===I?"td":I,A=e.fixLeft,D=e.fixRight,O=e.firstFixLeft,P=e.lastFixLeft,L=e.firstFixRight,E=e.lastFixRight,N=e.appendNode,R=void 0===N?null===(t=n.appendNode)||void 0===t?void 0:t.call(n):N,z=e.additionalProps,B=void 0===z?{}:z,F=e.ellipsis,V=e.align,j=e.rowType,H=e.isSticky,G=e.column,W=void 0===G?{}:G,K=e.cellType,U="".concat(x,"-cell"),Y=null===(o=n.default)||void 0===o?void 0:o.call(n);if(D9(Y)||"header"===K)y=Y;else{var X,q=k9(b,C);if(// Customize render node
y=q,T){var Z=T({text:q,value:q,record:b,index:w,renderIndex:S,column:W.__originColumn__});!(m=Z)||"object"!==XU(m)||Array.isArray(m)||M(m)?y=Z:(y=Z.children,g=Z.props)}if(!(E9 in W)&&"body"===K&&i.value.bodyCell&&(null===(X=W.slots)||void 0===X||!X.customRender)){var $=ee(i.value,"bodyCell",{text:q,value:q,record:b,index:w,column:W.__originColumn__},(function(){var e=void 0===y?q:y;return["object"===XU(e)&&wX(e)||"object"!==XU(e)?e:null]}));y=fX($)}/** maybe we should @deprecated */e.transformCellText&&(y=e.transformCellText({text:y,record:b,index:w,column:W.__originColumn__}))}// Not crash if final `childNode` is not validate VueNode
"object"!==XU(y)||Array.isArray(y)||M(y)||(y=null),F&&(P||L)&&(y=_("span",{class:"".concat(U,"-content")},[y])),Array.isArray(y)&&1===y.length&&(y=y[0]);var J=g||{},Q=J.colSpan,te=J.rowSpan,ne=J.style,ie=J.class,oe=zX(J,B9),re=null!==(a=void 0!==Q?Q:u.value)&&void 0!==a?a:1,ae=null!==(l=void 0!==te?te:c.value)&&void 0!==l?l:1;if(0===re||0===ae)return null;// ====================== Fixed =======================
var le={},se="number"==typeof A&&p.value,ue="number"==typeof D&&p.value;se&&(le.position="sticky",le.left="".concat(A,"px")),ue&&(le.position="sticky",le.right="".concat(D,"px"));// ====================== Align =======================
var ce,de={};V&&(de.textAlign=V);// ====================== Render ======================
var pe=!0===F?{showTitle:!0}:F;pe&&(pe.showTitle||"header"===j)&&("string"==typeof y||"number"==typeof y?ce=y.toString():M(y)&&(ce=f([y])));var he=JU(JU(JU({title:ce},oe),B),{},{colSpan:1!==re?re:null,rowSpan:1!==ae?ae:null,class:fY(U,(s={},ZU(s,"".concat(U,"-fix-left"),se&&p.value),ZU(s,"".concat(U,"-fix-left-first"),O&&p.value),ZU(s,"".concat(U,"-fix-left-last"),P&&p.value),ZU(s,"".concat(U,"-fix-right"),ue&&p.value),ZU(s,"".concat(U,"-fix-right-first"),L&&p.value),ZU(s,"".concat(U,"-fix-right-last"),E&&p.value),ZU(s,"".concat(U,"-ellipsis"),F),ZU(s,"".concat(U,"-with-append"),R),ZU(s,"".concat(U,"-fix-sticky"),(se||ue)&&H&&p.value),ZU(s,"".concat(U,"-row-hover"),!g&&d.value),s),B.class,ie),onMouseenter:function(t){!function(t,n){var i,o=e.record,a=e.index,l=e.additionalProps;o&&r(a,a+n-1),null==l||null===(i=l.onMouseenter)||void 0===i||i.call(l,t)}(t,ae)},onMouseleave:h,style:JU(JU(JU(JU({},pX(B.style)),de),le),ne)});return _(k,he,{default:function(){return[R,y,null===(v=n.dragHandle)||void 0===v?void 0:v.call(n)]}})}}});function V9(e,t,n,i,o){var r,a,l=n[e]||{},s=n[t]||{};"left"===l.fixed?r=i.left[e]:"right"===s.fixed&&(a=i.right[t]);var u=!1,c=!1,d=!1,p=!1,h=n[t+1],f=n[e-1];if("rtl"===o){if(void 0!==r)p=!(f&&"left"===f.fixed);else if(void 0!==a){d=!(h&&"right"===h.fixed)}}else if(void 0!==r){u=!(h&&"left"===h.fixed)}else if(void 0!==a){c=!(f&&"right"===f.fixed)}return{fixLeft:r,fixRight:a,lastFixLeft:u,firstFixRight:c,lastFixRight:d,firstFixLeft:p,isSticky:i.isSticky}}var j9={start:"mousedown",move:"mousemove",stop:"mouseup"},H9={start:"touchstart",move:"touchmove",stop:"touchend"},G9=a({compatConfig:{MODE:3},name:"DragHandle",props:{prefixCls:String,width:{type:Number,required:!0},minWidth:{type:Number,default:50},maxWidth:{type:Number,default:1/0},column:{type:Object,default:void 0}},setup:function(e){var t=0,n={remove:function(){}},i={remove:function(){}},o=function(){n.remove(),i.remove()};D((function(){o()})),j((function(){RJ(!isNaN(e.width),"Table","width must be a number when use resizable")}));var r,a=P(L9,{onResizeColumn:function(){}}).onResizeColumn,l=L((function(){return"number"!=typeof e.minWidth||isNaN(e.minWidth)?50:e.minWidth})),u=L((function(){return"number"!=typeof e.maxWidth||isNaN(e.maxWidth)?1/0:e.maxWidth})),c=O(),d=0,p=s(!1),h=function(n){var i=0;// touchmove
i=n.touches?n.touches.length?n.touches[0].pageX:n.changedTouches[0].pageX:n.pageX;var o=t-i,s=Math.max(d-o,l.value);s=Math.min(s,u.value),DX.cancel(r),r=DX((function(){a(s,e.column.__originColumn__)}))},f=function(e){h(e)},v=function(e){p.value=!1,h(e),o()},g=function(e,r){p.value=!0,o(),d=c.vnode.el.parentNode.getBoundingClientRect().width,e instanceof MouseEvent&&1!==e.which||(e.stopPropagation&&e.stopPropagation(),t=e.touches?e.touches[0].pageX:e.pageX,n=RX(document.documentElement,r.move,f),i=RX(document.documentElement,r.stop,v))},y=function(e){e.stopPropagation(),e.preventDefault(),g(e,j9)},m=function(e){e.stopPropagation(),e.preventDefault()};return function(){var t=e.prefixCls,n=ZU({},NX?"onTouchstartPassive":"onTouchstart",(function(e){return function(e){e.stopPropagation(),e.preventDefault(),g(e,H9)}(e)}));return _("div",JU(JU({class:"".concat(t,"-resize-handle ").concat(p.value?"dragging":""),onMousedown:y},n),{},{onClick:m}),[_("div",{class:"".concat(t,"-resize-handle-line")},null)])}}}),W9=a({name:"HeaderRow",props:["cells","stickyOffsets","flattenColumns","rowComponent","cellComponent","index","customHeaderRow"],setup:function(e){var t=T9();return function(){var n,i=t.prefixCls,o=t.direction,r=e.cells,a=e.stickyOffsets,l=e.flattenColumns,s=e.rowComponent,u=e.cellComponent,c=e.customHeaderRow,d=e.index;c&&(n=c(r.map((function(e){return e.column})),d));var p=A9(r.map((function(e){return e.column})));return _(s,n,{default:function(){return[r.map((function(e,t){var n,r=e.column,s=V9(e.colStart,e.colEnd,l,a,o);r&&r.customHeaderCell&&(n=e.column.customHeaderCell(r));var c=r;return _(F9,JU(JU(JU({},e),{},{cellType:"header",ellipsis:r.ellipsis,align:r.align,component:u,prefixCls:i,key:p[t]},s),{},{additionalProps:n,rowType:"header",column:r}),{default:function(){return r.title},dragHandle:function(){return c.resizable?_(G9,{prefixCls:i,width:c.width,minWidth:c.minWidth,maxWidth:c.maxWidth,column:c},null):null}})}))]}})}}});var K9=a({name:"Header",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow"],setup:function(e){var t=T9(),n=L((function(){return function(e){var t=[];// Generate `rows` cell data
!function e(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;// Init rows
t[o]=t[o]||[];var r=i,a=n.filter(Boolean).map((function(n){var i={key:n.key,class:fY(n.className,n.class),// children: column.title,
column:n,colStart:r},a=1,l=n.children;return l&&l.length>0&&(a=e(l,r,o+1).reduce((function(e,t){return e+t}),0),i.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(i.rowSpan=n.rowSpan),i.colSpan=a,i.colEnd=i.colStart+a-1,t[o].push(i),r+=a,a}));return a}(e,0);for(// Handle `rowSpan`
var n=t.length,i=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(// eslint-disable-next-line no-param-reassign
t.rowSpan=n-e)}))},o=0;o<n;o+=1)i(o);return t}(e.columns)}));return function(){var i=t.prefixCls,o=t.getComponent,r=e.stickyOffsets,a=e.flattenColumns,l=e.customHeaderRow,s=o(["header","wrapper"],"thead"),u=o(["header","row"],"tr"),c=o(["header","cell"],"th");return _(s,{class:"".concat(i,"-thead")},{default:function(){return[n.value.map((function(e,t){return _(W9,{key:t,flattenColumns:a,cells:e,stickyOffsets:r,rowComponent:u,cellComponent:c,customHeaderRow:l,index:t},null)}))]}})}}}),U9=Symbol("ExpandedRowProps"),Y9=a({name:"ExpandedRow",inheritAttrs:!1,props:["prefixCls","component","cellComponent","expanded","colSpan","isEmpty"],setup:function(e,t){var n=t.slots,i=t.attrs,o=T9(),r=P(U9,{}),a=r.fixHeader,l=r.fixColumn,s=r.componentWidth,u=r.horizonScroll;return function(){var t=e.prefixCls,r=e.component,c=e.cellComponent,d=e.expanded,p=e.colSpan,h=e.isEmpty;return _(r,{class:i.class,style:{display:d?null:"none"}},{default:function(){return[_(F9,{component:c,prefixCls:t,colSpan:p},{default:function(){var e,i=null===(e=n.default)||void 0===e?void 0:e.call(n);return(h?u.value:l.value)&&(i=_("div",{style:{width:"".concat(s.value-(a.value?o.scrollbarSize:0),"px"),position:"sticky",left:0,overflow:"hidden"},class:"".concat(t,"-expanded-row-fixed")},[i])),i}})]}})}}}),X9=a({name:"MeasureCell",props:["columnKey"],setup:function(e,t){var n=t.emit,i=s();return d((function(){i.value&&n("columnResize",e.columnKey,i.value.offsetWidth)})),function(){return _(CX,{onResize:function(t){var i=t.offsetWidth;n("columnResize",e.columnKey,i)}},{default:function(){return[_("td",{ref:i,style:{padding:0,border:0,height:0}},[_("div",{style:{height:0,overflow:"hidden"}},[X(" ")])])]}})}}}),q9=Symbol("BodyContextProps"),Z9=function(){return P(q9,{})},$9=a({name:"BodyRow",inheritAttrs:!1,props:["record","index","renderIndex","recordKey","expandedKeys","rowComponent","cellComponent","customRow","rowExpandable","indent","rowKey","getRowKey","childrenColumnName"],setup:function(e,t){var n=t.attrs,i=T9(),o=Z9(),r=s(!1),a=L((function(){return e.expandedKeys&&e.expandedKeys.has(e.recordKey)}));j((function(){a.value&&(r.value=!0)}));var l=L((function(){return"row"===o.expandableType&&(!e.rowExpandable||e.rowExpandable(e.record))})),u=L((function(){return"nest"===o.expandableType})),c=L((function(){return e.childrenColumnName&&e.record&&e.record[e.childrenColumnName]})),d=L((function(){return l.value||u.value})),p=function(e,t){o.onTriggerExpand(e,t)},h=L((function(){var t;return(null===(t=e.customRow)||void 0===t?void 0:t.call(e,e.record,e.index))||{}})),f=function(t){var n,i;o.expandRowByClick&&d.value&&p(e.record,t);for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];null===(n=h.value)||void 0===n||null===(i=n.onClick)||void 0===i||i.call.apply(i,[n,t].concat(a))},v=L((function(){var t=e.record,n=e.index,i=e.indent,r=o.rowClassName;return"string"==typeof r?r:"function"==typeof r?r(t,n,i):""})),g=L((function(){return A9(o.flattenColumns)}));// Only when row is not expandable and `children` exist in record
return function(){var t,s=n.class,d=n.style,y=e.record,x=e.index,b=e.rowKey,w=e.indent,S=void 0===w?0:w,C=e.rowComponent,M=e.cellComponent,T=i.prefixCls,I=i.fixedInfoList,k=i.transformCellText,A=o.flattenColumns,D=o.expandedRowClassName,O=o.indentSize,P=o.expandIcon,L=o.expandedRowRender,E=o.expandIconColumnIndex,N=_(C,JU(JU({},h.value),{},{"data-row-key":b,class:fY(s,"".concat(T,"-row"),"".concat(T,"-row-level-").concat(S),v.value,h.value.class),style:JU(JU({},d),pX(h.value.style)),onClick:f}),{default:function(){return[A.map((function(t,n){var i,o=t.customRender,r=t.dataIndex,l=t.className,s=g[n],d=I[n];t.customCell&&(i=t.customCell(y,x,t));// not use slot to fix https://github.com/vueComponent/ant-design-vue/issues/5295
var h=n===(E||0)&&u.value?_(m,null,[_("span",{style:{paddingLeft:"".concat(O*S,"px")},class:"".concat(T,"-row-indent indent-level-").concat(S)},null),P({prefixCls:T,expanded:a.value,expandable:c.value,record:y,onExpand:p})]):null;return _(F9,JU(JU({cellType:"body",class:l,ellipsis:t.ellipsis,align:t.align,component:M,prefixCls:T,key:s,record:y,index:x,renderIndex:e.renderIndex,dataIndex:r,customRender:o},d),{},{additionalProps:i,column:t,transformCellText:k,appendNode:h}),null)}))]}});if(l.value&&(r.value||a.value)){var R=L({record:y,index:x,indent:S+1,expanded:a.value}),z=D&&D(y,x,S);t=_(Y9,{expanded:a.value,class:fY("".concat(T,"-expanded-row"),"".concat(T,"-expanded-row-level-").concat(S+1),z),prefixCls:T,component:C,cellComponent:M,colSpan:A.length,isEmpty:!1},{default:function(){return[R]}})}return _(m,null,[N,t])}}});// recursion (flat tree structure)
function J9(e,t,n,i,o,r){var a=[];a.push({record:e,indent:t,index:r});var l=o(e),s=null==i?void 0:i.has(l);if(e&&Array.isArray(e[n])&&s)// expanded state, flat record
for(var u=0;u<e[n].length;u+=1){var c=J9(e[n][u],t+1,n,i,o,u);a.push.apply(a,GY(c))}return a}
/**
       * flat tree data on expanded state
       *
       * @export
       * @template T
       * @param {*} data : table data
       * @param {string} childrenColumnName : 指定树形结构的列名
       * @param {Set<Key>} expandedKeys : 展开的行对应的keys
       * @param {GetRowKey<T>} getRowKey  : 获取当前rowKey的方法
       * @returns flattened data
       */var Q9=Symbol("ResizeContextProps"),eee=a({name:"Body",props:["data","getRowKey","measureColumnWidth","expandedKeys","customRow","rowExpandable","childrenColumnName"],slots:["emptyNode"],setup:function(e,t){var n,i,o,r,a,l,u=t.slots,c=P(Q9,{onColumnResize:function(){}}),d=T9(),p=Z9(),h=(n=K(e,"data"),i=K(e,"childrenColumnName"),o=K(e,"expandedKeys"),r=K(e,"getRowKey"),a=L((function(){var e=i.value,t=o.value,a=n.value;if(null!=t&&t.size){// collect flattened record
for(var l=[],s=0;s<(null==a?void 0:a.length);s+=1){var u=a[s];l.push.apply(l,GY(J9(u,0,e,t,r.value,s)))}return l}return null==a?void 0:a.map((function(e,t){return{record:e,indent:0,index:t}}))})),a),f=s(-1),v=s(-1);return function(e){E(N9,e)}({startRow:f,endRow:v,onHover:function(e,t){clearTimeout(l),l=setTimeout((function(){f.value=e,v.value=t}),100)}}),function(){var t,n,i=e.data,o=e.getRowKey,r=e.measureColumnWidth,a=e.expandedKeys,l=e.customRow,s=e.rowExpandable,f=e.childrenColumnName,v=c.onColumnResize,g=d.prefixCls,y=d.getComponent,m=p.flattenColumns,x=y(["body","wrapper"],"tbody"),b=y(["body","row"],"tr"),w=y(["body","cell"],"td");i.length?t=h.value.map((function(e,t){var n=e.record,i=e.indent,r=e.index,u=o(n,t);return _($9,{key:u,rowKey:u,record:n,recordKey:u,index:t,renderIndex:r,rowComponent:b,cellComponent:w,expandedKeys:a,customRow:l,getRowKey:o,rowExpandable:s,childrenColumnName:f,indent:i},null)})):t=_(Y9,{expanded:!0,class:"".concat(g,"-placeholder"),prefixCls:g,component:b,cellComponent:w,colSpan:m.length,isEmpty:!0},{default:function(){return[null===(n=u.emptyNode)||void 0===n?void 0:n.call(u)]}});var S=A9(m);return _(x,{class:"".concat(g,"-tbody")},{default:function(){return[r&&_("tr",{"aria-hidden":"true",class:"".concat(g,"-measure-row"),style:{height:0,fontSize:0}},[S.map((function(e){return _(X9,{key:e,columnKey:e,onColumnResize:v},null)}))]),t]}})}}}),tee={},nee=["fixed"];function iee(e){return e.reduce((function(e,t){var n=t.fixed,i=!0===n?"left":n,o=t.children;// Convert `fixed='true'` to `fixed='left'` instead
return o&&o.length>0?[].concat(GY(e),GY(iee(o).map((function(e){return JU({fixed:i},e)})))):[].concat(GY(e),[JU(JU({},t),{},{fixed:i})])}),[])}
/**
       * Parse `columns` & `children` into `columns`.
       */
function oee(e,t){var n=e.prefixCls,i=e.columns,o=e.expandable,r=e.expandedKeys,a=e.getRowKey,l=e.onTriggerExpand,s=e.expandIcon,u=e.rowExpandable,c=e.expandIconColumnIndex,d=e.direction,p=e.expandRowByClick,h=e.expandColumnWidth,f=e.expandFixed,v=L((function(){if(o.value){var e,t=i.value.slice();// >>> Insert expand column if not exist
if(!t.includes(tee)){var d=c.value||0;d>=0&&t.splice(d,0,tee)}var v=t.indexOf(tee);t=t.filter((function(e,t){return e!==tee||t===v}));// >>> Check if expand column need to fixed
var g,y=i.value[v];g="left"!==f.value&&!f.value||c.value?"right"!==f.value&&!f.value||c.value!==i.value.length?y?y.fixed:null:"right":"left";var m=r.value,x=u.value,b=s.value,w=n.value,S=p.value,C=(ZU(e={},E9,{class:"".concat(n.value,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),ZU(e,"title",""),ZU(e,"fixed",g),ZU(e,"class","".concat(n.value,"-row-expand-icon-cell")),ZU(e,"width",h.value),ZU(e,"customRender",(function(e){var t=e.record,n=e.index,i=a.value(t,n),o=m.has(i),r=!x||x(t),s=b({prefixCls:w,expanded:o,expandable:r,record:t,onExpand:l});return S?_("span",{onClick:function(e){return e.stopPropagation()}},[s]):s})),e);return t.map((function(e){return e===tee?C:e}))}return i.value.filter((function(e){return e!==tee}))})),g=L((function(){var e=v.value;return t.value&&(e=t.value(e)),// Always provides at least one column for table display
e.length||(e=[{customRender:function(){return null}}]),e})),y=L((function(){return"rtl"===d.value?iee(g.value).map((function(e){var t=e.fixed,n=t;// Convert `fixed='left'` to `fixed='right'` instead
return"left"===t?n="right":"right"===t&&(n="left"),JU({fixed:n},zX(e,nee))})):iee(g.value)}));// Add expand column
return[g,y]}function ree(e){var t,n=$(e),i=$([]);return G((function(){DX.cancel(t)})),[n,function(e){i.value.push(e),DX.cancel(t),t=DX((function(){var e=i.value;// const prevState = stateRef.value;
i.value=[],e.forEach((function(e){n.value=e(n.value)}))}))}]}/** Lock frame, when frame pass reset the lock. */var aee=["columnType"];function lee(e){for(var t=e.colWidths,n=e.columns,i=[],o=!1,r=(e.columCount||n.length)-1;r>=0;r-=1){var a=t[r],l=n&&n[r],s=l&&l[E9];if(a||s||o){var u=s||{};u.columnType;var c=zX(u,aee);i.unshift(_("col",JU({key:r,style:{width:"number"==typeof a?"".concat(a,"px"):a}},c),null)),o=!0}}return _("colgroup",null,[i])}function see(e,t){var n,i=t.slots;return _("div",null,[null===(n=i.default)||void 0===n?void 0:n.call(i)])}see.displayName="Panel";var uee=0,cee=a({name:"Summary",props:["fixed"],setup:function(e,t){var n=t.slots,i=T9(),o="table-summary-uni-key-".concat(++uee),r=L((function(){return""===e.fixed||e.fixed}));return j((function(){i.summaryCollect(o,r.value)})),G((function(){i.summaryCollect(o,!1)})),function(){var e;return null===(e=n.default)||void 0===e?void 0:e.call(n)}}}),dee=cee,pee=a({compatConfig:{MODE:3},name:"FooterRow",setup:function(e,t){var n=t.slots;return function(){var e;return _("tr",null,[null===(e=n.default)||void 0===e?void 0:e.call(n)])}}}),hee=Symbol("SummaryContextProps"),fee=a({name:"SummaryCell",props:["index","colSpan","rowSpan","align"],setup:function(e,t){var n=t.attrs,i=t.slots,o=T9(),r=P(hee,{});return function(){var t=e.index,a=e.colSpan,l=void 0===a?1:a,s=e.rowSpan,u=e.align,c=o.prefixCls,d=o.direction,p=r.scrollColumnIndex,h=r.stickyOffsets,f=t+l-1+1===p?l+1:l,v=V9(t,t+f-1,r.flattenColumns,h,d);return _(F9,JU({class:n.class,index:t,component:"td",prefixCls:c,record:null,dataIndex:null,align:u,colSpan:f,rowSpan:s,customRender:function(){var e;return null===(e=i.default)||void 0===e?void 0:e.call(i)}},v),null)}}}),vee=a({name:"Footer",inheritAttrs:!1,props:["stickyOffsets","flattenColumns"],setup:function(e,t){var n=t.slots,i=T9();return function(e){E(hee,e)}(k({stickyOffsets:K(e,"stickyOffsets"),flattenColumns:K(e,"flattenColumns"),scrollColumnIndex:L((function(){var t=e.flattenColumns.length-1,n=e.flattenColumns[t];return null!=n&&n.scrollbar?t:null}))})),function(){var e,t=i.prefixCls;return _("tfoot",{class:"".concat(t,"-summary")},[null===(e=n.default)||void 0===e?void 0:e.call(n)])}}}),gee=dee;function yee(e){var t,n=e.prefixCls,i=e.record,o=e.onExpand,r=e.expanded,a=e.expandable,l="".concat(n,"-row-expand-icon");if(!a)return _("span",{class:[l,"".concat(n,"-row-spaced")]},null);return _("span",{class:(t={},ZU(t,l,!0),ZU(t,"".concat(n,"-row-expanded"),r),ZU(t,"".concat(n,"-row-collapsed"),!r),t),onClick:function(e){o(i,e),e.stopPropagation()}},null)}var mee=a({name:"StickyScrollBar",inheritAttrs:!1,props:["offsetScroll","container","scrollBodyRef","scrollBodySizeInfo"],emits:["scroll"],setup:function(e,t){var n=t.emit,i=t.expose,o=T9(),r=s(0),a=s(0),l=s(0);j((function(){r.value=e.scrollBodySizeInfo.scrollWidth||0,a.value=e.scrollBodySizeInfo.clientWidth||0,l.value=r.value&&a.value*(a.value/r.value)}),{flush:"post"});var u=s(),p=jY(ree({scrollLeft:0,isHiddenScrollBar:!0}),2),h=p[0],f=p[1],v=s({delta:0,x:0}),g=s(!1),y=function(){g.value=!1},m=function(e){v.value={delta:e.pageX-h.value.scrollLeft,x:0},g.value=!0,e.preventDefault()},x=function(e){var t,i=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons
if(g.value&&0!==i){var o=v.value.x+e.pageX-v.value.x-v.value.delta;o<=0&&(o=0),o+l.value>=a.value&&(o=a.value-l.value),n("scroll",{scrollLeft:o/a.value*(r.value+2)}),v.value.x=e.pageX}else// If out body mouse up, we can set isActive false when mouse move
g.value&&(g.value=!1)},b=function(){if(e.scrollBodyRef.value){var t=J7(e.scrollBodyRef.value).top,n=t+e.scrollBodyRef.value.offsetHeight,i=e.container===window?document.documentElement.scrollTop+window.innerHeight:J7(e.container).top+e.container.clientHeight;n-X8()<=i||t>=i-e.offsetScroll?f((function(e){return JU(JU({},e),{},{isHiddenScrollBar:!0})})):f((function(e){return JU(JU({},e),{},{isHiddenScrollBar:!1})}))}};i({setScrollLeft:function(e){f((function(t){return JU(JU({},t),{},{scrollLeft:e/r.value*a.value||0})}))}});var w=null,S=null,C=null,M=null;d((function(){w=RX(document.body,"mouseup",y,!1),S=RX(document.body,"mousemove",x,!1),C=RX(window,"resize",b,!1)})),te((function(){V((function(){b()}))})),d((function(){setTimeout((function(){c([l,g],(function(){b()}),{immediate:!0,flush:"post"})}))})),c((function(){return e.container}),(function(){var t;null===(t=M)||void 0===t||t.remove(),M=RX(e.container,"scroll",b,!1)}),{immediate:!0,flush:"post"}),G((function(){var e,t,n,i;null===(e=w)||void 0===e||e.remove(),null===(t=S)||void 0===t||t.remove(),null===(n=M)||void 0===n||n.remove(),null===(i=C)||void 0===i||i.remove()})),c((function(){return JU({},h.value)}),(function(t,n){t.isHiddenScrollBar===(null==n?void 0:n.isHiddenScrollBar)||t.isHiddenScrollBar||f((function(t){var n=e.scrollBodyRef.value;return n?JU(JU({},t),{},{scrollLeft:n.scrollLeft/n.scrollWidth*n.clientWidth}):t}))}),{immediate:!0});var T=X8();return function(){if(r.value<=a.value||!l.value||h.value.isHiddenScrollBar)return null;var t=o.prefixCls;return _("div",{style:{height:"".concat(T,"px"),width:"".concat(a.value,"px"),bottom:"".concat(e.offsetScroll,"px")},class:"".concat(t,"-sticky-scroll")},[_("div",{onMousedown:m,ref:u,class:fY("".concat(t,"-sticky-scroll-bar"),ZU({},"".concat(t,"-sticky-scroll-bar-active"),g)),style:{width:"".concat(l.value,"px"),transform:"translate3d(".concat(h.value.scrollLeft,"px, 0, 0)")}},null)])}}}),xee=AJ()?window:null;// fix ssr render
var bee=a({name:"FixedHolder",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow","noData","maxContentScroll","colWidths","columCount","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName"],emits:["scroll"],setup:function(e,t){var n=t.attrs,i=t.slots,o=t.emit,r=T9(),a=L((function(){return r.isSticky&&!e.fixHeader?0:r.scrollbarSize})),l=s(),u=function(e){var t=e.currentTarget,n=e.deltaX;n&&(o("scroll",{currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())},c=s();d((function(){V((function(){c.value=RX(l.value,"wheel",u)}))})),G((function(){var e;null===(e=c.value)||void 0===e||e.remove()}));// Check if all flattenColumns has width
var p=L((function(){return e.flattenColumns.every((function(e){return e.width&&0!==e.width&&"0px"!==e.width}))})),h=s([]),f=s([]);j((function(){// Add scrollbar column
var t=e.flattenColumns[e.flattenColumns.length-1],n={fixed:t?t.fixed:null,scrollbar:!0,customHeaderCell:function(){return{class:"".concat(r.prefixCls,"-cell-scrollbar")}}};h.value=a.value?[].concat(GY(e.columns),[n]):e.columns,f.value=a.value?[].concat(GY(e.flattenColumns),[n]):e.flattenColumns}));// Calculate the sticky offsets
var v,g,y=L((function(){var t=e.stickyOffsets,n=e.direction,i=t.right,o=t.left;return JU(JU({},t),{},{left:"rtl"===n?[].concat(GY(o.map((function(e){return e+a.value}))),[0]):o,right:"rtl"===n?i:[].concat(GY(i.map((function(e){return e+a.value}))),[0]),isSticky:r.isSticky})})),m=(v=K(e,"colWidths"),g=K(e,"columCount"),L((function(){for(var e=[],t=v.value,n=g.value,i=0;i<n;i+=1){var o=t[i];if(void 0===o)return null;e[i]=o}return e})));return function(){var t,o=e.noData,s=e.columCount,u=e.stickyTopOffset,c=e.stickyBottomOffset,d=e.stickyClassName,v=e.maxContentScroll,g=r.isSticky;return _("div",{style:JU({overflow:"hidden"},g?{top:"".concat(u,"px"),bottom:"".concat(c,"px")}:{}),ref:l,class:fY(n.class,ZU({},d,!!d))},[_("table",{style:{tableLayout:"fixed",visibility:o||m.value?null:"hidden"}},[(!o||!v||p.value)&&_(lee,{colWidths:m.value?[].concat(GY(m.value),[a.value]):[],columCount:s+1,columns:f.value},null),null===(t=i.default)||void 0===t?void 0:t.call(i,JU(JU({},e),{},{stickyOffsets:y.value,columns:h.value,flattenColumns:f.value}))])])}}});
/**
       * The inverse of `_.toPairs`; this method returns an object composed
       * from key-value `pairs`.
       *
       * @static
       * @memberOf _
       * @since 4.0.0
       * @category Array
       * @param {Array} pairs The key-value pairs.
       * @returns {Object} Returns the new object.
       * @example
       *
       * _.fromPairs([['a', 1], ['b', 2]]);
       * // => { 'a': 1, 'b': 2 }
       */function _ee(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var o=e[t];i[o[0]]=o[1]}return i}
/**
       * Reactively pick fields from a reactive object
       *
       * @see https://vueuse.js.org/reactivePick
       */function wee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return k(_ee(n.map((function(t){return[t,K(e,t)]}))))}// Used for conditions cache
var See=[],Cee={},Mee="rc-table-internal-hook",Tee=a({name:"Table",inheritAttrs:!1,props:["prefixCls","data","columns","rowKey","tableLayout","scroll","rowClassName","title","footer","id","showHeader","components","customRow","customHeaderRow","direction","expandFixed","expandColumnWidth","expandedRowKeys","defaultExpandedRowKeys","expandedRowRender","expandRowByClick","expandIcon","onExpand","onExpandedRowsChange","onUpdate:expandedRowKeys","defaultExpandAllRows","indentSize","expandIconColumnIndex","expandedRowClassName","childrenColumnName","rowExpandable","sticky","transformColumns","internalHooks","internalRefs","canExpandable","onUpdateInternalRefs","transformCellText"],slots:["title","footer","summary","emptyText"],emits:["expand","expandedRowsChange","updateInternalRefs","update:expandedRowKeys"],setup:function(e,t){var n=t.attrs,i=t.slots,o=t.emit,r=L((function(){return e.data||See})),a=L((function(){return!!r.value.length})),l=L((function(){return function(){var e={};/* eslint-disable no-param-reassign */function t(e,n){n&&Object.keys(n).forEach((function(i){var o=n[i];o&&"object"===XU(o)?(e[i]=e[i]||{},t(e[i],o)):e[i]=o}))}/* eslint-enable */for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.forEach((function(n){t(e,n)})),e}(e.components,{})})),u=function(e,t){return k9(l.value,e)||t},p=L((function(){var t=e.rowKey;return"function"==typeof t?t:function(e){return e&&e[t]}})),h=L((function(){return e.expandIcon||yee})),f=L((function(){return e.childrenColumnName||"children"})),v=L((function(){return e.expandedRowRender?"row":/* eslint-disable no-underscore-dangle */
/**
             * Fix https://github.com/ant-design/ant-design/issues/21154
             * This is a workaround to not to break current behavior.
             * We can remove follow code after final release.
             *
             * To other developer:
             *  Do not use `__PARENT_RENDER_ICON__` in prod since we will remove this when refactor
             */
!(!e.canExpandable&&!r.value.some((function(e){return e&&"object"===XU(e)&&e[f.value]})))&&"nest"/* eslint-enable */})),g=$([]),y=j((function(){e.defaultExpandedRowKeys&&(g.value=e.defaultExpandedRowKeys),e.defaultExpandAllRows&&(g.value=function(e,t,n){var i=[];return function e(o){(o||[]).forEach((function(o,r){i.push(t(o,r)),e(o[n])}))}(e),i}(r.value,p.value,f.value))}));// defalutXxxx 仅仅第一次生效
y();var x=L((function(){return new Set(e.expandedRowKeys||g.value||[])})),b=function(e){var t,n=p.value(e,r.value.indexOf(e)),i=x.value.has(n);i?(x.value.delete(n),t=GY(x.value)):t=[].concat(GY(x.value),[n]),g.value=t,o("expand",!i,e),o("update:expandedRowKeys",t),o("expandedRowsChange",t)},w=s(0),S=jY(oee(JU(JU({},Z(e)),{},{// children,
expandable:L((function(){return!!e.expandedRowRender})),expandedKeys:x,getRowKey:p,onTriggerExpand:b,expandIcon:h}),L((function(){return e.internalHooks===Mee?e.transformColumns:null}))),2),C=S[0],M=S[1],T=L((function(){return{columns:C.value,flattenColumns:M.value}})),I=s(),D=s(),O=s(),P=s({scrollWidth:0,clientWidth:0}),N=s(),R=jY($5(!1),2),z=R[0],B=R[1],F=jY($5(!1),2),H=F[0],W=F[1],U=jY(ree(new Map),2),Y=U[0],X=U[1],q=L((function(){return A9(M.value)})),J=L((function(){return q.value.map((function(e){return Y.value.get(e)}))})),Q=L((function(){return M.value.length})),ee=
/**
       * Get sticky column offset width
       */
function(e,t,n){var i=L((function(){for(var i=[],o=[],r=0,a=0,l=e.value,s=t.value,u=n.value,c=0;c<s;c+=1)if("rtl"===u){// Left offset
o[c]=a,a+=l[c]||0;// Right offset
var d=s-c-1;i[d]=r,r+=l[d]||0}else{// Left offset
i[c]=r,r+=l[c]||0;// Right offset
var p=s-c-1;o[p]=a,a+=l[p]||0}return{left:i,right:o}}));return i}(J,Q,K(e,"direction")),te=L((function(){return e.scroll&&D9(e.scroll.y)})),ne=L((function(){return e.scroll&&D9(e.scroll.x)||Boolean(e.expandFixed)})),ie=L((function(){return ne.value&&M.value.some((function(e){return e.fixed}))})),oe=s(),re=/** Sticky header hooks */function(e,t){return L((function(){var n="object"===XU(e.value)?e.value:{},i=n.offsetHeader,o=void 0===i?0:i,r=n.offsetSummary,a=void 0===r?0:r,l=n.offsetScroll,s=void 0===l?0:l,u=n.getContainer,c=(void 0===u?function(){return xee}:u)()||xee,d=!!e.value;return{isSticky:d,stickyClassName:d?"".concat(t.value,"-sticky-holder"):"",offsetHeader:o,offsetSummary:a,offsetScroll:s,container:c}}))}(K(e,"sticky"),K(e,"prefixCls")),ae=k({}),le=L((function(){var e=Object.values(ae)[0];return(te.value||re.value.isSticky)&&e})),se=s({}),ue=s({}),ce=s({});j((function(){te.value&&(ue.value={overflowY:"scroll",maxHeight:pY(e.scroll.y)}),ne.value&&(se.value={overflowX:"auto"},// When no vertical scrollbar, should hide it
// https://github.com/ant-design/ant-design/pull/20705
// https://github.com/ant-design/ant-design/issues/21879
te.value||(ue.value={overflowY:"hidden"}),ce.value={width:!0===e.scroll.x?"auto":pY(e.scroll.x),minWidth:"100%"})}));var de=jY(function(e){var t=s(e||null),n=s();function i(){clearTimeout(n.value)}return G((function(){i()})),[function(e){t.value=e,i(),n.value=setTimeout((function(){t.value=null,n.value=void 0}),100)},function(){return t.value}]}(null),2),pe=de[0],he=de[1];function fe(e,t){if(t)if("function"!=typeof t){var n=t.$el||t;n.scrollLeft!==e&&(// eslint-disable-next-line no-param-reassign
n.scrollLeft=e)}else t(e)}var ve,ge=function(t){var n,i=t.currentTarget,o=t.scrollLeft,r="rtl"===e.direction,a="number"==typeof o?o:i.scrollLeft,l=i||Cee;he()&&he()!==l||(pe(l),fe(a,D.value),fe(a,O.value),fe(a,N.value),fe(a,null===(n=oe.value)||void 0===n?void 0:n.setScrollLeft));if(i){var s=i.scrollWidth,u=i.clientWidth;r?(B(-a<s-u),W(-a>0)):(B(a>0),W(a<s-u))}},ye=function(){ne.value&&O.value?ge({currentTarget:O.value}):(B(!1),W(!1))},me=function(e){e!==w.value&&(ye(),w.value=I.value?I.value.offsetWidth:e)},xe=function(e){var t=e.width;clearTimeout(ve),0!==w.value?ve=setTimeout((function(){me(t)}),100):me(t)};c([ne,function(){return e.data},function(){return e.columns}],(function(){ne.value&&ye()}),{flush:"post"});var be=jY($5(0),2),_e=be[0],we=be[1];d((function(){R9.value=R9.value||$6("position","sticky")})),d((function(){V((function(){var e,t;ye(),we(function(e){if(!("undefined"!=typeof document&&e&&e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,i=t.height;return{width:q8(n),height:q8(i)}}(O.value).width),P.value={scrollWidth:(null===(e=O.value)||void 0===e?void 0:e.scrollWidth)||0,clientWidth:(null===(t=O.value)||void 0===t?void 0:t.clientWidth)||0}}))})),A((function(){V((function(){var e,t,n=(null===(e=O.value)||void 0===e?void 0:e.scrollWidth)||0,i=(null===(t=O.value)||void 0===t?void 0:t.clientWidth)||0;P.value.scrollWidth===n&&P.value.clientWidth===i||(P.value={scrollWidth:n,clientWidth:i})}))})),j((function(){e.internalHooks===Mee&&e.internalRefs&&e.onUpdateInternalRefs({body:O.value?O.value.$el||O.value:null})}),{flush:"post"});// Table layout
var Se=L((function(){return e.tableLayout?e.tableLayout:// https://github.com/ant-design/ant-design/issues/25227
// When scroll.x is max-content, no need to fix table layout
// it's width should stretch out to fit content
ie.value?"max-content"===e.scroll.x?"auto":"fixed":te.value||re.value.isSticky||M.value.some((function(e){return e.ellipsis}))?"fixed":"auto"})),Ce=function(){var e;return a.value?null:(null===(e=i.emptyText)||void 0===e?void 0:e.call(i))||"No Data"};!function(e){E(M9,e)}(k(JU(JU({},Z(wee(e,"prefixCls","direction","transformCellText"))),{},{getComponent:u,scrollbarSize:_e,fixedInfoList:L((function(){return M.value.map((function(t,n){return V9(n,n,M.value,ee.value,e.direction)}))})),isSticky:L((function(){return re.value.isSticky})),summaryCollect:function(e,t){t?ae[e]=t:delete ae[e]}}))),function(e){E(q9,e)}(k(JU(JU({},Z(wee(e,"rowClassName","expandedRowClassName","expandRowByClick","expandedRowRender","expandIconColumnIndex","indentSize"))),{},{columns:C,flattenColumns:M,tableLayout:Se,expandIcon:h,expandableType:v,onTriggerExpand:b}))),function(e){E(Q9,e)}({onColumnResize:function(e,t){b0(I.value)&&X((function(n){if(n.get(e)!==t){var i=new Map(n);return i.set(e,t),i}return n}))}}),function(e){E(U9,e)}({componentWidth:w,fixHeader:te,fixColumn:ie,horizonScroll:ne});// Body
var Me=function(){return _(eee,{data:r.value,measureColumnWidth:te.value||ne.value||re.value.isSticky,expandedKeys:x.value,rowExpandable:e.rowExpandable,getRowKey:p.value,customRow:e.customRow,childrenColumnName:f.value},{emptyNode:Ce})},Te=function(){return _(lee,{colWidths:M.value.map((function(e){return e.width})),columns:M.value},null)};return function(){var t,o=e.prefixCls,a=e.scroll,l=e.tableLayout,s=e.direction,c=e.title,d=void 0===c?i.title:c,p=e.footer,h=void 0===p?i.footer:p,f=e.id,v=e.showHeader,g=e.customHeaderRow,y=re.value,x=y.isSticky,b=y.offsetHeader,w=y.offsetSummary,S=y.offsetScroll,k=y.stickyClassName,A=y.container,L=u(["table"],"table"),E=u(["body"]),R=null===(t=i.summary)||void 0===t?void 0:t.call(i,{pageData:r.value}),B=function(){return null},F={colWidths:J.value,columCount:M.value.length,stickyOffsets:ee.value,customHeaderRow:g,fixHeader:te.value,scroll:a};if(te.value||x){// >>>>>> Fixed Header
var V=function(){return null};"function"==typeof E?(V=function(){return E(r.value,{scrollbarSize:_e.value,ref:O,onScroll:ge})},F.colWidths=M.value.map((function(e,t){var n=e.width,i=t===C.value.length-1?n-_e.value:n;return"number"!=typeof i||Number.isNaN(i)?0:i}))):V=function(){return _("div",{style:JU(JU({},se.value),ue.value),onScroll:ge,ref:O,class:fY("".concat(o,"-body"))},[_(L,{style:JU(JU({},ce.value),{},{tableLayout:Se.value})},{default:function(){return[Te(),Me(),!le.value&&R&&_(vee,{stickyOffsets:ee.value,flattenColumns:M.value},{default:function(){return[R]}})]}})])};// Fixed holder share the props
var j=JU(JU(JU({noData:!r.value.length,maxContentScroll:ne.value&&"max-content"===a.x},F),T.value),{},{direction:s,stickyClassName:k,onScroll:ge});B=function(){return _(m,null,[!1!==v&&_(bee,JU(JU({},j),{},{stickyTopOffset:b,class:"".concat(o,"-header"),ref:D}),{default:function(e){return _(m,null,[_(K9,e,null),"top"===le.value&&_(vee,e,{default:function(){return[R]}})])}}),V(),le.value&&"top"!==le.value&&_(bee,JU(JU({},j),{},{stickyBottomOffset:w,class:"".concat(o,"-summary"),ref:N}),{default:function(e){return _(vee,e,{default:function(){return[R]}})}}),x&&O.value&&_(mee,{ref:oe,offsetScroll:S,scrollBodyRef:O,onScroll:ge,container:A,scrollBodySizeInfo:P.value},null)])}}else// >>>>>> Unique table
B=function(){return _("div",{style:JU(JU({},se.value),ue.value),class:fY("".concat(o,"-content")),onScroll:ge,ref:O},[_(L,{style:JU(JU({},ce.value),{},{tableLayout:Se.value})},{default:function(){return[Te(),!1!==v&&_(K9,JU(JU({},F),T.value),null),Me(),R&&_(vee,{stickyOffsets:ee.value,flattenColumns:M.value},{default:function(){return[R]}})]}})])};var G=H2(n,{aria:!0,data:!0}),W=function(){var e;return _("div",JU(JU({},G),{},{class:fY(o,(e={},ZU(e,"".concat(o,"-rtl"),"rtl"===s),ZU(e,"".concat(o,"-ping-left"),z.value),ZU(e,"".concat(o,"-ping-right"),H.value),ZU(e,"".concat(o,"-layout-fixed"),"fixed"===l),ZU(e,"".concat(o,"-fixed-header"),te.value),ZU(e,"".concat(o,"-fixed-column"),ie.value),ZU(e,"".concat(o,"-scroll-horizontal"),ne.value),ZU(e,"".concat(o,"-has-fix-left"),M.value[0]&&M.value[0].fixed),ZU(e,"".concat(o,"-has-fix-right"),M.value[Q.value-1]&&"right"===M.value[Q.value-1].fixed),ZU(e,n.class,n.class),e)),style:n.style,id:f,ref:I}),[d&&_(see,{class:"".concat(o,"-title")},{default:function(){return[d(r.value)]}}),_("div",{class:"".concat(o,"-container")},[B()]),h&&_(see,{class:"".concat(o,"-footer")},{default:function(){return[h(r.value)]}})])};return ne.value?_(CX,{onResize:xe},{default:W}):W()}}});// Used for customize scroll
function Iee(e,t,n){var i=L((function(){return t.value&&"object"===XU(t.value)?t.value:{}})),o=L((function(){return i.value.total||0})),r=jY($5((function(){return{current:"defaultCurrent"in i.value?i.value.defaultCurrent:1,pageSize:"defaultPageSize"in i.value?i.value.defaultPageSize:10}})),2),a=r[0],l=r[1],s=L((function(){var t=function(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var i=t[n];void 0!==i&&(e[n]=i)}))})),e}(a.value,i.value,{total:o.value>0?o.value:e.value}),n=Math.ceil((o.value||e.value)/t.pageSize);// Reset `current` if data length or pageSize changed
return t.current>n&&(// Prevent a maximum page count of 0
t.current=n||1),t})),u=function(e,t){!1!==i.value&&l({current:null!=e?e:1,pageSize:t||s.value.pageSize})},c=function(e,t){var o,r;i.value&&(null===(o=(r=i.value).onChange)||void 0===o||o.call(r,e,t));u(e,t),n(e,t||s.value.pageSize)};return[L((function(){return!1===i.value?{}:JU(JU({},s.value),{},{onChange:c})})),u]}// TODO: warning if use ajax!!!
var kee={},Aee="SELECT_ALL",Dee="SELECT_INVERT",Oee="SELECT_NONE",Pee=[];function Lee(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===XU(e)&&t in e&&(n=[].concat(GY(n),GY(Lee(e[t],t))))})),n}function Eee(e,t){var n=L((function(){var t=e.value||{},n=t.checkStrictly,i=void 0===n||n;return JU(JU({},t),{},{checkStrictly:i})})),i=jY(Z5(n.value.selectedRowKeys||n.value.defaultSelectedRowKeys||Pee,{value:L((function(){return n.value.selectedRowKeys}))}),2),o=i[0],r=i[1],a=$(new Map),l=function(e){if(n.value.preserveSelectedRowKeys){var i=new Map;// Keep key if mark as preserveSelectedRowKeys
e.forEach((function(e){var n=t.getRecordByKey(e);!n&&a.value.has(e)&&(n=a.value.get(e)),i.set(e,n)})),// Refresh to new cache
a.value=i}};// ========================= Keys =========================
j((function(){l(o.value)}));var s=L((function(){return n.value.checkStrictly?null:D8(t.data.value,{externalGetKey:t.getRowKey.value,childrenPropName:t.childrenColumnName.value}).keyEntities})),u=L((function(){return Lee(t.pageData.value,t.childrenColumnName.value)})),c=L((function(){var e=new Map,i=t.getRowKey.value,o=n.value.getCheckboxProps;return u.value.forEach((function(t,n){var r=i(t,n),a=(o?o(t):null)||{};e.set(r,a)})),e})),d=R8(s),p=d.maxLevel,h=d.levelEntities,f=function(e){var n;return!(null===(n=c.value.get(t.getRowKey.value(e)))||void 0===n||!n.disabled)},v=L((function(){if(n.value.checkStrictly)return[o.value||[],[]];var e=N8(o.value,!0,s.value,p.value,h.value,f);return[e.checkedKeys||[],e.halfCheckedKeys]})),g=L((function(){return v.value[0]})),y=L((function(){return v.value[1]})),m=L((function(){var e="radio"===n.value.type?g.value.slice(0,1):g.value;return new Set(e)})),x=L((function(){return"radio"===n.value.type?new Set:new Set(y.value)})),b=jY($5(null),2),w=b[0],S=b[1],C=function(e){var i,o;l(e);var s=n.value,u=s.preserveSelectedRowKeys,c=s.onChange,d=t.getRecordByKey;u?(i=e,o=e.map((function(e){return a.value.get(e)}))):(// Filter key which not exist in the `dataSource`
i=[],o=[],e.forEach((function(e){var t=d(e);void 0!==t&&(i.push(e),o.push(t))}))),r(i),null==c||c(i,o)},M=function(e,i,o,r){var a=n.value.onSelect,l=(t||{}).getRecordByKey;if(a){var s=o.map((function(e){return l(e)}));a(l(e),i,s,r)}C(o)},T=L((function(){var e=n.value,i=e.onSelectInvert,o=e.onSelectNone,r=e.selections,a=e.hideSelectAll,l=t.data,s=t.pageData,u=t.getRowKey,d=t.locale;return!r||a?null:(!0===r?[Aee,Dee,Oee]:r).map((function(e){return e===Aee?{key:"all",text:d.value.selectionAll,onSelect:function(){C(l.value.map((function(e,t){return u.value(e,t)})).filter((function(e){var t=c.value.get(e);return!(null!=t&&t.disabled)||m.value.has(e)})))}}:e===Dee?{key:"invert",text:d.value.selectInvert,onSelect:function(){var e=new Set(m.value);s.value.forEach((function(t,n){var i=u.value(t,n),o=c.value.get(i);null!=o&&o.disabled||(e.has(i)?e.delete(i):e.add(i))}));var t=Array.from(e);i&&(RJ(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),i(t)),C(t)}}:e===Oee?{key:"none",text:d.value.selectNone,onSelect:function(){null==o||o(),C(Array.from(m.value).filter((function(e){var t=c.value.get(e);return null==t?void 0:t.disabled})))}}:e}))})),I=L((function(){return u.value.length}));// Get flatten data
return[function(i){var o,r=n.value,a=r.onSelectAll,l=r.onSelectMultiple,d=r.columnWidth,v=r.type,y=r.fixed,b=r.renderCell,k=r.hideSelectAll,A=r.checkStrictly,D=t.prefixCls,O=t.getRecordByKey,P=t.getRowKey,L=t.expandType,E=t.getPopupContainer;if(!e.value)return i.filter((function(e){return e!==kee}));// Support selection
var N,R,z=i.slice(),B=new Set(m.value),F=u.value.map(P.value).filter((function(e){return!c.value.get(e).disabled})),V=F.every((function(e){return B.has(e)})),j=F.some((function(e){return B.has(e)}));if("radio"!==v){var H;if(T.value){var G=_(D6,{getPopupContainer:E.value},{default:function(){return[T.value.map((function(e,t){var n=e.key,i=e.text,o=e.onSelect;return _(D6.Item,{key:n||t,onClick:function(){null==o||o(F)}},{default:function(){return[i]}})}))]}});H=_("div",{class:"".concat(D.value,"-selection-extra")},[_(H4,{overlay:G,getPopupContainer:E.value},{default:function(){return[_("span",null,[_(u3,null,null)])]}})])}var W=u.value.map((function(e,t){var n=P.value(e,t),i=c.value.get(n)||{};return JU({checked:B.has(n)},i)})).filter((function(e){return e.disabled})),K=!!W.length&&W.length===I.value,U=K&&W.every((function(e){return e.checked})),Y=K&&W.some((function(e){return e.checked}));N=!k&&_("div",{class:"".concat(D.value,"-selection")},[_(K8,{checked:K?U:!!I.value&&V,indeterminate:K?!U&&Y:!V&&j,onChange:function(){var e=[];V?F.forEach((function(t){B.delete(t),e.push(t)})):F.forEach((function(t){B.has(t)||(B.add(t),e.push(t))}));var t=Array.from(B);null==a||a(!V,t.map((function(e){return O(e)})),e.map((function(e){return O(e)}))),C(t)},disabled:0===I.value||K,skipGroup:!0},null),H])}// Body Cell
R="radio"===v?function(e){var t=e.record,n=e.index,i=P.value(t,n),o=B.has(i);return{node:_(U6,JU(JU({},c.value.get(i)),{},{checked:o,onClick:function(e){return e.stopPropagation()},onChange:function(e){B.has(i)||M(i,!0,[i],e.nativeEvent)}}),null),checked:o}}:function(e){var t,n,i=e.record,o=e.index,r=P.value(i,o),a=B.has(r),u=x.value.has(r),d=c.value.get(r);"nest"===L.value?(t=u,RJ("boolean"!=typeof(null==d?void 0:d.indeterminate),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):t=null!==(n=null==d?void 0:d.indeterminate)&&void 0!==n?n:u;// Record checked
return{node:_(K8,JU(JU({},d),{},{indeterminate:t,checked:a,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,i=-1,o=-1;// Get range of this
if(n&&A){var u=new Set([w.value,r]);F.some((function(e,t){if(u.has(e)){if(-1!==i)return o=t,!0;i=t}return!1}))}if(-1!==o&&i!==o&&A){// Batch update selections
var c=F.slice(i,o+1),d=[];a?c.forEach((function(e){B.has(e)&&(d.push(e),B.delete(e))})):c.forEach((function(e){B.has(e)||(d.push(e),B.add(e))}));var v=Array.from(B);null==l||l(!a,v.map((function(e){return O(e)})),d.map((function(e){return O(e)}))),C(v)}else{// Single record selected
var y=g.value;if(A){var m=a?v8(y,r):g8(y,r);M(r,!a,m,t)}else{// Always fill first
var x=N8([].concat(GY(y),[r]),!0,s.value,p.value,h.value,f),b=x.checkedKeys,_=x.halfCheckedKeys,T=b;// If remove, we do it again to correction
if(a){var I=new Set(b);I.delete(r),T=N8(Array.from(I),{checked:!1,halfCheckedKeys:_},s.value,p.value,h.value,f).checkedKeys}M(r,!a,T,t)}}S(r)}}),null),checked:a}};// Insert selection column if not exist
if(!z.includes(kee))// Always after expand icon
if(0===z.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[E9])||void 0===t?void 0:t.columnType)}))){var X=tQ(z),q=X[0],Z=X.slice(1);z=[q,kee].concat(GY(Z))}else// Normal insert at first column
z=[kee].concat(GY(z));// Deduplicate selection column
var $=z.indexOf(kee);z=z.filter((function(e,t){return e!==kee||t===$}));// Fixed column logic
var J=z[$-1],Q=z[$+1],ee=y;void 0===ee&&(void 0!==(null==Q?void 0:Q.fixed)?ee=Q.fixed:void 0!==(null==J?void 0:J.fixed)&&(ee=J.fixed)),ee&&J&&"EXPAND_COLUMN"===(null===(o=J[E9])||void 0===o?void 0:o.columnType)&&void 0===J.fixed&&(J.fixed=ee);// Replace with real selection column
var te=ZU({fixed:ee,width:d,className:"".concat(D.value,"-selection-column"),title:n.value.columnTitle||N,customRender:function(e){var t=e.record,n=e.index,i=R({record:t,index:n}),o=i.node,r=i.checked;return b?b(r,t,n,o):o}},E9,{class:"".concat(D.value,"-selection-col")});return z.map((function(e){return e===kee?te:e}))},m]}// This icon file is generated automatically.
var Nee={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};function Ree(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){zee(e,t,n[t])}))}return e}function zee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bee=function(e,t){var n=Ree({},e,t.attrs);return _(JZ,Ree({},n,{icon:Nee}),null)};Bee.displayName="CaretDownOutlined",Bee.inheritAttrs=!1;var Fee=Bee,Vee={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};// This icon file is generated automatically.
function jee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Hee(e,t,n[t])}))}return e}function Hee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gee=function(e,t){var n=jee({},e,t.attrs);return _(JZ,jee({},n,{icon:Vee}),null)};Gee.displayName="CaretUpOutlined",Gee.inheritAttrs=!1;var Wee=Gee,Kee=["default"];function Uee(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function Yee(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function Xee(e,t){return"function"==typeof e?e(t):e}function qee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=fX(e),n=[];return t.forEach((function(e){var t,i,o;if(e){for(var r=e.key,a=(null===(t=e.props)||void 0===t?void 0:t.style)||{},l=(null===(i=e.props)||void 0===i?void 0:i.class)||"",s=e.props||{},u=0,c=Object.entries(s);u<c.length;u++){var d=jY(c[u],2),p=d[0],h=d[1];s[Q(p)]=h}var f=e.children||{},v=f.default,g=JU(JU(JU({},zX(f,Kee)),s),{},{style:a,class:l});if(r&&(g.key=r),null!==(o=e.type)&&void 0!==o&&o.__ANT_TABLE_COLUMN_GROUP)g.children=qee("function"==typeof v?v():v);else{var y,m=null===(y=e.children)||void 0===y?void 0:y.default;g.customRender=g.customRender||m}n.push(g)}})),n}var Zee="ascend",$ee="descend";function Jee(e){return"object"===XU(e.sorter)&&"number"==typeof e.sorter.multiple&&e.sorter.multiple}function Qee(e){return"function"==typeof e?e:!(!e||"object"!==XU(e)||!e.compare)&&e.compare}function ete(e,t,n){var i=[];function o(e,t){i.push({column:e,key:Uee(e,t),multiplePriority:Jee(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,r){var a=Yee(r,n);e.children?("sortOrder"in e&&// Controlled
o(e,a),i=[].concat(GY(i),GY(ete(e.children,t,a)))):e.sorter&&("sortOrder"in e?// Controlled
o(e,a):t&&e.defaultSortOrder&&// Default sorter
i.push({column:e,key:Uee(e,a),multiplePriority:Jee(e),sortOrder:e.defaultSortOrder}))})),i}function tte(e,t,n,i,o,r,a,l){return(t||[]).map((function(t,s){var u=Yee(s,l),c=t;if(c.sorter){var d=c.sortDirections||o,p=void 0===c.showSorterTooltip?a:c.showSorterTooltip,h=Uee(c,u),f=n.find((function(e){return e.key===h})),v=f?f.sortOrder:null,g=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(d,v),y=d.includes(Zee)&&_(Wee,{class:fY("".concat(e,"-column-sorter-up"),{active:v===Zee})},null),m=d.includes($ee)&&_(Fee,{class:fY("".concat(e,"-column-sorter-down"),{active:v===$ee})},null),x=r||{},b=x.cancelSort,w=x.triggerAsc,S=x.triggerDesc,C=b;g===$ee?C=S:g===Zee&&(C=w);var M="object"===XU(p)?p:{title:C};c=JU(JU({},c),{},{className:fY(c.className,ZU({},"".concat(e,"-column-sort"),v)),title:function(n){var i=_("div",{class:"".concat(e,"-column-sorters")},[_("span",{class:"".concat(e,"-column-title")},[Xee(t.title,n)]),_("span",{class:fY("".concat(e,"-column-sorter"),ZU({},"".concat(e,"-column-sorter-full"),!(!y||!m)))},[_("span",{class:"".concat(e,"-column-sorter-inner")},[y,m])])]);return p?_(e4,M,{default:function(){return[i]}}):i},customHeaderCell:function(n){var o=t.customHeaderCell&&t.customHeaderCell(n)||{},r=o.onClick;return o.onClick=function(e){i({column:t,key:h,sortOrder:g,multiplePriority:Jee(t)}),r&&r(e)},o.class=fY(o.class,"".concat(e,"-column-has-sorters")),o}})}return"children"in c&&(c=JU(JU({},c),{},{children:tte(e,c.children,n,i,o,r,a,u)})),c}))}function nte(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function ite(e){var t=e.filter((function(e){return e.sortOrder})).map(nte);// =========== Legacy compatible support ===========
// https://github.com/ant-design/ant-design/pull/19226
return 0===t.length&&e.length?JU(JU({},nte(e[e.length-1])),{},{column:void 0}):t.length<=1?t[0]||{}:t}function ote(e,t,n){var i=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),o=e.slice(),r=i.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return Qee(t)&&n}));// Skip if no sorter needed
return r.length?o.sort((function(e,t){for(var n=0;n<r.length;n+=1){var i=r[n],o=i.column.sorter,a=i.sortOrder,l=Qee(o);if(l&&a){var s=l(e,t,a);if(0!==s)return a===Zee?s:-s}}return 0})).map((function(e){var i=e[n];return i?JU(JU({},e),{},ZU({},n,ote(i,t,n))):e})):o}function rte(e){var t=e.prefixCls,n=e.mergedColumns,i=e.onSorterChange,o=e.sortDirections,r=e.tableLocale,a=e.showSorterTooltip,l=jY($5(ete(n.value,!0)),2),s=l[0],u=l[1],c=L((function(){var e=!0,t=ete(n.value,!1);// Return if not controlled
if(!t.length)return s.value;var i=[];function o(t){e?i.push(t):i.push(JU(JU({},t),{},{sortOrder:null}))}var r=null;return t.forEach((function(t){null===r?(o(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:r=!0)):(r&&!1!==t.multiplePriority||(e=!1),o(t))})),i})),d=L((function(){var e=c.value.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,// Legacy
sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}));function p(e){var t;t=!1!==e.multiplePriority&&c.value.length&&!1!==c.value[0].multiplePriority?[].concat(GY(c.value.filter((function(t){return t.key!==e.key}))),[e]):[e],u(t),i(ite(t),t)}var h=L((function(){return ite(c.value)}));return[function(e){return tte(t.value,e,c.value,p,o.value,r.value,a.value)},c,d,h]}// This icon file is generated automatically.
var ate={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};function lte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){ste(e,t,n[t])}))}return e}function ste(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ute=function(e,t){var n=lte({},e,t.attrs);return _(JZ,lte({},n,{icon:ate}),null)};ute.displayName="FilterFilled",ute.inheritAttrs=!1;var cte=ute,dte=function(e,t){var n,i=t.slots;return _("div",{onClick:function(e){return e.stopPropagation()}},[null===(n=i.default)||void 0===n?void 0:n.call(i)])},pte=a({compatConfig:{MODE:3},name:"FilterSearch",inheritAttrs:!1,props:{value:String,onChange:Function,filterSearch:Boolean,tablePrefixCls:String,locale:{type:Object,default:void 0}},setup:function(e){return function(){var t=e.value,n=e.onChange,i=e.filterSearch,o=e.tablePrefixCls,r=e.locale;return i?_("div",{class:"".concat(o,"-filter-dropdown-search")},[_(l7,{placeholder:r.filterSearchPlaceholder,onChange:n,value:t,htmlSize:1,class:"".concat(o,"-filter-dropdown-search-input")},{prefix:function(){return _(x3,null,null)}})]):null}}}),hte=["motion","motionNodes","motionType","active","eventKey"],fte=a({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:JU(JU({},s8),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,t){var n=t.attrs,i=t.slots,o=s(!0),r=o8(),a=s(!1),l=L((function(){return e.motion?e.motion:k6()})),u=function(t,n){var i,o;if("appear"===n)null===(i=l.value)||void 0===i||null===(o=i.onAfterEnter)||void 0===o||o.call(i,t);else if("leave"===n){var r,s;null===(r=l.value)||void 0===r||null===(s=r.onAfterLeave)||void 0===s||s.call(r,t)}a.value||e.onMotionEnd(),a.value=!0};return c((function(){return e.motionNodes}),(function(){e.motionNodes&&"hide"===e.motionType&&o.value&&V((function(){o.value=!1}))}),{immediate:!0,flush:"post"}),d((function(){e.motionNodes&&e.onMotionStart()})),G((function(){e.motionNodes&&u()})),function(){e.motion;var t=e.motionNodes,a=e.motionType,c=e.active,d=e.eventKey,p=zX(e,hte);return t?_(N,JU(JU({},l.value),{},{appear:"show"===a,onAfterAppear:function(e){return u(e,"appear")},onAfterLeave:function(e){return u(e,"leave")}}),{default:function(){return[f(_("div",{class:"".concat(r.value.prefixCls,"-treenode-motion")},[t.map((function(e){var t=QU({},(Q7(e.data),e.data)),n=e.title,o=e.key,r=e.isStart,a=e.isEnd;return delete t.children,_(f8,JU(JU({},t),{},{title:n,active:c,data:e.data,key:o,eventKey:o,isStart:r,isEnd:a}),i)}))]),[[v,o.value]])]}}):_(f8,JU(JU({domRef:s,class:n.class,style:n.style},p),{},{active:c,eventKey:d}),i)}}});function vte(e,t,n){var i=e.findIndex((function(e){return e.key===n})),o=e[i+1],r=t.findIndex((function(e){return e.key===n}));if(o){var a=t.findIndex((function(e){return e.key===o.key}));return t.slice(r+1,a)}return t.slice(r+1)}var gte=["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"],yte={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},mte=function(){},xte="RC_TREE_MOTION_".concat(Math.random()),bte={key:xte},_te={key:xte,level:0,index:0,pos:"0",node:bte,nodes:[bte]},wte={parent:null,children:[],pos:_te.pos,data:bte,title:null,key:xte,/** Hold empty list here since we do not use it */isStart:[],isEnd:[]};
/**
       * We only need get visible content items to play the animation.
       */
function Ste(e,t,n,i){return!1!==t&&n?e.slice(0,Math.ceil(n/i)+1):e}function Cte(e){return T8(e.key,e.pos)}function Mte(e){for(var t=String(e.key),n=e;n.parent;)n=n.parent,t="".concat(n.key," > ").concat(t);return t}var Tte=a({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:u8,setup:function(e,t){var n=t.expose,i=t.attrs,o=s(),r=s(),a=a8(),l=a.expandedKeys,u=a.flattenNodes;// =============================== Ref ================================
n({scrollTo:function(e){o.value.scrollTo(e)},getIndentWidth:function(){return r.value.offsetWidth}});// ============================== Motion ==============================
var d=$(u.value),p=$([]),h=s(null);function f(){d.value=u.value,p.value=[],h.value=null,e.onListChangeEnd()}var v=o8();c([function(){return l.value.slice()},u],(function(t,n){var i=jY(t,2),o=i[0],r=i[1],a=jY(n,2),l=a[0],s=a[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,i=t.length;if(1!==Math.abs(n-i))return{add:!1,key:null};function o(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var i=t.filter((function(e){return!n.has(e)}));return 1===i.length?i[0]:null}return n<i?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}(l,o);if(null!==u.key){var c=e.virtual,f=e.height,v=e.itemHeight;if(u.add){var g=s.findIndex((function(e){return e.key===u.key})),y=Ste(vte(s,r,u.key),c,f,v),m=s.slice();m.splice(g+1,0,wte),d.value=m,p.value=y,h.value="show"}else{var x=r.findIndex((function(e){return e.key===u.key})),b=Ste(vte(r,s,u.key),c,f,v),_=r.slice();_.splice(x+1,0,wte),d.value=_,p.value=b,h.value="hide"}}else s!==r&&(d.value=r)})),// We should clean up motion if is changed by dragging
c((function(){return v.value.dragging}),(function(e){e||f()}));var g=L((function(){return void 0===e.motion?d.value:u.value})),y=function(){e.onActiveChange(null)};return function(){var t=JU(JU({},e),i),n=t.prefixCls;t.selectable,t.checkable;var a=t.disabled,l=t.motion,s=t.height,u=t.itemHeight,c=t.virtual,d=t.focusable,v=t.activeItem,x=t.focused,b=t.tabindex,w=t.onKeydown,S=t.onFocus,C=t.onBlur,M=t.onListChangeStart;t.onListChangeEnd;var T=zX(t,gte);return _(m,null,[x&&v&&_("span",{style:yte,"aria-live":"assertive"},[Mte(v)]),_("div",null,[_("input",{style:yte,disabled:!1===d||a,tabindex:!1!==d?b:null,onKeydown:w,onFocus:S,onBlur:C,value:"",onChange:mte,"aria-label":"for screen reader"},null)]),_("div",{class:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[_("div",{class:"".concat(n,"-indent")},[_("div",{ref:r,class:"".concat(n,"-indent-unit")},null)])]),_(N5,JU(JU({},ZJ(T,["onActiveChange"])),{},{data:g.value,itemKey:Cte,height:s,fullHeight:!1,virtual:c,itemHeight:u,prefixCls:"".concat(n,"-list"),ref:o,onVisibleChange:function(e,t){var n=new Set(e);// Motion node is not render. Skip motion
t.filter((function(e){return!n.has(e)})).some((function(e){return Cte(e)===xte}))&&f()}}),{default:function(e){var t=e.pos,n=QU({},(Q7(e.data),e.data)),i=e.title,o=e.key,r=e.isStart,a=e.isEnd,s=T8(o,t);return delete n.key,delete n.children,_(fte,JU(JU({},n),{},{eventKey:s,title:i,active:!!v&&o===v.key,data:e.data,isStart:r,isEnd:a,motion:l,motionNodes:o===xte?p.value:null,motionType:h.value,onMotionStart:M,onMotionEnd:f,onMousemove:y}),null)}})])}}});var Ite=a({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:cX(c8(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,i=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(t){case-1:o.top=0,o.left="".concat(-n*i,"px");break;case 1:o.bottom=0,o.left="".concat(-n*i,"px");break;case 0:o.bottom=0,o.left="".concat(i)}return _("div",{style:o},null)},allowDrop:function(){return!0}}),setup:function(e,t){var n=t.attrs,i=t.slots,o=t.expose,r=s(!1),a={},l=s(),u=$([]),d=$([]),p=$([]),h=$([]),f=$([]),v=$([]),g={},y=k({draggingNodeKey:null,dragChildrenKeys:[],// dropTargetKey is the key of abstract-drop-node
// the abstract-drop-node is the real drop node when drag and drop
// not the DOM drag over node
dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,// the abstract-drag-over-node
// if mouse is on the bottom of top dom node or no the top of the bottom dom node
// abstract-drag-over-node is the top node
dragOverNodeKey:null}),m=$([]);c([function(){return e.treeData},function(){return e.children}],(function(){m.value=void 0!==e.treeData?J(e.treeData).slice():k8(J(e.children))}),{immediate:!0,deep:!0});var x=$({}),b=s(!1),w=s(null),S=s(!1),C=L((function(){return I8(e.fieldNames)})),M=s(),T=null,I=null,A=null,O=L((function(){return{expandedKeysSet:P.value,selectedKeysSet:N.value,loadedKeysSet:R.value,loadingKeysSet:z.value,checkedKeysSet:B.value,halfCheckedKeysSet:F.value,dragOverNodeKey:y.dragOverNodeKey,dropPosition:y.dropPosition,keyEntities:x.value}})),P=L((function(){return new Set(v.value)})),N=L((function(){return new Set(u.value)})),R=L((function(){return new Set(h.value)})),z=L((function(){return new Set(f.value)})),B=L((function(){return new Set(d.value)})),F=L((function(){return new Set(p.value)}));j((function(){if(m.value){var e=D8(m.value,{fieldNames:C.value});x.value=JU(ZU({},xte,_te),e.keyEntities)}}));var H=!1;// 处理 defaultXxxx api, 仅仅首次有效
c([function(){return e.expandedKeys},function(){return e.autoExpandParent},x],(// eslint-disable-next-line @typescript-eslint/no-unused-vars
function(t,n){var i=jY(t,2);i[0];var o=i[1],r=jY(n,2);r[0];var a=r[1],l=v.value;// ================ expandedKeys =================
if(void 0!==e.expandedKeys||H&&o!==a)l=e.autoExpandParent||!H&&e.defaultExpandParent?C8(e.expandedKeys,x.value):e.expandedKeys;else if(!H&&e.defaultExpandAll){var s=JU({},x.value);delete s[xte],l=Object.keys(s).map((function(e){return s[e].key}))}else!H&&e.defaultExpandedKeys&&(l=e.autoExpandParent||e.defaultExpandParent?C8(e.defaultExpandedKeys,x.value):e.defaultExpandedKeys);l&&(v.value=l),H=!0}),{immediate:!0});// ================ flattenNodes =================
var G=$([]);j((function(){G.value=function(e,t,n){var i=I8(n),o=i._title,r=i.key,a=i.children,l=new Set(!0===t?[]:t),s=[];return function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(u,c){for(var d,p=m8(i?i.pos:"0",c),h=T8(u[r],p),f=0;f<o.length;f+=1){var v=o[f];if(void 0!==u[v]){d=u[v];break}}// Add FlattenDataNode into list
var g=JU(JU({},ZJ(u,[].concat(GY(o),[r,a]))),{},{title:d,key:h,parent:i,pos:p,children:null,data:u,isStart:[].concat(GY(i?i.isStart:[]),[0===c]),isEnd:[].concat(GY(i?i.isEnd:[]),[c===n.length-1])});return s.push(g),// Loop treeNode children
!0===t||l.has(h)?g.children=e(u[a]||[],g):g.children=[],g}))}(e),s}(m.value,v.value,C.value)})),// ================ selectedKeys =================
j((function(){e.selectable&&(void 0!==e.selectedKeys?u.value=w8(e.selectedKeys,e):!H&&e.defaultSelectedKeys&&(u.value=w8(e.defaultSelectedKeys,e)))}));var W=R8(x),K=W.maxLevel,U=W.levelEntities;// ================= checkedKeys =================
j((function(){var t;if(e.checkable&&(void 0!==e.checkedKeys?t=S8(e.checkedKeys)||{}:!H&&e.defaultCheckedKeys?t=S8(e.defaultCheckedKeys)||{}:m.value&&(// If `treeData` changed, we also need check it
t=S8(e.checkedKeys)||{checkedKeys:d.value,halfCheckedKeys:p.value}),t)){var n=t,i=n.checkedKeys,o=void 0===i?[]:i,r=n.halfCheckedKeys,a=void 0===r?[]:r;if(!e.checkStrictly){var l=N8(o,!0,x.value,K.value,U.value);o=l.checkedKeys,a=l.halfCheckedKeys}d.value=o,p.value=a}})),// ================= loadedKeys ==================
j((function(){e.loadedKeys&&(h.value=e.loadedKeys)}));var Y=function(){QU(y,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},X=function(e){M.value.scrollTo(e)};c((function(){return e.activeKey}),(function(){void 0!==e.activeKey&&(w.value=e.activeKey)}),{immediate:!0}),c(w,(function(e){V((function(){null!==e&&X({key:e})}))}),{immediate:!0,flush:"post"});// =========================== Expanded ===========================
/** Set uncontrolled `expandedKeys`. This will also auto update `flattenNodes`. */var q=function(t){void 0===e.expandedKeys&&(v.value=t)},Z=function(){null!==y.draggingNodeKey&&QU(y,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),T=null,A=null},Q=function(t,n){var i=e.onDragend;y.dragOverNodeKey=null,Z(),null==i||i({event:t,node:n.eventData}),I=null},ee=function e(t){Q(t,null),window.removeEventListener("dragend",e)},te=function(t,n){var i=e.onDragstart,o=n.eventKey,r=n.eventData;I=n,T={x:t.clientX,y:t.clientY};var a=v8(v.value,o);y.draggingNodeKey=o,y.dragChildrenKeys=function(e,t){// not contains self
// self for left or right drag
var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var i=t.key,o=t.children;n.push(i),e(o)}))}(t[e].children),n}(o,x.value),l.value=M.value.getIndentWidth(),q(a),window.addEventListener("dragend",ee),i&&i({event:t,node:r})},ne=function(t,n){var i=e.onDragenter,o=e.onExpand,r=e.allowDrop,s=e.direction,u=n.pos,c=n.eventKey;if(// record the key of node which is latest entered, used in dragleave event.
A!==c&&(A=c),I){var d=_8(t,I,n,l.value,T,r,G.value,x.value,P.value,s),p=d.dropPosition,h=d.dropLevelOffset,f=d.dropTargetKey,g=d.dropContainerKey,m=d.dropTargetPos,b=d.dropAllowed,_=d.dragOverNodeKey;// don't allow drop inside its children
-1===y.dragChildrenKeys.indexOf(f)&&b?(// Side effect for delay drag
a||(a={}),Object.keys(a).forEach((function(e){clearTimeout(a[e])})),I.eventKey!==n.eventKey&&(// hoist expand logic here
// since if logic is on the bottom
// it will be blocked by abstract dragover node check
//   => if you dragenter from top, you mouse will still be consider as in the top node
a[u]=window.setTimeout((function(){if(null!==y.draggingNodeKey){var e=v.value.slice(),i=x.value[n.eventKey];i&&(i.children||[]).length&&(e=g8(v.value,n.eventKey)),q(e),o&&o(e,{node:n.eventData,expanded:!0,nativeEvent:t})}}),800)),// Skip if drag node is self
I.eventKey!==f||0!==h?(// Update drag over node and drag state
QU(y,{dragOverNodeKey:_,dropPosition:p,dropLevelOffset:h,dropTargetKey:f,dropContainerKey:g,dropTargetPos:m,dropAllowed:b}),i&&i({event:t,node:n.eventData,expandedKeys:v.value})):Y()):Y()}else Y()},ie=function(t,n){var i=e.onDragover,o=e.allowDrop,r=e.direction;if(I){var a=_8(t,I,n,l.value,T,o,G.value,x.value,P.value,r),s=a.dropPosition,u=a.dropLevelOffset,c=a.dropTargetKey,d=a.dropContainerKey,p=a.dropAllowed,h=a.dropTargetPos,f=a.dragOverNodeKey;-1===y.dragChildrenKeys.indexOf(c)&&p&&(// Update drag position
I.eventKey===c&&0===u?null===y.dropPosition&&null===y.dropLevelOffset&&null===y.dropTargetKey&&null===y.dropContainerKey&&null===y.dropTargetPos&&!1===y.dropAllowed&&null===y.dragOverNodeKey||Y():s===y.dropPosition&&u===y.dropLevelOffset&&c===y.dropTargetKey&&d===y.dropContainerKey&&h===y.dropTargetPos&&p===y.dropAllowed&&f===y.dragOverNodeKey||QU(y,{dropPosition:s,dropLevelOffset:u,dropTargetKey:c,dropContainerKey:d,dropTargetPos:h,dropAllowed:p,dragOverNodeKey:f}),i&&i({event:t,node:n.eventData}))}},oe=function(t,n){// if it is outside the droppable area
// currentMouseOverDroppableNodeKey will be updated in dragenter event when into another droppable receiver.
A!==n.eventKey||t.currentTarget.contains(t.relatedTarget)||(Y(),A=null);var i=e.onDragleave;i&&i({event:t,node:n.eventData})},re=function(t,n){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y.dragChildrenKeys,a=y.dropPosition,l=y.dropTargetKey,s=y.dropTargetPos,u=y.dropAllowed;if(u){var c=e.onDrop;if(y.dragOverNodeKey=null,Z(),null!==l){var d=JU(JU({},O8(l,J(O.value))),{},{active:(null===(i=be.value)||void 0===i?void 0:i.key)===l,data:x.value[l].node});r.indexOf(l);var p=y8(s),h={event:t,node:P8(d),dragNode:I?I.eventData:null,dragNodesKeys:[I.eventKey].concat(r),dropToGap:0!==a,dropPosition:a+Number(p[p.length-1])};o||null==c||c(h),I=null}}},ae=function(t,n){var i=e.onClick;i&&i(t,n)},le=function(t,n){var i=e.onDblclick;i&&i(t,n)},se=function(t,n){var i=u.value,o=e.onSelect,r=e.multiple,a=n.selected,l=n[C.value.key],s=!a;// Update selected keys
i=s?r?g8(i,l):[l]:v8(i,l);// [Legacy] Not found related usage in doc or upper libs
var c=x.value,d=i.map((function(e){var t=c[e];return t?t.node:null})).filter((function(e){return e}));void 0===e.selectedKeys&&(u.value=i),o&&o(i,{event:"select",selected:s,node:n,selectedNodes:d,nativeEvent:t})},ue=function(t,n,i){var o,r=e.checkStrictly,a=e.onCheck,l=n[C.value.key],s={event:"check",node:n,checked:i,nativeEvent:t},u=x.value;if(r){var c=i?g8(d.value,l):v8(d.value,l);o={checked:c,halfChecked:v8(p.value,l)},s.checkedNodes=c.map((function(e){return u[e]})).filter((function(e){return e})).map((function(e){return e.node})),void 0===e.checkedKeys&&(d.value=c)}else{// Always fill first
var h=N8([].concat(GY(d.value),[l]),!0,u,K.value,U.value),f=h.checkedKeys,v=h.halfCheckedKeys;// If remove, we do it again to correction
if(!i){var g=new Set(f);g.delete(l);var y=N8(Array.from(g),{checked:!1,halfCheckedKeys:v},u,K.value,U.value);f=y.checkedKeys,v=y.halfCheckedKeys}o=f,// [Legacy] This is used for vc-tree-select`
s.checkedNodes=[],s.checkedNodesPositions=[],s.halfCheckedKeys=v,f.forEach((function(e){var t=u[e];if(t){var n=t.node,i=t.pos;s.checkedNodes.push(n),s.checkedNodesPositions.push({node:n,pos:i})}})),void 0===e.checkedKeys&&(d.value=f,p.value=v)}a&&a(o,s)},ce=function(t){var n=t[C.value.key],i=new Promise((function(i,o){// We need to get the latest state of loading/loaded keys
var r=e.loadData,a=e.onLoad;if(!r||R.value.has(n)||z.value.has(n))return null;// Process load data
r(t).then((function(){var o=g8(h.value,n),r=v8(f.value,n);// onLoad should trigger before internal setState to avoid `loadData` trigger twice.
// https://github.com/ant-design/ant-design/issues/12464
a&&a(o,{event:"load",node:t}),void 0===e.loadedKeys&&(h.value=o),f.value=r,i()})).catch((function(t){var r=v8(f.value,n);if(f.value=r,// If exceed max retry times, we give up retry
g[n]=(g[n]||0)+1,g[n]>=10){var a=g8(h.value,n);void 0===e.loadedKeys&&(h.value=a),i()}o(t)})),f.value=g8(f.value,n)}));// Not care warning if we ignore this
return i.catch((function(){})),i},de=function(t,n){var i=e.onMouseenter;i&&i({event:t,node:n})},pe=function(t,n){var i=e.onMouseleave;i&&i({event:t,node:n})},he=function(t,n){var i=e.onRightClick;i&&(t.preventDefault(),i({event:t,node:n}))},fe=function(t){var n=e.onFocus;b.value=!0,n&&n(t)},ve=function(t){var n=e.onBlur;b.value=!1,xe(null),n&&n(t)},ge=function(t,n){var i=v.value,o=e.onExpand,r=e.loadData,a=n.expanded,l=n[C.value.key];// Do nothing when motion is in progress
if(!S.value){// Update selected keys
i.indexOf(l);var s=!a;// Async Load data
if(i=s?g8(i,l):v8(i,l),q(i),o&&o(i,{node:n,expanded:s,nativeEvent:t}),s&&r){var u=ce(n);u&&u.then((function(){// [Legacy] Refresh logic
// const newFlattenTreeData = flattenTreeData(
//   treeData.value,
//   newExpandedKeys,
//   fieldNames.value,
// );
// flattenNodes.value = newFlattenTreeData;
})).catch((function(e){var t=v8(v.value,l);q(t),Promise.reject(e)}))}}},ye=function(){S.value=!0},me=function(){setTimeout((function(){S.value=!1}))},xe=function(t){var n=e.onActiveChange;w.value!==t&&(void 0!==e.activeKey&&(w.value=t),null!==t&&X({key:t}),n&&n(t))},be=L((function(){return null===w.value?null:G.value.find((function(e){return e.key===w.value}))||null})),_e=function(e){var t=G.value.findIndex((function(e){return e.key===w.value}));// Align with index
-1===t&&e<0&&(t=G.value.length),t=(t+e+G.value.length)%G.value.length;var n=G.value[t];if(n){var i=n.key;xe(i)}else xe(null)},we=L((function(){return P8(JU(JU({},O8(w.value,O.value)),{},{data:be.value.data,active:!0}))})),Se=function(t){var n=e.onKeydown,i=e.checkable,o=e.selectable;// >>>>>>>>>> Direction
switch(t.which){case k2.UP:_e(-1),t.preventDefault();break;case k2.DOWN:_e(1),t.preventDefault()}// >>>>>>>>>> Expand & Selection
var r=be.value;if(r&&r.data){var a=!1===r.data.isLeaf||!!(r.data.children||[]).length,l=we.value;switch(t.which){// >>> Expand
case k2.LEFT:// Collapse if possible
a&&P.value.has(w.value)?ge({},l):r.parent&&xe(r.parent.key),t.preventDefault();break;case k2.RIGHT:// Expand if possible
a&&!P.value.has(w.value)?ge({},l):r.children&&r.children.length&&xe(r.children[0].key),t.preventDefault();break;// Selection
case k2.ENTER:case k2.SPACE:!i||l.disabled||!1===l.checkable||l.disableCheckbox?i||!o||l.disabled||!1===l.selectable||se({},l):ue({},l,!B.value.has(w.value))}}n&&n(t)};return o({onNodeExpand:ge,scrollTo:X,onKeydown:Se,selectedKeys:L((function(){return u.value})),checkedKeys:L((function(){return d.value})),halfCheckedKeys:L((function(){return p.value})),loadedKeys:L((function(){return h.value})),loadingKeys:L((function(){return f.value})),expandedKeys:L((function(){return v.value}))}),D((function(){window.removeEventListener("dragend",ee),r.value=!0})),E(r8,{expandedKeys:v,selectedKeys:u,loadedKeys:h,loadingKeys:f,checkedKeys:d,halfCheckedKeys:p,expandedKeysSet:P,selectedKeysSet:N,loadedKeysSet:R,loadingKeysSet:z,checkedKeysSet:B,halfCheckedKeysSet:F,flattenNodes:G}),function(){var t,o,r=y.draggingNodeKey,a=y.dropLevelOffset,s=y.dropContainerKey,u=y.dropTargetKey,c=y.dropPosition,d=y.dragOverNodeKey,p=e.prefixCls,h=e.showLine,f=e.focusable,v=e.tabindex,g=void 0===v?0:v,m=e.selectable,S=e.showIcon,C=e.icon,T=void 0===C?i.icon:C,I=e.switcherIcon,k=e.draggable,A=e.checkable,D=e.checkStrictly,O=e.disabled,P=e.motion,L=e.loadData,E=e.filterTreeNode,N=e.height,R=e.itemHeight,z=e.virtual,B=e.dropIndicatorRender,F=e.onContextmenu,V=e.onScroll,j=e.direction,H=n.class,G=n.style,W=H2(JU(JU({},e),n),{aria:!0,data:!0});return k&&(o="object"===XU(k)?k:"function"==typeof k?{nodeDraggable:k}:{}),_(i8,{value:{prefixCls:p,selectable:m,showIcon:S,icon:T,switcherIcon:I,draggable:o,draggingNodeKey:r,checkable:A,customCheckable:i.checkable,checkStrictly:D,disabled:O,keyEntities:x.value,dropLevelOffset:a,dropContainerKey:s,dropTargetKey:u,dropPosition:c,dragOverNodeKey:d,dragging:null!==r,indent:l.value,direction:j,dropIndicatorRender:B,loadData:L,filterTreeNode:E,onNodeClick:ae,onNodeDoubleClick:le,onNodeExpand:ge,onNodeSelect:se,onNodeCheck:ue,onNodeLoad:ce,onNodeMouseEnter:de,onNodeMouseLeave:pe,onNodeContextMenu:he,onNodeDragStart:te,onNodeDragEnter:ne,onNodeDragOver:ie,onNodeDragLeave:oe,onNodeDragEnd:Q,onNodeDrop:re,slots:i}},{default:function(){return[_("div",{role:"tree",class:fY(p,H,(t={},ZU(t,"".concat(p,"-show-line"),h),ZU(t,"".concat(p,"-focused"),b.value),ZU(t,"".concat(p,"-active-focused"),null!==w.value),t))},[_(Tte,JU({ref:M,prefixCls:p,style:G,disabled:O,selectable:m,checkable:!!A,motion:P,height:N,itemHeight:R,virtual:z,focusable:f,focused:b.value,tabindex:g,activeItem:be.value,onFocus:fe,onBlur:ve,onKeydown:Se,onActiveChange:xe,onListChangeStart:ye,onListChangeEnd:me,onContextmenu:F,onScroll:V},W),null)])]}})}}}),kte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function Ate(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Dte(e,t,n[t])}))}return e}function Dte(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ote=function(e,t){var n=Ate({},e,t.attrs);return _(JZ,Ate({},n,{icon:kte}),null)};Ote.displayName="FileOutlined",Ote.inheritAttrs=!1;var Pte=Ote,Lte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};// This icon file is generated automatically.
function Ete(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Nte(e,t,n[t])}))}return e}function Nte(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rte=function(e,t){var n=Ete({},e,t.attrs);return _(JZ,Ete({},n,{icon:Lte}),null)};Rte.displayName="MinusSquareOutlined",Rte.inheritAttrs=!1;var zte=Rte,Bte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};// This icon file is generated automatically.
function Fte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Vte(e,t,n[t])}))}return e}function Vte(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jte=function(e,t){var n=Fte({},e,t.attrs);return _(JZ,Fte({},n,{icon:Bte}),null)};jte.displayName="PlusSquareOutlined",jte.inheritAttrs=!1;var Hte=jte,Gte={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};// This icon file is generated automatically.
function Wte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Kte(e,t,n[t])}))}return e}function Kte(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ute=function(e,t){var n=Wte({},e,t.attrs);return _(JZ,Wte({},n,{icon:Gte}),null)};Ute.displayName="CaretDownFilled",Ute.inheritAttrs=!1;var Yte=Ute;function Xte(e){var t,n=e.dropPosition,i=e.dropLevelOffset,o=e.prefixCls,r=e.indent,a=e.direction,l=void 0===a?"ltr":a,s="ltr"===l?"left":"right",u="ltr"===l?"right":"left",c=(ZU(t={},s,"".concat(-i*r+4,"px")),ZU(t,u,0),t);switch(n){case-1:c.top="".concat(-3,"px");break;case 1:c.bottom="".concat(-3,"px");break;default:// dropPosition === 0
c.bottom="".concat(-3,"px"),c[s]="".concat(r+4,"px")}return _("div",{style:c,class:"".concat(o,"-drop-indicator")},null)}var qte=function(){var e=c8();return JU(JU({},e),{},{showLine:{type:[Boolean,Object],default:void 0},/** 是否支持多选 */multiple:{type:Boolean,default:void 0},/** 是否自动展开父节点 */autoExpandParent:{type:Boolean,default:void 0},/** checkable状态下节点选择完全受控（父子节点选中状态不再关联）*/checkStrictly:{type:Boolean,default:void 0},/** 是否支持选中 */checkable:{type:Boolean,default:void 0},/** 是否禁用树 */disabled:{type:Boolean,default:void 0},/** 默认展开所有树节点 */defaultExpandAll:{type:Boolean,default:void 0},/** 默认展开对应树节点 */defaultExpandParent:{type:Boolean,default:void 0},/** 默认展开指定的树节点 */defaultExpandedKeys:{type:Array},/** （受控）展开指定的树节点 */expandedKeys:{type:Array},/** （受控）选中复选框的树节点 */checkedKeys:{type:[Array,Object]},/** 默认选中复选框的树节点 */defaultCheckedKeys:{type:Array},/** （受控）设置选中的树节点 */selectedKeys:{type:Array},/** 默认选中的树节点 */defaultSelectedKeys:{type:Array},selectable:{type:Boolean,default:void 0},loadedKeys:{type:Array},draggable:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:{type:Function},switcherIcon:Sq.any,prefixCls:String,
/**
           * @default{title,key,children}
           * deprecated, please use `fieldNames` instead
           * 替换treeNode中 title,key,children字段为treeData中对应的字段
           */
replaceFields:{type:Object},blockNode:{type:Boolean,default:void 0},openAnimation:Sq.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Function,"onUpdate:checkedKeys":Function,"onUpdate:expandedKeys":Function})},Zte=a({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:cX(qte(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:["icon","title","switcherIcon","titleRender"],// emits: [
//   'update:selectedKeys',
//   'update:checkedKeys',
//   'update:expandedKeys',
//   'expand',
//   'select',
//   'check',
//   'doubleclick',
//   'dblclick',
// ],
setup:function(e,t){var n=t.attrs,i=t.expose,o=t.emit,r=t.slots;void 0===e.treeData&&r.default;var a=qJ("tree",e),l=a.prefixCls,u=a.direction,c=a.virtual,d=s();i({treeRef:d,onNodeExpand:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];null===(e=d.value)||void 0===e||e.onNodeExpand.apply(e,n)},scrollTo:function(e){var t;null===(t=d.value)||void 0===t||t.scrollTo(e)},selectedKeys:L((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.selectedKeys})),checkedKeys:L((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.checkedKeys})),halfCheckedKeys:L((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.halfCheckedKeys})),loadedKeys:L((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.loadedKeys})),loadingKeys:L((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.loadingKeys})),expandedKeys:L((function(){var e;return null===(e=d.value)||void 0===e?void 0:e.expandedKeys}))}),j((function(){RJ(void 0===e.replaceFields,"Tree","`replaceFields` is deprecated, please use fieldNames instead")}));var p=function(e,t){o("update:checkedKeys",e),o("check",e,t)},h=function(e,t){o("update:expandedKeys",e),o("expand",e,t)},f=function(e,t){o("update:selectedKeys",e),o("select",e,t)};return function(){var t,i=e.showIcon,o=e.showLine,a=e.switcherIcon,s=void 0===a?r.switcherIcon:a,v=e.icon,g=void 0===v?r.icon:v,y=e.blockNode,m=e.checkable,x=e.selectable,b=e.fieldNames,w=void 0===b?e.replaceFields:b,S=e.motion,C=void 0===S?e.openAnimation:S,M=e.itemHeight,T=void 0===M?28:M,I=e.onDoubleclick,k=e.onDblclick,A=JU(JU(JU({},n),ZJ(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{},{showLine:Boolean(o),dropIndicatorRender:Xte,fieldNames:w,icon:g,itemHeight:T}),D=r.default?_X(r.default()):void 0;return _(Ite,JU(JU({},A),{},{virtual:c.value,motion:C,ref:d,prefixCls:l.value,class:fY((t={},ZU(t,"".concat(l.value,"-icon-hide"),!i),ZU(t,"".concat(l.value,"-block-node"),y),ZU(t,"".concat(l.value,"-unselectable"),!x),ZU(t,"".concat(l.value,"-rtl"),"rtl"===u.value),t),n.class),direction:u.value,checkable:m,selectable:x,switcherIcon:function(e){return function(e,t,n,i){var o,r=i.isLeaf,a=i.expanded,l=t;if(i.loading)return _(n$,{class:"".concat(e,"-switcher-loading-icon")},null);n&&"object"===XU(n)&&(o=n.showLeafIcon);var s=null,u="".concat(e,"-switcher-icon");return r?(n&&(s="object"!==XU(n)||o?_(Pte,{class:"".concat(e,"-switcher-line-icon")},null):_("span",{class:"".concat(e,"-switcher-leaf-line")},null)),s):(s=_(Yte,{class:u},null),n&&(s=_(a?zte:Hte,{class:"".concat(e,"-switcher-line-icon")},null)),"function"==typeof t?l=t(JU(JU({},i),{},{defaultIcon:s,switcherCls:u})):wX(l)&&(l=W(l,{class:u})),l||s)}(l.value,s,o,e)},onCheck:p,onExpand:h,onSelect:f,onDblclick:k||I,children:D}),JU(JU({},r),{},{checkable:function(){return _("span",{class:"".concat(l.value,"-checkbox-inner")},null)}}))}}}),$te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function Jte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Qte(e,t,n[t])}))}return e}function Qte(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ene=function(e,t){var n=Jte({},e,t.attrs);return _(JZ,Jte({},n,{icon:$te}),null)};ene.displayName="FolderOpenOutlined",ene.inheritAttrs=!1;var tne=ene,nne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};// This icon file is generated automatically.
function ine(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){one(e,t,n[t])}))}return e}function one(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rne=function(e,t){var n=ine({},e,t.attrs);return _(JZ,ine({},n,{icon:nne}),null)};rne.displayName="FolderOutlined",rne.inheritAttrs=!1;var ane,lne=rne;function sne(e,t,n){e.forEach((function(e){var i=e[t.key],o=e[t.children];!1!==n(i,e)&&sne(o||[],t,n)}))}/** 计算选中范围，只考虑expanded情况以优化性能 */function une(e){var t=e.treeData,n=e.expandedKeys,i=e.startKey,o=e.endKey,r=e.fieldNames,a=void 0===r?{title:"title",key:"key",children:"children"}:r,l=[],s=ane.None;if(i&&i===o)return[i];if(!i||!o)return[];return sne(t,a,(function(e){if(s===ane.End)return!1;if(function(e){return e===i||e===o}(e)){if(// Match test
l.push(e),s===ane.None)s=ane.Start;else if(s===ane.Start)return s=ane.End,!1}else s===ane.Start&&// Append selection
l.push(e);return-1!==n.indexOf(e)})),l}function cne(e,t,n){var i=GY(t),o=[];return sne(e,n,(function(e,t){var n=i.indexOf(e);return-1!==n&&(o.push(t),i.splice(n,1)),!!i.length})),o}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(ane||(ane={}));var dne=["icon","blockNode"];function pne(e){var t=e.isLeaf,n=e.expanded;return _(t?Pte:n?tne:lne,null,null)}var hne=a({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:cX(JU(JU({},qte()),{},{expandAction:{type:[Boolean,String]}}),{showIcon:!0,expandAction:"click"}),slots:["icon","title","switcherIcon","titleRender"],// emits: [
//   'update:selectedKeys',
//   'update:checkedKeys',
//   'update:expandedKeys',
//   'expand',
//   'select',
//   'check',
//   'doubleclick',
//   'dblclick',
//   'click',
// ],
setup:function(e,t){var n,i=t.attrs,o=t.slots,r=t.emit,a=t.expose,l=s(e.treeData||k8(_X(null===(n=o.default)||void 0===n?void 0:n.call(o))));c((function(){return e.treeData}),(function(){l.value=e.treeData})),A((function(){V((function(){var t;void 0===e.treeData&&o.default&&(l.value=k8(_X(null===(t=o.default)||void 0===t?void 0:t.call(o))))}))}));// Shift click usage
var u=s(),d=s(),p=L((function(){return I8(e.fieldNames)})),h=s();a({scrollTo:function(e){var t;null===(t=h.value)||void 0===t||t.scrollTo(e)},selectedKeys:L((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.selectedKeys})),checkedKeys:L((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.checkedKeys})),halfCheckedKeys:L((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.halfCheckedKeys})),loadedKeys:L((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.loadedKeys})),loadingKeys:L((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.loadingKeys})),expandedKeys:L((function(){var e;return null===(e=h.value)||void 0===e?void 0:e.expandedKeys}))});var f,v=s(e.selectedKeys||e.defaultSelectedKeys||[]),g=s((f=D8(l.value,{fieldNames:p.value}).keyEntities,// Expanded keys
e.defaultExpandAll?Object.keys(f):e.defaultExpandParent?C8(e.expandedKeys||e.defaultExpandedKeys||[],f):e.expandedKeys||e.defaultExpandedKeys));c((function(){return e.selectedKeys}),(function(){void 0!==e.selectedKeys&&(v.value=e.selectedKeys)}),{immediate:!0}),c((function(){return e.expandedKeys}),(function(){void 0!==e.expandedKeys&&(g.value=e.expandedKeys)}),{immediate:!0});var y=t8((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||// Call internal rc-tree expand function
// https://github.com/ant-design/ant-design/issues/12567
h.value.onNodeExpand(e,t)}),200,{leading:!0}),m=function(t,n){void 0===e.expandedKeys&&(g.value=t),// Call origin function
r("update:expandedKeys",t),r("expand",t,n)},x=function(t,n){// Expand the tree
"click"===e.expandAction&&y(t,n),r("click",t,n)},b=function(t,n){var i=e.expandAction;// Expand the tree
"dblclick"!==i&&"doubleclick"!==i||y(t,n),r("doubleclick",t,n),r("dblclick",t,n)},w=function(t,n){var i,o=e.multiple,a=n.node,s=n.nativeEvent,c=a[p.value.key],h=JU(JU({},n),{},{selected:!0}),f=(null==s?void 0:s.ctrlKey)||(null==s?void 0:s.metaKey),y=null==s?void 0:s.shiftKey;o&&f?(// Control click
i=t,u.value=c,d.value=i,h.selectedNodes=cne(l.value,i,p.value)):o&&y?(// Shift click
i=Array.from(new Set([].concat(GY(d.value||[]),GY(une({treeData:l.value,expandedKeys:g.value,startKey:c,endKey:u.value,fieldNames:p.value}))))),h.selectedNodes=cne(l.value,i,p.value)):(// Single click
i=[c],u.value=c,d.value=i,h.selectedNodes=cne(l.value,i,p.value)),r("update:selectedKeys",i),r("select",i,h),void 0===e.selectedKeys&&(v.value=i)},S=function(e,t){r("update:checkedKeys",e),r("check",e,t)},C=qJ("tree",e),M=C.prefixCls,T=C.direction;return function(){var t=fY("".concat(M.value,"-directory"),ZU({},"".concat(M.value,"-directory-rtl"),"rtl"===T.value),i.class),n=e.icon,r=void 0===n?o.icon:n,a=e.blockNode,l=void 0===a||a,s=zX(e,dne);return _(Zte,JU(JU(JU({},i),{},{icon:r||pne,ref:h,blockNode:l},s),{},{prefixCls:M.value,class:t,expandedKeys:g.value,selectedKeys:v.value,onSelect:w,onClick:x,onDblclick:b,onExpand:m,onCheck:S}),o)}}}),fne=a(JU(JU({},f8),{},{name:"ATreeNode",props:s8})),vne=QU(Zte,{DirectoryTree:hne,TreeNode:fne,install:function(e){return e.component(Zte.name,Zte),e.component(fne.name,fne),e.component(hne.name,hne),e}}),gne=D6.SubMenu,yne=D6.Item;/* istanbul ignore next */function mne(e,t){return("string"==typeof t||"number"==typeof t)&&(null==t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function xne(e){var t=e.filters,n=e.prefixCls,i=e.filteredKeys,o=e.filterMultiple,r=e.searchValue,a=e.filterSearch;return t.map((function(e,t){var l=String(e.value);if(e.children)return _(gne,{key:l||t,title:e.text,popupClassName:"".concat(n,"-dropdown-submenu")},{default:function(){return[xne({filters:e.children,prefixCls:n,filteredKeys:i,filterMultiple:o,searchValue:r,filterSearch:a})]}});var s=o?K8:U6,u=_(yne,{key:void 0!==e.value?l:t},{default:function(){return[_(s,{checked:i.includes(l)},null),_("span",null,[e.text])]}});return r.trim()?"function"==typeof a?a(r,e)?u:void 0:mne(r,e.text)?u:void 0:u}))}var bne=a({name:"FilterDropdown",props:["tablePrefixCls","prefixCls","dropdownPrefixCls","column","filterState","filterMultiple","filterMode","filterSearch","columnKey","triggerFilter","locale","getPopupContainer"],setup:function(e,t){var n=t.slots,i=P9(),o=L((function(){var t;return null!==(t=e.filterMode)&&void 0!==t?t:"menu"})),r=L((function(){var t;return null!==(t=e.filterSearch)&&void 0!==t&&t})),a=L((function(){return e.column.filterDropdownVisible})),l=s(!1),u=L((function(){var t;return!(!e.filterState||!(null!==(t=e.filterState.filteredKeys)&&void 0!==t&&t.length||e.filterState.forceFiltered))})),d=L((function(){var t;return Sne(null===(t=e.column)||void 0===t?void 0:t.filters)})),p=L((function(){var t=e.column,n=t.filterDropdown,o=t.slots,r=void 0===o?{}:o,a=t.customFilterDropdown;return n||r.filterDropdown&&i.value[r.filterDropdown]||a&&i.value.customFilterDropdown})),h=L((function(){var t=e.column,n=t.filterIcon,o=t.slots,r=void 0===o?{}:o;return n||r.filterIcon&&i.value[r.filterIcon]||i.value.customFilterIcon})),f=function(t){var n,i;l.value=t,null===(n=(i=e.column).onFilterDropdownVisibleChange)||void 0===n||n.call(i,t)},v=L((function(){return"boolean"==typeof a.value?a.value:l.value})),g=L((function(){var t;return null===(t=e.filterState)||void 0===t?void 0:t.filteredKeys})),y=$([]),x=function(e){var t=e.selectedKeys;y.value=t},b=function(t,n){var i=n.node,o=n.checked;e.filterMultiple?x({selectedKeys:t}):x({selectedKeys:o&&i.key?[i.key]:[]})};c(g,(function(){l.value&&x({selectedKeys:g.value||[]})}),{immediate:!0});// const expandKeys = shallowRef(filterFlattenKeys.value.slice());
// const onExpandChange = keys => (expandKeys.value = keys);
var w=$([]),S=s(),C=function(e){S.value=setTimeout((function(){w.value=e}))},M=function(){clearTimeout(S.value)};G((function(){clearTimeout(S.value)}));var T=s(""),I=function(e){var t=e.target.value;T.value=t};// clear search value after close filter dropdown
c(l,(function(){l.value||(T.value="")}));// ======================= Submit ========================
var k=function(t){var n=e.column,i=e.columnKey,o=e.filterState,r=t&&t.length?t:null;return null!==r||o&&o.filteredKeys?l2(r,null==o?void 0:o.filteredKeys)?null:void e.triggerFilter({column:n,key:i,filteredKeys:r}):null},A=function(){f(!1),k(y.value)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1},t=e.confirm,n=e.closeDropdown;t&&k([]),n&&f(!1),T.value="",y.value=[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0},t=e.closeDropdown;t&&f(!1),k(y.value)},P=function(e){e&&void 0!==g.value&&(// Sync filteredKeys on appear in controlled mode (propFilteredKeys.value !== undefiend)
y.value=g.value||[]),f(e),// Default will filter when closed
e||p.value||A()},E=qJ("",e).direction,N=function(e){if(e.target.checked){var t=d.value;y.value=t}else y.value=[]},R=function e(t){return(t.filters||[]).map((function(t,n){var i=String(t.value),o={title:t.text,key:void 0!==t.value?i:n};return t.children&&(o.children=e({filters:t.children})),o}))},z=L((function(){return R({filters:e.column.filters})})),B=L((function(){return fY(ZU({},"".concat(e.dropdownPrefixCls,"-menu-without-submenu"),!(e.column.filters||[]).some((function(e){var t=e.children;return t&&t.length>0}))))})),F=function(){var t=y.value,n=e.column,i=e.locale,a=e.tablePrefixCls,l=e.filterMultiple,s=e.dropdownPrefixCls,u=e.getPopupContainer,c=e.prefixCls;return 0===(n.filters||[]).length?_(kq,{image:kq.PRESENTED_IMAGE_SIMPLE,description:i.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}},null):"tree"===o.value?_(m,null,[_(pte,{filterSearch:r.value,value:T.value,onChange:I,tablePrefixCls:a,locale:i},null),_("div",{class:"".concat(a,"-filter-dropdown-tree")},[l?_(K8,{class:"".concat(a,"-filter-dropdown-checkall"),onChange:N,checked:t.length===d.value.length,indeterminate:t.length>0&&t.length<d.value.length},{default:function(){return[i.filterCheckall]}}):null,_(vne,{checkable:!0,selectable:!1,blockNode:!0,multiple:l,checkStrictly:!l,class:"".concat(s,"-menu"),onCheck:b,checkedKeys:t,selectedKeys:t,showIcon:!1,treeData:z.value,autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:T.value.trim()?function(e){return mne(T.value,e.title)}:void 0},null)])]):_(m,null,[_(pte,{filterSearch:r.value,value:T.value,onChange:I,tablePrefixCls:a,locale:i},null),_(D6,{multiple:l,prefixCls:"".concat(s,"-menu"),class:B.value,onClick:M,onSelect:x,onDeselect:x,selectedKeys:t,getPopupContainer:u,openKeys:w.value,onOpenChange:C},{default:function(){return xne({filters:n.filters||[],filterSearch:r.value,prefixCls:c,filteredKeys:y.value,filterMultiple:l,searchValue:T.value})}})])};return function(){var t,i,o=e.tablePrefixCls,r=e.prefixCls,a=e.column,l=e.dropdownPrefixCls,s=e.locale,c=e.getPopupContainer;if("function"==typeof p.value)i=p.value({prefixCls:"".concat(l,"-custom"),setSelectedKeys:function(e){return x({selectedKeys:e})},selectedKeys:y.value,confirm:O,clearFilters:D,filters:a.filters,visible:v.value,column:a.__originColumn__});else if(p.value)i=p.value;else{var d=y.value;i=_(m,null,[F(),_("div",{class:"".concat(r,"-dropdown-btns")},[_(C4,{type:"link",size:"small",disabled:0===d.length,onClick:function(){return D()}},{default:function(){return[s.filterReset]}}),_(C4,{type:"primary",size:"small",onClick:A},{default:function(){return[s.filterConfirm]}})])])}var f,g=_(dte,{class:"".concat(r,"-dropdown")},{default:function(){return[i]}});return f="function"==typeof h.value?h.value({filtered:u.value,column:a.__originColumn__}):h.value?h.value:_(cte,null,null),_("div",{class:"".concat(r,"-column")},[_("span",{class:"".concat(o,"-column-title")},[null===(t=n.default)||void 0===t?void 0:t.call(n)]),_(H4,{overlay:g,trigger:["click"],visible:v.value,onVisibleChange:P,getPopupContainer:c,placement:"rtl"===E.value?"bottomLeft":"bottomRight"},{default:function(){return[_("span",{role:"button",tabindex:-1,class:fY("".concat(r,"-trigger"),{active:u.value}),onClick:function(e){e.stopPropagation()}},[f])]}})])}}});function _ne(e,t,n){var i=[];return(e||[]).forEach((function(e,o){var r,a=Yee(o,n),l=e.filterDropdown||(null==e||null===(r=e.slots)||void 0===r?void 0:r.filterDropdown)||e.customFilterDropdown;if(e.filters||l||"onFilter"in e)if("filteredValue"in e){// Controlled
var s,u,c=e.filteredValue;if(!l)c=null!==(s=null===(u=c)||void 0===u?void 0:u.map(String))&&void 0!==s?s:c;i.push({column:e,key:Uee(e,a),filteredKeys:c,forceFiltered:e.filtered})}else// Uncontrolled
i.push({column:e,key:Uee(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(i=[].concat(GY(i),GY(_ne(e.children,t,a))))})),i}function wne(e,t,n,i,o,r,a,l){return n.map((function(n,s){var u,c=Yee(s,l),d=n.filterMultiple,p=void 0===d||d,h=n.filterMode,f=n.filterSearch,v=n,g=n.filterDropdown||(null==n||null===(u=n.slots)||void 0===u?void 0:u.filterDropdown)||n.customFilterDropdown;if(v.filters||g){var y=Uee(v,c),m=i.find((function(e){var t=e.key;return y===t}));v=JU(JU({},v),{},{title:function(i){return _(bne,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:v,columnKey:y,filterState:m,filterMultiple:p,filterMode:h,filterSearch:f,triggerFilter:o,locale:a,getPopupContainer:r},{default:function(){return[Xee(n.title,i)]}})}})}return"children"in v&&(v=JU(JU({},v),{},{children:wne(e,t,v.children,i,o,r,a,c)})),v}))}function Sne(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,i=e.children;t.push(n),i&&(t=[].concat(GY(t),GY(Sne(i))))})),t}function Cne(e){var t={};return e.forEach((function(e){var n,i=e.key,o=e.filteredKeys,r=e.column,a=r.filterDropdown||(null==r||null===(n=r.slots)||void 0===n?void 0:n.filterDropdown)||r.customFilterDropdown,l=r.filters;if(a)t[i]=o||null;else if(Array.isArray(o)){var s=Sne(l);t[i]=s.filter((function(e){return o.includes(String(e))}))}else t[i]=null})),t}function Mne(e,t){return t.reduce((function(e,t){var n=t.column,i=n.onFilter,o=n.filters,r=t.filteredKeys;return i&&r&&r.length?e.filter((function(e){return r.some((function(t){var n=Sne(o),r=n.findIndex((function(e){return String(e)===String(t)})),a=-1!==r?n[r]:t;return i(a,e)}))})):e}),e)}function Tne(e){var t=e.prefixCls,n=e.dropdownPrefixCls,i=e.mergedColumns,o=e.locale,r=e.onFilterChange,a=e.getPopupContainer,l=jY($5(_ne(i.value,!0)),2),s=l[0],u=l[1],c=L((function(){var e=_ne(i.value,!1),t=e.every((function(e){return void 0===e.filteredKeys}));// Return if not controlled
if(t)return s.value;var n=e.every((function(e){return void 0!==e.filteredKeys}));return RJ(t||n,"Table","`FilteredKeys` should all be controlled or not controlled."),e})),d=L((function(){return Cne(c.value)})),p=function(e){var t=c.value.filter((function(t){return t.key!==e.key}));t.push(e),u(t),r(Cne(t),t)};return[function(e){return wne(t.value,n.value,e,c.value,p,a.value,o.value)},c,d]}function Ine(e,t){return e.map((function(e){var n=JU({},e);return n.title=Xee(n.title,t),"children"in n&&(n.children=Ine(n.children,t)),n}))}function kne(e){return[function(t){return Ine(t,e.value)}]}function Ane(e,t){var n=t.value;return e.map((function(e){var i;if(e===kee||e===tee)return e;var o=JU({},e),r=o.slots,a=void 0===r?{}:r;return o.__originColumn__=e,RJ(!("slots"in o),"Table","`column.slots` is deprecated. Please use `v-slot:headerCell` `v-slot:bodyCell` instead."),Object.keys(a).forEach((function(e){var t=a[e];void 0===o[e]&&n[t]&&(o[e]=n[t])})),!t.value.headerCell||null!==(i=e.slots)&&void 0!==i&&i.title||(o.title=ee(t.value,"headerCell",{title:e.title,column:e},(function(){return[e.title]}))),"children"in o&&(o.children=Ane(o.children,t)),o}))}function Dne(e){return[function(t){return Ane(t,e)}]}var One=[],Pne=a({name:"InteralTable",inheritAttrs:!1,props:cX({prefixCls:{type:String,default:void 0},columns:{type:Array,default:void 0},rowKey:{type:[String,Function],default:void 0},tableLayout:{type:String,default:void 0},rowClassName:{type:[String,Function],default:void 0},title:{type:Function,default:void 0},footer:{type:Function,default:void 0},id:{type:String,default:void 0},showHeader:{type:Boolean,default:void 0},components:{type:Object,default:void 0},customRow:{type:Function,default:void 0},customHeaderRow:{type:Function,default:void 0},direction:{type:String,default:void 0},expandFixed:{type:[Boolean,String],default:void 0},expandColumnWidth:{type:Number,default:void 0},expandedRowKeys:{type:Array,default:void 0},defaultExpandedRowKeys:{type:Array,default:void 0},expandedRowRender:{type:Function,default:void 0},expandRowByClick:{type:Boolean,default:void 0},expandIcon:{type:Function,default:void 0},onExpand:{type:Function,default:void 0},onExpandedRowsChange:{type:Function,default:void 0},"onUpdate:expandedRowKeys":{type:Function,default:void 0},defaultExpandAllRows:{type:Boolean,default:void 0},indentSize:{type:Number,default:void 0},/** @deprecated Please use `EXPAND_COLUMN` in `columns` directly */expandIconColumnIndex:{type:Number,default:void 0},showExpandColumn:{type:Boolean,default:void 0},expandedRowClassName:{type:Function,default:void 0},childrenColumnName:{type:String,default:void 0},rowExpandable:{type:Function,default:void 0},sticky:{type:[Boolean,Object],default:void 0},dropdownPrefixCls:String,dataSource:{type:Array,default:void 0},pagination:{type:[Boolean,Object],default:void 0},loading:{type:[Boolean,Object],default:void 0},size:{type:String,default:void 0},bordered:Boolean,locale:{type:Object,default:void 0},onChange:{type:Function,default:void 0},onResizeColumn:{type:Function,default:void 0},rowSelection:{type:Object,default:void 0},getPopupContainer:{type:Function,default:void 0},scroll:{type:Object,default:void 0},sortDirections:{type:Array,default:void 0},showSorterTooltip:{type:[Boolean,Object],default:!0},contextSlots:{type:Object},transformCellText:{type:Function}},{rowKey:"key"}),// emits: ['expandedRowsChange', 'change', 'expand'],
slots:["emptyText","expandIcon","title","footer","summary","expandedRowRender","bodyCell","headerCell","customFilterIcon","customFilterDropdown"],setup:function(e,t){var n=t.attrs,i=t.slots,o=t.expose,r=t.emit;RJ(!("function"==typeof e.rowKey&&e.rowKey.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected."),function(e){E(O9,e)}(L((function(){return e.contextSlots}))),function(e){E(L9,e)}({onResizeColumn:function(e,t){r("resizeColumn",e,t)}});var a,l,u,d,p=N3(),h=L((function(){var t=new Set(Object.keys(p.value).filter((function(e){return p.value[e]})));return e.columns.filter((function(e){return!e.responsive||e.responsive.some((function(e){return t.has(e)}))}))})),f=qJ("table",e),v=f.size,g=f.renderEmpty,y=f.direction,m=f.prefixCls,x=f.configProvider,b=L((function(){return e.transformCellText||x.transformCellText})),w=jY(WX("Table",HX.Table,K(e,"locale")),1)[0],S=L((function(){return e.dataSource||One})),C=L((function(){return x.getPrefixCls("dropdown",e.dropdownPrefixCls)})),M=L((function(){return e.childrenColumnName||"children"})),T=L((function(){return S.value.some((function(e){return null==e?void 0:e[M.value]}))?"nest":e.expandedRowRender?"row":null})),I=k({body:null}),A=function(e){QU(I,e)},D=L((function(){return"function"==typeof e.rowKey?e.rowKey:function(t){return null==t?void 0:t[e.rowKey]}})),O=(a=S,l=M,u=D,d=$({}),c([a,l,u],(function(){var e=new Map,t=u.value,n=l.value;/* eslint-enable */!/* eslint-disable no-inner-declarations */function i(o){o.forEach((function(o,r){var a=t(o,r);e.set(a,o),o&&"object"===XU(o)&&n in o&&i(o[n]||[])}))}(a.value),d.value={kvMap:e}}),{deep:!0,immediate:!0}),[function(e){return d.value.kvMap.get(e)}]),P=jY(O,1)[0],N={},R=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.pagination,r=e.scroll,a=e.onChange,l=JU(JU({},N),t);i&&(N.resetPagination(),// Reset event param
l.pagination.current&&(l.pagination.current=1),// Trigger pagination events
o&&o.onChange&&o.onChange(1,l.pagination.pageSize)),r&&!1!==r.scrollToFirstRowOnChange&&I.body&&eQ(0,{getContainer:function(){return I.body}}),null==a||a(l.pagination,l.filters,l.sorter,{currentDataSource:Mne(ote(S.value,l.sorterStates,M.value),l.filterStates),action:n})},z=jY(rte({prefixCls:m,mergedColumns:h,onSorterChange:function(e,t){R({sorter:e,sorterStates:t},"sort",!1)},sortDirections:L((function(){return e.sortDirections||["ascend","descend"]})),tableLocale:w,showSorterTooltip:K(e,"showSorterTooltip")}),4),B=z[0],F=z[1],H=z[2],G=z[3],W=L((function(){return ote(S.value,F.value,M.value)})),U=Tne({prefixCls:m,locale:w,dropdownPrefixCls:C,mergedColumns:h,onFilterChange:function(e,t){R({filters:e,filterStates:t},"filter",!0)},getPopupContainer:K(e,"getPopupContainer")}),Y=jY(U,3),X=Y[0],q=Y[1],Z=Y[2],J=L((function(){return Mne(W.value,q.value)})),Q=jY(Dne(K(e,"contextSlots")),1)[0],ee=jY(kne(L((function(){return JU({},H.value)}))),1)[0],te=jY(Iee(L((function(){return J.value.length})),K(e,"pagination"),(function(e,t){R({pagination:JU(JU({},N.pagination),{},{current:e,pageSize:t})},"paginate")})),2),ne=te[0],ie=te[1];j((function(){N.sorter=G.value,N.sorterStates=F.value,N.filters=Z.value,N.filterStates=q.value,N.pagination=!1===e.pagination?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},i=e&&"object"===XU(e)?e:{};return Object.keys(i).forEach((function(e){var i=t[e];"function"!=typeof i&&(n[e]=i)})),n}(e.pagination,ne.value),N.resetPagination=ie}));// ============================= Data =============================
var oe=L((function(){if(!1===e.pagination||!ne.value.pageSize)return J.value;var t=ne.value,n=t.current,i=void 0===n?1:n,o=t.total,r=t.pageSize,a=void 0===r?10:r;// Dynamic table data
return RJ(i>0,"Table","`current` should be positive number."),J.value.length<o?J.value.length>a?J.value.slice((i-1)*a,i*a):J.value:J.value.slice((i-1)*a,i*a)}));j((function(){V((function(){var e=ne.value,t=e.total,n=e.pageSize,i=void 0===n?10:n;// Dynamic table data
J.value.length<t&&J.value.length>i&&RJ(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode.")}))}),{flush:"post"});var re=L((function(){return!1===e.showExpandColumn?-1:// Adjust expand icon index, no overwrite expandIconColumnIndex if set.
"nest"===T.value&&void 0===e.expandIconColumnIndex?e.rowSelection?1:0:e.expandIconColumnIndex>0&&e.rowSelection?e.expandIconColumnIndex-1:e.expandIconColumnIndex})),ae=s();c((function(){return e.rowSelection}),(function(){ae.value=e.rowSelection?JU({},e.rowSelection):e.rowSelection}),{deep:!0,immediate:!0});// ========================== Selections ==========================
var le=jY(Eee(ae,{prefixCls:m,data:J,pageData:oe,getRowKey:D,getRecordByKey:P,expandType:T,childrenColumnName:M,locale:w,getPopupContainer:L((function(){return e.getPopupContainer}))}),2),se=le[0],ue=le[1],ce=function(t,n,i){var o,r=e.rowClassName;return o=fY("function"==typeof r?r(t,n,i):r),fY(ZU({},"".concat(m.value,"-row-selected"),ue.value.has(D.value(t,n))),o)};o({selectedKeySet:ue});var de=L((function(){// Indent size
return"number"==typeof e.indentSize?e.indentSize:15})),pe=function(e){return ee(se(X(B(Q(e)))))};return function(){var t,o,r,a,l,s=e.expandIcon,u=void 0===s?i.expandIcon||function(e){return function(t){var n,i=t.prefixCls,o=t.onExpand,r=t.record,a=t.expanded,l=t.expandable,s="".concat(i,"-row-expand-icon");return _("button",{type:"button",onClick:function(e){o(r,e),e.stopPropagation()},class:fY(s,(n={},ZU(n,"".concat(s,"-spaced"),!l),ZU(n,"".concat(s,"-expanded"),l&&a),ZU(n,"".concat(s,"-collapsed"),l&&!a),n)),"aria-label":a?e.collapse:e.expand},null)}}(w.value):s,c=e.pagination,d=e.loading,p=e.bordered;if(!1!==c&&null!==(t=ne.value)&&void 0!==t&&t.total){var f;f=ne.value.size?ne.value.size:"small"===v.value||"middle"===v.value?"small":void 0;var x=function(e){return _(C9,JU(JU({},ne.value),{},{class:["".concat(m.value,"-pagination ").concat(m.value,"-pagination-").concat(e),ne.value.class],size:f}),null)},C="rtl"===y.value?"left":"right",M=ne.value.position;if(null!==M&&Array.isArray(M)){var T=M.find((function(e){return-1!==e.indexOf("top")})),k=M.find((function(e){return-1!==e.indexOf("bottom")})),O=M.every((function(e){return"none"==="".concat(e)}));T||k||O||(a=x(C)),T&&(r=x(T.toLowerCase().replace("top",""))),k&&(a=x(k.toLowerCase().replace("bottom","")))}else a=x(C)}// >>>>>>>>> Spinning
"boolean"==typeof d?l={spinning:d}:"object"===XU(d)&&(l=JU({spinning:!0},d));var P=fY("".concat(m.value,"-wrapper"),ZU({},"".concat(m.value,"-wrapper-rtl"),"rtl"===y.value),n.class),L=ZJ(e,["columns"]);return _("div",{class:P,style:n.style},[_(n9,JU({spinning:!1},l),{default:function(){return[r,_(Tee,JU(JU(JU({},n),L),{},{expandedRowKeys:e.expandedRowKeys,defaultExpandedRowKeys:e.defaultExpandedRowKeys,expandIconColumnIndex:re.value,indentSize:de.value,expandIcon:u,columns:h.value,direction:y.value,prefixCls:m.value,class:fY((o={},ZU(o,"".concat(m.value,"-middle"),"middle"===v.value),ZU(o,"".concat(m.value,"-small"),"small"===v.value),ZU(o,"".concat(m.value,"-bordered"),p),ZU(o,"".concat(m.value,"-empty"),0===S.value.length),o)),data:oe.value,rowKey:D.value,rowClassName:ce,internalHooks:Mee,internalRefs:I,onUpdateInternalRefs:A,transformColumns:pe,transformCellText:b.value}),JU(JU({},i),{},{emptyText:function(){var t,n;return(null===(t=i.emptyText)||void 0===t?void 0:t.call(i))||(null===(n=e.locale)||void 0===n?void 0:n.emptyText)||g.value("Table")}})),a]}})])}}}),Lne=a({name:"ATable",inheritAttrs:!1,setup:function(e,t){var n=t.attrs,i=t.slots,o=t.expose,r=s();return o({table:r}),function(){var e,t=n.columns||qee(null===(e=i.default)||void 0===e?void 0:e.call(i));return _(Pne,JU(JU({ref:r},n),{},{columns:t||[],expandedRowRender:i.expandedRowRender,contextSlots:JU({},i)}),i)}}}),Ene=a({name:"ATableColumn",slots:["title","filterIcon"],render:function(){return null}}),Nne=a({name:"ATableColumnGroup",slots:["title"],__ANT_TABLE_COLUMN_GROUP:!0,render:function(){return null}}),Rne=a(JU(JU({},pee),{},{name:"ATableSummaryRow"})),zne=a(JU(JU({},fee),{},{name:"ATableSummaryCell"})),Bne=QU(gee,{Cell:zne,Row:Rne,name:"ATableSummary"}),Fne=QU(Lne,{SELECTION_ALL:Aee,SELECTION_INVERT:Dee,SELECTION_NONE:Oee,SELECTION_COLUMN:kee,EXPAND_COLUMN:tee,Column:Ene,ColumnGroup:Nne,Summary:Bne,install:function(e){return e.component(Bne.name,Bne),e.component(zne.name,zne),e.component(Rne.name,Rne),e.component(Lne.name,Lne),e.component(Ene.name,Ene),e.component(Nne.name,Nne),e}});function Vne(e,t){return function(){return e.apply(t,arguments)}}// utils is a library of generic helper functions non-specific to axios
var jne,Hne=Object.prototype.toString,Gne=Object.getPrototypeOf,Wne=(jne=Object.create(null),function(e){var t=Hne.call(e);return jne[t]||(jne[t]=t.slice(8,-1).toLowerCase())}),Kne=function(e){return e=e.toLowerCase(),function(t){return Wne(t)===e}},Une=function(e){return function(t){return u(t)===e}},Yne=Array.isArray,Xne=Une("undefined");
/**
       * Determine if a value is an ArrayBuffer
       *
       * @param {*} val The value to test
       *
       * @returns {boolean} True if value is an ArrayBuffer, otherwise false
       */
var qne=Kne("ArrayBuffer");
/**
       * Determine if a value is a view on an ArrayBuffer
       *
       * @param {*} val The value to test
       *
       * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false
       */
/**
       * Determine if a value is a String
       *
       * @param {*} val The value to test
       *
       * @returns {boolean} True if value is a String, otherwise false
       */
var Zne=Une("string"),$ne=Une("function"),Jne=Une("number"),Qne=function(e){return null!==e&&"object"===u(e)},eie=function(e){if("object"!==Wne(e))return!1;var t=Gne(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},tie=Kne("Date"),nie=Kne("File"),iie=Kne("Blob"),oie=Kne("FileList"),rie=Kne("URLSearchParams");
/**
       * Determine if a value is a Function
       *
       * @param {*} val The value to test
       * @returns {boolean} True if value is a Function, otherwise false
       */
/**
       * Iterate over an Array or an Object invoking a function for each item.
       *
       * If `obj` is an Array callback will be called passing
       * the value, index, and complete array for each item.
       *
       * If 'obj' is an Object callback will be called passing
       * the value, key, and complete object for each property.
       *
       * @param {Object|Array} obj The object to iterate
       * @param {Function} fn The callback to invoke for each item
       *
       * @param {Boolean} [allOwnKeys = false]
       * @returns {any}
       */
function aie(e,t){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.allOwnKeys,a=void 0!==r&&r;// Don't bother if no value provided
if(null!=e)if(// Force an array if not already something iterable
"object"!==u(e)&&(/*eslint no-param-reassign:0*/e=[e]),Yne(e))// Iterate over array values
for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{// Iterate over object keys
var l,s=a?Object.getOwnPropertyNames(e):Object.keys(e),c=s.length;for(n=0;n<c;n++)l=s[n],t.call(null,e[l],l,e)}}function lie(e,t){t=t.toLowerCase();for(var n,i=Object.keys(e),o=i.length;o-- >0;)if(t===(n=i[o]).toLowerCase())return n;return null}var sie=/*eslint no-undef:0*/"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,uie=function(e){return!Xne(e)&&e!==sie};
/**
       * Extends object a by mutably adding to it the properties of object b.
       *
       * @param {Object} a The object to be extended
       * @param {Object} b The object to copy properties from
       * @param {Object} thisArg The object to bind function to
       *
       * @param {Boolean} [allOwnKeys]
       * @returns {Object} The resulting value of object a
       */
var cie,die=(cie="undefined"!=typeof Uint8Array&&Gne(Uint8Array),function(e){return cie&&e instanceof cie}),pie=Kne("HTMLFormElement"),hie=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),fie=Kne("RegExp"),vie=function(e,t){var n=Object.getOwnPropertyDescriptors(e),i={};aie(n,(function(n,o){!1!==t(n,o,e)&&(i[o]=n)})),Object.defineProperties(e,i)},gie={isArray:Yne,isArrayBuffer:qne,isBuffer:
/**
       * Determine if a value is a Buffer
       *
       * @param {*} val The value to test
       *
       * @returns {boolean} True if value is a Buffer, otherwise false
       */
function(e){return null!==e&&!Xne(e)&&null!==e.constructor&&!Xne(e.constructor)&&$ne(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||Hne.call(e)===t||$ne(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&qne(e.buffer)},isString:Zne,isNumber:Jne,isBoolean:function(e){return!0===e||!1===e},isObject:Qne,isPlainObject:eie,isUndefined:Xne,isDate:tie,isFile:nie,isBlob:iie,isRegExp:fie,isFunction:$ne,isStream:function(e){return Qne(e)&&$ne(e.pipe)},isURLSearchParams:rie,isTypedArray:die,isFileList:oie,forEach:aie,merge:
/**
       * Accepts varargs expecting each argument to be an object, then
       * immutably merges the properties of each object and returns result.
       *
       * When multiple objects contain the same key the later object in
       * the arguments list will take precedence.
       *
       * Example:
       *
       * ```js
       * var result = merge({foo: 123}, {foo: 456});
       * console.log(result.foo); // outputs 456
       * ```
       *
       * @param {Object} obj1 Object to merge
       *
       * @returns {Object} Result of all merge properties
       */
function e(){for(var t=uie(this)&&this||{},n=t.caseless,i={},o=function(t,o){var r=n&&lie(i,o)||o;eie(i[r])&&eie(t)?i[r]=e(i[r],t):eie(t)?i[r]=e({},t):Yne(t)?i[r]=t.slice():i[r]=t},r=0,a=arguments.length;r<a;r++)arguments[r]&&aie(arguments[r],o);return i},extend:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.allOwnKeys;return aie(t,(function(t,i){n&&$ne(t)?e[i]=Vne(t,n):e[i]=t}),{allOwnKeys:o}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,i){var o,r,a,l={};// eslint-disable-next-line no-eq-null,eqeqeq
if(t=t||{},null==e)return t;do{for(r=(o=Object.getOwnPropertyNames(e)).length;r-- >0;)a=o[r],i&&!i(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==n&&Gne(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Wne,kindOfTest:Kne,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;if(Yne(e))return e;var t=e.length;if(!Jne(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,i=(e&&e[Symbol.iterator]).call(e);(n=i.next())&&!n.done;){var o=n.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:pie,hasOwnProperty:hie,hasOwnProp:hie,// an alias to avoid ESLint no-prototype-builtins detection
reduceDescriptors:vie,freezeMethods:function(e){vie(e,(function(t,n){// skip restricted props in strict mode
if($ne(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=e[n];$ne(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},i=function(e){e.forEach((function(e){n[e]=!0}))};return Yne(e)?i(e):i(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:lie,global:sie,isContextDefined:uie,toJSONObject:function(e){var t=new Array(10);return function e(n,i){if(Qne(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;var o=Yne(n)?[]:{};return aie(n,(function(t,n){var r=e(t,i+1);!Xne(r)&&(o[n]=r)})),t[i]=void 0,o}}return n}(e,0)}};
/**
       * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)
       *
       * @param {string} content with BOM
       *
       * @returns {string} content value without BOM
       */
/**
       * Create an Error with the specified message, config, error code, request and response.
       *
       * @param {string} message The error message.
       * @param {string} [code] The error code (for example, 'ECONNABORTED').
       * @param {Object} [config] The config.
       * @param {Object} [request] The request.
       * @param {Object} [response] The response.
       *
       * @returns {Error} The created error.
       */
function yie(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}gie.inherits(yie,Error,{toJSON:function(){return{// Standard
message:this.message,name:this.name,// Microsoft
description:this.description,number:this.number,// Mozilla
fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,// Axios
config:gie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var mie=yie.prototype,xie={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){xie[e]={value:e}})),Object.defineProperties(yie,xie),Object.defineProperty(mie,"isAxiosError",{value:!0}),// eslint-disable-next-line func-names
yie.from=function(e,t,n,i,o,r){var a=Object.create(mie);return gie.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),yie.call(a,e.message,t,n,i,o),a.cause=e,a.name=e.name,r&&Object.assign(a,r),a};/* eslint-env browser */var bie="object"==("undefined"==typeof self?"undefined":u(self))?self.FormData:window.FormData;
/**
       * Determines if the given thing is a array or js object.
       *
       * @param {string} thing - The object or array to be visited.
       *
       * @returns {boolean}
       */
function _ie(e){return gie.isPlainObject(e)||gie.isArray(e)}
/**
       * It removes the brackets from the end of a string
       *
       * @param {string} key - The key of the parameter.
       *
       * @returns {string} the key without the brackets.
       */function wie(e){return gie.endsWith(e,"[]")?e.slice(0,-2):e}
/**
       * It takes a path, a key, and a boolean, and returns a string
       *
       * @param {string} path - The path to the current key.
       * @param {string} key - The key of the current object being iterated over.
       * @param {string} dots - If true, the key will be rendered with dots instead of brackets.
       *
       * @returns {string} The path to the current key.
       */function Sie(e,t,n){return e?e.concat(t).map((function(e,t){// eslint-disable-next-line no-param-reassign
return e=wie(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}
/**
       * If the array is an array and none of its elements are visitable, then it's a flat array.
       *
       * @param {Array<any>} arr - The array to check
       *
       * @returns {boolean}
       */var Cie=gie.toFlatObject(gie,{},null,(function(e){return/^is[A-Z]/.test(e)}));
/**
       * If the thing is a FormData object, return true, otherwise return false.
       *
       * @param {unknown} thing - The thing to check.
       *
       * @returns {boolean}
       */
/**
       * Convert a data object to FormData
       *
       * @param {Object} obj
       * @param {?Object} [formData]
       * @param {?Object} [options]
       * @param {Function} [options.visitor]
       * @param {Boolean} [options.metaTokens = true]
       * @param {Boolean} [options.dots = false]
       * @param {?Boolean} [options.indexes = false]
       *
       * @returns {Object}
       **/
/**
       * It converts an object into a FormData object
       *
       * @param {Object<any, any>} obj - The object to convert to form data.
       * @param {string} formData - The FormData object to append to.
       * @param {Object<string, any>} options
       *
       * @returns
       */
function Mie(e,t,n){if(!gie.isObject(e))throw new TypeError("target must be an object");// eslint-disable-next-line no-param-reassign
t=t||new(bie||FormData);var i,o=(// eslint-disable-next-line no-param-reassign
n=gie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){// eslint-disable-next-line no-eq-null,eqeqeq
return!gie.isUndefined(t[e])}))).metaTokens,r=n.visitor||d,a=n.dots,l=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&((i=t)&&gie.isFunction(i.append)&&"FormData"===i[Symbol.toStringTag]&&i[Symbol.iterator]);// eslint-disable-next-line no-use-before-define
if(!gie.isFunction(r))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(gie.isDate(e))return e.toISOString();if(!s&&gie.isBlob(e))throw new yie("Blob is not supported. Use a Buffer instead.");return gie.isArrayBuffer(e)||gie.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}
/**
         * Default visitor.
         *
         * @param {*} value
         * @param {String|Number} key
         * @param {Array<String|Number>} path
         * @this {FormData}
         *
         * @returns {boolean} return true to visit the each prop of the value recursively
         */function d(e,n,i){var r=e;if(e&&!i&&"object"===u(e))if(gie.endsWith(n,"{}"))// eslint-disable-next-line no-param-reassign
n=o?n:n.slice(0,-2),// eslint-disable-next-line no-param-reassign
e=JSON.stringify(e);else if(gie.isArray(e)&&function(e){return gie.isArray(e)&&!e.some(_ie)}(e)||gie.isFileList(e)||gie.endsWith(n,"[]")&&(r=gie.toArray(e)))// eslint-disable-next-line no-param-reassign
return n=wie(n),r.forEach((function(e,i){!gie.isUndefined(e)&&null!==e&&t.append(// eslint-disable-next-line no-nested-ternary
!0===l?Sie([n],i,a):null===l?n:n+"[]",c(e))})),!1;return!!_ie(e)||(t.append(Sie(i,n,a),c(e)),!1)}var p=[],h=Object.assign(Cie,{defaultVisitor:d,convertValue:c,isVisitable:_ie});if(!gie.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!gie.isUndefined(n)){if(-1!==p.indexOf(n))throw Error("Circular reference detected in "+i.join("."));p.push(n),gie.forEach(n,(function(n,o){!0===(!(gie.isUndefined(n)||null===n)&&r.call(t,n,gie.isString(o)?o.trim():o,i,h))&&e(n,i?i.concat(o):[o])})),p.pop()}}(e),t}
/**
       * It encodes a string by replacing all characters that are not in the unreserved set with
       * their percent-encoded equivalents
       *
       * @param {string} str - The string to encode.
       *
       * @returns {string} The encoded string.
       */function Tie(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}
/**
       * It takes a params object and converts it to a FormData object
       *
       * @param {Object<string, any>} params - The parameters to be converted to a FormData object.
       * @param {Object<string, any>} options - The options object passed to the Axios constructor.
       *
       * @returns {void}
       */function Iie(e,t){this._pairs=[],e&&Mie(e,this,t)}var kie=Iie.prototype;
/**
       * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their
       * URI encoded counterparts
       *
       * @param {string} val The value to be encoded.
       *
       * @returns {string} The encoded value.
       */
function Aie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}
/**
       * Build a URL by appending params to the end
       *
       * @param {string} url The base of the url (e.g., http://www.google.com)
       * @param {object} [params] The params to be appended
       * @param {?object} options
       *
       * @returns {string} The formatted url
       */function Die(e,t,n){/*eslint no-param-reassign:0*/if(!t)return e;var i,o=n&&n.encode||Aie,r=n&&n.serialize;if(i=r?r(t,n):gie.isURLSearchParams(t)?t.toString():new Iie(t,n).toString(o)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}kie.append=function(e,t){this._pairs.push([e,t])},kie.toString=function(e){var t=e?function(t){return e.call(this,t,Tie)}:Tie;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Oie,Pie=function(){function e(){r(this,e),this.handlers=[]}
/**
         * Add a new interceptor to the stack
         *
         * @param {Function} fulfilled The function to handle `then` for a `Promise`
         * @param {Function} rejected The function to handle `reject` for a `Promise`
         *
         * @return {Number} An ID used to remove interceptor later
         */return l(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}
/**
         * Remove an interceptor from the stack
         *
         * @param {Number} id The ID that was returned by `use`
         *
         * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise
         */},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}
/**
         * Clear all interceptors from the stack
         *
         * @returns {void}
         */},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}
/**
         * Iterate over all the registered interceptors
         *
         * This method is particularly useful for skipping over any
         * interceptors that may have become `null` calling `eject`.
         *
         * @param {Function} fn The function to call for each interceptor
         *
         * @returns {void}
         */},{key:"forEach",value:function(e){gie.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Lie=Pie,Eie={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nie="undefined"!=typeof URLSearchParams?URLSearchParams:Iie,Rie=FormData,zie=("undefined"==typeof navigator||"ReactNative"!==(Oie=navigator.product)&&"NativeScript"!==Oie&&"NS"!==Oie)&&"undefined"!=typeof window&&"undefined"!=typeof document,Bie="undefined"!=typeof WorkerGlobalScope&&// eslint-disable-next-line no-undef
self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Fie={isBrowser:!0,classes:{URLSearchParams:Nie,FormData:Rie,Blob:Blob},isStandardBrowserEnv:zie,isStandardBrowserWebWorkerEnv:Bie,protocols:["http","https","file","blob","url","data"]};
/**
       * It takes a FormData object and returns a JavaScript object
       *
       * @param {string} formData The FormData object to convert to JSON.
       *
       * @returns {Object<string, any> | null} The converted object.
       */
function Vie(e){function t(e,n,i,o){var r=e[o++],a=Number.isFinite(+r),l=o>=e.length;return r=!r&&gie.isArray(i)?i.length:r,l?(gie.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!a):(i[r]&&gie.isObject(i[r])||(i[r]=[]),t(e,n,i[r],o)&&gie.isArray(i[r])&&(i[r]=
/**
       * Convert an array to an object.
       *
       * @param {Array<any>} arr - The array to convert to an object.
       *
       * @returns An object with the same keys and values as the array.
       */
function(e){var t,n,i={},o=Object.keys(e),r=o.length;for(t=0;t<r;t++)i[n=o[t]]=e[n];return i}(i[r])),!a)}if(gie.isFormData(e)&&gie.isFunction(e.entries)){var n={};return gie.forEachEntry(e,(function(e,i){t(
/**
       * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']
       *
       * @param {string} name - The name of the property to get.
       *
       * @returns An array of strings.
       */
function(e){// foo[x][y][z]
// foo.x.y.z
// foo-x-y-z
// foo x y z
return gie.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),i,n,0)})),n}return null}var jie={"Content-Type":void 0};
/**
       * It takes a string, tries to parse it, and if it fails, it returns the stringified version
       * of the input
       *
       * @param {any} rawValue - The value to be stringified.
       * @param {Function} parser - A function that parses a string into a JavaScript object.
       * @param {Function} encoder - A function that takes a value and returns a string.
       *
       * @returns {string} A stringified version of the rawValue.
       */var Hie={transitional:Eie,adapter:["xhr","http"],transformRequest:[function(e,t){var n,i=t.getContentType()||"",o=i.indexOf("application/json")>-1,r=gie.isObject(e);if(r&&gie.isHTMLForm(e)&&(e=new FormData(e)),gie.isFormData(e))return o&&o?JSON.stringify(Vie(e)):e;if(gie.isArrayBuffer(e)||gie.isBuffer(e)||gie.isStream(e)||gie.isFile(e)||gie.isBlob(e))return e;if(gie.isArrayBufferView(e))return e.buffer;if(gie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Mie(e,new Fie.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return Fie.isNode&&gie.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=gie.isFileList(e))||i.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return Mie(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||o?(t.setContentType("application/json",!1),function(e,t,n){if(gie.isString(e))try{return(t||JSON.parse)(e),gie.trim(e)}catch(qX){if("SyntaxError"!==qX.name)throw qX}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Hie.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&gie.isString(e)&&(n&&!this.responseType||i)){var o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(qX){if(o){if("SyntaxError"===qX.name)throw yie.from(qX,yie.ERR_BAD_RESPONSE,this,null,this.response);throw qX}}}return e}],
/**
         * A timeout in milliseconds to abort a request. If set to 0 (default) a
         * timeout is not created.
         */
timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fie.classes.FormData,Blob:Fie.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};gie.forEach(["delete","get","head"],(function(e){Hie.headers[e]={}})),gie.forEach(["post","put","patch"],(function(e){Hie.headers[e]=gie.merge(jie)}));var Gie=Hie,Wie=gie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kie=Symbol("internals");// RawAxiosHeaders whose duplicates are ignored by node
// c.f. https://nodejs.org/api/http.html#http_message_headers
function Uie(e){return e&&String(e).trim().toLowerCase()}function Yie(e){return!1===e||null==e?e:gie.isArray(e)?e.map(Yie):String(e)}function Xie(e,t,n,i){return gie.isFunction(i)?i.call(this,t,n):gie.isString(t)?gie.isString(i)?-1!==t.indexOf(i):gie.isRegExp(i)?i.test(t):void 0:void 0}var qie=function(e,t){function n(e){r(this,n),e&&this.set(e)}return l(n,[{key:"set",value:function(e,t,n){var i=this;function o(e,t,n){var o=Uie(t);if(!o)throw new Error("header name must be a non-empty string");var r=gie.findKey(i,o);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||t]=Yie(e))}var r=function(e,t){return gie.forEach(e,(function(e,n){return o(e,n,t)}))};return gie.isPlainObject(e)||e instanceof this.constructor?r(e,t):gie.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?r(function(e){var t,n,i,o={};return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||o[t]&&Wie[t]||("set-cookie"===t?o[t]?o[t].push(n):o[t]=[n]:o[t]=o[t]?o[t]+", "+n:n)})),o}(e),t):null!=e&&o(t,e,n),this}},{key:"get",value:function(e,t){if(e=Uie(e)){var n=gie.findKey(this,e);if(n){var i=this[n];if(!t)return i;if(!0===t)return function(e){for(var t,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=i.exec(e);)n[t[1]]=t[2];return n}(i);if(gie.isFunction(t))return t.call(this,i,n);if(gie.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Uie(e)){var n=gie.findKey(this,e);return!(!n||t&&!Xie(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,i=!1;function o(e){if(e=Uie(e)){var o=gie.findKey(n,e);!o||t&&!Xie(0,n[o],o,t)||(delete n[o],i=!0)}}return gie.isArray(e)?e.forEach(o):o(e),i}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return gie.forEach(this,(function(i,o){var r=gie.findKey(n,o);if(r)return t[r]=Yie(i),void delete t[o];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(o):String(o).trim();a!==o&&delete t[o],t[a]=Yie(i),n[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return gie.forEach(this,(function(n,i){null!=n&&!1!==n&&(t[i]=e&&gie.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=i(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Kie]=this[Kie]={accessors:{}}).accessors,n=this.prototype;function i(e){var i=Uie(e);t[i]||(!function(e,t){var n=gie.toCamelCase(" "+t);["get","set","has"].forEach((function(i){Object.defineProperty(e,i+n,{value:function(e,n,o){return this[i].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[i]=!0)}return gie.isArray(e)?e.forEach(i):i(e),this}}]),n}();qie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),gie.freezeMethods(qie.prototype),gie.freezeMethods(qie);var Zie=qie;
/**
       * Transform the data for a request or a response
       *
       * @param {Array|Function} fns A single function or Array of functions
       * @param {?Object} response The response object
       *
       * @returns {*} The resulting transformed data
       */function $ie(e,t){var n=this||Gie,i=t||n,o=Zie.from(i.headers),r=i.data;return gie.forEach(e,(function(e){r=e.call(n,r,o.normalize(),t?t.status:void 0)})),o.normalize(),r}function Jie(e){return!(!e||!e.__CANCEL__)}
/**
       * A `CanceledError` is an object that is thrown when an operation is canceled.
       *
       * @param {string=} message The message.
       * @param {Object=} config The config.
       * @param {Object=} request The request.
       *
       * @returns {CanceledError} The created error.
       */function Qie(e,t,n){// eslint-disable-next-line no-eq-null,eqeqeq
yie.call(this,null==e?"canceled":e,yie.ERR_CANCELED,t,n),this.name="CanceledError"}gie.inherits(Qie,yie,{__CANCEL__:!0});var eoe=Fie.isStandardBrowserEnv?{write:function(e,t,n,i,o,r){var a=[];a.push(e+"="+encodeURIComponent(t)),gie.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),gie.isString(i)&&a.push("path="+i),gie.isString(o)&&a.push("domain="+o),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
/**
       * Determines whether the specified URL is absolute
       *
       * @param {string} url The URL to test
       *
       * @returns {boolean} True if the specified URL is absolute, otherwise false
       */
/**
       * Creates a new URL by combining the baseURL with the requestedURL,
       * only when the requestedURL is not already an absolute URL.
       * If the requestURL is absolute, this function returns the requestedURL untouched.
       *
       * @param {string} baseURL The base URL
       * @param {string} requestedURL Absolute or relative URL to combine
       *
       * @returns {string} The combined full path
       */
function toe(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?
/**
       * Creates a new URL by combining the specified URLs
       *
       * @param {string} baseURL The base URL
       * @param {string} relativeURL The relative URL
       *
       * @returns {string} The combined URL
       */
function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var noe=Fie.isStandardBrowserEnv?// Standard browser envs have full support of the APIs needed to test
// whether the request URL is of the same origin as current location.
function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");
/**
        * Parse a URL to discover it's components
        *
        * @param {String} url The URL to be parsed
        * @returns {Object}
        */
function i(e){var i=e;// urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils
return t&&(// IE needs attribute set twice to normalize properties
n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}
/**
        * Determine if a URL shares the same origin as the current location
        *
        * @param {String} requestURL The URL to test
        * @returns {boolean} True if URL shares the same origin, otherwise false
        */
return e=i(window.location.href),function(t){var n=gie.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function ioe(e,t){var n=0,i=
/**
       * Calculate data maxRate
       * @param {Number} [samplesCount= 10]
       * @param {Number} [min= 1000]
       * @returns {Function}
       */
function(e,t){e=e||10;var n,i=new Array(e),o=new Array(e),r=0,a=0;return t=void 0!==t?t:1e3,function(l){var s=Date.now(),u=o[a];n||(n=s),i[r]=l,o[r]=s;for(var c=a,d=0;c!==r;)d+=i[c++],c%=e;if((r=(r+1)%e)===a&&(a=(a+1)%e),!(s-n<t)){var p=u&&s-u;return p?Math.round(1e3*d/p):void 0}}}(50,250);return function(o){var r=o.loaded,a=o.lengthComputable?o.total:void 0,l=r-n,s=i(l);n=r;var u={loaded:r,total:a,progress:a?r/a:void 0,bytes:l,rate:s||void 0,estimated:s&&a&&r<=a?(a-r)/s:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}var ooe="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var i,o=e.data,r=Zie.from(e.headers).normalize(),a=e.responseType;function l(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}gie.isFormData(o)&&(Fie.isStandardBrowserEnv||Fie.isStandardBrowserWebWorkerEnv)&&r.setContentType(!1);var s=new XMLHttpRequest;// HTTP basic authentication
if(e.auth){var u=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(u+":"+c))}var d=toe(e.baseURL,e.url);function p(){if(s){// Prepare the response
var i=Zie.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!
/**
       * Resolve or reject a Promise based on response status.
       *
       * @param {Function} resolve A function that resolves the promise.
       * @param {Function} reject A function that rejects the promise.
       * @param {object} response The response.
       *
       * @returns {object} The response.
       */
function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new yie("Request failed with status code "+n.status,[yie.ERR_BAD_REQUEST,yie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:a&&"text"!==a&&"json"!==a?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:i,config:e,request:s}),// Clean up request
s=null}}// Add xsrf header
// This is only done if running in a standard browser environment.
// Specifically not if we're in a web worker, or react-native.
if(s.open(e.method.toUpperCase(),Die(d,e.params,e.paramsSerializer),!0),// Set the request timeout in MS
s.timeout=e.timeout,"onloadend"in s?// Use onloadend if available
s.onloadend=p:// Listen for ready state to emulate onloadend
s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&// readystate handler is calling before onerror or ontimeout handlers,
// so we should call onloadend on the next 'tick'
setTimeout(p);// The request errored out and we didn't get a response, this will be
// handled by onerror instead
// With one exception: request that using file: protocol, most browsers
// will return status as 0 even though it's a successful request
},// Handle browser request cancellation (as opposed to a manual cancellation)
s.onabort=function(){s&&(n(new yie("Request aborted",yie.ECONNABORTED,e,s)),// Clean up request
s=null)},// Handle low level network errors
s.onerror=function(){// Real errors are hidden from us by the browser
// onerror should only fire if it's a network error
n(new yie("Network Error",yie.ERR_NETWORK,e,s)),// Clean up request
s=null},// Handle timeout
s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||Eie;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new yie(t,i.clarifyTimeoutError?yie.ETIMEDOUT:yie.ECONNABORTED,e,s)),// Clean up request
s=null},Fie.isStandardBrowserEnv){// Add xsrf header
var h=(e.withCredentials||noe(d))&&e.xsrfCookieName&&eoe.read(e.xsrfCookieName);h&&r.set(e.xsrfHeaderName,h)}// Remove Content-Type if data is undefined
void 0===o&&r.setContentType(null),// Add headers to the request
"setRequestHeader"in s&&gie.forEach(r.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),// Add withCredentials to request if needed
gie.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),// Add responseType to request if needed
a&&"json"!==a&&(s.responseType=e.responseType),// Handle progress if needed
"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",ioe(e.onDownloadProgress,!0)),// Not all browsers support upload events
"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",ioe(e.onUploadProgress)),(e.cancelToken||e.signal)&&(// Handle cancellation
// eslint-disable-next-line func-names
i=function(t){s&&(n(!t||t.type?new Qie(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));var f=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===Fie.protocols.indexOf(f)?n(new yie("Unsupported protocol "+f+":",yie.ERR_BAD_REQUEST,e)):// Send the request
s.send(o||null)}))},roe={http:null,xhr:ooe};gie.forEach(roe,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(qX){// eslint-disable-next-line no-empty
}Object.defineProperty(e,"adapterName",{value:t})}}));var aoe=function(e){for(var t,n,i=(e=gie.isArray(e)?e:[e]).length,o=0;o<i&&(t=e[o],!(n=gie.isString(t)?roe[t.toLowerCase()]:t));o++);if(!n){if(!1===n)throw new yie("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(gie.hasOwnProp(roe,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!gie.isFunction(n))throw new TypeError("adapter is not a function");return n};
/**
       * Throws a `CanceledError` if cancellation has been requested.
       *
       * @param {Object} config The config that is to be used for the request
       *
       * @returns {void}
       */function loe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qie(null,e)}
/**
       * Dispatch a request to the server using the configured adapter.
       *
       * @param {object} config The config that is to be used for the request
       *
       * @returns {Promise} The Promise to be fulfilled
       */function soe(e){return loe(e),e.headers=Zie.from(e.headers),// Transform request data
e.data=$ie.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aoe(e.adapter||Gie.adapter)(e).then((function(t){return loe(e),// Transform response data
t.data=$ie.call(e,e.transformResponse,t),t.headers=Zie.from(t.headers),t}),(function(t){return Jie(t)||(loe(e),// Transform response data
t&&t.response&&(t.response.data=$ie.call(e,e.transformResponse,t.response),t.response.headers=Zie.from(t.response.headers))),Promise.reject(t)}))}var uoe=function(e){return e instanceof Zie?e.toJSON():e};
/**
       * Config-specific merge-function which creates a new config-object
       * by merging two configuration objects together.
       *
       * @param {Object} config1
       * @param {Object} config2
       *
       * @returns {Object} New object resulting from merging config2 to config1
       */function coe(e,t){// eslint-disable-next-line no-param-reassign
t=t||{};var n={};function i(e,t,n){return gie.isPlainObject(e)&&gie.isPlainObject(t)?gie.merge.call({caseless:n},e,t):gie.isPlainObject(t)?gie.merge({},t):gie.isArray(t)?t.slice():t}// eslint-disable-next-line consistent-return
function o(e,t,n){return gie.isUndefined(t)?gie.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}// eslint-disable-next-line consistent-return
function r(e,t){if(!gie.isUndefined(t))return i(void 0,t)}// eslint-disable-next-line consistent-return
function a(e,t){return gie.isUndefined(t)?gie.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}// eslint-disable-next-line consistent-return
function l(n,o,r){return r in t?i(n,o):r in e?i(void 0,n):void 0}var s={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:function(e,t){return o(uoe(e),uoe(t),!0)}};return gie.forEach(Object.keys(e).concat(Object.keys(t)),(function(i){var r=s[i]||o,a=r(e[i],t[i],i);gie.isUndefined(a)&&r!==l||(n[i]=a)})),n}var doe="1.2.2",poe={};// eslint-disable-next-line func-names
["object","boolean","number","function","string","symbol"].forEach((function(e,t){poe[e]=function(n){return u(n)===e||"a"+(t<1?"n ":" ")+e}}));var hoe={};
/**
       * Transitional option validator
       *
       * @param {function|boolean?} validator - set to false if the transitional option has been removed
       * @param {string?} version - deprecated version / removed since version
       * @param {string?} message - some message with additional info
       *
       * @returns {function}
       */poe.transitional=function(e,t,n){// eslint-disable-next-line func-names
return function(i,o,r){if(!1===e)throw new yie(function(e,t){return"[Axios v1.2.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}(o," has been removed"+(t?" in "+t:"")),yie.ERR_DEPRECATED);return t&&!hoe[o]&&(hoe[o]=!0),!e||e(i,o,r)}};var foe={assertOptions:
/**
       * Assert object's properties type
       *
       * @param {object} options
       * @param {object} schema
       * @param {boolean?} allowUnknown
       *
       * @returns {object}
       */
function(e,t,n){if("object"!==u(e))throw new yie("options must be an object",yie.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),o=i.length;o-- >0;){var r=i[o],a=t[r];if(a){var l=e[r],s=void 0===l||a(l,r,e);if(!0!==s)throw new yie("option "+r+" must be "+s,yie.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new yie("Unknown option "+r,yie.ERR_BAD_OPTION)}},validators:poe},voe=foe.validators,goe=function(){function e(t){r(this,e),this.defaults=t,this.interceptors={request:new Lie,response:new Lie}}
/**
         * Dispatch a request
         *
         * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)
         * @param {?Object} config
         *
         * @returns {Promise} The Promise to be fulfilled
         */return l(e,[{key:"request",value:function(e,t){/*eslint no-param-reassign:0*/ // Allow for axios('example/url'[, config]) a la fetch API
"string"==typeof e?(t=t||{}).url=e:t=e||{};var n,i=t=coe(this.defaults,t),o=i.transitional,r=i.paramsSerializer,a=i.headers;void 0!==o&&foe.assertOptions(o,{silentJSONParsing:voe.transitional(voe.boolean),forcedJSONParsing:voe.transitional(voe.boolean),clarifyTimeoutError:voe.transitional(voe.boolean)},!1),void 0!==r&&foe.assertOptions(r,{encode:voe.function,serialize:voe.function},!0),// Set config.method
t.method=(t.method||this.defaults.method||"get").toLowerCase(),(// Flatten headers
n=a&&gie.merge(a.common,a[t.method]))&&gie.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=Zie.concat(n,a);// filter out skipped interceptors
var l=[],s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var d,p=0;if(!s){var h=[soe.bind(this),void 0];for(h.unshift.apply(h,l),h.push.apply(h,c),d=h.length,u=Promise.resolve(t);p<d;)u=u.then(h[p++],h[p++]);return u}d=l.length;var f=t;for(p=0;p<d;){var v=l[p++],g=l[p++];try{f=v(f)}catch(y){g.call(this,y);break}}try{u=soe.call(this,f)}catch(y){return Promise.reject(y)}for(p=0,d=c.length;p<d;)u=u.then(c[p++],c[p++]);return u}},{key:"getUri",value:function(e){return Die(toe((e=coe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();// Provide aliases for supported request methods
gie.forEach(["delete","get","head","options"],(function(e){/*eslint func-names:0*/goe.prototype[e]=function(t,n){return this.request(coe(n||{},{method:e,url:t,data:(n||{}).data}))}})),gie.forEach(["post","put","patch"],(function(e){/*eslint func-names:0*/function t(t){return function(n,i,o){return this.request(coe(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}goe.prototype[e]=t(),goe.prototype[e+"Form"]=t(!0)}));var yoe=goe,moe=function(){function e(t){if(r(this,e),"function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var i=this;// eslint-disable-next-line func-names
this.promise.then((function(e){if(i._listeners){for(var t=i._listeners.length;t-- >0;)i._listeners[t](e);i._listeners=null}})),// eslint-disable-next-line func-names
this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);// eslint-disable-next-line func-names
return n.cancel=function(){i.unsubscribe(t)},n},t((function(e,t,o){i.reason||(i.reason=new Qie(e,t,o),n(i.reason))}))}
/**
         * Throws a `CanceledError` if cancellation has been requested.
         */return l(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}
/**
         * Subscribe to the cancel signal
         */},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}
/**
         * Unsubscribe from the cancel signal
         */},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}
/**
         * Returns an object that contains a new `CancelToken` and a function that, when called,
         * cancels the `CancelToken`.
         */}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),xoe=moe;
/**
       * A `CancelToken` is an object that can be used to request cancellation of an operation.
       *
       * @param {Function} executor The executor function.
       *
       * @returns {CancelToken}
       */var boe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(boe).forEach((function(e){var t=i(e,2),n=t[0],o=t[1];boe[o]=n}));var _oe=boe;
/**
       * Create an instance of Axios
       *
       * @param {Object} defaultConfig The default config for the instance
       *
       * @returns {Axios} A new instance of Axios
       */ // Create the default instance to be exported
var woe=function e(t){var n=new yoe(t),i=Vne(yoe.prototype.request,n);// Copy axios.prototype to instance
return gie.extend(i,yoe.prototype,n,{allOwnKeys:!0}),// Copy context to instance
gie.extend(i,n,null,{allOwnKeys:!0}),// Factory for creating new instances
i.create=function(n){return e(coe(t,n))},i}(Gie);// Expose Axios class to allow class inheritance
woe.Axios=yoe,// Expose Cancel & CancelToken
woe.CanceledError=Qie,woe.CancelToken=xoe,woe.isCancel=Jie,woe.VERSION=doe,woe.toFormData=Mie,// Expose AxiosError class
woe.AxiosError=yie,// alias for CanceledError for backward compatibility
woe.Cancel=woe.CanceledError,// Expose all/spread
woe.all=function(e){return Promise.all(e)},woe.spread=
/**
       * Syntactic sugar for invoking a function and expanding an array for arguments.
       *
       * Common use case would be to use `Function.prototype.apply`.
       *
       *  ```js
       *  function f(x, y, z) {}
       *  var args = [1, 2, 3];
       *  f.apply(null, args);
       *  ```
       *
       * With `spread` this example can be re-written.
       *
       *  ```js
       *  spread(function(x, y, z) {})([1, 2, 3]);
       *  ```
       *
       * @param {Function} callback
       *
       * @returns {Function}
       */
function(e){return function(t){return e.apply(null,t)}}
/**
       * Determines whether the payload is an error thrown by Axios
       *
       * @param {*} payload The value to test
       *
       * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false
       */,// Expose isAxiosError
woe.isAxiosError=function(e){return gie.isObject(e)&&!0===e.isAxiosError},// Expose mergeConfig
woe.mergeConfig=coe,woe.AxiosHeaders=Zie,woe.formToJSON=function(e){return Vie(gie.isHTMLForm(e)?new FormData(e):e)},woe.HttpStatusCode=_oe,woe.default=woe;// this module should only have a default export
var Soe=woe.create({baseURL:"/",timeout:9e3,headers:{"Content-Type":"application/json;charset=UTF-8"}});function Coe(){return Soe({url:"/api/waterUseTotal",method:"get"})}Soe.interceptors.request.use((function(e){return e}),(function(e){Promise.reject(e)})),Soe.interceptors.response.use((function(e){var t=e.data;return 0===t.status?(N$.error(t.message),Promise.reject(t)):Promise.resolve(t)}),(function(e){return Promise.reject(e)}));var Moe={class:"water-resource"},Toe=a({__name:"waterResource",setup:function(e){var t=[{key:"水资源总量",label:"水资源总量"},{key:"人均水资源量",label:"人均水资源量"},{key:"水资源组成",label:"水资源组成"}],n=k({grid:{left:"18%",top:"15",bottom:50},textStyle:{fontSize:11},tooltip:{show:!0,trigger:"axis"},legend:{icon:"circle",show:!0,bottom:0,left:0,textStyle:{color:"rgba(255,255,255,0.8)"}},xAxis:{type:"category",axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.2)"}},axisTick:{show:!1},axisLabel:{color:"rgba(255,255,255,0.8)"},data:[]},yAxis:{type:"value",name:"立方米",interval:500,nameTextStyle:{color:"rgba(255,255,255,0.8)"},nameLocation:"middle",nameGap:45,show:!0,axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.2)"}},axisLabel:{color:"rgba(255,255,255,0.8)"},axisTick:{show:!1},splitLine:{show:!1}},series:[{name:"安吉县",smooth:!0,data:[],color:"#ffae00",type:"line"},{name:"湖州市",data:[],smooth:!0,color:"#13c3f3",type:"line"},{name:"浙江省",data:[],smooth:!0,color:"#84cb00",type:"line"}]});function i(e){o()}function o(){Soe({url:"/api/waterTotal",method:"get"}).then((function(e){var t=e.data;n.xAxis.data.length=0,t.forEach((function(e,t){n.series[t].data.length=0,e.forEach((function(e){0===t&&n.xAxis.data.push(e.date),null==n||n.series[t].data.push(e.value)}))}))}))}return o(),function(e,o){var r=YU,a=BU;return p(),h("div",Moe,[_(r,{title:"水资源量",menu:t,onChangeMenu:i}),_(a,{chartsData:n,style:{height:"calc(100% - 30px)"}},null,8,["chartsData"])])}}}),Ioe={class:"water-amount"},koe=a({__name:"waterUse",setup:function(e){var t=[{key:"用水总量",label:"用水总量"},{key:"分产业用水指标",label:"分产业用水指标"},{key:"供水量",label:"供水量"}],n=k({grid:{left:"18%",top:"15",bottom:50},textStyle:{fontSize:11},tooltip:{show:!0,trigger:"axis"},legend:{icon:"circle",show:!0,bottom:0,left:0,textStyle:{color:"rgba(255,255,255,0.8)"}},xAxis:{type:"category",axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.2)"}},axisTick:{show:!1},axisLabel:{color:"rgba(255,255,255,0.8)"},data:[]},yAxis:{type:"value",name:"万立方米",interval:1e3,nameTextStyle:{color:"rgba(255,255,255,0.8)"},nameLocation:"middle",nameGap:45,show:!0,axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.2)"}},axisLabel:{color:"rgba(255,255,255,0.8)"},axisTick:{show:!1},splitLine:{show:!1}},series:[{name:"工业",data:[],color:"#59eaf4",stack:"water",barWidth:10,type:"bar"},{name:"农业",data:[],color:"#eaa806",stack:"water",barWidth:10,type:"bar"},{name:"生活",data:[],color:"#c64811",stack:"water",barWidth:10,type:"bar"},{name:"生态",data:[],color:"#95cb00",stack:"water",barWidth:10,type:"bar"}]});function i(e){o()}function o(){Coe().then((function(e){var t=e.data;n.xAxis.data.length=0,t.forEach((function(e,t){n.series[t].data.length=0,e.forEach((function(e){0===t&&n.xAxis.data.push(e.date),null==n||n.series[t].data.push(e.value)}))}))}))}return o(),function(e,o){var r=YU,a=BU;return p(),h("div",Ioe,[_(r,{title:"水资源量",menu:t,onChangeMenu:i}),_(a,{chartsData:n,style:{height:"calc(100% - 30px)"}},null,8,["chartsData"])])}}}),Aoe={class:"water-quality"},Doe={class:"quality-content"},Ooe={class:"quality-left"},Poe={class:"hex center"},Loe={class:"info"},Eoe={class:"title"},Noe={class:"value"},Roe={class:"quality-right"},zoe={style:{color:"#4d647e","line-height":"2.5"}},Boe=a({__name:"waterQuality",setup:function(e){var n=s(5),i=k([{title:"Ⅰ类",value:"1",className:"left-top"},{title:"Ⅱ类",value:"27",className:"right-top"},{title:"Ⅲ类",value:"26",className:"right-bottom"},{title:"Ⅳ类",value:"3",className:"left-bottom"}]),o=k([]),r=k([{title:"水源名称",align:"center",ellipsis:!0,width:"33.4%",dataIndex:"waterSourceName"},{title:"水源类别",align:"center",ellipsis:!0,width:"33.3%",dataIndex:"waterSourceType"},{title:"类型",align:"center",ellipsis:!0,width:"33.3%",dataIndex:"type"}]);function a(e,t){return"row row"+t+1}return function(){var e={waterSourceName:"小里巷",waterSourceType:"Ⅲ类",type:"河道"};o.length=0;for(var n=0;n<4;n++)o.push(t({},e))}(),function(e,t){var l=YU;return p(),h("div",Aoe,[_(l,{title:"水资源质量"}),g("div",Doe,[g("div",Ooe,[g("div",Poe,[_(w(ae),{dur:n.value},null,8,["dur"])]),(p(!0),h(m,null,x(i,(function(e){return p(),h("div",{key:e.className,class:b(["hex",e.className])},[g("div",Loe,[g("div",Eoe,y(e.title),1),g("div",Noe,y(e.value),1)])],2)})),128))]),g("div",Roe,[_(w(Fne),{border:!1,columns:r,"data-source":o,style:{width:"100%"},pagination:!1,rowClassName:a},{headerCell:ne((function(e){var t=e.title;return[g("div",zoe,y(t),1)]})),bodyCell:ne((function(e){var t=e.text,n=e.column;return[g("div",{class:b(n.dataIndex)},y(t),3)]})),_:1},8,["columns","data-source"])])])])}}}),Foe=re(Boe,[["__scopeId","data-v-cfe5e421"]]),Voe=function(e){return S("data-v-f6bbe5cb"),e=e(),C(),e},joe={class:"work-dynamic"},Hoe={class:"dynamic-content"},Goe={class:""},Woe=Voe((function(){return g("div",{class:"title"},"取水许可",-1)})),Koe={class:"circle"},Uoe={class:"left-top"},Yoe=Voe((function(){return g("div",null,"取水许可证",-1)})),Xoe={class:"value"},qoe={class:"bottom-right"},Zoe=Voe((function(){return g("div",null,"许可总量",-1)})),$oe={class:"value"},Joe={class:""},Qoe=Voe((function(){return g("div",{class:"title"},"在线监控",-1)})),ere={class:"circle"},tre={class:"left-top"},nre=Voe((function(){return g("div",null,"监控点数量",-1)})),ire={class:"value"},ore={class:"bottom-right"},rre=Voe((function(){return g("div",null,"监控数量",-1)})),are={class:"value"},lre=re(a({__name:"workDynamic",setup:function(e){var t=[{key:"取水许可",label:"取水许可"},{key:"取水用途",label:"取水用途"}],n=k({intakeLicense:216,licenseTotal:25735,monitorCount:64,monitorWater:15915});function i(e){o()}function o(){Coe().then((function(e){e.data}))}return o(),function(e,o){var r=YU;return p(),h("div",joe,[_(r,{title:"工作动态",menu:t,onChangeMenu:i}),g("div",Hoe,[g("div",Goe,[Woe,g("div",Koe,[g("div",Uoe,[Yoe,g("div",null,[g("span",Xoe,y(n.intakeLicense),1),X(" 本 ")])]),g("div",qoe,[Zoe,g("div",null,[g("span",$oe,y(n.licenseTotal),1),X(" 万m2 ")])])])]),g("div",Joe,[Qoe,g("div",ere,[g("div",tre,[nre,g("div",null,[g("span",ire,y(n.monitorCount),1),X(" 本 ")])]),g("div",ore,[rre,g("div",null,[g("span",are,y(n.monitorWater),1),X(" 万m2 ")])])])])])])}}}),[["__scopeId","data-v-f6bbe5cb"]]),sre={class:"left"},ure=re(a({__name:"left",setup:function(e){return function(e,t){return p(),h("div",sre,[_(Toe,{class:"left-item"}),_(koe,{class:"left-item"}),_(Foe,{class:"left-item",style:{height:"20%"}}),_(lre,{class:"left-item"})])}}}),[["__scopeId","data-v-15261450"]]),cre=function(e){return S("data-v-ea11e513"),e=e(),C(),e},dre={class:"water-use"},pre=cre((function(){return g("div",null,[g("div",{style:{"white-space":"nowrap"}},"万元GDP用水量"),g("div",null,[g("span",{class:"value"},"36.7"),g("span",{class:"unit"},"立方米/万元")])],-1)})),hre=cre((function(){return g("i",{class:"iconfont icon-a-iconyongshuiliang"},null,-1)})),fre=cre((function(){return g("div",null,[g("div",{style:{"white-space":"nowrap"}},"万元工业增加值用水量"),g("div",null,[g("span",{class:"value"},"36.7"),g("span",{class:"unit"},"立方米/万元")])],-1)})),vre=cre((function(){return g("i",{class:"iconfont icon-a-iconyongshuiliang"},null,-1)})),gre=a({__name:"saveWater",setup:function(e){var t=[{key:"用水效率",label:"用水效率"},{key:"节水载体",label:"节水载体"}],n=k({grid:{left:"18%",top:"15",bottom:75,right:"18%"},tooltip:{show:!0,trigger:"axis"},legend:{icon:"circle",show:!0,bottom:0,left:0,textStyle:{color:"rgba(255,255,255,0.8)",fontSize:11}},xAxis:{type:"category",axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.2)"}},axisTick:{show:!1},axisLabel:{color:"rgba(255,255,255,0.8)",fontSize:11},data:[]},yAxis:[{type:"value",name:"立方米/万元",position:"left",nameTextStyle:{color:"rgba(255,255,255,0.8)",fontSize:11},nameLocation:"middle",nameGap:45,show:!0,axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.2)"}},axisLabel:{color:"rgba(255,255,255,0.8)",fontSize:11},axisTick:{show:!1},splitLine:{show:!1}},{type:"value",name:"升/日",position:"right",nameTextStyle:{color:"rgba(255,255,255,0.8)",fontSize:11},nameLocation:"middle",nameGap:45,show:!0,axisLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.2)"}},axisLabel:{color:"rgba(255,255,255,0.8)",fontSize:11},axisTick:{show:!1},splitLine:{show:!1}}],series:[{name:"万元GDP用水量",yAxisIndex:0,data:[],color:"#59eaf4",smooth:!0,type:"line"},{name:"万元工业增值用水量",yAxisIndex:0,data:[],color:"#eaa806",smooth:!0,type:"line"},{name:"亩均灌民用水量",yAxisIndex:1,data:[],smooth:!0,color:"#c64811",type:"line"},{name:"人均生活用水量",yAxisIndex:1,smooth:!0,data:[],color:"#95cb00",type:"line"}]});return Coe().then((function(e){var t=e.data;n.xAxis.data.length=0,t.forEach((function(e,t){n.series[t].data.length=0,e.forEach((function(e){0===t&&n.xAxis.data.push(e.date),null==n||n.series[t].data.push(e.value)}))}))})),function(e,i){var o=YU,r=BU;return p(),h("div",null,[_(o,{title:"节约用水",menu:t}),g("div",dre,[_(w(le),{dur:5},{default:ne((function(){return[pre,hre]})),_:1}),_(w(le),{dur:5,reverse:!0},{default:ne((function(){return[fre,vre]})),_:1})]),_(r,{chartsData:n,style:{height:"calc(100% - 80px)"}},null,8,["chartsData"])])}}}),yre=re(gre,[["__scopeId","data-v-ea11e513"]]),mre={class:"water-mgt"},xre={style:{color:"#4d647e","line-height":"2"}},bre=a({__name:"waterMgt",setup:function(e){var t=[{key:"全部",label:"全部"},{key:"规模以上",label:"规模以上"},{key:"规模以下",label:"规模以下"}],n=k([]),i=k([{title:"取水户",align:"center",ellipsis:!0,width:"33.4%",dataIndex:"useWaterUser"},{title:"许可用水量",align:"center",ellipsis:!0,dataIndex:"licenceUse"},{title:"实际用水量",align:"center",ellipsis:!0,dataIndex:"realUse"},{title:"取水占比",align:"center",ellipsis:!0,dataIndex:"useWaterRate",customRender:function(e){return e.text+"%"}}]);function o(e,t){return"row row"+t+1}return Soe({url:"/api/getWaterMgtData",method:"get"}).then((function(e){n=Object.assign(n,e.data)})),function(e,r){var a=YU;return p(),h("div",mre,[_(a,{title:"用水管理",menu:t}),_(w(Fne),{border:!1,columns:i,"data-source":w(n),style:{width:"100%"},pagination:!1,rowClassName:o},{headerCell:ne((function(e){var t=e.title;return[g("div",xre,y(t),1)]})),_:1},8,["columns","data-source"])])}}}),_re=re(bre,[["__scopeId","data-v-43a5eeb9"]]),wre={class:"absorption-warn"},Sre={class:"warn-plan"},Cre={class:"sub-title"},Mre={class:"title"},Tre={style:{color:"#4d647e","line-height":"2.5"}},Ire=a({__name:"absorptionWarn",setup:function(e){var t=k([]),n=k([{title:"取水用户",align:"center",ellipsis:!0,dataIndex:"useWaterUser"},{title:"批准",align:"center",ellipsis:!0,width:"30px",dataIndex:"approve"},{title:"实际",align:"center",ellipsis:!0,width:"40px",dataIndex:"real"},{title:"有效期值",align:"center",ellipsis:!0,width:"80px",dataIndex:"expiryDate"},{title:"取水占比",align:"center",ellipsis:!0,width:"50px",dataIndex:"useWaterRate",customRender:function(e){return e.text+"%"}}]),i=k([{value:"0",title:"偏快预警",subTitle:"取水",color:"#f5f213"},{value:"0",title:"超许可",subTitle:"取水量",color:"#ff1a00"},{value:"0",title:"超计划",subTitle:"取水量",color:"#ffa000"},{value:"0",title:"近效期",subTitle:"许可证",color:"#8d1a7e"}]);function o(e,t){return"row row"+t+1}return Soe({url:"/api/getWarnPlanTable",method:"get"}).then((function(e){t=Object.assign(t,e.data)})),function(e,r){var a=YU;return p(),h("div",wre,[_(a,{title:"吸水预警"}),g("div",Sre,[(p(!0),h(m,null,x(i,(function(e){return p(),h("div",{key:e.title},[g("div",{class:"value",style:ie({color:e.color})},y(e.value),5),g("div",null,[g("div",Cre,y(e.subTitle),1),g("div",Mre,y(e.title),1)])])})),128))]),_(w(Fne),{border:!1,columns:n,"data-source":w(t),style:{width:"100%",height:"70px"},pagination:!1,scroll:{y:"100%"},rowClassName:o},{headerCell:ne((function(e){var t=e.title;return[g("div",Tre,y(t),1)]})),_:1},8,["columns","data-source"])])}}}),kre=re(Ire,[["__scopeId","data-v-510f9ca8"]]),Are={style:{display:"flex",height:"calc(100% - 80px)","margin-top":"10px"}},Dre={class:"title"},Ore=re(a({__name:"generalInfo",setup:function(e){var t=[{key:"相关系统",label:"相关系统"},{key:"水资源公报",label:"水资源公报"},{key:"法律法规",label:"法律法规"}],n=[{title:"xxxxxx分析系统"},{title:"xxxxx平台"}];return function(e,i){var o=YU;return p(),h("div",null,[_(o,{title:"综合信息",menu:t}),g("div",Are,[(p(),h(m,null,x(n,(function(e){return _(w(se),{class:"border",key:e.title,onClick:function(t){var n;(n=e).url&&window.open(n.url,n.title)}},{default:ne((function(){return[g("span",Dre,y(e.title),1)]})),_:2},1032,["onClick"])})),64))])])}}}),[["__scopeId","data-v-54714bfe"]]),Pre={class:"right"},Lre=re(a({__name:"right",setup:function(e){return function(e,t){return p(),h("div",Pre,[_(yre,{class:"right-item",style:{height:"32%"}}),_(_re,{class:"right-item"}),_(kre,{class:"right-item"}),_(Ore,{class:"right-item"})])}}}),[["__scopeId","data-v-5a6f7a63"]]),Ere=function(e){return S("data-v-2cbb43fb"),e=e(),C(),e},Nre={class:"content"},Rre={class:"banner"},zre=Ere((function(){return g("i",{class:"iconfont icon-qushui"},null,-1)})),Bre=Ere((function(){return g("span",{class:"title"},"监控取水",-1)})),Fre={class:"value"},Vre=Ere((function(){return g("span",{class:"unin"},"立方米",-1)})),jre=Ere((function(){return g("i",{class:"iconfont icon-shuichang"},null,-1)})),Hre=Ere((function(){return g("span",{class:"title"},"水厂用水",-1)})),Gre={class:"value"},Wre=Ere((function(){return g("span",{class:"unin"},"立方米",-1)}));e("default",re(a({__name:"index",setup:function(e){var t=ue();t.getTest,s("/");var n=s(50861348.5),i=s(2694882);return setTimeout((function(){t.setTest(2)}),3e3),function(e,t){return p(),h("div",Nre,[g("div",Rre,[g("div",null,[zre,g("div",null,[Bre,g("div",null,[g("span",Fre,y(n.value),1),Vre])])]),g("div",null,[jre,g("div",null,[Hre,g("div",null,[g("span",Gre,y(i.value),1),Wre])])])]),_(ure),_(Lre)])}}}),[["__scopeId","data-v-2cbb43fb"]]))}}}))}();
